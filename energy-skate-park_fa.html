<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="initial-scale=1,user-scalable=no,maximum-scale=1"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="phet-sim-level" content="production" />
    <meta
      property="og:title"
      content="&#8235;&#1575;&#1606;&#1585;&#1688;&#1740; &#1583;&#1585; &#1662;&#1740;&#1587;&#1578; &#1575;&#1587;&#1705;&#1740;&#1578;&#8236;"
    />
    <meta property="og:type" content="phet:simulation" />
    <meta
      property="og:url"
      content="https://phet.colorado.edu/sims/html/energy-skate-park/latest/energy-skate-park_fa.html"
    />
    <meta
      property="og:image"
      content="https://phet.colorado.edu/sims/html/energy-skate-park/latest/energy-skate-park-600.png"
    />

    <title>
      &#8235;&#1575;&#1606;&#1585;&#1688;&#1740; &#1583;&#1585;
      &#1662;&#1740;&#1587;&#1578; &#1575;&#1587;&#1705;&#1740;&#1578;&#8236;
    </title>
  </head>
  <!--
‪Energy Skate Park‬ -->

  <body style="background-color: black">
    <script type="text/javascript">
      window.phet = {};
      window.phet.chipper = {};
      window.phet.chipper.project = "energy-skate-park";
      window.phet.chipper.version = "1.2.5";
      window.phet.chipper.buildTimestamp = "2023-08-10 16:01:50 UTC";
      window.phet.chipper.brand = "phet";
      window.phet.chipper.locale = "fa";
      window.phet.chipper.thirdPartyLicenseEntries = {
        lib: {},
      }
      window.phet.chipper.strings = {
        en: {
          "ENERGY_SKATE_PARK/preferences.metersPerSecondSquared":
            "‪m/s<sup>2</sup>‬",
          "ENERGY_SKATE_PARK/preferences.newtonsPerKilogram": "‪N/kg‬",
          "ENERGY_SKATE_PARK/preferences.accelerationUnits":
            "‪Acceleration Units‬",
          "ENERGY_SKATE_PARK/characterSet.unitedStatesOfAmerica":
            "‪United States of America‬",
          "ENERGY_SKATE_PARK/characterSet.africa": "‪Africa‬",
          "ENERGY_SKATE_PARK/characterSet.africaModest": "‪Africa (Modest)‬",
          "ENERGY_SKATE_PARK/screens.graphs": "‪Graphs‬",
          "ENERGY_SKATE_PARK/screens.intro": "‪Intro‬",
          "ENERGY_SKATE_PARK/screens.measure": "‪Measure‬",
          "ENERGY_SKATE_PARK/screens.playground": "‪Playground‬",
          "ENERGY_SKATE_PARK/energies.kinetic": "‪Kinetic‬",
          "ENERGY_SKATE_PARK/energies.potential": "‪Potential‬",
          "ENERGY_SKATE_PARK/energies.thermal": "‪Thermal‬",
          "ENERGY_SKATE_PARK/energies.total": "‪Total‬",
          "ENERGY_SKATE_PARK/plots.timeSwitchLabel": "‪Time‬",
          "ENERGY_SKATE_PARK/plots.positionSwitchLabel": "‪Position‬",
          "ENERGY_SKATE_PARK/plots.energyGraph.label": "‪Energy Graph‬",
          "ENERGY_SKATE_PARK/plots.positionLabel": "‪Position (m)‬",
          "ENERGY_SKATE_PARK/plots.energyLabel": "‪Energy (J)‬",
          "ENERGY_SKATE_PARK/plots.timeLabel": "‪Time (s)‬",
          "ENERGY_SKATE_PARK/energies.energy": "‪Energy‬",
          "ENERGY_SKATE_PARK/pathSensor.energyJoulesPattern": "‪{{value}} J‬",
          "ENERGY_SKATE_PARK/pathSensor.heightMetersPattern":
            "‪Height = {{value}} m‬",
          "ENERGY_SKATE_PARK/pathSensor.speedMetersPerSecondPattern":
            "‪Speed = {{value}} m/s‬",
          "ENERGY_SKATE_PARK/skaterControls.restartSkater": "‪Restart Skater‬",
          "ENERGY_SKATE_PARK/speedometer.label": "‪Speed‬",
          "ENERGY_SKATE_PARK/speedometer.metersPerSecondPattern":
            "‪{{value}} m/s‬",
          "ENERGY_SKATE_PARK/measuringTape.units": "‪m‬",
          "ENERGY_SKATE_PARK/heightLabels.zeroM": "‪0 m‬",
          "ENERGY_SKATE_PARK/heightLabels.heightEqualsZero": "‪Height = 0‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravityNewtonsPerKilogramPattern":
            "‪{{value}} N/kg‬",
          "ENERGY_SKATE_PARK/visibilityControls.path": "‪Path‬",
          "ENERGY_SKATE_PARK/visibilityControls.referenceHeight":
            "‪Reference Height‬",
          "ENERGY_SKATE_PARK/visibilityControls.grid": "‪Grid‬",
          "ENERGY_SKATE_PARK/trackControls.stickToTrack": "‪Stick to Track‬",
          "ENERGY_SKATE_PARK/plots.pieChart.label": "‪Pie Chart‬",
          "ENERGY_SKATE_PARK/visibilityControls.speed": "‪Speed‬",
          "ENERGY_SKATE_PARK/physicalControls.friction": "‪Friction‬",
          "ENERGY_SKATE_PARK/skaterControls.label": "‪Skater‬",
          "ENERGY_SKATE_PARK/skaterControls.skater1MassPattern":
            "‪Skater 1 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater2MassPattern":
            "‪Skater 2 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater3MassPattern":
            "‪Skater 3 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater4MassPattern":
            "‪Skater 4 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater5MassPattern":
            "‪Skater 5 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.dogMassPattern":
            "‪Dog ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/physicalControls.massControls.mass": "‪Mass‬",
          "ENERGY_SKATE_PARK/physicalControls.massControls.massKilogramsPattern":
            "‪{{value}} kg‬",
          "ENERGY_SKATE_PARK/physicalControls.small": "‪Small‬",
          "ENERGY_SKATE_PARK/physicalControls.large": "‪Large‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.moon": "‪Moon‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.earth": "‪Earth‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.jupiter":
            "‪Jupiter‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravity":
            "‪Gravity‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravityMetersPerSecondSquaredPattern":
            "‪{{value}} m/s<sup>2</sup>‬",
          "ENERGY_SKATE_PARK/physicalControls.tiny": "‪Tiny‬",
          "ENERGY_SKATE_PARK/physicalControls.lots": "‪Lots‬",
          "ENERGY_SKATE_PARK/physicalControls.none": "‪None‬",
          "ENERGY_SKATE_PARK/physicalControls.custom": "‪Custom‬",
          "ENERGY_SKATE_PARK/energy-skate-park.title": "‪Energy Skate Park‬",
          "JOIST/simTitleWithScreenNamePattern":
            "‪{{simName}} — {{screenName}}‬",
          "JOIST/a11y.screenNamePattern": "‪{{name}} Screen‬",
          "JOIST/a11y.screenSimPattern": "‪{{screenName}}, {{simName}}‬",
          "JOIST/a11y.simScreen": "‪Sim Screen‬",
          "JOIST/a11y.home": "‪Home‬",
          "JOIST/a11y.homeScreenDescriptionPattern":
            "‪Welcome to {{name}}. It has {{screens}} interactive screens that you can explore.‬",
          "JOIST/a11y.homeScreenIntroPattern": "‪{{description}} {{hint}}‬",
          "JOIST/a11y.homeScreenHint": "‪Choose a screen to start exploring.‬",
          "JOIST/a11y.homeScreenButtonDetailsPattern":
            "‪On {{name}}, {{screenHint}}‬",
          "JOIST/a11y.simScreens": "‪Sim Screens‬",
          "JOIST/a11y.simResources": "‪Sim Resources‬",
          "JOIST/queryParametersWarningDialog.invalidQueryParameters":
            "‪Invalid Query Parameters‬",
          "JOIST/queryParametersWarningDialog.oneOrMoreQueryParameters":
            "‪One or more of these query parameters have<br>invalid values:‬",
          "JOIST/queryParametersWarningDialog.theSimulationWillStart":
            "‪The simulation will start with default values for<br>those query parameters.‬",
          "JOIST/a11y.toolbar.openToolbar": "‪Open Toolbar‬",
          "JOIST/a11y.toolbar.closeToolbar": "‪Close Toolbar‬",
          "JOIST/a11y.toolbar.hideToolbar": "‪Hide Toolbar‬",
          "JOIST/a11y.toolbar.showToolbar": "‪Show Toolbar‬",
          "JOIST/a11y.toolbar.toolbarShown": "‪Toolbar Shown.‬",
          "JOIST/a11y.toolbar.toolbarHidden": "‪Toolbar hidden.‬",
          "JOIST/a11y.homeScreenDescription": "‪Go to Home Screen.‬",
          "JOIST/a11y.phetMenu": "‪PhET Menu‬",
          "JOIST/a11y.toolbar.voicing.title": "‪Sim Voicing‬",
          "JOIST/a11y.toolbar.voicing.quickInfo": "‪Quick Info‬",
          "JOIST/a11y.toolbar.voicing.simVoicingOnAlert": "‪Sim Voicing on.‬",
          "JOIST/a11y.toolbar.voicing.simVoicingOffAlert": "‪Sim Voicing off.‬",
          "JOIST/a11y.toolbar.title": "‪Toolbar‬",
          "JOIST/a11y.toolbar.voicing.playOverviewLabel": "‪Play Overview‬",
          "JOIST/a11y.toolbar.voicing.playDetailsLabel": "‪Play Details‬",
          "JOIST/a11y.toolbar.voicing.playHintLabel": "‪Play Hint‬",
          "JOIST/a11y.toolbar.voicing.overviewLabel": "‪Overview‬",
          "JOIST/a11y.toolbar.voicing.detailsLabel": "‪Details‬",
          "JOIST/a11y.toolbar.voicing.hintLabel": "‪Hint‬",
          "JOIST/termsPrivacyAndLicensing": "‪Terms, Privacy & Licensing‬",
          "JOIST/translation.credits.link": "‪Translation Credits‬",
          "JOIST/thirdParty.credits.link": "‪Third-party Credits‬",
          "JOIST/a11y.keyboardHelp.keyboardShortcuts": "‪Keyboard Shortcuts‬",
          "JOIST/a11y.soundToggle.label": "‪All Audio‬",
          "JOIST/a11y.soundToggle.alert.simSoundOn": "‪Audio Features on.‬",
          "JOIST/a11y.soundToggle.alert.simSoundOff": "‪Audio Features off.‬",
          "JOIST/preferences.title": "‪Preferences‬",
          "JOIST/menuItem.phetWebsite": "‪PhET Website…‬",
          "JOIST/menuItem.reportAProblem": "‪Report a Problem…‬",
          "JOIST/menuItem.getUpdate": "‪Check for Updates…‬",
          "JOIST/menuItem.screenshot": "‪Screenshot‬",
          "JOIST/menuItem.fullscreen": "‪Full Screen‬",
          "JOIST/menuItem.about": "‪About…‬",
          "JOIST/a11y.keyboardHelp.tabToGetStarted": "‪Tab to get started.‬",
          "JOIST/keyboardShortcuts.title": "‪Keyboard Shortcuts‬",
          "JOIST/keyboardShortcuts.toGetStarted": "‪to get started‬",
          "JOIST/versionPattern": "‪version {0}‬",
          "JOIST/updates.checking": "‪Checking for updates…‬",
          "JOIST/updates.upToDate": "‪This simulation is up to date.‬",
          "JOIST/updates.outOfDate": "‪New version available‬",
          "JOIST/updates.newVersionAvailable":
            "‪There is a new version available: {0}.‬",
          "JOIST/updates.yourCurrentVersion": "‪Your current version is: {0}.‬",
          "JOIST/updates.getUpdate": "‪Get Update…‬",
          "JOIST/updates.noThanks": "‪No Thanks‬",
          "JOIST/updates.offline": "‪Unable to check for updates.‬",
          "JOIST/preferences.tabs.overview.title": "‪Overview‬",
          "JOIST/preferences.tabs.simulation.title": "‪Simulation‬",
          "JOIST/preferences.tabs.visual.title": "‪Visual‬",
          "JOIST/preferences.tabs.audio.title": "‪Audio‬",
          "JOIST/preferences.tabs.input.title": "‪Input‬",
          "JOIST/preferences.tabs.localization.title": "‪Localization‬",
          "JOIST/credits.title": "‪Credits‬",
          "JOIST/credits.leadDesign": "‪Lead Design: {0}‬",
          "JOIST/credits.softwareDevelopment": "‪Software Development: {0}‬",
          "JOIST/credits.team": "‪Team: {0}‬",
          "JOIST/credits.contributors": "‪Contributors: {0}‬",
          "JOIST/credits.qualityAssurance": "‪Quality Assurance: {0}‬",
          "JOIST/credits.graphicArts": "‪Graphic Arts: {0}‬",
          "JOIST/credits.soundDesign": "‪Sound Design: {0}‬",
          "JOIST/credits.thanks": "‪Thanks‬",
          "JOIST/preferences.tabs.audio.audioFeatures.title":
            "‪Audio Features‬",
          "JOIST/a11y.preferences.tabs.input.gestureControl.enabledAlert":
            "‪Custom taps and swipes on.‬",
          "JOIST/a11y.preferences.tabs.input.gestureControl.disabledAlert":
            "‪Custom taps and swipes off.‬",
          "JOIST/a11y.preferences.tabs.labelledDescriptionPattern":
            "‪{{label}}, {{description}}‬",
          "JOIST/preferences.tabs.visual.interactiveHighlights":
            "‪Interactive Highlights‬",
          "JOIST/preferences.tabs.visual.interactiveHighlightsDescription":
            "‪Add visual highlights for mouse and touch as you interact.‬",
          "JOIST/a11y.preferences.tabs.visual.interactiveHighlights.enabledAlert":
            "‪Highlights on for all input.‬",
          "JOIST/a11y.preferences.tabs.visual.interactiveHighlights.disabledAlert":
            "‪Highlights off for mouse and touch.‬",
          "JOIST/preferences.tabs.general.accessibilityIntro":
            "‪We are adding features to our simulations to make them more inclusive. Some of these features support accessibility for learners with diverse needs and within diverse environments. Explore this menu to review or change the default presentation settings.‬",
          "JOIST/preferences.tabs.general.moreAccessibility":
            "‪To find other simulations with inclusive features, look for Access and Inclusion on the simulation filter page and filter by inclusive feature.‬",
          "JOIST/a11y.preferences.tabs.tabResponsePattern":
            "‪Preferences, {{title}} Tab‬",
          "JOIST/preferences.tabs.audio.sounds.title": "‪Sounds‬",
          "JOIST/preferences.tabs.audio.sounds.extraSounds.title":
            "‪Extra Sounds‬",
          "JOIST/preferences.tabs.audio.sounds.description":
            "‪Play sonifications and sound effects as you interact.‬",
          "JOIST/preferences.tabs.audio.sounds.extraSounds.description":
            "‪Play additional sound that may be helpful for some learners.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.soundsOn": "‪Sounds on.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.soundsOff": "‪Sounds off.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOn":
            "‪Extra Sounds on.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOff":
            "‪Extra Sounds off.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.title": "‪Voicing‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.title":
            "‪Toolbar‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.title":
            "‪Rate‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.labelString":
            "‪Voice Rate‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.pitch.title":
            "‪Pitch‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOn":
            "‪Voicing on.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOff":
            "‪Voicing off.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOffOnlyAvailableInEnglish":
            "‪Voicing off. Only available in English.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.variablesPattern":
            "‪{{value}}x‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.title":
            "‪Customize Voice‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.toolbarRemoved":
            "‪Toolbar removed.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.toolbarAdded":
            "‪Toolbar added to sim.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.title":
            "‪Sim Voicing Options‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.description":
            "‪Choose details you want voiced as you interact.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.label":
            "‪Voice object details and changes‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.label":
            "‪Voice surrounding context changes‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.label":
            "‪Voice helpful hints‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.enabledAlert":
            "‪Voicing object details and changes.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.disabledAlert":
            "‪Object details and changes muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.enabledAlert":
            "‪Voicing surrounding context changes.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.disabledAlert":
            "‪Surrounding context changes muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.enabledAlert":
            "‪Voicing extra help.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.disabledAlert":
            "‪Extra help muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.title":
            "‪Voice‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.titlePattern":
            "‪Voice: {{value}}‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.noVoicesAvailable":
            "‪No voices available‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.expandedAlert":
            "‪Customize Voice, expanded‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.collapsedAlert":
            "‪Customize Voice, collapsed‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.writtenVariablesPattern":
            "‪{{value}} times‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.voiceRateNormal":
            "‪normal‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.low":
            "‪in low range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.normal":
            "‪in normal range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.aboveNormal":
            "‪above normal range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.high":
            "‪in high range‬",
          "JOIST/preferences.tabs.audio.voicing.titleEnglishOnly":
            "‪Voicing (English Only)‬",
          "JOIST/preferences.tabs.audio.voicing.description":
            "‪Voice and highlight content as you interact.‬",
          "JOIST/projectorMode": "‪Projector Mode‬",
          "JOIST/preferences.tabs.visual.projectorModeDescription":
            "‪Increase color contrast for better visibility in classrooms.‬",
          "JOIST/preferences.tabs.localization.regionAndCulture.title":
            "‪Region and Culture‬",
          "SCENERY_PHET/measuringTapeReadoutPattern":
            "‪{{distance}} {{units}}‬",
          "SCENERY_PHET/stopwatchValueUnitsPattern": "‪{{value}} {{units}}‬",
          "SCENERY_PHET/a11y.timeControlNode.label": "‪Timing Controls‬",
          "SCENERY_PHET/a11y.resetAll.label": "‪Reset All‬",
          "SCENERY_PHET/a11y.voicing.resetAll.contextResponse":
            "‪Everything Reset.‬",
          "SCENERY_PHET/a11y.resetAll.alert":
            "‪Sim screen restarted. Everything reset.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveToNextItemOrGroup":
            "‪Move to next item or group‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.tabGroupDescription":
            "‪Move to next item or group with Tab key.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveToPreviousItemOrGroup":
            "‪Move to previous item or group‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.shiftTabGroupDescription":
            "‪Move to previous item or group with Shift plus Tab key.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveBetweenItemsInAGroup":
            "‪Move between items in a group‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.groupNavigationDescription":
            "‪Move between items in a group with Left and Right arrow keys or Up and Down arrow keys.‬",
          "SCENERY_PHET/keyboardHelpDialog.pressButtons": "‪Press buttons‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.pressButtonsDescription":
            "‪Press buttons with Space key.‬",
          "SCENERY_PHET/keyboardHelpDialog.toggleCheckboxes":
            "‪Toggle checkboxes‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.toggleCheckboxesDescription":
            "‪Toggle checkboxes with Space key.‬",
          "SCENERY_PHET/keyboardHelpDialog.exitADialog": "‪Exit a dialog‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.exitDialogDescription":
            "‪Exit a dialog with Escape key.‬",
          "SCENERY_PHET/keyboardHelpDialog.basicActions": "‪Basic Actions‬",
          "SCENERY_PHET/a11y.simSection.controlArea": "‪Control Area‬",
          "SCENERY_PHET/a11y.simSection.playArea": "‪Play Area‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.keyboardShortcutsHint":
            "‪If needed, check out keyboard shortcuts under Sim Resources.‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.multiScreenIntro":
            "‪The {{screen}} changes as you play with it. It has a Play Area and a Control Area.‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.singleScreenIntroPattern":
            "‪{{sim}} is an interactive sim. It changes as you play with it. It has a Play Area and a Control Area.‬",
          "SCENERY_PHET/a11y.playControlButton.stop": "‪Stop‬",
          "SCENERY_PHET/speed.fast": "‪Fast‬",
          "SCENERY_PHET/speed.normal": "‪Normal‬",
          "SCENERY_PHET/speed.slow": "‪Slow‬",
          "SCENERY_PHET/a11y.timeControlNode.simSpeeds": "‪Sim Speeds‬",
          "SCENERY_PHET/a11y.timeControlNode.simSpeedDescription":
            "‪For closer observations Play sim on slow speed.‬",
          "SCENERY_PHET/a11y.playPauseStepButtonGroup.playingDescription":
            "‪Pause sim to step forward little by little.‬",
          "SCENERY_PHET/a11y.playPauseStepButtonGroup.pausedDescription":
            "‪Step forward little by little.‬",
          "SCENERY_PHET/key.alt": "‪Alt‬",
          "SCENERY_PHET/key.capsLock": "‪Caps Lock‬",
          "SCENERY_PHET/key.esc": "‪Esc‬",
          "SCENERY_PHET/key.end": "‪End‬",
          "SCENERY_PHET/key.enter": "‪Enter‬",
          "SCENERY_PHET/key.fn": "‪Fn‬",
          "SCENERY_PHET/key.home": "‪Home‬",
          "SCENERY_PHET/key.pageDown": "‪Pg Dn‬",
          "SCENERY_PHET/key.pageUp": "‪Pg Up‬",
          "SCENERY_PHET/key.space": "‪Space‬",
          "SCENERY_PHET/key.shift": "‪Shift‬",
          "SCENERY_PHET/key.tab": "‪Tab‬",
          "SCENERY_PHET/keyboardHelpDialog.or": "‪or‬",
          "SCENERY_PHET/keyboardHelpDialog.hyphen": "‪-‬",
          "SCENERY_PHET/a11y.close": "‪Close‬",
          "SCENERY_PHET/a11y.playControlButton.play": "‪Play‬",
          "SCENERY_PHET/a11y.playControlButton.pause": "‪Pause‬",
          "SCENERY_PHET/a11y.stepButton.stepForward": "‪Step Forward‬",
          "SUN/a11y.close": "‪Close‬",
          "SUN/a11y.closed": "‪Closed‬",
          "SUN/a11y.titleClosePattern": "‪{{title}}, Close.‬",
        },
        fa: {
          "ENERGY_SKATE_PARK/preferences.metersPerSecondSquared":
            "‪m/s<sup>2</sup>‬",
          "ENERGY_SKATE_PARK/preferences.newtonsPerKilogram": "‪N/kg‬",
          "ENERGY_SKATE_PARK/preferences.accelerationUnits":
            "‪Acceleration Units‬",
          "ENERGY_SKATE_PARK/characterSet.unitedStatesOfAmerica":
            "‪United States of America‬",
          "ENERGY_SKATE_PARK/characterSet.africa": "‪Africa‬",
          "ENERGY_SKATE_PARK/characterSet.africaModest": "‪Africa (Modest)‬",
          "ENERGY_SKATE_PARK/screens.graphs": "‫نمودارها‬",
          "ENERGY_SKATE_PARK/screens.intro": "‫مقدمه‬",
          "ENERGY_SKATE_PARK/screens.measure": "‫اندازه گیری‬",
          "ENERGY_SKATE_PARK/screens.playground": "‫زمین بازی‬",
          "ENERGY_SKATE_PARK/energies.kinetic": "‫جنبشی‬",
          "ENERGY_SKATE_PARK/energies.potential": "‫پتانسیل‬",
          "ENERGY_SKATE_PARK/energies.thermal": "‫گرمایی‬",
          "ENERGY_SKATE_PARK/energies.total": "‫کل‬",
          "ENERGY_SKATE_PARK/plots.timeSwitchLabel": "‫زمان‬",
          "ENERGY_SKATE_PARK/plots.positionSwitchLabel": "‫موقعیت‬",
          "ENERGY_SKATE_PARK/plots.energyGraph.label": "‫نمودار انرژی‬",
          "ENERGY_SKATE_PARK/plots.positionLabel": "‫موقعیت (m)‬",
          "ENERGY_SKATE_PARK/plots.energyLabel": "‫انرژی (J)‬",
          "ENERGY_SKATE_PARK/plots.timeLabel": "‫زمان (s)‬",
          "ENERGY_SKATE_PARK/energies.energy": "‫انرژی‬",
          "ENERGY_SKATE_PARK/pathSensor.energyJoulesPattern": "‪{{value}} J‬",
          "ENERGY_SKATE_PARK/pathSensor.heightMetersPattern":
            "‫ارتفاع = {{value}} m‬",
          "ENERGY_SKATE_PARK/pathSensor.speedMetersPerSecondPattern":
            "‫سرعت = {{value}} m/s‬",
          "ENERGY_SKATE_PARK/skaterControls.restartSkater":
            "‫اسکیت باز را برگردان‬",
          "ENERGY_SKATE_PARK/speedometer.label": "‫سرعت‬",
          "ENERGY_SKATE_PARK/speedometer.metersPerSecondPattern":
            "‪{{value}} m/s‬",
          "ENERGY_SKATE_PARK/measuringTape.units": "‪m‬",
          "ENERGY_SKATE_PARK/heightLabels.zeroM": "‪0 m‬",
          "ENERGY_SKATE_PARK/heightLabels.heightEqualsZero": "‫ارتفاع = 0‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravityNewtonsPerKilogramPattern":
            "‪{{value}} N/kg‬",
          "ENERGY_SKATE_PARK/visibilityControls.path": "‫مسیر‬",
          "ENERGY_SKATE_PARK/visibilityControls.referenceHeight":
            "‫ارتفاع مرجع‬",
          "ENERGY_SKATE_PARK/visibilityControls.grid": "‫صفحه ی شطرنجی‬",
          "ENERGY_SKATE_PARK/trackControls.stickToTrack": "‫چسبیدن به مسیر‬",
          "ENERGY_SKATE_PARK/plots.pieChart.label": "‫نمودار دایره ای‬",
          "ENERGY_SKATE_PARK/visibilityControls.speed": "‫سرعت‬",
          "ENERGY_SKATE_PARK/physicalControls.friction": "‫اصطکاک‬",
          "ENERGY_SKATE_PARK/skaterControls.label": "‫اسکیت باز‬",
          "ENERGY_SKATE_PARK/skaterControls.skater1MassPattern":
            "‫اسکیت باز 1 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater2MassPattern":
            "‫اسکیت باز 2 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater3MassPattern":
            "‫اسکیت باز 3 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater4MassPattern":
            "‫اسکیت باز 4 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.skater5MassPattern":
            "‫اسکیت باز 5 ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/skaterControls.dogMassPattern":
            "‫سگ ({{value}} kg)‬",
          "ENERGY_SKATE_PARK/physicalControls.massControls.mass": "‫جرم‬",
          "ENERGY_SKATE_PARK/physicalControls.massControls.massKilogramsPattern":
            "‪{{value}} kg‬",
          "ENERGY_SKATE_PARK/physicalControls.small": "‫کم‬",
          "ENERGY_SKATE_PARK/physicalControls.large": "‫زیاد‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.moon": "‫ماه‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.earth": "‫زمین‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.jupiter":
            "‫مشتری‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravity":
            "‫جاذبه‬",
          "ENERGY_SKATE_PARK/physicalControls.gravityControls.gravityMetersPerSecondSquaredPattern":
            "‪{{value}} m/s<sup>2</sup>‬",
          "ENERGY_SKATE_PARK/physicalControls.tiny": "‫خیلی کم‬",
          "ENERGY_SKATE_PARK/physicalControls.lots": "‫خیلی زیاد‬",
          "ENERGY_SKATE_PARK/physicalControls.none": "‫هیچ‬",
          "ENERGY_SKATE_PARK/physicalControls.custom": "‫اختیاری‬",
          "ENERGY_SKATE_PARK/energy-skate-park.title": "‫انرژی در پیست اسکیت‬",
          "JOIST/simTitleWithScreenNamePattern":
            "‫{{simName}} — {{screenName}}‬",
          "JOIST/a11y.screenNamePattern": "‪{{name}} Screen‬",
          "JOIST/a11y.screenSimPattern": "‪{{screenName}}, {{simName}}‬",
          "JOIST/a11y.simScreen": "‪Sim Screen‬",
          "JOIST/a11y.home": "‪Home‬",
          "JOIST/a11y.homeScreenDescriptionPattern":
            "‪Welcome to {{name}}. It has {{screens}} interactive screens that you can explore.‬",
          "JOIST/a11y.homeScreenIntroPattern": "‪{{description}} {{hint}}‬",
          "JOIST/a11y.homeScreenHint": "‪Choose a screen to start exploring.‬",
          "JOIST/a11y.homeScreenButtonDetailsPattern":
            "‪On {{name}}, {{screenHint}}‬",
          "JOIST/a11y.simScreens": "‪Sim Screens‬",
          "JOIST/a11y.simResources": "‪Sim Resources‬",
          "JOIST/queryParametersWarningDialog.invalidQueryParameters":
            "‫پارامترهای درخواست نامعتبر است‬",
          "JOIST/queryParametersWarningDialog.oneOrMoreQueryParameters":
            "‫یک یا تعداد بیشتری از این پارامترهای درخواست  <br>مقادیر نامعتبر دارند:‬",
          "JOIST/queryParametersWarningDialog.theSimulationWillStart":
            "‫شبیه سازی به طور پیش فرض برای پارامترهای درخواستی شروع خواهد شد.‬",
          "JOIST/a11y.toolbar.openToolbar": "‪Open Toolbar‬",
          "JOIST/a11y.toolbar.closeToolbar": "‪Close Toolbar‬",
          "JOIST/a11y.toolbar.hideToolbar": "‪Hide Toolbar‬",
          "JOIST/a11y.toolbar.showToolbar": "‪Show Toolbar‬",
          "JOIST/a11y.toolbar.toolbarShown": "‪Toolbar Shown.‬",
          "JOIST/a11y.toolbar.toolbarHidden": "‪Toolbar hidden.‬",
          "JOIST/a11y.homeScreenDescription": "‪Go to Home Screen.‬",
          "JOIST/a11y.phetMenu": "‪PhET Menu‬",
          "JOIST/a11y.toolbar.voicing.title": "‪Sim Voicing‬",
          "JOIST/a11y.toolbar.voicing.quickInfo": "‪Quick Info‬",
          "JOIST/a11y.toolbar.voicing.simVoicingOnAlert": "‪Sim Voicing on.‬",
          "JOIST/a11y.toolbar.voicing.simVoicingOffAlert": "‪Sim Voicing off.‬",
          "JOIST/a11y.toolbar.title": "‪Toolbar‬",
          "JOIST/a11y.toolbar.voicing.playOverviewLabel": "‪Play Overview‬",
          "JOIST/a11y.toolbar.voicing.playDetailsLabel": "‪Play Details‬",
          "JOIST/a11y.toolbar.voicing.playHintLabel": "‪Play Hint‬",
          "JOIST/a11y.toolbar.voicing.overviewLabel": "‪Overview‬",
          "JOIST/a11y.toolbar.voicing.detailsLabel": "‪Details‬",
          "JOIST/a11y.toolbar.voicing.hintLabel": "‪Hint‬",
          "JOIST/termsPrivacyAndLicensing": "‫شرایط، حریم خصوصی و صدور مجوز‬",
          "JOIST/translation.credits.link": "‫نام مشارکت کنندگان در ترجمه‬",
          "JOIST/thirdParty.credits.link": "‫مشارکت کنندگان شخص ثالث‬",
          "JOIST/a11y.keyboardHelp.keyboardShortcuts": "‪Keyboard Shortcuts‬",
          "JOIST/a11y.soundToggle.label": "‪All Audio‬",
          "JOIST/a11y.soundToggle.alert.simSoundOn": "‪Audio Features on.‬",
          "JOIST/a11y.soundToggle.alert.simSoundOff": "‪Audio Features off.‬",
          "JOIST/preferences.title": "‫ترجیحات‬",
          "JOIST/menuItem.phetWebsite": "‫سایت اینترنتی PhET...‬",
          "JOIST/menuItem.reportAProblem": "‫گزارش مشکل…‬",
          "JOIST/menuItem.getUpdate": "‫بررسی  به‌ روزرسانی‌ها…‬",
          "JOIST/menuItem.screenshot": "‫عکس از صفحه‬",
          "JOIST/menuItem.fullscreen": "‫تمام صفحه‬",
          "JOIST/menuItem.about": "‫دربارۀ‬",
          "JOIST/a11y.keyboardHelp.tabToGetStarted": "‪Tab to get started.‬",
          "JOIST/keyboardShortcuts.title": "‫میانبرهای صفحه کلید‬",
          "JOIST/keyboardShortcuts.toGetStarted": "‫برای شروع‬",
          "JOIST/versionPattern": "‫نسخۀ {0}‬",
          "JOIST/updates.checking": "‫در حال بررسی به‌روزرسانی‌ها…‬",
          "JOIST/updates.upToDate": "‫این شبیه سازی بروز است.‬",
          "JOIST/updates.outOfDate": "‫نسخه جدید موجود است‬",
          "JOIST/updates.newVersionAvailable": "‫{0} :یک نسخۀ جدید وجود دارد.‬",
          "JOIST/updates.yourCurrentVersion": "‫نسخه فعلی شما: {0} است.‬",
          "JOIST/updates.getUpdate": "‫بروزرسانی را دریافت کن...‬",
          "JOIST/updates.noThanks": "‫نه متشکرم‬",
          "JOIST/updates.offline": "‫بررسی به روزرسانی ها امکان پذیر نیست.‬",
          "JOIST/preferences.tabs.overview.title": "‫نمای کلی‬",
          "JOIST/preferences.tabs.simulation.title": "‫شبیه سازی‬",
          "JOIST/preferences.tabs.visual.title": "‫تصویری‬",
          "JOIST/preferences.tabs.audio.title": "‫صدا‬",
          "JOIST/preferences.tabs.input.title": "‫ورودی‬",
          "JOIST/preferences.tabs.localization.title": "‫زبان‬",
          "JOIST/credits.title": "‫فهرست نام مشارکت کنندگان‬",
          "JOIST/credits.leadDesign": "‫{0} :طراح ارشد‬",
          "JOIST/credits.softwareDevelopment": "‫{0} :توسعه نرم افزار‬",
          "JOIST/credits.team": "‫تیم: {0}‬",
          "JOIST/credits.contributors": "‫{0} :مشارکت کنندگان‬",
          "JOIST/credits.qualityAssurance": "‫تضمین کیفیت: {0}‬",
          "JOIST/credits.graphicArts": "‫{0} :هنرهای گرافیکی‬",
          "JOIST/credits.soundDesign": "‫{0} : طراحی صوت‬",
          "JOIST/credits.thanks": "‫با تشکر از‬",
          "JOIST/preferences.tabs.audio.audioFeatures.title": "‫جلوه های صوتی‬",
          "JOIST/a11y.preferences.tabs.input.gestureControl.enabledAlert":
            "‪Custom taps and swipes on.‬",
          "JOIST/a11y.preferences.tabs.input.gestureControl.disabledAlert":
            "‪Custom taps and swipes off.‬",
          "JOIST/a11y.preferences.tabs.labelledDescriptionPattern":
            "‪{{label}}, {{description}}‬",
          "JOIST/preferences.tabs.visual.interactiveHighlights":
            "‫نکات تعاملی‬",
          "JOIST/preferences.tabs.visual.interactiveHighlightsDescription":
            "‫اضافه کردن هایلایت برای نشانگر موس و لمس‬",
          "JOIST/a11y.preferences.tabs.visual.interactiveHighlights.enabledAlert":
            "‪Highlights on for all input.‬",
          "JOIST/a11y.preferences.tabs.visual.interactiveHighlights.disabledAlert":
            "‪Highlights off for mouse and touch.‬",
          "JOIST/preferences.tabs.general.accessibilityIntro":
            "‫برای جامع تر کردن شبیه سازی هایمان ویژگی های جدیدی به آنها اضافه میکنیم. برخی از این خصوصیت ها برای فراگیرانی با نیازهای متفاوت و در محیط های گوناگون دسترسپذیری بیشتر ارائه میدهد. برای ملاحظه یا تغییر تنظیمات پیشفرض برگه های این منو را بررسی کنید.‬",
          "JOIST/preferences.tabs.general.moreAccessibility":
            "‫برای یافتن سایر شبیه سازی ها با خصوصیت های جامع، در صفحه فیلتر شبیه سازی به دنبال  Access and Inclusion بگردید و نتایج را بر حسب ویژگی مد نظر فیلتر کنید.‬",
          "JOIST/a11y.preferences.tabs.tabResponsePattern":
            "‪Preferences, {{title}} Tab‬",
          "JOIST/preferences.tabs.audio.sounds.title": "‫صداها‬",
          "JOIST/preferences.tabs.audio.sounds.extraSounds.title":
            "‫صداهای ویژه‬",
          "JOIST/preferences.tabs.audio.sounds.description":
            "‫پخش اصوات غیرگفتاری و جلوه های صوتی در حین کار.‬",
          "JOIST/preferences.tabs.audio.sounds.extraSounds.description":
            "‫صوت های بیشتری که ممکن است برای فراگیران مفید باشد را پخش کنید.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.soundsOn": "‪Sounds on.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.soundsOff": "‪Sounds off.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOn":
            "‪Extra Sounds on.‬",
          "JOIST/a11y.preferences.tabs.audio.sounds.extraSounds.extraSoundsOff":
            "‪Extra Sounds off.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.title": "‪Voicing‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.title":
            "‪Toolbar‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.title":
            "‪Rate‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.labelString":
            "‪Voice Rate‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.pitch.title":
            "‪Pitch‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOn":
            "‪Voicing on.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOff":
            "‪Voicing off.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.voicingOffOnlyAvailableInEnglish":
            "‪Voicing off. Only available in English.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.variablesPattern":
            "‪{{value}}x‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.title":
            "‪Customize Voice‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.toolbarRemoved":
            "‪Toolbar removed.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.toolbar.toolbarAdded":
            "‪Toolbar added to sim.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.title":
            "‪Sim Voicing Options‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.description":
            "‪Choose details you want voiced as you interact.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.label":
            "‪Voice object details and changes‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.label":
            "‪Voice surrounding context changes‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.label":
            "‪Voice helpful hints‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.enabledAlert":
            "‪Voicing object details and changes.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.objectDetails.disabledAlert":
            "‪Object details and changes muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.enabledAlert":
            "‪Voicing surrounding context changes.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.contextChanges.disabledAlert":
            "‪Surrounding context changes muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.enabledAlert":
            "‪Voicing extra help.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.simVoicingOptions.helpfulHints.disabledAlert":
            "‪Extra help muted.‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.title":
            "‪Voice‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.titlePattern":
            "‪Voice: {{value}}‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.voice.noVoicesAvailable":
            "‪No voices available‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.expandedAlert":
            "‪Customize Voice, expanded‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.collapsedAlert":
            "‪Customize Voice, collapsed‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.writtenVariablesPattern":
            "‪{{value}} times‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.voiceRateNormal":
            "‪normal‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.low":
            "‪in low range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.normal":
            "‪in normal range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.aboveNormal":
            "‪above normal range‬",
          "JOIST/a11y.preferences.tabs.audio.voicing.customizeVoice.rate.rangeDescriptions.high":
            "‪in high range‬",
          "JOIST/preferences.tabs.audio.voicing.titleEnglishOnly": "‫صداگذاری‬",
          "JOIST/preferences.tabs.audio.voicing.description":
            "‫محتوای صوتی و هایلات هنگام تعامل.‬",
          "JOIST/projectorMode": "‫حالت پروژکتور‬",
          "JOIST/preferences.tabs.visual.projectorModeDescription":
            "‫افزایش تضاد رنگ برای نمایش بهتر در کلاس‬",
          "JOIST/preferences.tabs.localization.regionAndCulture.title":
            "‪Region and Culture‬",
          "SCENERY_PHET/measuringTapeReadoutPattern":
            "‫{{distance}} {{units}}‬",
          "SCENERY_PHET/stopwatchValueUnitsPattern": "‪{{value}} {{units}}‬",
          "SCENERY_PHET/a11y.timeControlNode.label": "‪Timing Controls‬",
          "SCENERY_PHET/a11y.resetAll.label": "‪Reset All‬",
          "SCENERY_PHET/a11y.voicing.resetAll.contextResponse":
            "‪Everything Reset.‬",
          "SCENERY_PHET/a11y.resetAll.alert":
            "‪Sim screen restarted. Everything reset.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveToNextItemOrGroup":
            "‫جابجا شدن به آیتم یا گروه بعدی‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.tabGroupDescription":
            "‪Move to next item or group with Tab key.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveToPreviousItemOrGroup":
            "‫جابجا شدن به آیتم یا گروه قبلی‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.shiftTabGroupDescription":
            "‪Move to previous item or group with Shift plus Tab key.‬",
          "SCENERY_PHET/keyboardHelpDialog.moveBetweenItemsInAGroup":
            "‫جابجا شدن بین آیتم های یک گروه‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.groupNavigationDescription":
            "‪Move between items in a group with Left and Right arrow keys or Up and Down arrow keys.‬",
          "SCENERY_PHET/keyboardHelpDialog.pressButtons":
            "‫دکمه ها را فشار دهید‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.pressButtonsDescription":
            "‪Press buttons with Space key.‬",
          "SCENERY_PHET/keyboardHelpDialog.toggleCheckboxes":
            "‫تغییر کادرهای انتخاب‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.toggleCheckboxesDescription":
            "‪Toggle checkboxes with Space key.‬",
          "SCENERY_PHET/keyboardHelpDialog.exitADialog": "‫خروج از یک دیالوگ‬",
          "SCENERY_PHET/a11y.keyboardHelpDialog.general.exitDialogDescription":
            "‪Exit a dialog with Escape key.‬",
          "SCENERY_PHET/keyboardHelpDialog.basicActions": "‫اقدامات مقدماتی‬",
          "SCENERY_PHET/a11y.simSection.controlArea": "‪Control Area‬",
          "SCENERY_PHET/a11y.simSection.playArea": "‪Play Area‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.keyboardShortcutsHint":
            "‪If needed, check out keyboard shortcuts under Sim Resources.‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.multiScreenIntro":
            "‪The {{screen}} changes as you play with it. It has a Play Area and a Control Area.‬",
          "SCENERY_PHET/a11y.simSection.screenSummary.singleScreenIntroPattern":
            "‪{{sim}} is an interactive sim. It changes as you play with it. It has a Play Area and a Control Area.‬",
          "SCENERY_PHET/a11y.playControlButton.stop": "‪Stop‬",
          "SCENERY_PHET/speed.fast": "‫سریع‬",
          "SCENERY_PHET/speed.normal": "‫سرعت نرمال‬",
          "SCENERY_PHET/speed.slow": "‫سرعت آهسته‬",
          "SCENERY_PHET/a11y.timeControlNode.simSpeeds": "‪Sim Speeds‬",
          "SCENERY_PHET/a11y.timeControlNode.simSpeedDescription":
            "‪For closer observations Play sim on slow speed.‬",
          "SCENERY_PHET/a11y.playPauseStepButtonGroup.playingDescription":
            "‪Pause sim to step forward little by little.‬",
          "SCENERY_PHET/a11y.playPauseStepButtonGroup.pausedDescription":
            "‪Step forward little by little.‬",
          "SCENERY_PHET/key.alt": "‫Alt‬",
          "SCENERY_PHET/key.capsLock": "‫Caps Lock‬",
          "SCENERY_PHET/key.esc": "‫Esc‬",
          "SCENERY_PHET/key.end": "‫End‬",
          "SCENERY_PHET/key.enter": "‫Enter‬",
          "SCENERY_PHET/key.fn": "‫Fn‬",
          "SCENERY_PHET/key.home": "‫Home‬",
          "SCENERY_PHET/key.pageDown": "‫Pg Dn‬",
          "SCENERY_PHET/key.pageUp": "‫Pg Up‬",
          "SCENERY_PHET/key.space": "‫Space‬",
          "SCENERY_PHET/key.shift": "‫Shift‬",
          "SCENERY_PHET/key.tab": "‫دکمۀ Tab کیبورد‬",
          "SCENERY_PHET/keyboardHelpDialog.or": "‫یا‬",
          "SCENERY_PHET/keyboardHelpDialog.hyphen": "‫-‬",
          "SCENERY_PHET/a11y.close": "‪Close‬",
          "SCENERY_PHET/a11y.playControlButton.play": "‪Play‬",
          "SCENERY_PHET/a11y.playControlButton.pause": "‪Pause‬",
          "SCENERY_PHET/a11y.stepButton.stepForward": "‪Step Forward‬",
          "SUN/a11y.close": "‪Close‬",
          "SUN/a11y.closed": "‪Closed‬",
          "SUN/a11y.titleClosePattern": "‪{{title}}, Close.‬",
        },
      };
      window.phet.chipper.stringMetadata = {
        "JOIST/termsPrivacyAndLicensing": { phetioReadOnly: true },
        "JOIST/translation.credits.link": { phetioReadOnly: true },
        "JOIST/thirdParty.credits.link": { phetioReadOnly: true },
        "JOIST/versionPattern": { phetioReadOnly: true },
        "JOIST/credits.title": { phetioReadOnly: true },
        "JOIST/credits.leadDesign": { phetioReadOnly: true },
        "JOIST/credits.softwareDevelopment": { phetioReadOnly: true },
        "JOIST/credits.team": { phetioReadOnly: true },
        "JOIST/credits.contributors": { phetioReadOnly: true },
        "JOIST/credits.qualityAssurance": { phetioReadOnly: true },
        "JOIST/credits.graphicArts": { phetioReadOnly: true },
        "JOIST/credits.soundDesign": { phetioReadOnly: true },
        "JOIST/credits.thanks": { phetioReadOnly: true },
      };
      window.phet.chipper.isDebugBuild = false;
      window.phet.chipper.packageObject = {
        name: "energy-skate-park",
        version: "1.2.5",
        license: "GPL-3.0",
        repository: {
          type: "git",
          url: "https://github.com/phetsims/energy-skate-park.git",
        },
        devDependencies: { grunt: "~1.5.3" },
        phet: {
          requirejsNamespace: "ENERGY_SKATE_PARK",
          phetLibs: ["griddle"],
          preload: ["../sherpa/lib/numeric-1.2.6.js"],
          runnable: true,
          supportedBrands: ["phet", "phet-io", "adapted-from-phet"],
          simulation: true,
          "phet-io": { validation: false },
          supportsOutputJS: true,
          published: true,
          screenNameKeys: [
            "ENERGY_SKATE_PARK/screens.intro",
            "ENERGY_SKATE_PARK/screens.measure",
            "ENERGY_SKATE_PARK/screens.graphs",
            "ENERGY_SKATE_PARK/screens.playground",
          ],
        },
        eslintConfig: {
          extends: "../chipper/eslint/sim_eslintrc.js",
          globals: { numeric: "readonly" },
        },
      };
  
      var CSS_STYLING =
        "#ie-error-container {\n    display: none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 100vh;\n    width: 100vw;\n    background: white;\n    z-index: 1000000;\n    align-items: center;\n  }\n\n  #ie-error {\n    position: relative;\n    border-radius: 10px;\n    max-width: 550px;\n    margin: auto;\n    padding: 30px;\n    font-size: 20px;\n    font-weight: 500;\n    font-family: sans-serif;\n    text-align: center;\n  }\n\n  #ie-error .header {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 46px;\n  }\n\n  #ie-error .header .h1 {\n    font-size: 30px;\n    font-weight: 500;\n    margin: 0 0 0 10px;\n  }\n\n  #ie-error .header svg {\n    width: 36px;\n  }\n\n  #ie-error p {\n    margin: 14px 0;\n  }";
      var ERROR_ICON_SVG =
        '<svg xmlns="http://www.w3.org/2000/svg" class="" x="0px" y="0px" viewBox="0 0 27.75 24.44">\n     <g>\n       <path style="fill:red" d="M12.52,0.78L0.21,22.1c-0.6,1.04,0.15,2.34,1.35,2.34h24.62c1.2,0,1.95-1.3,1.35-2.34L15.22,0.78\n         C14.62-0.26,13.12-0.26,12.52,0.78z"/>\n       <g>\n         <path style="fill:white" d="M13.45,17.19c-1.13-6.12-1.7-9.42-1.7-9.9c0-0.59,0.22-1.07,0.65-1.43c0.44-0.36,0.93-0.54,1.48-0.54\n           c0.59,0,1.09,0.19,1.5,0.58C15.79,6.29,16,6.74,16,7.27c0,0.5-0.57,3.81-1.7,9.92H13.45z M15.75,20.46c0,0.52-0.18,0.97-0.55,1.34\n           c-0.37,0.37-0.81,0.55-1.32,0.55c-0.52,0-0.97-0.19-1.33-0.55c-0.37-0.37-0.55-0.81-0.55-1.34c0-0.51,0.18-0.95,0.55-1.32\n           c0.37-0.37,0.81-0.55,1.33-0.55c0.51,0,0.95,0.18,1.32,0.55C15.57,19.5,15.75,19.94,15.75,20.46z"/>\n       </g>\n     </g>\n   </svg>';
      var userAgent = window.navigator.userAgent;
      var releaseVersion = -1;
      var regex = null;
      if (window.navigator.appName === "Microsoft Internet Explorer") {
        regex = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");
        if (regex.exec(userAgent) !== null) {
          releaseVersion = parseFloat(RegExp.$1);
        }
      } else if (window.navigator.appName === "Netscape") {
        regex = new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");
        if (regex.exec(userAgent) !== null) {
          releaseVersion = parseFloat(RegExp.$1);
        }
      }
      if (
        releaseVersion !== -1 ||
        window.location.search.indexOf("showInternetExplorerError") >= 0
      ) {
        var ieErrorStyling = document.createElement("style");
        ieErrorStyling.innerHTML = CSS_STYLING;
        var ieErrorContainer = document.createElement("div");
        ieErrorContainer.id = "ie-error-container";
        var ieError = document.createElement("div");
        ieError.id = "ie-error";
        var header = document.createElement("div");
        header.className = "header";
        var ieErrorHeader = document.createElement("h1");
        ieErrorHeader.id = "ie-error-header";
        ieErrorHeader.className = "h1";
        var ieErrorNotSupported = document.createElement("p");
        ieErrorNotSupported.id = "ie-error-not-supported";
        var ieErrorDifferentBrowser = document.createElement("p");
        ieErrorDifferentBrowser.id = "ie-error-header"; 
        var localeRegEx = /locale=[a-z]{2}(_[A-Z]{2}){0,1}/g;
        var localeQueryParameterMatches =
          window.location.search.match(localeRegEx) || [];
        var localeQueryParameter = localeQueryParameterMatches.length
          ? localeQueryParameterMatches[0]
          : null;
        var localeQueryParameterValue = localeQueryParameter
          ? localeQueryParameter.split("=")[1]
          : null; 
        var locale =
          localeQueryParameterValue &&
          window.phet.chipper.strings[localeQueryParameterValue]
            ? localeQueryParameterValue
            : window.phet.chipper.locale;
        var strings = window.phet.chipper.strings[locale]; 
        ieErrorHeader.innerText = strings["JOIST/ieErrorPage.platformError"];
        ieErrorNotSupported.innerText =
          strings["JOIST/ieErrorPage.ieIsNotSupported"];
        ieErrorDifferentBrowser.innerText =
          strings["JOIST/ieErrorPage.useDifferentBrowser"]; 
        header.innerHTML = ERROR_ICON_SVG;
        header.appendChild(ieErrorHeader);
        ieError.appendChild(header);
        ieError.appendChild(ieErrorNotSupported);
        ieError.appendChild(ieErrorDifferentBrowser);
        ieErrorContainer.appendChild(ieError);
        document.body.appendChild(ieErrorStyling);
        document.body.appendChild(ieErrorContainer); 
        document.getElementById("ie-error-container").style.display = "flex";
      }
    </script>
    <script type="text/javascript">
      window.PHET_SPLASH_DATA_URI =
        "data:image/svg+xml;base64,iVBORw0KGgoAAAANSUhEUgAABEwAAAIICAYAAAB0GHv6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADNFJREFUeNrs2DERACAQwDDAv+dn5KiGRELH7plZAAAAADxHAgAAAICfYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAXAEGAG8RBw2N9A6mAAAAAElFTkSuQmCC";
    </script>
    <script type="text/javascript">
      !(function () {
        const t = "http://www.w3.org/2000/svg";
        let e = 0,
          n = 0;
        const s = document.createElement("div");
        (s.style.position = "fixed"),
          (s.style.left = "0px"),
          (s.style.top = "0px"),
          (s.style.width = "100%"),
          (s.style.height = "100%"),
          (s.style.backgroundColor = "black"),
          (s.style.zIndex = 1e4),
          (s.style["-webkit-transform-origin"] = "0 0"),
          (s.style["-ms-transform-origin"] = "0 0"),
          (s.style["transform-origin"] = "0 0");
        const i = document.createElement("div");
        (i.id = "splash-container"),
          (i.style.position = "fixed"),
          (i.style.left = "0px"),
          (i.style.top = "0px"),
          (i.style["-webkit-transform-origin"] = "0 0"),
          (i.style["-ms-transform-origin"] = "0 0"),
          (i.style["transform-origin"] = "0 0");
        const o = document.createElement("img");
        (o.style.display = "block"), (o.alt = "");
        const r = function () {
          !(function (t, s) {
            0 === e && 0 === n && ((e = s.width), (n = s.height));
            const i = e,
              o = n,
              r = window.innerHeight,
              d = window.innerWidth,
              l = d / i,
              a = r / o,
              c = 0.2605 * Math.min(l, a),
              h = `translate(${Math.round((d - i * c) / 2)}px, ${Math.round(
                0.435 * (r - o * c)
              )}px) scale3d(${c}, ${c}, 1)`;
            (t.style["-webkit-transform"] = h),
              (t.style["-ms-transform"] = h),
              (t.style.transform = h);
          })(i, o);
        };
        o.onload = function () {
          r(),
            window.addEventListener("resize", r),
            window.addEventListener("load", r);
          const t = document.getElementById("splash-container");
          t && t.parentNode.removeChild(t),
            s.appendChild(i),
            document.body.appendChild(s);
        };
        const d = document.createElement("div");
        d.setAttribute("style", "width:273px;height:10px"),
          (d.style.display = "block");
        const l = document.createElementNS(t, "svg");
        l.style["margin-left"] = "-1px";
        const a = document.createElementNS(t, "rect");
        a.setAttribute("id", "progressBarBackground"),
          a.setAttribute("x", "1"),
          a.setAttribute("y", "25"),
          a.setAttribute("width", "273"),
          a.setAttribute("height", "10"),
          a.setAttribute("rx", "3"),
          a.setAttribute("ry", "3"),
          a.setAttribute("style", "stroke: white;stroke-width:1");
        const c = document.createElementNS(t, "rect");
        c.setAttribute("id", "progressBarForeground"),
          c.setAttribute("x", "1"),
          c.setAttribute("y", "25"),
          c.setAttribute("width", "0"),
          c.setAttribute("height", "10"),
          c.setAttribute("rx", "3"),
          c.setAttribute("ry", "3"),
          c.setAttribute("style", "fill:#6acef5;"),
          l.appendChild(a),
          l.appendChild(c);
        const h = setInterval(() => {
          a.style["stroke-width"] = (
            0.55 * Math.sin((Date.now() / 1e3) * 4) +
            1
          ).toFixed(2);
        }, 16);
        if (
          ((window.phetSplashScreenDownloadComplete = function () {
            clearInterval(h), (a.style["stroke-width"] = 1);
          }),
          i.appendChild(o),
          i.appendChild(l),
          window.PHET_SPLASH_DATA_URI)
        )
          o.src = window.PHET_SPLASH_DATA_URI;
        else {
          const t = location.search.match(/brand=([^&]+)/),
            e = t ? decodeURIComponent(t[1]) : "adapted-from-phet";
          o.src = `../brand/${e}/images/splash.svg`;
        }
        const w = (t) => t.preventDefault(),
          p = ["wheel", "touchstart", "gesturestart"];
        p.forEach((t) => window.addEventListener(t, w, { passive: !1 })),
          (window.phetSplashScreen = {
            dispose: function () {
              window.PHET_SPLASH_DATA_URI && delete window.PHET_SPLASH_DATA_URI,
                window.removeEventListener("resize", r),
                window.removeEventListener("load", r),
                p.forEach((t) => window.removeEventListener(t, w)),
                document.body.removeChild(s),
                delete window.phetSplashScreen;
            },
          });
      })();
    </script>
    <script type="text/javascript">
  
      !(function (e, t) {
        "object" == typeof module && "object" == typeof module.exports
          ? (module.exports = e.document
              ? t(e, !0)
              : function (e) {
                  if (!e.document)
                    throw new Error("jQuery requires a window with a document");
                  return t(e);
                })
          : t(e);
      })("undefined" != typeof window ? window : this, function (e, t) {
        var n = [],
          r = n.slice,
          i = n.concat,
          o = n.push,
          s = n.indexOf,
          a = {},
          u = a.toString,
          l = a.hasOwnProperty,
          c = "".trim,
          f = {},
          p = e.document,
          d = function (e, t) {
            return new d.fn.init(e, t);
          },
          h = /^-ms-/,
          g = /-([\da-z])/gi,
          m = function (e, t) {
            return t.toUpperCase();
          };
        function v(e) {
          var t = e.length,
            n = d.type(e);
          return (
            "function" !== n &&
            !d.isWindow(e) &&
            (!(1 !== e.nodeType || !t) ||
              "array" === n ||
              0 === t ||
              ("number" == typeof t && t > 0 && t - 1 in e))
          );
        }
        (d.fn = d.prototype =
          {
            jquery: "2.1.0",
            constructor: d,
            selector: "",
            length: 0,
            toArray: function () {
              return r.call(this);
            },
            get: function (e) {
              return null != e
                ? e < 0
                  ? this[e + this.length]
                  : this[e]
                : r.call(this);
            },
            pushStack: function (e) {
              var t = d.merge(this.constructor(), e);
              return (t.prevObject = this), (t.context = this.context), t;
            },
            each: function (e, t) {
              return d.each(this, e, t);
            },
            map: function (e) {
              return this.pushStack(
                d.map(this, function (t, n) {
                  return e.call(t, n, t);
                })
              );
            },
            slice: function () {
              return this.pushStack(r.apply(this, arguments));
            },
            first: function () {
              return this.eq(0);
            },
            last: function () {
              return this.eq(-1);
            },
            eq: function (e) {
              var t = this.length,
                n = +e + (e < 0 ? t : 0);
              return this.pushStack(n >= 0 && n < t ? [this[n]] : []);
            },
            end: function () {
              return this.prevObject || this.constructor(null);
            },
            push: o,
            sort: n.sort,
            splice: n.splice,
          }),
          (d.extend = d.fn.extend =
            function () {
              var e,
                t,
                n,
                r,
                i,
                o,
                s = arguments[0] || {},
                a = 1,
                u = arguments.length,
                l = !1;
              for (
                "boolean" == typeof s &&
                  ((l = s), (s = arguments[a] || {}), a++),
                  "object" == typeof s || d.isFunction(s) || (s = {}),
                  a === u && ((s = this), a--);
                a < u;
                a++
              )
                if (null != (e = arguments[a]))
                  for (t in e)
                    (n = s[t]),
                      s !== (r = e[t]) &&
                        (l && r && (d.isPlainObject(r) || (i = d.isArray(r)))
                          ? (i
                              ? ((i = !1), (o = n && d.isArray(n) ? n : []))
                              : (o = n && d.isPlainObject(n) ? n : {}),
                            (s[t] = d.extend(l, o, r)))
                          : void 0 !== r && (s[t] = r));
              return s;
            }),
          d.extend({
            expando: "jQuery" + ("2.1.0" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function (e) {
              throw new Error(e);
            },
            noop: function () {},
            isFunction: function (e) {
              return "function" === d.type(e);
            },
            isArray: Array.isArray,
            isWindow: function (e) {
              return null != e && e === e.window;
            },
            isNumeric: function (e) {
              return e - parseFloat(e) >= 0;
            },
            isPlainObject: function (e) {
              if ("object" !== d.type(e) || e.nodeType || d.isWindow(e))
                return !1;
              try {
                if (
                  e.constructor &&
                  !l.call(e.constructor.prototype, "isPrototypeOf")
                )
                  return !1;
              } catch (t) {
                return !1;
              }
              return !0;
            },
            isEmptyObject: function (e) {
              var t;
              for (t in e) return !1;
              return !0;
            },
            type: function (e) {
              return null == e
                ? e + ""
                : "object" == typeof e || "function" == typeof e
                ? a[u.call(e)] || "object"
                : typeof e;
            },
            globalEval: function (e) {
              var t,
                n = eval;
              (e = d.trim(e)) &&
                (1 === e.indexOf("use strict")
                  ? (((t = p.createElement("script")).text = e),
                    p.head.appendChild(t).parentNode.removeChild(t))
                  : n(e));
            },
            camelCase: function (e) {
              return e.replace(h, "ms-").replace(g, m);
            },
            nodeName: function (e, t) {
              return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase();
            },
            each: function (e, t, n) {
              var r = 0,
                i = e.length,
                o = v(e);
              if (n) {
                if (o) for (; r < i && !1 !== t.apply(e[r], n); r++);
                else for (r in e) if (!1 === t.apply(e[r], n)) break;
              } else if (o) for (; r < i && !1 !== t.call(e[r], r, e[r]); r++);
              else for (r in e) if (!1 === t.call(e[r], r, e[r])) break;
              return e;
            },
            trim: function (e) {
              return null == e ? "" : c.call(e);
            },
            makeArray: function (e, t) {
              var n = t || [];
              return (
                null != e &&
                  (v(Object(e))
                    ? d.merge(n, "string" == typeof e ? [e] : e)
                    : o.call(n, e)),
                n
              );
            },
            inArray: function (e, t, n) {
              return null == t ? -1 : s.call(t, e, n);
            },
            merge: function (e, t) {
              for (var n = +t.length, r = 0, i = e.length; r < n; r++)
                e[i++] = t[r];
              return (e.length = i), e;
            },
            grep: function (e, t, n) {
              for (var r = [], i = 0, o = e.length, s = !n; i < o; i++)
                !t(e[i], i) !== s && r.push(e[i]);
              return r;
            },
            map: function (e, t, n) {
              var r,
                o = 0,
                s = e.length,
                a = [];
              if (v(e))
                for (; o < s; o++) null != (r = t(e[o], o, n)) && a.push(r);
              else for (o in e) null != (r = t(e[o], o, n)) && a.push(r);
              return i.apply([], a);
            },
            guid: 1,
            proxy: function (e, t) {
              var n, i, o;
              if (
                ("string" == typeof t && ((n = e[t]), (t = e), (e = n)),
                d.isFunction(e))
              )
                return (
                  (i = r.call(arguments, 2)),
                  ((o = function () {
                    return e.apply(t || this, i.concat(r.call(arguments)));
                  }).guid = e.guid =
                    e.guid || d.guid++),
                  o
                );
            },
            now: Date.now,
            support: f,
          }),
          d.each(
            "Boolean Number String Function Array Date RegExp Object Error".split(
              " "
            ),
            function (e, t) {
              a["[object " + t + "]"] = t.toLowerCase();
            }
          );
        var y =
          (function (e) {
            var t,
              n,
              r,
              i,
              o,
              s,
              a,
              u,
              l,
              c,
              f,
              p,
              d,
              h,
              g,
              m,
              v,
              y = "sizzle" + -new Date(),
              x = e.document,
              b = 0,
              w = 0,
              T = te(),
              C = te(),
              N = te(),
              k = function (e, t) {
                return e === t && (l = !0), 0;
              },
              E = {}.hasOwnProperty,
              D = [],
              j = D.pop,
              S = D.push,
              A = D.push,
              L = D.slice,
              q =
                D.indexOf ||
                function (e) {
                  for (var t = 0, n = this.length; t < n; t++)
                    if (this[t] === e) return t;
                  return -1;
                },
              H =
                "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
              O = "[\\x20\\t\\r\\n\\f]",
              F = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
              P = F.replace("w", "w#"),
              M =
                "\\[" +
                O +
                "*(" +
                F +
                ")" +
                O +
                "*(?:([*^$|!~]?=)" +
                O +
                "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" +
                P +
                ")|)|)" +
                O +
                "*\\]",
              R =
                ":(" +
                F +
                ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" +
                M.replace(3, 8) +
                ")*)|.*)\\)|)",
              W = new RegExp(
                "^" + O + "+|((?:^|[^\\\\])(?:\\\\.)*)" + O + "+$",
                "g"
              ),
              $ = new RegExp("^" + O + "*," + O + "*"),
              B = new RegExp("^" + O + "*([>+~]|" + O + ")" + O + "*"),
              I = new RegExp("=" + O + "*([^\\]'\"]*?)" + O + "*\\]", "g"),
              _ = new RegExp(R),
              X = new RegExp("^" + P + "$"),
              z = {
                ID: new RegExp("^#(" + F + ")"),
                CLASS: new RegExp("^\\.(" + F + ")"),
                TAG: new RegExp("^(" + F.replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + M),
                PSEUDO: new RegExp("^" + R),
                CHILD: new RegExp(
                  "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                    O +
                    "*(even|odd|(([+-]|)(\\d*)n|)" +
                    O +
                    "*(?:([+-]|)" +
                    O +
                    "*(\\d+)|))" +
                    O +
                    "*\\)|)",
                  "i"
                ),
                bool: new RegExp("^(?:" + H + ")$", "i"),
                needsContext: new RegExp(
                  "^" +
                    O +
                    "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                    O +
                    "*((?:-\\d)?\\d*)" +
                    O +
                    "*\\)|)(?=[^-]|$)",
                  "i"
                ),
              },
              U = /^(?:input|select|textarea|button)$/i,
              V = /^h\d$/i,
              Y = /^[^{]+\{\s*\[native \w/,
              G = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
              Q = /[+~]/,
              J = /'|\\/g,
              K = new RegExp(
                "\\\\([\\da-f]{1,6}" + O + "?|(" + O + ")|.)",
                "ig"
              ),
              Z = function (e, t, n) {
                var r = "0x" + t - 65536;
                return r != r || n
                  ? t
                  : r < 0
                  ? String.fromCharCode(r + 65536)
                  : String.fromCharCode((r >> 10) | 55296, (1023 & r) | 56320);
              };
            try {
              A.apply((D = L.call(x.childNodes)), x.childNodes),
                D[x.childNodes.length].nodeType;
            } catch (ye) {
              A = {
                apply: D.length
                  ? function (e, t) {
                      S.apply(e, L.call(t));
                    }
                  : function (e, t) {
                      for (var n = e.length, r = 0; (e[n++] = t[r++]); );
                      e.length = n - 1;
                    },
              };
            }
            function ee(e, t, i, o) {
              var a, u, l, p, g, m, b, w, T, C;
              if (
                ((t ? t.ownerDocument || t : x) !== f && c(t),
                (i = i || []),
                !e || "string" != typeof e)
              )
                return i;
              if (1 !== (p = (t = t || f).nodeType) && 9 !== p) return [];
              if (d && !o) {
                if ((a = G.exec(e)))
                  if ((l = a[1])) {
                    if (9 === p) {
                      if (!(u = t.getElementById(l)) || !u.parentNode) return i;
                      if (u.id === l) return i.push(u), i;
                    } else if (
                      t.ownerDocument &&
                      (u = t.ownerDocument.getElementById(l)) &&
                      v(t, u) &&
                      u.id === l
                    )
                      return i.push(u), i;
                  } else {
                    if (a[2]) return A.apply(i, t.getElementsByTagName(e)), i;
                    if (
                      (l = a[3]) &&
                      n.getElementsByClassName &&
                      t.getElementsByClassName
                    )
                      return A.apply(i, t.getElementsByClassName(l)), i;
                  }
                if (n.qsa && (!h || !h.test(e))) {
                  if (
                    ((w = b = y),
                    (T = t),
                    (C = 9 === p && e),
                    1 === p && "object" !== t.nodeName.toLowerCase())
                  ) {
                    for (
                      m = fe(e),
                        (b = t.getAttribute("id"))
                          ? (w = b.replace(J, "\\$&"))
                          : t.setAttribute("id", w),
                        w = "[id='" + w + "'] ",
                        g = m.length;
                      g--;

                    )
                      m[g] = w + pe(m[g]);
                    (T = (Q.test(e) && le(t.parentNode)) || t),
                      (C = m.join(","));
                  }
                  if (C)
                    try {
                      return A.apply(i, T.querySelectorAll(C)), i;
                    } catch (N) {
                    } finally {
                      b || t.removeAttribute("id");
                    }
                }
              }
              return (function (e, t, i, o) {
                var a,
                  u,
                  l,
                  c,
                  f,
                  p = fe(e);
                if (!o && 1 === p.length) {
                  if (
                    (u = p[0] = p[0].slice(0)).length > 2 &&
                    "ID" === (l = u[0]).type &&
                    n.getById &&
                    9 === t.nodeType &&
                    d &&
                    r.relative[u[1].type]
                  ) {
                    if (
                      !(t = (r.find.ID(l.matches[0].replace(K, Z), t) || [])[0])
                    )
                      return i;
                    e = e.slice(u.shift().value.length);
                  }
                  for (
                    a = z.needsContext.test(e) ? 0 : u.length;
                    a-- && ((l = u[a]), !r.relative[(c = l.type)]);

                  )
                    if (
                      (f = r.find[c]) &&
                      (o = f(
                        l.matches[0].replace(K, Z),
                        (Q.test(u[0].type) && le(t.parentNode)) || t
                      ))
                    ) {
                      if ((u.splice(a, 1), !(e = o.length && pe(u))))
                        return A.apply(i, o), i;
                      break;
                    }
                }
                return (
                  s(e, p)(o, t, !d, i, (Q.test(e) && le(t.parentNode)) || t), i
                );
              })(e.replace(W, "$1"), t, i, o);
            }
            function te() {
              var e = [];
              return function t(n, i) {
                return (
                  e.push(n + " ") > r.cacheLength && delete t[e.shift()],
                  (t[n + " "] = i)
                );
              };
            }
            function ne(e) {
              return (e[y] = !0), e;
            }
            function re(e) {
              var t = f.createElement("div");
              try {
                return !!e(t);
              } catch (ye) {
                return !1;
              } finally {
                t.parentNode && t.parentNode.removeChild(t), (t = null);
              }
            }
            function ie(e, t) {
              for (var n = e.split("|"), i = e.length; i--; )
                r.attrHandle[n[i]] = t;
            }
            function oe(e, t) {
              var n = t && e,
                r =
                  n &&
                  1 === e.nodeType &&
                  1 === t.nodeType &&
                  (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
              if (r) return r;
              if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
              return e ? 1 : -1;
            }
            function se(e) {
              return function (t) {
                return "input" === t.nodeName.toLowerCase() && t.type === e;
              };
            }
            function ae(e) {
              return function (t) {
                var n = t.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && t.type === e;
              };
            }
            function ue(e) {
              return ne(function (t) {
                return (
                  (t = +t),
                  ne(function (n, r) {
                    for (var i, o = e([], n.length, t), s = o.length; s--; )
                      n[(i = o[s])] && (n[i] = !(r[i] = n[i]));
                  })
                );
              });
            }
            function le(e) {
              return e && void 0 !== e.getElementsByTagName && e;
            }
            for (t in ((n = ee.support = {}),
            (o = ee.isXML =
              function (e) {
                var t = e && (e.ownerDocument || e).documentElement;
                return !!t && "HTML" !== t.nodeName;
              }),
            (c = ee.setDocument =
              function (e) {
                var t,
                  i = e ? e.ownerDocument || e : x,
                  s = i.defaultView;
                return i !== f && 9 === i.nodeType && i.documentElement
                  ? ((f = i),
                    (p = i.documentElement),
                    (d = !o(i)),
                    s &&
                      s !== s.top &&
                      (s.addEventListener
                        ? s.addEventListener(
                            "unload",
                            function () {
                              c();
                            },
                            !1
                          )
                        : s.attachEvent &&
                          s.attachEvent("onunload", function () {
                            c();
                          })),
                    (n.attributes = re(function (e) {
                      return (e.className = "i"), !e.getAttribute("className");
                    })),
                    (n.getElementsByTagName = re(function (e) {
                      return (
                        e.appendChild(i.createComment("")),
                        !e.getElementsByTagName("*").length
                      );
                    })),
                    (n.getElementsByClassName =
                      Y.test(i.getElementsByClassName) &&
                      re(function (e) {
                        return (
                          (e.innerHTML =
                            "<div class='a'></div><div class='a i'></div>"),
                          (e.firstChild.className = "i"),
                          2 === e.getElementsByClassName("i").length
                        );
                      })),
                    (n.getById = re(function (e) {
                      return (
                        (p.appendChild(e).id = y),
                        !i.getElementsByName || !i.getElementsByName(y).length
                      );
                    })),
                    n.getById
                      ? ((r.find.ID = function (e, t) {
                          if (void 0 !== t.getElementById && d) {
                            var n = t.getElementById(e);
                            return n && n.parentNode ? [n] : [];
                          }
                        }),
                        (r.filter.ID = function (e) {
                          var t = e.replace(K, Z);
                          return function (e) {
                            return e.getAttribute("id") === t;
                          };
                        }))
                      : (delete r.find.ID,
                        (r.filter.ID = function (e) {
                          var t = e.replace(K, Z);
                          return function (e) {
                            var n =
                              void 0 !== e.getAttributeNode &&
                              e.getAttributeNode("id");
                            return n && n.value === t;
                          };
                        })),
                    (r.find.TAG = n.getElementsByTagName
                      ? function (e, t) {
                          if (void 0 !== t.getElementsByTagName)
                            return t.getElementsByTagName(e);
                        }
                      : function (e, t) {
                          var n,
                            r = [],
                            i = 0,
                            o = t.getElementsByTagName(e);
                          if ("*" === e) {
                            for (; (n = o[i++]); )
                              1 === n.nodeType && r.push(n);
                            return r;
                          }
                          return o;
                        }),
                    (r.find.CLASS =
                      n.getElementsByClassName &&
                      function (e, t) {
                        if (void 0 !== t.getElementsByClassName && d)
                          return t.getElementsByClassName(e);
                      }),
                    (g = []),
                    (h = []),
                    (n.qsa = Y.test(i.querySelectorAll)) &&
                      (re(function (e) {
                        (e.innerHTML =
                          "<select t=''><option selected=''></option></select>"),
                          e.querySelectorAll("[t^='']").length &&
                            h.push("[*^$]=" + O + "*(?:''|\"\")"),
                          e.querySelectorAll("[selected]").length ||
                            h.push("\\[" + O + "*(?:value|" + H + ")"),
                          e.querySelectorAll(":checked").length ||
                            h.push(":checked");
                      }),
                      re(function (e) {
                        var t = i.createElement("input");
                        t.setAttribute("type", "hidden"),
                          e.appendChild(t).setAttribute("name", "D"),
                          e.querySelectorAll("[name=d]").length &&
                            h.push("name" + O + "*[*^$|!~]?="),
                          e.querySelectorAll(":enabled").length ||
                            h.push(":enabled", ":disabled"),
                          e.querySelectorAll("*,:x"),
                          h.push(",.*:");
                      })),
                    (n.matchesSelector = Y.test(
                      (m =
                        p.webkitMatchesSelector ||
                        p.mozMatchesSelector ||
                        p.oMatchesSelector ||
                        p.msMatchesSelector)
                    )) &&
                      re(function (e) {
                        (n.disconnectedMatch = m.call(e, "div")),
                          m.call(e, "[s!='']:x"),
                          g.push("!=", R);
                      }),
                    (h = h.length && new RegExp(h.join("|"))),
                    (g = g.length && new RegExp(g.join("|"))),
                    (t = Y.test(p.compareDocumentPosition)),
                    (v =
                      t || Y.test(p.contains)
                        ? function (e, t) {
                            var n = 9 === e.nodeType ? e.documentElement : e,
                              r = t && t.parentNode;
                            return (
                              e === r ||
                              !(
                                !r ||
                                1 !== r.nodeType ||
                                !(n.contains
                                  ? n.contains(r)
                                  : e.compareDocumentPosition &&
                                    16 & e.compareDocumentPosition(r))
                              )
                            );
                          }
                        : function (e, t) {
                            if (t)
                              for (; (t = t.parentNode); )
                                if (t === e) return !0;
                            return !1;
                          }),
                    (k = t
                      ? function (e, t) {
                          if (e === t) return (l = !0), 0;
                          var r =
                            !e.compareDocumentPosition -
                            !t.compareDocumentPosition;
                          return (
                            r ||
                            (1 &
                              (r =
                                (e.ownerDocument || e) ===
                                (t.ownerDocument || t)
                                  ? e.compareDocumentPosition(t)
                                  : 1) ||
                            (!n.sortDetached &&
                              t.compareDocumentPosition(e) === r)
                              ? e === i || (e.ownerDocument === x && v(x, e))
                                ? -1
                                : t === i || (t.ownerDocument === x && v(x, t))
                                ? 1
                                : u
                                ? q.call(u, e) - q.call(u, t)
                                : 0
                              : 4 & r
                              ? -1
                              : 1)
                          );
                        }
                      : function (e, t) {
                          if (e === t) return (l = !0), 0;
                          var n,
                            r = 0,
                            o = e.parentNode,
                            s = t.parentNode,
                            a = [e],
                            c = [t];
                          if (!o || !s)
                            return e === i
                              ? -1
                              : t === i
                              ? 1
                              : o
                              ? -1
                              : s
                              ? 1
                              : u
                              ? q.call(u, e) - q.call(u, t)
                              : 0;
                          if (o === s) return oe(e, t);
                          for (n = e; (n = n.parentNode); ) a.unshift(n);
                          for (n = t; (n = n.parentNode); ) c.unshift(n);
                          for (; a[r] === c[r]; ) r++;
                          return r
                            ? oe(a[r], c[r])
                            : a[r] === x
                            ? -1
                            : c[r] === x
                            ? 1
                            : 0;
                        }),
                    i)
                  : f;
              }),
            (ee.matches = function (e, t) {
              return ee(e, null, null, t);
            }),
            (ee.matchesSelector = function (e, t) {
              if (
                ((e.ownerDocument || e) !== f && c(e),
                (t = t.replace(I, "='$1']")),
                n.matchesSelector &&
                  d &&
                  (!g || !g.test(t)) &&
                  (!h || !h.test(t)))
              )
                try {
                  var r = m.call(e, t);
                  if (
                    r ||
                    n.disconnectedMatch ||
                    (e.document && 11 !== e.document.nodeType)
                  )
                    return r;
                } catch (ye) {}
              return ee(t, f, null, [e]).length > 0;
            }),
            (ee.contains = function (e, t) {
              return (e.ownerDocument || e) !== f && c(e), v(e, t);
            }),
            (ee.attr = function (e, t) {
              (e.ownerDocument || e) !== f && c(e);
              var i = r.attrHandle[t.toLowerCase()],
                o =
                  i && E.call(r.attrHandle, t.toLowerCase())
                    ? i(e, t, !d)
                    : void 0;
              return void 0 !== o
                ? o
                : n.attributes || !d
                ? e.getAttribute(t)
                : (o = e.getAttributeNode(t)) && o.specified
                ? o.value
                : null;
            }),
            (ee.error = function (e) {
              throw new Error("Syntax error, unrecognized expression: " + e);
            }),
            (ee.uniqueSort = function (e) {
              var t,
                r = [],
                i = 0,
                o = 0;
              if (
                ((l = !n.detectDuplicates),
                (u = !n.sortStable && e.slice(0)),
                e.sort(k),
                l)
              ) {
                for (; (t = e[o++]); ) t === e[o] && (i = r.push(o));
                for (; i--; ) e.splice(r[i], 1);
              }
              return (u = null), e;
            }),
            (i = ee.getText =
              function (e) {
                var t,
                  n = "",
                  r = 0,
                  o = e.nodeType;
                if (o) {
                  if (1 === o || 9 === o || 11 === o) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += i(e);
                  } else if (3 === o || 4 === o) return e.nodeValue;
                } else for (; (t = e[r++]); ) n += i(t);
                return n;
              }),
            ((r = ee.selectors =
              {
                cacheLength: 50,
                createPseudo: ne,
                match: z,
                attrHandle: {},
                find: {},
                relative: {
                  ">": { dir: "parentNode", first: !0 },
                  " ": { dir: "parentNode" },
                  "+": { dir: "previousSibling", first: !0 },
                  "~": { dir: "previousSibling" },
                },
                preFilter: {
                  ATTR: function (e) {
                    return (
                      (e[1] = e[1].replace(K, Z)),
                      (e[3] = (e[4] || e[5] || "").replace(K, Z)),
                      "~=" === e[2] && (e[3] = " " + e[3] + " "),
                      e.slice(0, 4)
                    );
                  },
                  CHILD: function (e) {
                    return (
                      (e[1] = e[1].toLowerCase()),
                      "nth" === e[1].slice(0, 3)
                        ? (e[3] || ee.error(e[0]),
                          (e[4] = +(e[4]
                            ? e[5] + (e[6] || 1)
                            : 2 * ("even" === e[3] || "odd" === e[3]))),
                          (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                        : e[3] && ee.error(e[0]),
                      e
                    );
                  },
                  PSEUDO: function (e) {
                    var t,
                      n = !e[5] && e[2];
                    return z.CHILD.test(e[0])
                      ? null
                      : (e[3] && void 0 !== e[4]
                          ? (e[2] = e[4])
                          : n &&
                            _.test(n) &&
                            (t = fe(n, !0)) &&
                            (t = n.indexOf(")", n.length - t) - n.length) &&
                            ((e[0] = e[0].slice(0, t)), (e[2] = n.slice(0, t))),
                        e.slice(0, 3));
                  },
                },
                filter: {
                  TAG: function (e) {
                    var t = e.replace(K, Z).toLowerCase();
                    return "*" === e
                      ? function () {
                          return !0;
                        }
                      : function (e) {
                          return e.nodeName && e.nodeName.toLowerCase() === t;
                        };
                  },
                  CLASS: function (e) {
                    var t = T[e + " "];
                    return (
                      t ||
                      ((t = new RegExp(
                        "(^|" + O + ")" + e + "(" + O + "|$)"
                      )) &&
                        T(e, function (e) {
                          return t.test(
                            ("string" == typeof e.className && e.className) ||
                              (void 0 !== e.getAttribute &&
                                e.getAttribute("class")) ||
                              ""
                          );
                        }))
                    );
                  },
                  ATTR: function (e, t, n) {
                    return function (r) {
                      var i = ee.attr(r, e);
                      return null == i
                        ? "!=" === t
                        : !t ||
                            ((i += ""),
                            "=" === t
                              ? i === n
                              : "!=" === t
                              ? i !== n
                              : "^=" === t
                              ? n && 0 === i.indexOf(n)
                              : "*=" === t
                              ? n && i.indexOf(n) > -1
                              : "$=" === t
                              ? n && i.slice(-n.length) === n
                              : "~=" === t
                              ? (" " + i + " ").indexOf(n) > -1
                              : "|=" === t &&
                                (i === n ||
                                  i.slice(0, n.length + 1) === n + "-"));
                    };
                  },
                  CHILD: function (e, t, n, r, i) {
                    var o = "nth" !== e.slice(0, 3),
                      s = "last" !== e.slice(-4),
                      a = "of-type" === t;
                    return 1 === r && 0 === i
                      ? function (e) {
                          return !!e.parentNode;
                        }
                      : function (t, n, u) {
                          var l,
                            c,
                            f,
                            p,
                            d,
                            h,
                            g = o !== s ? "nextSibling" : "previousSibling",
                            m = t.parentNode,
                            v = a && t.nodeName.toLowerCase(),
                            x = !u && !a;
                          if (m) {
                            if (o) {
                              for (; g; ) {
                                for (f = t; (f = f[g]); )
                                  if (
                                    a
                                      ? f.nodeName.toLowerCase() === v
                                      : 1 === f.nodeType
                                  )
                                    return !1;
                                h = g = "only" === e && !h && "nextSibling";
                              }
                              return !0;
                            }
                            if (
                              ((h = [s ? m.firstChild : m.lastChild]), s && x)
                            ) {
                              for (
                                d =
                                  (l =
                                    (c = m[y] || (m[y] = {}))[e] || [])[0] ===
                                    b && l[1],
                                  p = l[0] === b && l[2],
                                  f = d && m.childNodes[d];
                                (f =
                                  (++d && f && f[g]) || (p = d = 0) || h.pop());

                              )
                                if (1 === f.nodeType && ++p && f === t) {
                                  c[e] = [b, d, p];
                                  break;
                                }
                            } else if (
                              x &&
                              (l = (t[y] || (t[y] = {}))[e]) &&
                              l[0] === b
                            )
                              p = l[1];
                            else
                              for (
                                ;
                                (f =
                                  (++d && f && f[g]) ||
                                  (p = d = 0) ||
                                  h.pop()) &&
                                ((a
                                  ? f.nodeName.toLowerCase() !== v
                                  : 1 !== f.nodeType) ||
                                  !++p ||
                                  (x && ((f[y] || (f[y] = {}))[e] = [b, p]),
                                  f !== t));

                              );
                            return (p -= i) === r || (p % r == 0 && p / r >= 0);
                          }
                        };
                  },
                  PSEUDO: function (e, t) {
                    var n,
                      i =
                        r.pseudos[e] ||
                        r.setFilters[e.toLowerCase()] ||
                        ee.error("unsupported pseudo: " + e);
                    return i[y]
                      ? i(t)
                      : i.length > 1
                      ? ((n = [e, e, "", t]),
                        r.setFilters.hasOwnProperty(e.toLowerCase())
                          ? ne(function (e, n) {
                              for (var r, o = i(e, t), s = o.length; s--; )
                                e[(r = q.call(e, o[s]))] = !(n[r] = o[s]);
                            })
                          : function (e) {
                              return i(e, 0, n);
                            })
                      : i;
                  },
                },
                pseudos: {
                  not: ne(function (e) {
                    var t = [],
                      n = [],
                      r = s(e.replace(W, "$1"));
                    return r[y]
                      ? ne(function (e, t, n, i) {
                          for (
                            var o, s = r(e, null, i, []), a = e.length;
                            a--;

                          )
                            (o = s[a]) && (e[a] = !(t[a] = o));
                        })
                      : function (e, i, o) {
                          return (t[0] = e), r(t, null, o, n), !n.pop();
                        };
                  }),
                  has: ne(function (e) {
                    return function (t) {
                      return ee(e, t).length > 0;
                    };
                  }),
                  contains: ne(function (e) {
                    return function (t) {
                      return (
                        (t.textContent || t.innerText || i(t)).indexOf(e) > -1
                      );
                    };
                  }),
                  lang: ne(function (e) {
                    return (
                      X.test(e || "") || ee.error("unsupported lang: " + e),
                      (e = e.replace(K, Z).toLowerCase()),
                      function (t) {
                        var n;
                        do {
                          if (
                            (n = d
                              ? t.lang
                              : t.getAttribute("xml:lang") ||
                                t.getAttribute("lang"))
                          )
                            return (
                              (n = n.toLowerCase()) === e ||
                              0 === n.indexOf(e + "-")
                            );
                        } while ((t = t.parentNode) && 1 === t.nodeType);
                        return !1;
                      }
                    );
                  }),
                  target: function (t) {
                    var n = e.location && e.location.hash;
                    return n && n.slice(1) === t.id;
                  },
                  root: function (e) {
                    return e === p;
                  },
                  focus: function (e) {
                    return (
                      e === f.activeElement &&
                      (!f.hasFocus || f.hasFocus()) &&
                      !!(e.type || e.href || ~e.tabIndex)
                    );
                  },
                  enabled: function (e) {
                    return !1 === e.disabled;
                  },
                  disabled: function (e) {
                    return !0 === e.disabled;
                  },
                  checked: function (e) {
                    var t = e.nodeName.toLowerCase();
                    return (
                      ("input" === t && !!e.checked) ||
                      ("option" === t && !!e.selected)
                    );
                  },
                  selected: function (e) {
                    return (
                      e.parentNode && e.parentNode.selectedIndex,
                      !0 === e.selected
                    );
                  },
                  empty: function (e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                      if (e.nodeType < 6) return !1;
                    return !0;
                  },
                  parent: function (e) {
                    return !r.pseudos.empty(e);
                  },
                  header: function (e) {
                    return V.test(e.nodeName);
                  },
                  input: function (e) {
                    return U.test(e.nodeName);
                  },
                  button: function (e) {
                    var t = e.nodeName.toLowerCase();
                    return (
                      ("input" === t && "button" === e.type) || "button" === t
                    );
                  },
                  text: function (e) {
                    var t;
                    return (
                      "input" === e.nodeName.toLowerCase() &&
                      "text" === e.type &&
                      (null == (t = e.getAttribute("type")) ||
                        "text" === t.toLowerCase())
                    );
                  },
                  first: ue(function () {
                    return [0];
                  }),
                  last: ue(function (e, t) {
                    return [t - 1];
                  }),
                  eq: ue(function (e, t, n) {
                    return [n < 0 ? n + t : n];
                  }),
                  even: ue(function (e, t) {
                    for (var n = 0; n < t; n += 2) e.push(n);
                    return e;
                  }),
                  odd: ue(function (e, t) {
                    for (var n = 1; n < t; n += 2) e.push(n);
                    return e;
                  }),
                  lt: ue(function (e, t, n) {
                    for (var r = n < 0 ? n + t : n; --r >= 0; ) e.push(r);
                    return e;
                  }),
                  gt: ue(function (e, t, n) {
                    for (var r = n < 0 ? n + t : n; ++r < t; ) e.push(r);
                    return e;
                  }),
                },
              }).pseudos.nth = r.pseudos.eq),
            { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
              r.pseudos[t] = se(t);
            for (t in { submit: !0, reset: !0 }) r.pseudos[t] = ae(t);
            function ce() {}
            function fe(e, t) {
              var n,
                i,
                o,
                s,
                a,
                u,
                l,
                c = C[e + " "];
              if (c) return t ? 0 : c.slice(0);
              for (a = e, u = [], l = r.preFilter; a; ) {
                for (s in ((n && !(i = $.exec(a))) ||
                  (i && (a = a.slice(i[0].length) || a), u.push((o = []))),
                (n = !1),
                (i = B.exec(a)) &&
                  ((n = i.shift()),
                  o.push({ value: n, type: i[0].replace(W, " ") }),
                  (a = a.slice(n.length))),
                r.filter))
                  !(i = z[s].exec(a)) ||
                    (l[s] && !(i = l[s](i))) ||
                    ((n = i.shift()),
                    o.push({ value: n, type: s, matches: i }),
                    (a = a.slice(n.length)));
                if (!n) break;
              }
              return t ? a.length : a ? ee.error(e) : C(e, u).slice(0);
            }
            function pe(e) {
              for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
              return r;
            }
            function de(e, t, n) {
              var r = t.dir,
                i = n && "parentNode" === r,
                o = w++;
              return t.first
                ? function (t, n, o) {
                    for (; (t = t[r]); )
                      if (1 === t.nodeType || i) return e(t, n, o);
                  }
                : function (t, n, s) {
                    var a,
                      u,
                      l = [b, o];
                    if (s) {
                      for (; (t = t[r]); )
                        if ((1 === t.nodeType || i) && e(t, n, s)) return !0;
                    } else
                      for (; (t = t[r]); )
                        if (1 === t.nodeType || i) {
                          if (
                            (a = (u = t[y] || (t[y] = {}))[r]) &&
                            a[0] === b &&
                            a[1] === o
                          )
                            return (l[2] = a[2]);
                          if (((u[r] = l), (l[2] = e(t, n, s)))) return !0;
                        }
                  };
            }
            function he(e) {
              return e.length > 1
                ? function (t, n, r) {
                    for (var i = e.length; i--; ) if (!e[i](t, n, r)) return !1;
                    return !0;
                  }
                : e[0];
            }
            function ge(e, t, n, r, i) {
              for (
                var o, s = [], a = 0, u = e.length, l = null != t;
                a < u;
                a++
              )
                (o = e[a]) &&
                  ((n && !n(o, r, i)) || (s.push(o), l && t.push(a)));
              return s;
            }
            function me(e, t, n, r, i, o) {
              return (
                r && !r[y] && (r = me(r)),
                i && !i[y] && (i = me(i, o)),
                ne(function (o, s, a, u) {
                  var l,
                    c,
                    f,
                    p = [],
                    d = [],
                    h = s.length,
                    g =
                      o ||
                      (function (e, t, n) {
                        for (var r = 0, i = t.length; r < i; r++)
                          ee(e, t[r], n);
                        return n;
                      })(t || "*", a.nodeType ? [a] : a, []),
                    m = !e || (!o && t) ? g : ge(g, p, e, a, u),
                    v = n ? (i || (o ? e : h || r) ? [] : s) : m;
                  if ((n && n(m, v, a, u), r))
                    for (l = ge(v, d), r(l, [], a, u), c = l.length; c--; )
                      (f = l[c]) && (v[d[c]] = !(m[d[c]] = f));
                  if (o) {
                    if (i || e) {
                      if (i) {
                        for (l = [], c = v.length; c--; )
                          (f = v[c]) && l.push((m[c] = f));
                        i(null, (v = []), l, u);
                      }
                      for (c = v.length; c--; )
                        (f = v[c]) &&
                          (l = i ? q.call(o, f) : p[c]) > -1 &&
                          (o[l] = !(s[l] = f));
                    }
                  } else (v = ge(v === s ? v.splice(h, v.length) : v)), i ? i(null, s, v, u) : A.apply(s, v);
                })
              );
            }
            function ve(e) {
              for (
                var t,
                  n,
                  i,
                  o = e.length,
                  s = r.relative[e[0].type],
                  u = s || r.relative[" "],
                  l = s ? 1 : 0,
                  c = de(
                    function (e) {
                      return e === t;
                    },
                    u,
                    !0
                  ),
                  f = de(
                    function (e) {
                      return q.call(t, e) > -1;
                    },
                    u,
                    !0
                  ),
                  p = [
                    function (e, n, r) {
                      return (
                        (!s && (r || n !== a)) ||
                        ((t = n).nodeType ? c(e, n, r) : f(e, n, r))
                      );
                    },
                  ];
                l < o;
                l++
              )
                if ((n = r.relative[e[l].type])) p = [de(he(p), n)];
                else {
                  if ((n = r.filter[e[l].type].apply(null, e[l].matches))[y]) {
                    for (i = ++l; i < o && !r.relative[e[i].type]; i++);
                    return me(
                      l > 1 && he(p),
                      l > 1 &&
                        pe(
                          e
                            .slice(0, l - 1)
                            .concat({ value: " " === e[l - 2].type ? "*" : "" })
                        ).replace(W, "$1"),
                      n,
                      l < i && ve(e.slice(l, i)),
                      i < o && ve((e = e.slice(i))),
                      i < o && pe(e)
                    );
                  }
                  p.push(n);
                }
              return he(p);
            }
            return (
              (ce.prototype = r.filters = r.pseudos),
              (r.setFilters = new ce()),
              (s = ee.compile =
                function (e, t) {
                  var n,
                    i = [],
                    o = [],
                    s = N[e + " "];
                  if (!s) {
                    for (t || (t = fe(e)), n = t.length; n--; )
                      (s = ve(t[n]))[y] ? i.push(s) : o.push(s);
                    s = N(
                      e,
                      (function (e, t) {
                        var n = t.length > 0,
                          i = e.length > 0,
                          o = function (o, s, u, l, c) {
                            var p,
                              d,
                              h,
                              g = 0,
                              m = "0",
                              v = o && [],
                              y = [],
                              x = a,
                              w = o || (i && r.find.TAG("*", c)),
                              T = (b += null == x ? 1 : Math.random() || 0.1),
                              C = w.length;
                            for (
                              c && (a = s !== f && s);
                              m !== C && null != (p = w[m]);
                              m++
                            ) {
                              if (i && p) {
                                for (d = 0; (h = e[d++]); )
                                  if (h(p, s, u)) {
                                    l.push(p);
                                    break;
                                  }
                                c && (b = T);
                              }
                              n && ((p = !h && p) && g--, o && v.push(p));
                            }
                            if (((g += m), n && m !== g)) {
                              for (d = 0; (h = t[d++]); ) h(v, y, s, u);
                              if (o) {
                                if (g > 0)
                                  for (; m--; )
                                    v[m] || y[m] || (y[m] = j.call(l));
                                y = ge(y);
                              }
                              A.apply(l, y),
                                c &&
                                  !o &&
                                  y.length > 0 &&
                                  g + t.length > 1 &&
                                  ee.uniqueSort(l);
                            }
                            return c && ((b = T), (a = x)), v;
                          };
                        return n ? ne(o) : o;
                      })(o, i)
                    );
                  }
                  return s;
                }),
              (n.sortStable = y.split("").sort(k).join("") === y),
              (n.detectDuplicates = !!l),
              c(),
              (n.sortDetached = re(function (e) {
                return 1 & e.compareDocumentPosition(f.createElement("div"));
              })),
              re(function (e) {
                return (
                  (e.innerHTML = "<a href='#'></a>"),
                  "#" === e.firstChild.getAttribute("href")
                );
              }) ||
                ie("type|href|height|width", function (e, t, n) {
                  if (!n)
                    return e.getAttribute(
                      t,
                      "type" === t.toLowerCase() ? 1 : 2
                    );
                }),
              (n.attributes &&
                re(function (e) {
                  return (
                    (e.innerHTML = "<input/>"),
                    e.firstChild.setAttribute("value", ""),
                    "" === e.firstChild.getAttribute("value")
                  );
                })) ||
                ie("value", function (e, t, n) {
                  if (!n && "input" === e.nodeName.toLowerCase())
                    return e.defaultValue;
                }),
              re(function (e) {
                return null == e.getAttribute("disabled");
              }) ||
                ie(H, function (e, t, n) {
                  var r;
                  if (!n)
                    return !0 === e[t]
                      ? t.toLowerCase()
                      : (r = e.getAttributeNode(t)) && r.specified
                      ? r.value
                      : null;
                }),
              ee
            );
          })(e);
        (d.find = y),
          (d.expr = y.selectors),
          (d.expr[":"] = d.expr.pseudos),
          (d.unique = y.uniqueSort),
          (d.text = y.getText),
          (d.isXMLDoc = y.isXML),
          (d.contains = y.contains);
        var x = d.expr.match.needsContext,
          b = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
          w = /^.[^:#\[\.,]*$/;
        function T(e, t, n) {
          if (d.isFunction(t))
            return d.grep(e, function (e, r) {
              return !!t.call(e, r, e) !== n;
            });
          if (t.nodeType)
            return d.grep(e, function (e) {
              return (e === t) !== n;
            });
          if ("string" == typeof t) {
            if (w.test(t)) return d.filter(t, e, n);
            t = d.filter(t, e);
          }
          return d.grep(e, function (e) {
            return s.call(t, e) >= 0 !== n;
          });
        }
        (d.filter = function (e, t, n) {
          var r = t[0];
          return (
            n && (e = ":not(" + e + ")"),
            1 === t.length && 1 === r.nodeType
              ? d.find.matchesSelector(r, e)
                ? [r]
                : []
              : d.find.matches(
                  e,
                  d.grep(t, function (e) {
                    return 1 === e.nodeType;
                  })
                )
          );
        }),
          d.fn.extend({
            find: function (e) {
              var t,
                n = this.length,
                r = [],
                i = this;
              if ("string" != typeof e)
                return this.pushStack(
                  d(e).filter(function () {
                    for (t = 0; t < n; t++)
                      if (d.contains(i[t], this)) return !0;
                  })
                );
              for (t = 0; t < n; t++) d.find(e, i[t], r);
              return (
                ((r = this.pushStack(n > 1 ? d.unique(r) : r)).selector = this
                  .selector
                  ? this.selector + " " + e
                  : e),
                r
              );
            },
            filter: function (e) {
              return this.pushStack(T(this, e || [], !1));
            },
            not: function (e) {
              return this.pushStack(T(this, e || [], !0));
            },
            is: function (e) {
              return !!T(
                this,
                "string" == typeof e && x.test(e) ? d(e) : e || [],
                !1
              ).length;
            },
          });
        var C,
          N = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
        ((d.fn.init = function (e, t) {
          var n, r;
          if (!e) return this;
          if ("string" == typeof e) {
            if (
              !(n =
                "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3
                  ? [null, e, null]
                  : N.exec(e)) ||
              (!n[1] && t)
            )
              return !t || t.jquery
                ? (t || C).find(e)
                : this.constructor(t).find(e);
            if (n[1]) {
              if (
                ((t = t instanceof d ? t[0] : t),
                d.merge(
                  this,
                  d.parseHTML(
                    n[1],
                    t && t.nodeType ? t.ownerDocument || t : p,
                    !0
                  )
                ),
                b.test(n[1]) && d.isPlainObject(t))
              )
                for (n in t)
                  d.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
              return this;
            }
            return (
              (r = p.getElementById(n[2])) &&
                r.parentNode &&
                ((this.length = 1), (this[0] = r)),
              (this.context = p),
              (this.selector = e),
              this
            );
          }
          return e.nodeType
            ? ((this.context = this[0] = e), (this.length = 1), this)
            : d.isFunction(e)
            ? void 0 !== C.ready
              ? C.ready(e)
              : e(d)
            : (void 0 !== e.selector &&
                ((this.selector = e.selector), (this.context = e.context)),
              d.makeArray(e, this));
        }).prototype = d.fn),
          (C = d(p));
        var k = /^(?:parents|prev(?:Until|All))/,
          E = { children: !0, contents: !0, next: !0, prev: !0 };
        function D(e, t) {
          for (; (e = e[t]) && 1 !== e.nodeType; );
          return e;
        }
        d.extend({
          dir: function (e, t, n) {
            for (var r = [], i = void 0 !== n; (e = e[t]) && 9 !== e.nodeType; )
              if (1 === e.nodeType) {
                if (i && d(e).is(n)) break;
                r.push(e);
              }
            return r;
          },
          sibling: function (e, t) {
            for (var n = []; e; e = e.nextSibling)
              1 === e.nodeType && e !== t && n.push(e);
            return n;
          },
        }),
          d.fn.extend({
            has: function (e) {
              var t = d(e, this),
                n = t.length;
              return this.filter(function () {
                for (var e = 0; e < n; e++)
                  if (d.contains(this, t[e])) return !0;
              });
            },
            closest: function (e, t) {
              for (
                var n,
                  r = 0,
                  i = this.length,
                  o = [],
                  s =
                    x.test(e) || "string" != typeof e
                      ? d(e, t || this.context)
                      : 0;
                r < i;
                r++
              )
                for (n = this[r]; n && n !== t; n = n.parentNode)
                  if (
                    n.nodeType < 11 &&
                    (s
                      ? s.index(n) > -1
                      : 1 === n.nodeType && d.find.matchesSelector(n, e))
                  ) {
                    o.push(n);
                    break;
                  }
              return this.pushStack(o.length > 1 ? d.unique(o) : o);
            },
            index: function (e) {
              return e
                ? "string" == typeof e
                  ? s.call(d(e), this[0])
                  : s.call(this, e.jquery ? e[0] : e)
                : this[0] && this[0].parentNode
                ? this.first().prevAll().length
                : -1;
            },
            add: function (e, t) {
              return this.pushStack(d.unique(d.merge(this.get(), d(e, t))));
            },
            addBack: function (e) {
              return this.add(
                null == e ? this.prevObject : this.prevObject.filter(e)
              );
            },
          }),
          d.each(
            {
              parent: function (e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null;
              },
              parents: function (e) {
                return d.dir(e, "parentNode");
              },
              parentsUntil: function (e, t, n) {
                return d.dir(e, "parentNode", n);
              },
              next: function (e) {
                return D(e, "nextSibling");
              },
              prev: function (e) {
                return D(e, "previousSibling");
              },
              nextAll: function (e) {
                return d.dir(e, "nextSibling");
              },
              prevAll: function (e) {
                return d.dir(e, "previousSibling");
              },
              nextUntil: function (e, t, n) {
                return d.dir(e, "nextSibling", n);
              },
              prevUntil: function (e, t, n) {
                return d.dir(e, "previousSibling", n);
              },
              siblings: function (e) {
                return d.sibling((e.parentNode || {}).firstChild, e);
              },
              children: function (e) {
                return d.sibling(e.firstChild);
              },
              contents: function (e) {
                return e.contentDocument || d.merge([], e.childNodes);
              },
            },
            function (e, t) {
              d.fn[e] = function (n, r) {
                var i = d.map(this, t, n);
                return (
                  "Until" !== e.slice(-5) && (r = n),
                  r && "string" == typeof r && (i = d.filter(r, i)),
                  this.length > 1 &&
                    (E[e] || d.unique(i), k.test(e) && i.reverse()),
                  this.pushStack(i)
                );
              };
            }
          );
        var j,
          S = /\S+/g,
          A = {};
        function L() {
          p.removeEventListener("DOMContentLoaded", L, !1),
            e.removeEventListener("load", L, !1),
            d.ready();
        }
        (d.Callbacks = function (e) {
          e =
            "string" == typeof e
              ? A[e] ||
                (function (e) {
                  var t = (A[e] = {});
                  return (
                    d.each(e.match(S) || [], function (e, n) {
                      t[n] = !0;
                    }),
                    t
                  );
                })(e)
              : d.extend({}, e);
          var t,
            n,
            r,
            i,
            o,
            s,
            a = [],
            u = !e.once && [],
            l = function (f) {
              for (
                t = e.memory && f,
                  n = !0,
                  s = i || 0,
                  i = 0,
                  o = a.length,
                  r = !0;
                a && s < o;
                s++
              )
                if (!1 === a[s].apply(f[0], f[1]) && e.stopOnFalse) {
                  t = !1;
                  break;
                }
              (r = !1),
                a &&
                  (u ? u.length && l(u.shift()) : t ? (a = []) : c.disable());
            },
            c = {
              add: function () {
                if (a) {
                  var n = a.length;
                  !(function t(n) {
                    d.each(n, function (n, r) {
                      var i = d.type(r);
                      "function" === i
                        ? (e.unique && c.has(r)) || a.push(r)
                        : r && r.length && "string" !== i && t(r);
                    });
                  })(arguments),
                    r ? (o = a.length) : t && ((i = n), l(t));
                }
                return this;
              },
              remove: function () {
                return (
                  a &&
                    d.each(arguments, function (e, t) {
                      for (var n; (n = d.inArray(t, a, n)) > -1; )
                        a.splice(n, 1), r && (n <= o && o--, n <= s && s--);
                    }),
                  this
                );
              },
              has: function (e) {
                return e ? d.inArray(e, a) > -1 : !(!a || !a.length);
              },
              empty: function () {
                return (a = []), (o = 0), this;
              },
              disable: function () {
                return (a = u = t = void 0), this;
              },
              disabled: function () {
                return !a;
              },
              lock: function () {
                return (u = void 0), t || c.disable(), this;
              },
              locked: function () {
                return !u;
              },
              fireWith: function (e, t) {
                return (
                  !a ||
                    (n && !u) ||
                    ((t = [e, (t = t || []).slice ? t.slice() : t]),
                    r ? u.push(t) : l(t)),
                  this
                );
              },
              fire: function () {
                return c.fireWith(this, arguments), this;
              },
              fired: function () {
                return !!n;
              },
            };
          return c;
        }),
          d.extend({
            Deferred: function (e) {
              var t = [
                  ["resolve", "done", d.Callbacks("once memory"), "resolved"],
                  ["reject", "fail", d.Callbacks("once memory"), "rejected"],
                  ["notify", "progress", d.Callbacks("memory")],
                ],
                n = "pending",
                r = {
                  state: function () {
                    return n;
                  },
                  always: function () {
                    return i.done(arguments).fail(arguments), this;
                  },
                  then: function () {
                    var e = arguments;
                    return d
                      .Deferred(function (n) {
                        d.each(t, function (t, o) {
                          var s = d.isFunction(e[t]) && e[t];
                          i[o[1]](function () {
                            var e = s && s.apply(this, arguments);
                            e && d.isFunction(e.promise)
                              ? e
                                  .promise()
                                  .done(n.resolve)
                                  .fail(n.reject)
                                  .progress(n.notify)
                              : n[o[0] + "With"](
                                  this === r ? n.promise() : this,
                                  s ? [e] : arguments
                                );
                          });
                        }),
                          (e = null);
                      })
                      .promise();
                  },
                  promise: function (e) {
                    return null != e ? d.extend(e, r) : r;
                  },
                },
                i = {};
              return (
                (r.pipe = r.then),
                d.each(t, function (e, o) {
                  var s = o[2],
                    a = o[3];
                  (r[o[1]] = s.add),
                    a &&
                      s.add(
                        function () {
                          n = a;
                        },
                        t[1 ^ e][2].disable,
                        t[2][2].lock
                      ),
                    (i[o[0]] = function () {
                      return (
                        i[o[0] + "With"](this === i ? r : this, arguments), this
                      );
                    }),
                    (i[o[0] + "With"] = s.fireWith);
                }),
                r.promise(i),
                e && e.call(i, i),
                i
              );
            },
            when: function (e) {
              var t,
                n,
                i,
                o = 0,
                s = r.call(arguments),
                a = s.length,
                u = 1 !== a || (e && d.isFunction(e.promise)) ? a : 0,
                l = 1 === u ? e : d.Deferred(),
                c = function (e, n, i) {
                  return function (o) {
                    (n[e] = this),
                      (i[e] = arguments.length > 1 ? r.call(arguments) : o),
                      i === t ? l.notifyWith(n, i) : --u || l.resolveWith(n, i);
                  };
                };
              if (a > 1)
                for (
                  t = new Array(a), n = new Array(a), i = new Array(a);
                  o < a;
                  o++
                )
                  s[o] && d.isFunction(s[o].promise)
                    ? s[o]
                        .promise()
                        .done(c(o, i, s))
                        .fail(l.reject)
                        .progress(c(o, n, t))
                    : --u;
              return u || l.resolveWith(i, s), l.promise();
            },
          }),
          (d.fn.ready = function (e) {
            return d.ready.promise().done(e), this;
          }),
          d.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function (e) {
              e ? d.readyWait++ : d.ready(!0);
            },
            ready: function (e) {
              (!0 === e ? --d.readyWait : d.isReady) ||
                ((d.isReady = !0),
                (!0 !== e && --d.readyWait > 0) ||
                  (j.resolveWith(p, [d]),
                  d.fn.trigger && d(p).trigger("ready").off("ready")));
            },
          }),
          (d.ready.promise = function (t) {
            return (
              j ||
                ((j = d.Deferred()),
                "complete" === p.readyState
                  ? setTimeout(d.ready)
                  : (p.addEventListener("DOMContentLoaded", L, !1),
                    e.addEventListener("load", L, !1))),
              j.promise(t)
            );
          }),
          d.ready.promise();
        var q = (d.access = function (e, t, n, r, i, o, s) {
          var a = 0,
            u = e.length,
            l = null == n;
          if ("object" === d.type(n))
            for (a in ((i = !0), n)) d.access(e, t, a, n[a], !0, o, s);
          else if (
            void 0 !== r &&
            ((i = !0),
            d.isFunction(r) || (s = !0),
            l &&
              (s
                ? (t.call(e, r), (t = null))
                : ((l = t),
                  (t = function (e, t, n) {
                    return l.call(d(e), n);
                  }))),
            t)
          )
            for (; a < u; a++) t(e[a], n, s ? r : r.call(e[a], a, t(e[a], n)));
          return i ? e : l ? t.call(e) : u ? t(e[0], n) : o;
        });
        function H() {
          Object.defineProperty((this.cache = {}), 0, {
            get: function () {
              return {};
            },
          }),
            (this.expando = d.expando + Math.random());
        }
        (d.acceptData = function (e) {
          return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType;
        }),
          (H.uid = 1),
          (H.accepts = d.acceptData),
          (H.prototype = {
            key: function (e) {
              if (!H.accepts(e)) return 0;
              var t = {},
                n = e[this.expando];
              if (!n) {
                n = H.uid++;
                try {
                  (t[this.expando] = { value: n }),
                    Object.defineProperties(e, t);
                } catch (r) {
                  (t[this.expando] = n), d.extend(e, t);
                }
              }
              return this.cache[n] || (this.cache[n] = {}), n;
            },
            set: function (e, t, n) {
              var r,
                i = this.key(e),
                o = this.cache[i];
              if ("string" == typeof t) o[t] = n;
              else if (d.isEmptyObject(o)) d.extend(this.cache[i], t);
              else for (r in t) o[r] = t[r];
              return o;
            },
            get: function (e, t) {
              var n = this.cache[this.key(e)];
              return void 0 === t ? n : n[t];
            },
            access: function (e, t, n) {
              var r;
              return void 0 === t || (t && "string" == typeof t && void 0 === n)
                ? void 0 !== (r = this.get(e, t))
                  ? r
                  : this.get(e, d.camelCase(t))
                : (this.set(e, t, n), void 0 !== n ? n : t);
            },
            remove: function (e, t) {
              var n,
                r,
                i,
                o = this.key(e),
                s = this.cache[o];
              if (void 0 === t) this.cache[o] = {};
              else {
                d.isArray(t)
                  ? (r = t.concat(t.map(d.camelCase)))
                  : ((i = d.camelCase(t)),
                    (r =
                      t in s ? [t, i] : (r = i) in s ? [r] : r.match(S) || [])),
                  (n = r.length);
                for (; n--; ) delete s[r[n]];
              }
            },
            hasData: function (e) {
              return !d.isEmptyObject(this.cache[e[this.expando]] || {});
            },
            discard: function (e) {
              e[this.expando] && delete this.cache[e[this.expando]];
            },
          });
        var O = new H(),
          F = new H(),
          P = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
          M = /([A-Z])/g;
        function R(e, t, n) {
          var r;
          if (void 0 === n && 1 === e.nodeType)
            if (
              ((r = "data-" + t.replace(M, "-$1").toLowerCase()),
              "string" == typeof (n = e.getAttribute(r)))
            ) {
              try {
                n =
                  "true" === n ||
                  ("false" !== n &&
                    ("null" === n
                      ? null
                      : +n + "" === n
                      ? +n
                      : P.test(n)
                      ? d.parseJSON(n)
                      : n));
              } catch (i) {}
              F.set(e, t, n);
            } else n = void 0;
          return n;
        }
        d.extend({
          hasData: function (e) {
            return F.hasData(e) || O.hasData(e);
          },
          data: function (e, t, n) {
            return F.access(e, t, n);
          },
          removeData: function (e, t) {
            F.remove(e, t);
          },
          _data: function (e, t, n) {
            return O.access(e, t, n);
          },
          _removeData: function (e, t) {
            O.remove(e, t);
          },
        }),
          d.fn.extend({
            data: function (e, t) {
              var n,
                r,
                i,
                o = this[0],
                s = o && o.attributes;
              if (void 0 === e) {
                if (
                  this.length &&
                  ((i = F.get(o)),
                  1 === o.nodeType && !O.get(o, "hasDataAttrs"))
                ) {
                  for (n = s.length; n--; )
                    0 === (r = s[n].name).indexOf("data-") &&
                      ((r = d.camelCase(r.slice(5))), R(o, r, i[r]));
                  O.set(o, "hasDataAttrs", !0);
                }
                return i;
              }
              return "object" == typeof e
                ? this.each(function () {
                    F.set(this, e);
                  })
                : q(
                    this,
                    function (t) {
                      var n,
                        r = d.camelCase(e);
                      if (o && void 0 === t)
                        return void 0 !== (n = F.get(o, e)) ||
                          void 0 !== (n = F.get(o, r)) ||
                          void 0 !== (n = R(o, r, void 0))
                          ? n
                          : void 0;
                      this.each(function () {
                        var n = F.get(this, r);
                        F.set(this, r, t),
                          -1 !== e.indexOf("-") &&
                            void 0 !== n &&
                            F.set(this, e, t);
                      });
                    },
                    null,
                    t,
                    arguments.length > 1,
                    null,
                    !0
                  );
            },
            removeData: function (e) {
              return this.each(function () {
                F.remove(this, e);
              });
            },
          }),
          d.extend({
            queue: function (e, t, n) {
              var r;
              if (e)
                return (
                  (t = (t || "fx") + "queue"),
                  (r = O.get(e, t)),
                  n &&
                    (!r || d.isArray(n)
                      ? (r = O.access(e, t, d.makeArray(n)))
                      : r.push(n)),
                  r || []
                );
            },
            dequeue: function (e, t) {
              t = t || "fx";
              var n = d.queue(e, t),
                r = n.length,
                i = n.shift(),
                o = d._queueHooks(e, t);
              "inprogress" === i && ((i = n.shift()), r--),
                i &&
                  ("fx" === t && n.unshift("inprogress"),
                  delete o.stop,
                  i.call(
                    e,
                    function () {
                      d.dequeue(e, t);
                    },
                    o
                  )),
                !r && o && o.empty.fire();
            },
            _queueHooks: function (e, t) {
              var n = t + "queueHooks";
              return (
                O.get(e, n) ||
                O.access(e, n, {
                  empty: d.Callbacks("once memory").add(function () {
                    O.remove(e, [t + "queue", n]);
                  }),
                })
              );
            },
          }),
          d.fn.extend({
            queue: function (e, t) {
              var n = 2;
              return (
                "string" != typeof e && ((t = e), (e = "fx"), n--),
                arguments.length < n
                  ? d.queue(this[0], e)
                  : void 0 === t
                  ? this
                  : this.each(function () {
                      var n = d.queue(this, e, t);
                      d._queueHooks(this, e),
                        "fx" === e &&
                          "inprogress" !== n[0] &&
                          d.dequeue(this, e);
                    })
              );
            },
            dequeue: function (e) {
              return this.each(function () {
                d.dequeue(this, e);
              });
            },
            clearQueue: function (e) {
              return this.queue(e || "fx", []);
            },
            promise: function (e, t) {
              var n,
                r = 1,
                i = d.Deferred(),
                o = this,
                s = this.length,
                a = function () {
                  --r || i.resolveWith(o, [o]);
                };
              for (
                "string" != typeof e && ((t = e), (e = void 0)), e = e || "fx";
                s--;

              )
                (n = O.get(o[s], e + "queueHooks")) &&
                  n.empty &&
                  (r++, n.empty.add(a));
              return a(), i.promise(t);
            },
          });
        var W,
          $ = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
          B = ["Top", "Right", "Bottom", "Left"],
          I = function (e, t) {
            return (
              (e = t || e),
              "none" === d.css(e, "display") || !d.contains(e.ownerDocument, e)
            );
          },
          _ = /^(?:checkbox|radio)$/i;
        ((W = p
          .createDocumentFragment()
          .appendChild(p.createElement("div"))).innerHTML =
          "<input type='radio' checked='checked' name='t'/>"),
          (f.checkClone = W.cloneNode(!0).cloneNode(!0).lastChild.checked),
          (W.innerHTML = "<textarea>x</textarea>"),
          (f.noCloneChecked = !!W.cloneNode(!0).lastChild.defaultValue);
        f.focusinBubbles = "onfocusin" in e;
        var X = /^key/,
          z = /^(?:mouse|contextmenu)|click/,
          U = /^(?:focusinfocus|focusoutblur)$/,
          V = /^([^.]*)(?:\.(.+)|)$/;
        function Y() {
          return !0;
        }
        function G() {
          return !1;
        }
        function Q() {
          try {
            return p.activeElement;
          } catch (e) {}
        }
        (d.event = {
          global: {},
          add: function (e, t, n, r, i) {
            var o,
              s,
              a,
              u,
              l,
              c,
              f,
              p,
              h,
              g,
              m,
              v = O.get(e);
            if (v)
              for (
                n.handler && ((n = (o = n).handler), (i = o.selector)),
                  n.guid || (n.guid = d.guid++),
                  (u = v.events) || (u = v.events = {}),
                  (s = v.handle) ||
                    (s = v.handle =
                      function (t) {
                        return void 0 !== d && d.event.triggered !== t.type
                          ? d.event.dispatch.apply(e, arguments)
                          : void 0;
                      }),
                  l = (t = (t || "").match(S) || [""]).length;
                l--;

              )
                (h = m = (a = V.exec(t[l]) || [])[1]),
                  (g = (a[2] || "").split(".").sort()),
                  h &&
                    ((f = d.event.special[h] || {}),
                    (h = (i ? f.delegateType : f.bindType) || h),
                    (f = d.event.special[h] || {}),
                    (c = d.extend(
                      {
                        type: h,
                        origType: m,
                        data: r,
                        handler: n,
                        guid: n.guid,
                        selector: i,
                        needsContext: i && d.expr.match.needsContext.test(i),
                        namespace: g.join("."),
                      },
                      o
                    )),
                    (p = u[h]) ||
                      (((p = u[h] = []).delegateCount = 0),
                      (f.setup && !1 !== f.setup.call(e, r, g, s)) ||
                        (e.addEventListener && e.addEventListener(h, s, !1))),
                    f.add &&
                      (f.add.call(e, c),
                      c.handler.guid || (c.handler.guid = n.guid)),
                    i ? p.splice(p.delegateCount++, 0, c) : p.push(c),
                    (d.event.global[h] = !0));
          },
          remove: function (e, t, n, r, i) {
            var o,
              s,
              a,
              u,
              l,
              c,
              f,
              p,
              h,
              g,
              m,
              v = O.hasData(e) && O.get(e);
            if (v && (u = v.events)) {
              for (l = (t = (t || "").match(S) || [""]).length; l--; )
                if (
                  ((h = m = (a = V.exec(t[l]) || [])[1]),
                  (g = (a[2] || "").split(".").sort()),
                  h)
                ) {
                  for (
                    f = d.event.special[h] || {},
                      p = u[(h = (r ? f.delegateType : f.bindType) || h)] || [],
                      a =
                        a[2] &&
                        new RegExp(
                          "(^|\\.)" + g.join("\\.(?:.*\\.|)") + "(\\.|$)"
                        ),
                      s = o = p.length;
                    o--;

                  )
                    (c = p[o]),
                      (!i && m !== c.origType) ||
                        (n && n.guid !== c.guid) ||
                        (a && !a.test(c.namespace)) ||
                        (r &&
                          r !== c.selector &&
                          ("**" !== r || !c.selector)) ||
                        (p.splice(o, 1),
                        c.selector && p.delegateCount--,
                        f.remove && f.remove.call(e, c));
                  s &&
                    !p.length &&
                    ((f.teardown && !1 !== f.teardown.call(e, g, v.handle)) ||
                      d.removeEvent(e, h, v.handle),
                    delete u[h]);
                } else for (h in u) d.event.remove(e, h + t[l], n, r, !0);
              d.isEmptyObject(u) && (delete v.handle, O.remove(e, "events"));
            }
          },
          trigger: function (t, n, r, i) {
            var o,
              s,
              a,
              u,
              c,
              f,
              h,
              g = [r || p],
              m = l.call(t, "type") ? t.type : t,
              v = l.call(t, "namespace") ? t.namespace.split(".") : [];
            if (
              ((s = a = r = r || p),
              3 !== r.nodeType &&
                8 !== r.nodeType &&
                !U.test(m + d.event.triggered) &&
                (m.indexOf(".") >= 0 &&
                  ((v = m.split(".")), (m = v.shift()), v.sort()),
                (c = m.indexOf(":") < 0 && "on" + m),
                ((t = t[d.expando]
                  ? t
                  : new d.Event(m, "object" == typeof t && t)).isTrigger = i
                  ? 2
                  : 3),
                (t.namespace = v.join(".")),
                (t.namespace_re = t.namespace
                  ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)")
                  : null),
                (t.result = void 0),
                t.target || (t.target = r),
                (n = null == n ? [t] : d.makeArray(n, [t])),
                (h = d.event.special[m] || {}),
                i || !h.trigger || !1 !== h.trigger.apply(r, n)))
            ) {
              if (!i && !h.noBubble && !d.isWindow(r)) {
                for (
                  u = h.delegateType || m, U.test(u + m) || (s = s.parentNode);
                  s;
                  s = s.parentNode
                )
                  g.push(s), (a = s);
                a === (r.ownerDocument || p) &&
                  g.push(a.defaultView || a.parentWindow || e);
              }
              for (o = 0; (s = g[o++]) && !t.isPropagationStopped(); )
                (t.type = o > 1 ? u : h.bindType || m),
                  (f =
                    (O.get(s, "events") || {})[t.type] && O.get(s, "handle")) &&
                    f.apply(s, n),
                  (f = c && s[c]) &&
                    f.apply &&
                    d.acceptData(s) &&
                    ((t.result = f.apply(s, n)),
                    !1 === t.result && t.preventDefault());
              return (
                (t.type = m),
                i ||
                  t.isDefaultPrevented() ||
                  (h._default && !1 !== h._default.apply(g.pop(), n)) ||
                  !d.acceptData(r) ||
                  (c &&
                    d.isFunction(r[m]) &&
                    !d.isWindow(r) &&
                    ((a = r[c]) && (r[c] = null),
                    (d.event.triggered = m),
                    r[m](),
                    (d.event.triggered = void 0),
                    a && (r[c] = a))),
                t.result
              );
            }
          },
          dispatch: function (e) {
            e = d.event.fix(e);
            var t,
              n,
              i,
              o,
              s,
              a = [],
              u = r.call(arguments),
              l = (O.get(this, "events") || {})[e.type] || [],
              c = d.event.special[e.type] || {};
            if (
              ((u[0] = e),
              (e.delegateTarget = this),
              !c.preDispatch || !1 !== c.preDispatch.call(this, e))
            ) {
              for (
                a = d.event.handlers.call(this, e, l), t = 0;
                (o = a[t++]) && !e.isPropagationStopped();

              )
                for (
                  e.currentTarget = o.elem, n = 0;
                  (s = o.handlers[n++]) && !e.isImmediatePropagationStopped();

                )
                  (e.namespace_re && !e.namespace_re.test(s.namespace)) ||
                    ((e.handleObj = s),
                    (e.data = s.data),
                    void 0 !==
                      (i = (
                        (d.event.special[s.origType] || {}).handle || s.handler
                      ).apply(o.elem, u)) &&
                      !1 === (e.result = i) &&
                      (e.preventDefault(), e.stopPropagation()));
              return c.postDispatch && c.postDispatch.call(this, e), e.result;
            }
          },
          handlers: function (e, t) {
            var n,
              r,
              i,
              o,
              s = [],
              a = t.delegateCount,
              u = e.target;
            if (a && u.nodeType && (!e.button || "click" !== e.type))
              for (; u !== this; u = u.parentNode || this)
                if (!0 !== u.disabled || "click" !== e.type) {
                  for (r = [], n = 0; n < a; n++)
                    void 0 === r[(i = (o = t[n]).selector + " ")] &&
                      (r[i] = o.needsContext
                        ? d(i, this).index(u) >= 0
                        : d.find(i, this, null, [u]).length),
                      r[i] && r.push(o);
                  r.length && s.push({ elem: u, handlers: r });
                }
            return (
              a < t.length && s.push({ elem: this, handlers: t.slice(a) }), s
            );
          },
          props:
            "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
              " "
            ),
          fixHooks: {},
          keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function (e, t) {
              return (
                null == e.which &&
                  (e.which = null != t.charCode ? t.charCode : t.keyCode),
                e
              );
            },
          },
          mouseHooks: {
            props:
              "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
                " "
              ),
            filter: function (e, t) {
              var n,
                r,
                i,
                o = t.button;
              return (
                null == e.pageX &&
                  null != t.clientX &&
                  ((r = (n = e.target.ownerDocument || p).documentElement),
                  (i = n.body),
                  (e.pageX =
                    t.clientX +
                    ((r && r.scrollLeft) || (i && i.scrollLeft) || 0) -
                    ((r && r.clientLeft) || (i && i.clientLeft) || 0)),
                  (e.pageY =
                    t.clientY +
                    ((r && r.scrollTop) || (i && i.scrollTop) || 0) -
                    ((r && r.clientTop) || (i && i.clientTop) || 0))),
                e.which ||
                  void 0 === o ||
                  (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
                e
              );
            },
          },
          fix: function (e) {
            if (e[d.expando]) return e;
            var t,
              n,
              r,
              i = e.type,
              o = e,
              s = this.fixHooks[i];
            for (
              s ||
                (this.fixHooks[i] = s =
                  z.test(i) ? this.mouseHooks : X.test(i) ? this.keyHooks : {}),
                r = s.props ? this.props.concat(s.props) : this.props,
                e = new d.Event(o),
                t = r.length;
              t--;

            )
              e[(n = r[t])] = o[n];
            return (
              e.target || (e.target = p),
              3 === e.target.nodeType && (e.target = e.target.parentNode),
              s.filter ? s.filter(e, o) : e
            );
          },
          special: {
            load: { noBubble: !0 },
            focus: {
              trigger: function () {
                if (this !== Q() && this.focus) return this.focus(), !1;
              },
              delegateType: "focusin",
            },
            blur: {
              trigger: function () {
                if (this === Q() && this.blur) return this.blur(), !1;
              },
              delegateType: "focusout",
            },
            click: {
              trigger: function () {
                if (
                  "checkbox" === this.type &&
                  this.click &&
                  d.nodeName(this, "input")
                )
                  return this.click(), !1;
              },
              _default: function (e) {
                return d.nodeName(e.target, "a");
              },
            },
            beforeunload: {
              postDispatch: function (e) {
                void 0 !== e.result && (e.originalEvent.returnValue = e.result);
              },
            },
          },
          simulate: function (e, t, n, r) {
            var i = d.extend(new d.Event(), n, {
              type: e,
              isSimulated: !0,
              originalEvent: {},
            });
            r ? d.event.trigger(i, null, t) : d.event.dispatch.call(t, i),
              i.isDefaultPrevented() && n.preventDefault();
          },
        }),
          (d.removeEvent = function (e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n, !1);
          }),
          (d.Event = function (e, t) {
            if (!(this instanceof d.Event)) return new d.Event(e, t);
            e && e.type
              ? ((this.originalEvent = e),
                (this.type = e.type),
                (this.isDefaultPrevented =
                  e.defaultPrevented ||
                  (void 0 === e.defaultPrevented &&
                    e.getPreventDefault &&
                    e.getPreventDefault())
                    ? Y
                    : G))
              : (this.type = e),
              t && d.extend(this, t),
              (this.timeStamp = (e && e.timeStamp) || d.now()),
              (this[d.expando] = !0);
          }),
          (d.Event.prototype = {
            isDefaultPrevented: G,
            isPropagationStopped: G,
            isImmediatePropagationStopped: G,
            preventDefault: function () {
              var e = this.originalEvent;
              (this.isDefaultPrevented = Y),
                e && e.preventDefault && e.preventDefault();
            },
            stopPropagation: function () {
              var e = this.originalEvent;
              (this.isPropagationStopped = Y),
                e && e.stopPropagation && e.stopPropagation();
            },
            stopImmediatePropagation: function () {
              (this.isImmediatePropagationStopped = Y), this.stopPropagation();
            },
          }),
          d.each(
            { mouseenter: "mouseover", mouseleave: "mouseout" },
            function (e, t) {
              d.event.special[e] = {
                delegateType: t,
                bindType: t,
                handle: function (e) {
                  var n,
                    r = this,
                    i = e.relatedTarget,
                    o = e.handleObj;
                  return (
                    (i && (i === r || d.contains(r, i))) ||
                      ((e.type = o.origType),
                      (n = o.handler.apply(this, arguments)),
                      (e.type = t)),
                    n
                  );
                },
              };
            }
          ),
          f.focusinBubbles ||
            d.each({ focus: "focusin", blur: "focusout" }, function (e, t) {
              var n = function (e) {
                d.event.simulate(t, e.target, d.event.fix(e), !0);
              };
              d.event.special[t] = {
                setup: function () {
                  var r = this.ownerDocument || this,
                    i = O.access(r, t);
                  i || r.addEventListener(e, n, !0),
                    O.access(r, t, (i || 0) + 1);
                },
                teardown: function () {
                  var r = this.ownerDocument || this,
                    i = O.access(r, t) - 1;
                  i
                    ? O.access(r, t, i)
                    : (r.removeEventListener(e, n, !0), O.remove(r, t));
                },
              };
            }),
          d.fn.extend({
            on: function (e, t, n, r, i) {
              var o, s;
              if ("object" == typeof e) {
                for (s in ("string" != typeof t && ((n = n || t), (t = void 0)),
                e))
                  this.on(s, t, n, e[s], i);
                return this;
              }
              if (
                (null == n && null == r
                  ? ((r = t), (n = t = void 0))
                  : null == r &&
                    ("string" == typeof t
                      ? ((r = n), (n = void 0))
                      : ((r = n), (n = t), (t = void 0))),
                !1 === r)
              )
                r = G;
              else if (!r) return this;
              return (
                1 === i &&
                  ((o = r),
                  ((r = function (e) {
                    return d().off(e), o.apply(this, arguments);
                  }).guid = o.guid || (o.guid = d.guid++))),
                this.each(function () {
                  d.event.add(this, e, r, n, t);
                })
              );
            },
            one: function (e, t, n, r) {
              return this.on(e, t, n, r, 1);
            },
            off: function (e, t, n) {
              var r, i;
              if (e && e.preventDefault && e.handleObj)
                return (
                  (r = e.handleObj),
                  d(e.delegateTarget).off(
                    r.namespace ? r.origType + "." + r.namespace : r.origType,
                    r.selector,
                    r.handler
                  ),
                  this
                );
              if ("object" == typeof e) {
                for (i in e) this.off(i, t, e[i]);
                return this;
              }
              return (
                (!1 !== t && "function" != typeof t) || ((n = t), (t = void 0)),
                !1 === n && (n = G),
                this.each(function () {
                  d.event.remove(this, e, n, t);
                })
              );
            },
            trigger: function (e, t) {
              return this.each(function () {
                d.event.trigger(e, t, this);
              });
            },
            triggerHandler: function (e, t) {
              var n = this[0];
              if (n) return d.event.trigger(e, t, n, !0);
            },
          });
        var J =
            /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
          K = /<([\w:]+)/,
          Z = /<|&#?\w+;/,
          ee = /<(?:script|style|link)/i,
          te = /checked\s*(?:[^=]|=\s*.checked.)/i,
          ne = /^$|\/(?:java|ecma)script/i,
          re = /^true\/(.*)/,
          ie = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
          oe = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""],
          };
        function se(e, t) {
          return d.nodeName(e, "table") &&
            d.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr")
            ? e.getElementsByTagName("tbody")[0] ||
                e.appendChild(e.ownerDocument.createElement("tbody"))
            : e;
        }
        function ae(e) {
          return (e.type = (null !== e.getAttribute("type")) + "/" + e.type), e;
        }
        function ue(e) {
          var t = re.exec(e.type);
          return t ? (e.type = t[1]) : e.removeAttribute("type"), e;
        }
        function le(e, t) {
          for (var n = 0, r = e.length; n < r; n++)
            O.set(e[n], "globalEval", !t || O.get(t[n], "globalEval"));
        }
        function ce(e, t) {
          var n, r, i, o, s, a, u, l;
          if (1 === t.nodeType) {
            if (
              O.hasData(e) &&
              ((o = O.access(e)), (s = O.set(t, o)), (l = o.events))
            )
              for (i in (delete s.handle, (s.events = {}), l))
                for (n = 0, r = l[i].length; n < r; n++)
                  d.event.add(t, i, l[i][n]);
            F.hasData(e) &&
              ((a = F.access(e)), (u = d.extend({}, a)), F.set(t, u));
          }
        }
        function fe(e, t) {
          var n = e.getElementsByTagName
            ? e.getElementsByTagName(t || "*")
            : e.querySelectorAll
            ? e.querySelectorAll(t || "*")
            : [];
          return void 0 === t || (t && d.nodeName(e, t)) ? d.merge([e], n) : n;
        }
        (oe.optgroup = oe.option),
          (oe.tbody = oe.tfoot = oe.colgroup = oe.caption = oe.thead),
          (oe.th = oe.td),
          d.extend({
            clone: function (e, t, n) {
              var r,
                i,
                o,
                s,
                a,
                u,
                l,
                c = e.cloneNode(!0),
                p = d.contains(e.ownerDocument, e);
              if (
                !(
                  f.noCloneChecked ||
                  (1 !== e.nodeType && 11 !== e.nodeType) ||
                  d.isXMLDoc(e)
                )
              )
                for (s = fe(c), r = 0, i = (o = fe(e)).length; r < i; r++)
                  (a = o[r]),
                    (u = s[r]),
                    (l = void 0),
                    "input" === (l = u.nodeName.toLowerCase()) && _.test(a.type)
                      ? (u.checked = a.checked)
                      : ("input" !== l && "textarea" !== l) ||
                        (u.defaultValue = a.defaultValue);
              if (t)
                if (n)
                  for (
                    o = o || fe(e), s = s || fe(c), r = 0, i = o.length;
                    r < i;
                    r++
                  )
                    ce(o[r], s[r]);
                else ce(e, c);
              return (
                (s = fe(c, "script")).length > 0 &&
                  le(s, !p && fe(e, "script")),
                c
              );
            },
            buildFragment: function (e, t, n, r) {
              for (
                var i,
                  o,
                  s,
                  a,
                  u,
                  l,
                  c = t.createDocumentFragment(),
                  f = [],
                  p = 0,
                  h = e.length;
                p < h;
                p++
              )
                if ((i = e[p]) || 0 === i)
                  if ("object" === d.type(i)) d.merge(f, i.nodeType ? [i] : i);
                  else if (Z.test(i)) {
                    for (
                      o = o || c.appendChild(t.createElement("div")),
                        s = (K.exec(i) || ["", ""])[1].toLowerCase(),
                        a = oe[s] || oe._default,
                        o.innerHTML = a[1] + i.replace(J, "<$1></$2>") + a[2],
                        l = a[0];
                      l--;

                    )
                      o = o.lastChild;
                    d.merge(f, o.childNodes),
                      ((o = c.firstChild).textContent = "");
                  } else f.push(t.createTextNode(i));
              for (c.textContent = "", p = 0; (i = f[p++]); )
                if (
                  (!r || -1 === d.inArray(i, r)) &&
                  ((u = d.contains(i.ownerDocument, i)),
                  (o = fe(c.appendChild(i), "script")),
                  u && le(o),
                  n)
                )
                  for (l = 0; (i = o[l++]); )
                    ne.test(i.type || "") && n.push(i);
              return c;
            },
            cleanData: function (e) {
              for (
                var t, n, r, i, o, s, a = d.event.special, u = 0;
                void 0 !== (n = e[u]);
                u++
              ) {
                if (d.acceptData(n) && (o = n[O.expando]) && (t = O.cache[o])) {
                  if ((r = Object.keys(t.events || {})).length)
                    for (s = 0; void 0 !== (i = r[s]); s++)
                      a[i]
                        ? d.event.remove(n, i)
                        : d.removeEvent(n, i, t.handle);
                  O.cache[o] && delete O.cache[o];
                }
                delete F.cache[n[F.expando]];
              }
            },
          }),
          d.fn.extend({
            text: function (e) {
              return q(
                this,
                function (e) {
                  return void 0 === e
                    ? d.text(this)
                    : this.empty().each(function () {
                        (1 !== this.nodeType &&
                          11 !== this.nodeType &&
                          9 !== this.nodeType) ||
                          (this.textContent = e);
                      });
                },
                null,
                e,
                arguments.length
              );
            },
            append: function () {
              return this.domManip(arguments, function (e) {
                (1 !== this.nodeType &&
                  11 !== this.nodeType &&
                  9 !== this.nodeType) ||
                  se(this, e).appendChild(e);
              });
            },
            prepend: function () {
              return this.domManip(arguments, function (e) {
                if (
                  1 === this.nodeType ||
                  11 === this.nodeType ||
                  9 === this.nodeType
                ) {
                  var t = se(this, e);
                  t.insertBefore(e, t.firstChild);
                }
              });
            },
            before: function () {
              return this.domManip(arguments, function (e) {
                this.parentNode && this.parentNode.insertBefore(e, this);
              });
            },
            after: function () {
              return this.domManip(arguments, function (e) {
                this.parentNode &&
                  this.parentNode.insertBefore(e, this.nextSibling);
              });
            },
            remove: function (e, t) {
              for (
                var n, r = e ? d.filter(e, this) : this, i = 0;
                null != (n = r[i]);
                i++
              )
                t || 1 !== n.nodeType || d.cleanData(fe(n)),
                  n.parentNode &&
                    (t && d.contains(n.ownerDocument, n) && le(fe(n, "script")),
                    n.parentNode.removeChild(n));
              return this;
            },
            empty: function () {
              for (var e, t = 0; null != (e = this[t]); t++)
                1 === e.nodeType &&
                  (d.cleanData(fe(e, !1)), (e.textContent = ""));
              return this;
            },
            clone: function (e, t) {
              return (
                (e = null != e && e),
                (t = null == t ? e : t),
                this.map(function () {
                  return d.clone(this, e, t);
                })
              );
            },
            html: function (e) {
              return q(
                this,
                function (e) {
                  var t = this[0] || {},
                    n = 0,
                    r = this.length;
                  if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                  if (
                    "string" == typeof e &&
                    !ee.test(e) &&
                    !oe[(K.exec(e) || ["", ""])[1].toLowerCase()]
                  ) {
                    e = e.replace(J, "<$1></$2>");
                    try {
                      for (; n < r; n++)
                        1 === (t = this[n] || {}).nodeType &&
                          (d.cleanData(fe(t, !1)), (t.innerHTML = e));
                      t = 0;
                    } catch (i) {}
                  }
                  t && this.empty().append(e);
                },
                null,
                e,
                arguments.length
              );
            },
            replaceWith: function () {
              var e = arguments[0];
              return (
                this.domManip(arguments, function (t) {
                  (e = this.parentNode),
                    d.cleanData(fe(this)),
                    e && e.replaceChild(t, this);
                }),
                e && (e.length || e.nodeType) ? this : this.remove()
              );
            },
            detach: function (e) {
              return this.remove(e, !0);
            },
            domManip: function (e, t) {
              e = i.apply([], e);
              var n,
                r,
                o,
                s,
                a,
                u,
                l = 0,
                c = this.length,
                p = this,
                h = c - 1,
                g = e[0],
                m = d.isFunction(g);
              if (
                m ||
                (c > 1 && "string" == typeof g && !f.checkClone && te.test(g))
              )
                return this.each(function (n) {
                  var r = p.eq(n);
                  m && (e[0] = g.call(this, n, r.html())), r.domManip(e, t);
                });
              if (
                c &&
                ((r = (n = d.buildFragment(e, this[0].ownerDocument, !1, this))
                  .firstChild),
                1 === n.childNodes.length && (n = r),
                r)
              ) {
                for (s = (o = d.map(fe(n, "script"), ae)).length; l < c; l++)
                  (a = n),
                    l !== h &&
                      ((a = d.clone(a, !0, !0)),
                      s && d.merge(o, fe(a, "script"))),
                    t.call(this[l], a, l);
                if (s)
                  for (
                    u = o[o.length - 1].ownerDocument, d.map(o, ue), l = 0;
                    l < s;
                    l++
                  )
                    (a = o[l]),
                      ne.test(a.type || "") &&
                        !O.access(a, "globalEval") &&
                        d.contains(u, a) &&
                        (a.src
                          ? d._evalUrl && d._evalUrl(a.src)
                          : d.globalEval(a.textContent.replace(ie, "")));
              }
              return this;
            },
          }),
          d.each(
            {
              appendTo: "append",
              prependTo: "prepend",
              insertBefore: "before",
              insertAfter: "after",
              replaceAll: "replaceWith",
            },
            function (e, t) {
              d.fn[e] = function (e) {
                for (
                  var n, r = [], i = d(e), s = i.length - 1, a = 0;
                  a <= s;
                  a++
                )
                  (n = a === s ? this : this.clone(!0)),
                    d(i[a])[t](n),
                    o.apply(r, n.get());
                return this.pushStack(r);
              };
            }
          );
        var pe,
          de = {};
        function he(t, n) {
          var r = d(n.createElement(t)).appendTo(n.body),
            i = e.getDefaultComputedStyle
              ? e.getDefaultComputedStyle(r[0]).display
              : d.css(r[0], "display");
          return r.detach(), i;
        }
        function ge(e) {
          var t = p,
            n = de[e];
          return (
            n ||
              (("none" !== (n = he(e, t)) && n) ||
                ((t = (pe = (
                  pe || d("<iframe frameborder='0' width='0' height='0'/>")
                ).appendTo(t.documentElement))[0].contentDocument).write(),
                t.close(),
                (n = he(e, t)),
                pe.detach()),
              (de[e] = n)),
            n
          );
        }
        var me = /^margin/,
          ve = new RegExp("^(" + $ + ")(?!px)[a-z%]+$", "i"),
          ye = function (e) {
            return e.ownerDocument.defaultView.getComputedStyle(e, null);
          };
        function xe(e, t, n) {
          var r,
            i,
            o,
            s,
            a = e.style;
          return (
            (n = n || ye(e)) && (s = n.getPropertyValue(t) || n[t]),
            n &&
              ("" !== s ||
                d.contains(e.ownerDocument, e) ||
                (s = d.style(e, t)),
              ve.test(s) &&
                me.test(t) &&
                ((r = a.width),
                (i = a.minWidth),
                (o = a.maxWidth),
                (a.minWidth = a.maxWidth = a.width = s),
                (s = n.width),
                (a.width = r),
                (a.minWidth = i),
                (a.maxWidth = o))),
            void 0 !== s ? s + "" : s
          );
        }
        function be(e, t) {
          return {
            get: function () {
              if (!e()) return (this.get = t).apply(this, arguments);
              delete this.get;
            },
          };
        }
        !(function () {
          var t,
            n,
            r = p.documentElement,
            i = p.createElement("div"),
            o = p.createElement("div");
          function s() {
            (o.style.cssText =
              "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%"),
              r.appendChild(i);
            var s = e.getComputedStyle(o, null);
            (t = "1%" !== s.top), (n = "4px" === s.width), r.removeChild(i);
          }
          (o.style.backgroundClip = "content-box"),
            (o.cloneNode(!0).style.backgroundClip = ""),
            (f.clearCloneStyle = "content-box" === o.style.backgroundClip),
            (i.style.cssText =
              "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px"),
            i.appendChild(o),
            e.getComputedStyle &&
              d.extend(f, {
                pixelPosition: function () {
                  return s(), t;
                },
                boxSizingReliable: function () {
                  return null == n && s(), n;
                },
                reliableMarginRight: function () {
                  var t,
                    n = o.appendChild(p.createElement("div"));
                  return (
                    (n.style.cssText = o.style.cssText =
                      "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box"),
                    (n.style.marginRight = n.style.width = "0"),
                    (o.style.width = "1px"),
                    r.appendChild(i),
                    (t = !parseFloat(e.getComputedStyle(n, null).marginRight)),
                    r.removeChild(i),
                    (o.innerHTML = ""),
                    t
                  );
                },
              });
        })(),
          (d.swap = function (e, t, n, r) {
            var i,
              o,
              s = {};
            for (o in t) (s[o] = e.style[o]), (e.style[o] = t[o]);
            for (o in ((i = n.apply(e, r || [])), t)) e.style[o] = s[o];
            return i;
          });
        var we = /^(none|table(?!-c[ea]).+)/,
          Te = new RegExp("^(" + $ + ")(.*)$", "i"),
          Ce = new RegExp("^([+-])=(" + $ + ")", "i"),
          Ne = { position: "absolute", visibility: "hidden", display: "block" },
          ke = { letterSpacing: 0, fontWeight: 400 },
          Ee = ["Webkit", "O", "Moz", "ms"];
        function De(e, t) {
          if (t in e) return t;
          for (
            var n = t[0].toUpperCase() + t.slice(1), r = t, i = Ee.length;
            i--;

          )
            if ((t = Ee[i] + n) in e) return t;
          return r;
        }
        function je(e, t, n) {
          var r = Te.exec(t);
          return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t;
        }
        function Se(e, t, n, r, i) {
          for (
            var o =
                n === (r ? "border" : "content") ? 4 : "width" === t ? 1 : 0,
              s = 0;
            o < 4;
            o += 2
          )
            "margin" === n && (s += d.css(e, n + B[o], !0, i)),
              r
                ? ("content" === n && (s -= d.css(e, "padding" + B[o], !0, i)),
                  "margin" !== n &&
                    (s -= d.css(e, "border" + B[o] + "Width", !0, i)))
                : ((s += d.css(e, "padding" + B[o], !0, i)),
                  "padding" !== n &&
                    (s += d.css(e, "border" + B[o] + "Width", !0, i)));
          return s;
        }
        function Ae(e, t, n) {
          var r = !0,
            i = "width" === t ? e.offsetWidth : e.offsetHeight,
            o = ye(e),
            s = "border-box" === d.css(e, "boxSizing", !1, o);
          if (i <= 0 || null == i) {
            if (
              (((i = xe(e, t, o)) < 0 || null == i) && (i = e.style[t]),
              ve.test(i))
            )
              return i;
            (r = s && (f.boxSizingReliable() || i === e.style[t])),
              (i = parseFloat(i) || 0);
          }
          return i + Se(e, t, n || (s ? "border" : "content"), r, o) + "px";
        }
        function Le(e, t) {
          for (var n, r, i, o = [], s = 0, a = e.length; s < a; s++)
            (r = e[s]).style &&
              ((o[s] = O.get(r, "olddisplay")),
              (n = r.style.display),
              t
                ? (o[s] || "none" !== n || (r.style.display = ""),
                  "" === r.style.display &&
                    I(r) &&
                    (o[s] = O.access(r, "olddisplay", ge(r.nodeName))))
                : o[s] ||
                  ((i = I(r)),
                  ((n && "none" !== n) || !i) &&
                    O.set(r, "olddisplay", i ? n : d.css(r, "display"))));
          for (s = 0; s < a; s++)
            (r = e[s]).style &&
              ((t && "none" !== r.style.display && "" !== r.style.display) ||
                (r.style.display = t ? o[s] || "" : "none"));
          return e;
        }
        function qe(e, t, n, r, i) {
          return new qe.prototype.init(e, t, n, r, i);
        }
        d.extend({
          cssHooks: {
            opacity: {
              get: function (e, t) {
                if (t) {
                  var n = xe(e, "opacity");
                  return "" === n ? "1" : n;
                }
              },
            },
          },
          cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0,
          },
          cssProps: { float: "cssFloat" },
          style: function (e, t, n, r) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
              var i,
                o,
                s,
                a = d.camelCase(t),
                u = e.style;
              if (
                ((t = d.cssProps[a] || (d.cssProps[a] = De(u, a))),
                (s = d.cssHooks[t] || d.cssHooks[a]),
                void 0 === n)
              )
                return s && "get" in s && void 0 !== (i = s.get(e, !1, r))
                  ? i
                  : u[t];
              "string" === (o = typeof n) &&
                (i = Ce.exec(n)) &&
                ((n = (i[1] + 1) * i[2] + parseFloat(d.css(e, t))),
                (o = "number")),
                null != n &&
                  n == n &&
                  ("number" !== o || d.cssNumber[a] || (n += "px"),
                  f.clearCloneStyle ||
                    "" !== n ||
                    0 !== t.indexOf("background") ||
                    (u[t] = "inherit"),
                  (s && "set" in s && void 0 === (n = s.set(e, n, r))) ||
                    ((u[t] = ""), (u[t] = n)));
            }
          },
          css: function (e, t, n, r) {
            var i,
              o,
              s,
              a = d.camelCase(t);
            return (
              (t = d.cssProps[a] || (d.cssProps[a] = De(e.style, a))),
              (s = d.cssHooks[t] || d.cssHooks[a]) &&
                "get" in s &&
                (i = s.get(e, !0, n)),
              void 0 === i && (i = xe(e, t, r)),
              "normal" === i && t in ke && (i = ke[t]),
              "" === n || n
                ? ((o = parseFloat(i)), !0 === n || d.isNumeric(o) ? o || 0 : i)
                : i
            );
          },
        }),
          d.each(["height", "width"], function (e, t) {
            d.cssHooks[t] = {
              get: function (e, n, r) {
                if (n)
                  return 0 === e.offsetWidth && we.test(d.css(e, "display"))
                    ? d.swap(e, Ne, function () {
                        return Ae(e, t, r);
                      })
                    : Ae(e, t, r);
              },
              set: function (e, n, r) {
                var i = r && ye(e);
                return je(
                  0,
                  n,
                  r
                    ? Se(
                        e,
                        t,
                        r,
                        "border-box" === d.css(e, "boxSizing", !1, i),
                        i
                      )
                    : 0
                );
              },
            };
          }),
          (d.cssHooks.marginRight = be(f.reliableMarginRight, function (e, t) {
            if (t)
              return d.swap(e, { display: "inline-block" }, xe, [
                e,
                "marginRight",
              ]);
          })),
          d.each({ margin: "", padding: "", border: "Width" }, function (e, t) {
            (d.cssHooks[e + t] = {
              expand: function (n) {
                for (
                  var r = 0,
                    i = {},
                    o = "string" == typeof n ? n.split(" ") : [n];
                  r < 4;
                  r++
                )
                  i[e + B[r] + t] = o[r] || o[r - 2] || o[0];
                return i;
              },
            }),
              me.test(e) || (d.cssHooks[e + t].set = je);
          }),
          d.fn.extend({
            css: function (e, t) {
              return q(
                this,
                function (e, t, n) {
                  var r,
                    i,
                    o = {},
                    s = 0;
                  if (d.isArray(t)) {
                    for (r = ye(e), i = t.length; s < i; s++)
                      o[t[s]] = d.css(e, t[s], !1, r);
                    return o;
                  }
                  return void 0 !== n ? d.style(e, t, n) : d.css(e, t);
                },
                e,
                t,
                arguments.length > 1
              );
            },
            show: function () {
              return Le(this, !0);
            },
            hide: function () {
              return Le(this);
            },
            toggle: function (e) {
              return "boolean" == typeof e
                ? e
                  ? this.show()
                  : this.hide()
                : this.each(function () {
                    I(this) ? d(this).show() : d(this).hide();
                  });
            },
          }),
          (d.Tween = qe),
          (qe.prototype = {
            constructor: qe,
            init: function (e, t, n, r, i, o) {
              (this.elem = e),
                (this.prop = n),
                (this.easing = i || "swing"),
                (this.options = t),
                (this.start = this.now = this.cur()),
                (this.end = r),
                (this.unit = o || (d.cssNumber[n] ? "" : "px"));
            },
            cur: function () {
              var e = qe.propHooks[this.prop];
              return e && e.get ? e.get(this) : qe.propHooks._default.get(this);
            },
            run: function (e) {
              var t,
                n = qe.propHooks[this.prop];
              return (
                this.options.duration
                  ? (this.pos = t =
                      d.easing[this.easing](
                        e,
                        this.options.duration * e,
                        0,
                        1,
                        this.options.duration
                      ))
                  : (this.pos = t = e),
                (this.now = (this.end - this.start) * t + this.start),
                this.options.step &&
                  this.options.step.call(this.elem, this.now, this),
                n && n.set ? n.set(this) : qe.propHooks._default.set(this),
                this
              );
            },
          }),
          (qe.prototype.init.prototype = qe.prototype),
          (qe.propHooks = {
            _default: {
              get: function (e) {
                var t;
                return null == e.elem[e.prop] ||
                  (e.elem.style && null != e.elem.style[e.prop])
                  ? (t = d.css(e.elem, e.prop, "")) && "auto" !== t
                    ? t
                    : 0
                  : e.elem[e.prop];
              },
              set: function (e) {
                d.fx.step[e.prop]
                  ? d.fx.step[e.prop](e)
                  : e.elem.style &&
                    (null != e.elem.style[d.cssProps[e.prop]] ||
                      d.cssHooks[e.prop])
                  ? d.style(e.elem, e.prop, e.now + e.unit)
                  : (e.elem[e.prop] = e.now);
              },
            },
          }),
          (qe.propHooks.scrollTop = qe.propHooks.scrollLeft =
            {
              set: function (e) {
                e.elem.nodeType &&
                  e.elem.parentNode &&
                  (e.elem[e.prop] = e.now);
              },
            }),
          (d.easing = {
            linear: function (e) {
              return e;
            },
            swing: function (e) {
              return 0.5 - Math.cos(e * Math.PI) / 2;
            },
          }),
          (d.fx = qe.prototype.init),
          (d.fx.step = {});
        var He,
          Oe,
          Fe,
          Pe,
          Me,
          Re = /^(?:toggle|show|hide)$/,
          We = new RegExp("^(?:([+-])=|)(" + $ + ")([a-z%]*)$", "i"),
          $e = /queueHooks$/,
          Be = [
            function (e, t, n) {
              var r,
                i,
                o,
                s,
                a,
                u,
                l,
                c = this,
                f = {},
                p = e.style,
                h = e.nodeType && I(e),
                g = O.get(e, "fxshow");
              n.queue ||
                (null == (a = d._queueHooks(e, "fx")).unqueued &&
                  ((a.unqueued = 0),
                  (u = a.empty.fire),
                  (a.empty.fire = function () {
                    a.unqueued || u();
                  })),
                a.unqueued++,
                c.always(function () {
                  c.always(function () {
                    a.unqueued--, d.queue(e, "fx").length || a.empty.fire();
                  });
                }));
              1 === e.nodeType &&
                ("height" in t || "width" in t) &&
                ((n.overflow = [p.overflow, p.overflowX, p.overflowY]),
                "none" === (l = d.css(e, "display")) && (l = ge(e.nodeName)),
                "inline" === l &&
                  "none" === d.css(e, "float") &&
                  (p.display = "inline-block"));
              n.overflow &&
                ((p.overflow = "hidden"),
                c.always(function () {
                  (p.overflow = n.overflow[0]),
                    (p.overflowX = n.overflow[1]),
                    (p.overflowY = n.overflow[2]);
                }));
              for (r in t)
                if (((i = t[r]), Re.exec(i))) {
                  if (
                    (delete t[r],
                    (o = o || "toggle" === i),
                    i === (h ? "hide" : "show"))
                  ) {
                    if ("show" !== i || !g || void 0 === g[r]) continue;
                    h = !0;
                  }
                  f[r] = (g && g[r]) || d.style(e, r);
                }
              if (!d.isEmptyObject(f))
                for (r in (g
                  ? "hidden" in g && (h = g.hidden)
                  : (g = O.access(e, "fxshow", {})),
                o && (g.hidden = !h),
                h
                  ? d(e).show()
                  : c.done(function () {
                      d(e).hide();
                    }),
                c.done(function () {
                  var t;
                  for (t in (O.remove(e, "fxshow"), f)) d.style(e, t, f[t]);
                }),
                f))
                  (s = ze(h ? g[r] : 0, r, c)),
                    r in g ||
                      ((g[r] = s.start),
                      h &&
                        ((s.end = s.start),
                        (s.start = "width" === r || "height" === r ? 1 : 0)));
            },
          ],
          Ie = {
            "*": [
              function (e, t) {
                var n = this.createTween(e, t),
                  r = n.cur(),
                  i = We.exec(t),
                  o = (i && i[3]) || (d.cssNumber[e] ? "" : "px"),
                  s =
                    (d.cssNumber[e] || ("px" !== o && +r)) &&
                    We.exec(d.css(n.elem, e)),
                  a = 1,
                  u = 20;
                if (s && s[3] !== o) {
                  (o = o || s[3]), (i = i || []), (s = +r || 1);
                  do {
                    (s /= a = a || ".5"), d.style(n.elem, e, s + o);
                  } while (a !== (a = n.cur() / r) && 1 !== a && --u);
                }
                return (
                  i &&
                    ((s = n.start = +s || +r || 0),
                    (n.unit = o),
                    (n.end = i[1] ? s + (i[1] + 1) * i[2] : +i[2])),
                  n
                );
              },
            ],
          };
        function _e() {
          return (
            setTimeout(function () {
              He = void 0;
            }),
            (He = d.now())
          );
        }
        function Xe(e, t) {
          var n,
            r = 0,
            i = { height: e };
          for (t = t ? 1 : 0; r < 4; r += 2 - t)
            i["margin" + (n = B[r])] = i["padding" + n] = e;
          return t && (i.opacity = i.width = e), i;
        }
        function ze(e, t, n) {
          for (
            var r, i = (Ie[t] || []).concat(Ie["*"]), o = 0, s = i.length;
            o < s;
            o++
          )
            if ((r = i[o].call(n, t, e))) return r;
        }
        function Ue(e, t, n) {
          var r,
            i,
            o = 0,
            s = Be.length,
            a = d.Deferred().always(function () {
              delete u.elem;
            }),
            u = function () {
              if (i) return !1;
              for (
                var t = He || _e(),
                  n = Math.max(0, l.startTime + l.duration - t),
                  r = 1 - (n / l.duration || 0),
                  o = 0,
                  s = l.tweens.length;
                o < s;
                o++
              )
                l.tweens[o].run(r);
              return (
                a.notifyWith(e, [l, r, n]),
                r < 1 && s ? n : (a.resolveWith(e, [l]), !1)
              );
            },
            l = a.promise({
              elem: e,
              props: d.extend({}, t),
              opts: d.extend(!0, { specialEasing: {} }, n),
              originalProperties: t,
              originalOptions: n,
              startTime: He || _e(),
              duration: n.duration,
              tweens: [],
              createTween: function (t, n) {
                var r = d.Tween(
                  e,
                  l.opts,
                  t,
                  n,
                  l.opts.specialEasing[t] || l.opts.easing
                );
                return l.tweens.push(r), r;
              },
              stop: function (t) {
                var n = 0,
                  r = t ? l.tweens.length : 0;
                if (i) return this;
                for (i = !0; n < r; n++) l.tweens[n].run(1);
                return (
                  t ? a.resolveWith(e, [l, t]) : a.rejectWith(e, [l, t]), this
                );
              },
            }),
            c = l.props;
          for (
            !(function (e, t) {
              var n, r, i, o, s;
              for (n in e)
                if (
                  ((i = t[(r = d.camelCase(n))]),
                  (o = e[n]),
                  d.isArray(o) && ((i = o[1]), (o = e[n] = o[0])),
                  n !== r && ((e[r] = o), delete e[n]),
                  (s = d.cssHooks[r]) && ("expand" in s))
                )
                  for (n in ((o = s.expand(o)), delete e[r], o))
                    (n in e) || ((e[n] = o[n]), (t[n] = i));
                else t[r] = i;
            })(c, l.opts.specialEasing);
            o < s;
            o++
          )
            if ((r = Be[o].call(l, e, c, l.opts))) return r;
          return (
            d.map(c, ze, l),
            d.isFunction(l.opts.start) && l.opts.start.call(e, l),
            d.fx.timer(d.extend(u, { elem: e, anim: l, queue: l.opts.queue })),
            l
              .progress(l.opts.progress)
              .done(l.opts.done, l.opts.complete)
              .fail(l.opts.fail)
              .always(l.opts.always)
          );
        }
        (d.Animation = d.extend(Ue, {
          tweener: function (e, t) {
            d.isFunction(e) ? ((t = e), (e = ["*"])) : (e = e.split(" "));
            for (var n, r = 0, i = e.length; r < i; r++)
              (n = e[r]), (Ie[n] = Ie[n] || []), Ie[n].unshift(t);
          },
          prefilter: function (e, t) {
            t ? Be.unshift(e) : Be.push(e);
          },
        })),
          (d.speed = function (e, t, n) {
            var r =
              e && "object" == typeof e
                ? d.extend({}, e)
                : {
                    complete: n || (!n && t) || (d.isFunction(e) && e),
                    duration: e,
                    easing: (n && t) || (t && !d.isFunction(t) && t),
                  };
            return (
              (r.duration = d.fx.off
                ? 0
                : "number" == typeof r.duration
                ? r.duration
                : r.duration in d.fx.speeds
                ? d.fx.speeds[r.duration]
                : d.fx.speeds._default),
              (null != r.queue && !0 !== r.queue) || (r.queue = "fx"),
              (r.old = r.complete),
              (r.complete = function () {
                d.isFunction(r.old) && r.old.call(this),
                  r.queue && d.dequeue(this, r.queue);
              }),
              r
            );
          }),
          d.fn.extend({
            fadeTo: function (e, t, n, r) {
              return this.filter(I)
                .css("opacity", 0)
                .show()
                .end()
                .animate({ opacity: t }, e, n, r);
            },
            animate: function (e, t, n, r) {
              var i = d.isEmptyObject(e),
                o = d.speed(t, n, r),
                s = function () {
                  var t = Ue(this, d.extend({}, e), o);
                  (i || O.get(this, "finish")) && t.stop(!0);
                };
              return (
                (s.finish = s),
                i || !1 === o.queue ? this.each(s) : this.queue(o.queue, s)
              );
            },
            stop: function (e, t, n) {
              var r = function (e) {
                var t = e.stop;
                delete e.stop, t(n);
              };
              return (
                "string" != typeof e && ((n = t), (t = e), (e = void 0)),
                t && !1 !== e && this.queue(e || "fx", []),
                this.each(function () {
                  var t = !0,
                    i = null != e && e + "queueHooks",
                    o = d.timers,
                    s = O.get(this);
                  if (i) s[i] && s[i].stop && r(s[i]);
                  else for (i in s) s[i] && s[i].stop && $e.test(i) && r(s[i]);
                  for (i = o.length; i--; )
                    o[i].elem !== this ||
                      (null != e && o[i].queue !== e) ||
                      (o[i].anim.stop(n), (t = !1), o.splice(i, 1));
                  (!t && n) || d.dequeue(this, e);
                })
              );
            },
            finish: function (e) {
              return (
                !1 !== e && (e = e || "fx"),
                this.each(function () {
                  var t,
                    n = O.get(this),
                    r = n[e + "queue"],
                    i = n[e + "queueHooks"],
                    o = d.timers,
                    s = r ? r.length : 0;
                  for (
                    n.finish = !0,
                      d.queue(this, e, []),
                      i && i.stop && i.stop.call(this, !0),
                      t = o.length;
                    t--;

                  )
                    o[t].elem === this &&
                      o[t].queue === e &&
                      (o[t].anim.stop(!0), o.splice(t, 1));
                  for (t = 0; t < s; t++)
                    r[t] && r[t].finish && r[t].finish.call(this);
                  delete n.finish;
                })
              );
            },
          }),
          d.each(["toggle", "show", "hide"], function (e, t) {
            var n = d.fn[t];
            d.fn[t] = function (e, r, i) {
              return null == e || "boolean" == typeof e
                ? n.apply(this, arguments)
                : this.animate(Xe(t, !0), e, r, i);
            };
          }),
          d.each(
            {
              slideDown: Xe("show"),
              slideUp: Xe("hide"),
              slideToggle: Xe("toggle"),
              fadeIn: { opacity: "show" },
              fadeOut: { opacity: "hide" },
              fadeToggle: { opacity: "toggle" },
            },
            function (e, t) {
              d.fn[e] = function (e, n, r) {
                return this.animate(t, e, n, r);
              };
            }
          ),
          (d.timers = []),
          (d.fx.tick = function () {
            var e,
              t = 0,
              n = d.timers;
            for (He = d.now(); t < n.length; t++)
              (e = n[t])() || n[t] !== e || n.splice(t--, 1);
            n.length || d.fx.stop(), (He = void 0);
          }),
          (d.fx.timer = function (e) {
            d.timers.push(e), e() ? d.fx.start() : d.timers.pop();
          }),
          (d.fx.interval = 13),
          (d.fx.start = function () {
            Oe || (Oe = setInterval(d.fx.tick, d.fx.interval));
          }),
          (d.fx.stop = function () {
            clearInterval(Oe), (Oe = null);
          }),
          (d.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
          (d.fn.delay = function (e, t) {
            return (
              (e = (d.fx && d.fx.speeds[e]) || e),
              (t = t || "fx"),
              this.queue(t, function (t, n) {
                var r = setTimeout(t, e);
                n.stop = function () {
                  clearTimeout(r);
                };
              })
            );
          }),
          (Fe = p.createElement("input")),
          (Pe = p.createElement("select")),
          (Me = Pe.appendChild(p.createElement("option"))),
          (Fe.type = "checkbox"),
          (f.checkOn = "" !== Fe.value),
          (f.optSelected = Me.selected),
          (Pe.disabled = !0),
          (f.optDisabled = !Me.disabled),
          ((Fe = p.createElement("input")).value = "t"),
          (Fe.type = "radio"),
          (f.radioValue = "t" === Fe.value);
        var Ve,
          Ye = d.expr.attrHandle;
        d.fn.extend({
          attr: function (e, t) {
            return q(this, d.attr, e, t, arguments.length > 1);
          },
          removeAttr: function (e) {
            return this.each(function () {
              d.removeAttr(this, e);
            });
          },
        }),
          d.extend({
            attr: function (e, t, n) {
              var r,
                i,
                o = e.nodeType;
              if (e && 3 !== o && 8 !== o && 2 !== o)
                return void 0 === e.getAttribute
                  ? d.prop(e, t, n)
                  : ((1 === o && d.isXMLDoc(e)) ||
                      ((t = t.toLowerCase()),
                      (r =
                        d.attrHooks[t] ||
                        (d.expr.match.bool.test(t) ? Ve : void 0))),
                    void 0 === n
                      ? r && "get" in r && null !== (i = r.get(e, t))
                        ? i
                        : null == (i = d.find.attr(e, t))
                        ? void 0
                        : i
                      : null !== n
                      ? r && "set" in r && void 0 !== (i = r.set(e, n, t))
                        ? i
                        : (e.setAttribute(t, n + ""), n)
                      : void d.removeAttr(e, t));
            },
            removeAttr: function (e, t) {
              var n,
                r,
                i = 0,
                o = t && t.match(S);
              if (o && 1 === e.nodeType)
                for (; (n = o[i++]); )
                  (r = d.propFix[n] || n),
                    d.expr.match.bool.test(n) && (e[r] = !1),
                    e.removeAttribute(n);
            },
            attrHooks: {
              type: {
                set: function (e, t) {
                  if (
                    !f.radioValue &&
                    "radio" === t &&
                    d.nodeName(e, "input")
                  ) {
                    var n = e.value;
                    return e.setAttribute("type", t), n && (e.value = n), t;
                  }
                },
              },
            },
          }),
          (Ve = {
            set: function (e, t, n) {
              return !1 === t ? d.removeAttr(e, n) : e.setAttribute(n, n), n;
            },
          }),
          d.each(d.expr.match.bool.source.match(/\w+/g), function (e, t) {
            var n = Ye[t] || d.find.attr;
            Ye[t] = function (e, t, r) {
              var i, o;
              return (
                r ||
                  ((o = Ye[t]),
                  (Ye[t] = i),
                  (i = null != n(e, t, r) ? t.toLowerCase() : null),
                  (Ye[t] = o)),
                i
              );
            };
          });
        var Ge = /^(?:input|select|textarea|button)$/i;
        d.fn.extend({
          prop: function (e, t) {
            return q(this, d.prop, e, t, arguments.length > 1);
          },
          removeProp: function (e) {
            return this.each(function () {
              delete this[d.propFix[e] || e];
            });
          },
        }),
          d.extend({
            propFix: { for: "htmlFor", class: "className" },
            prop: function (e, t, n) {
              var r,
                i,
                o = e.nodeType;
              if (e && 3 !== o && 8 !== o && 2 !== o)
                return (
                  (1 !== o || !d.isXMLDoc(e)) &&
                    ((t = d.propFix[t] || t), (i = d.propHooks[t])),
                  void 0 !== n
                    ? i && "set" in i && void 0 !== (r = i.set(e, n, t))
                      ? r
                      : (e[t] = n)
                    : i && "get" in i && null !== (r = i.get(e, t))
                    ? r
                    : e[t]
                );
            },
            propHooks: {
              tabIndex: {
                get: function (e) {
                  return e.hasAttribute("tabindex") ||
                    Ge.test(e.nodeName) ||
                    e.href
                    ? e.tabIndex
                    : -1;
                },
              },
            },
          }),
          f.optSelected ||
            (d.propHooks.selected = {
              get: function (e) {
                var t = e.parentNode;
                return t && t.parentNode && t.parentNode.selectedIndex, null;
              },
            }),
          d.each(
            [
              "tabIndex",
              "readOnly",
              "maxLength",
              "cellSpacing",
              "cellPadding",
              "rowSpan",
              "colSpan",
              "useMap",
              "frameBorder",
              "contentEditable",
            ],
            function () {
              d.propFix[this.toLowerCase()] = this;
            }
          );
        var Qe = /[\t\r\n\f]/g;
        d.fn.extend({
          addClass: function (e) {
            var t,
              n,
              r,
              i,
              o,
              s,
              a = "string" == typeof e && e,
              u = 0,
              l = this.length;
            if (d.isFunction(e))
              return this.each(function (t) {
                d(this).addClass(e.call(this, t, this.className));
              });
            if (a)
              for (t = (e || "").match(S) || []; u < l; u++)
                if (
                  (r =
                    1 === (n = this[u]).nodeType &&
                    (n.className
                      ? (" " + n.className + " ").replace(Qe, " ")
                      : " "))
                ) {
                  for (o = 0; (i = t[o++]); )
                    r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                  (s = d.trim(r)), n.className !== s && (n.className = s);
                }
            return this;
          },
          removeClass: function (e) {
            var t,
              n,
              r,
              i,
              o,
              s,
              a = 0 === arguments.length || ("string" == typeof e && e),
              u = 0,
              l = this.length;
            if (d.isFunction(e))
              return this.each(function (t) {
                d(this).removeClass(e.call(this, t, this.className));
              });
            if (a)
              for (t = (e || "").match(S) || []; u < l; u++)
                if (
                  (r =
                    1 === (n = this[u]).nodeType &&
                    (n.className
                      ? (" " + n.className + " ").replace(Qe, " ")
                      : ""))
                ) {
                  for (o = 0; (i = t[o++]); )
                    for (; r.indexOf(" " + i + " ") >= 0; )
                      r = r.replace(" " + i + " ", " ");
                  (s = e ? d.trim(r) : ""),
                    n.className !== s && (n.className = s);
                }
            return this;
          },
          toggleClass: function (e, t) {
            var n = typeof e;
            return "boolean" == typeof t && "string" === n
              ? t
                ? this.addClass(e)
                : this.removeClass(e)
              : d.isFunction(e)
              ? this.each(function (n) {
                  d(this).toggleClass(e.call(this, n, this.className, t), t);
                })
              : this.each(function () {
                  if ("string" === n)
                    for (
                      var t, r = 0, i = d(this), o = e.match(S) || [];
                      (t = o[r++]);

                    )
                      i.hasClass(t) ? i.removeClass(t) : i.addClass(t);
                  else
                    ("undefined" !== n && "boolean" !== n) ||
                      (this.className &&
                        O.set(this, "__className__", this.className),
                      (this.className =
                        this.className || !1 === e
                          ? ""
                          : O.get(this, "__className__") || ""));
                });
          },
          hasClass: function (e) {
            for (var t = " " + e + " ", n = 0, r = this.length; n < r; n++)
              if (
                1 === this[n].nodeType &&
                (" " + this[n].className + " ").replace(Qe, " ").indexOf(t) >= 0
              )
                return !0;
            return !1;
          },
        });
        var Je = /\r/g;
        d.fn.extend({
          val: function (e) {
            var t,
              n,
              r,
              i = this[0];
            return arguments.length
              ? ((r = d.isFunction(e)),
                this.each(function (n) {
                  var i;
                  1 === this.nodeType &&
                    (null == (i = r ? e.call(this, n, d(this).val()) : e)
                      ? (i = "")
                      : "number" == typeof i
                      ? (i += "")
                      : d.isArray(i) &&
                        (i = d.map(i, function (e) {
                          return null == e ? "" : e + "";
                        })),
                    ((t =
                      d.valHooks[this.type] ||
                      d.valHooks[this.nodeName.toLowerCase()]) &&
                      "set" in t &&
                      void 0 !== t.set(this, i, "value")) ||
                      (this.value = i));
                }))
              : i
              ? (t =
                  d.valHooks[i.type] || d.valHooks[i.nodeName.toLowerCase()]) &&
                "get" in t &&
                void 0 !== (n = t.get(i, "value"))
                ? n
                : "string" == typeof (n = i.value)
                ? n.replace(Je, "")
                : null == n
                ? ""
                : n
              : void 0;
          },
        }),
          d.extend({
            valHooks: {
              select: {
                get: function (e) {
                  for (
                    var t,
                      n,
                      r = e.options,
                      i = e.selectedIndex,
                      o = "select-one" === e.type || i < 0,
                      s = o ? null : [],
                      a = o ? i + 1 : r.length,
                      u = i < 0 ? a : o ? i : 0;
                    u < a;
                    u++
                  )
                    if (
                      ((n = r[u]).selected || u === i) &&
                      (f.optDisabled
                        ? !n.disabled
                        : null === n.getAttribute("disabled")) &&
                      (!n.parentNode.disabled ||
                        !d.nodeName(n.parentNode, "optgroup"))
                    ) {
                      if (((t = d(n).val()), o)) return t;
                      s.push(t);
                    }
                  return s;
                },
                set: function (e, t) {
                  for (
                    var n, r, i = e.options, o = d.makeArray(t), s = i.length;
                    s--;

                  )
                    ((r = i[s]).selected = d.inArray(d(r).val(), o) >= 0) &&
                      (n = !0);
                  return n || (e.selectedIndex = -1), o;
                },
              },
            },
          }),
          d.each(["radio", "checkbox"], function () {
            (d.valHooks[this] = {
              set: function (e, t) {
                if (d.isArray(t))
                  return (e.checked = d.inArray(d(e).val(), t) >= 0);
              },
            }),
              f.checkOn ||
                (d.valHooks[this].get = function (e) {
                  return null === e.getAttribute("value") ? "on" : e.value;
                });
          }),
          d.each(
            "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
              " "
            ),
            function (e, t) {
              d.fn[t] = function (e, n) {
                return arguments.length > 0
                  ? this.on(t, null, e, n)
                  : this.trigger(t);
              };
            }
          ),
          d.fn.extend({
            hover: function (e, t) {
              return this.mouseenter(e).mouseleave(t || e);
            },
            bind: function (e, t, n) {
              return this.on(e, null, t, n);
            },
            unbind: function (e, t) {
              return this.off(e, null, t);
            },
            delegate: function (e, t, n, r) {
              return this.on(t, e, n, r);
            },
            undelegate: function (e, t, n) {
              return 1 === arguments.length
                ? this.off(e, "**")
                : this.off(t, e || "**", n);
            },
          });
        var Ke = d.now(),
          Ze = /\?/;
        (d.parseJSON = function (e) {
          return JSON.parse(e + "");
        }),
          (d.parseXML = function (e) {
            var t;
            if (!e || "string" != typeof e) return null;
            try {
              t = new DOMParser().parseFromString(e, "text/xml");
            } catch (n) {
              t = void 0;
            }
            return (
              (t && !t.getElementsByTagName("parsererror").length) ||
                d.error("Invalid XML: " + e),
              t
            );
          });
        var et,
          tt,
          nt = /#.*$/,
          rt = /([?&])_=[^&]*/,
          it = /^(.*?):[ \t]*([^\r\n]*)$/gm,
          ot = /^(?:GET|HEAD)$/,
          st = /^\/\//,
          at = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
          ut = {},
          lt = {},
          ct = "*/".concat("*");
        try {
          tt = location.href;
        } catch (Lt) {
          ((tt = p.createElement("a")).href = ""), (tt = tt.href);
        }
        function ft(e) {
          return function (t, n) {
            "string" != typeof t && ((n = t), (t = "*"));
            var r,
              i = 0,
              o = t.toLowerCase().match(S) || [];
            if (d.isFunction(n))
              for (; (r = o[i++]); )
                "+" === r[0]
                  ? ((r = r.slice(1) || "*"), (e[r] = e[r] || []).unshift(n))
                  : (e[r] = e[r] || []).push(n);
          };
        }
        function pt(e, t, n, r) {
          var i = {},
            o = e === lt;
          function s(a) {
            var u;
            return (
              (i[a] = !0),
              d.each(e[a] || [], function (e, a) {
                var l = a(t, n, r);
                return "string" != typeof l || o || i[l]
                  ? o
                    ? !(u = l)
                    : void 0
                  : (t.dataTypes.unshift(l), s(l), !1);
              }),
              u
            );
          }
          return s(t.dataTypes[0]) || (!i["*"] && s("*"));
        }
        function dt(e, t) {
          var n,
            r,
            i = d.ajaxSettings.flatOptions || {};
          for (n in t)
            void 0 !== t[n] && ((i[n] ? e : r || (r = {}))[n] = t[n]);
          return r && d.extend(!0, e, r), e;
        }
        (et = at.exec(tt.toLowerCase()) || []),
          d.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
              url: tt,
              type: "GET",
              isLocal:
                /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(
                  et[1]
                ),
              global: !0,
              processData: !0,
              async: !0,
              contentType: "application/x-www-form-urlencoded; charset=UTF-8",
              accepts: {
                "*": ct,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript",
              },
              contents: { xml: /xml/, html: /html/, json: /json/ },
              responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON",
              },
              converters: {
                "* text": String,
                "text html": !0,
                "text json": d.parseJSON,
                "text xml": d.parseXML,
              },
              flatOptions: { url: !0, context: !0 },
            },
            ajaxSetup: function (e, t) {
              return t ? dt(dt(e, d.ajaxSettings), t) : dt(d.ajaxSettings, e);
            },
            ajaxPrefilter: ft(ut),
            ajaxTransport: ft(lt),
            ajax: function (e, t) {
              "object" == typeof e && ((t = e), (e = void 0)), (t = t || {});
              var n,
                r,
                i,
                o,
                s,
                a,
                u,
                l,
                c = d.ajaxSetup({}, t),
                f = c.context || c,
                p = c.context && (f.nodeType || f.jquery) ? d(f) : d.event,
                h = d.Deferred(),
                g = d.Callbacks("once memory"),
                m = c.statusCode || {},
                v = {},
                y = {},
                x = 0,
                b = "canceled",
                w = {
                  readyState: 0,
                  getResponseHeader: function (e) {
                    var t;
                    if (2 === x) {
                      if (!o)
                        for (o = {}; (t = it.exec(i)); )
                          o[t[1].toLowerCase()] = t[2];
                      t = o[e.toLowerCase()];
                    }
                    return null == t ? null : t;
                  },
                  getAllResponseHeaders: function () {
                    return 2 === x ? i : null;
                  },
                  setRequestHeader: function (e, t) {
                    var n = e.toLowerCase();
                    return x || ((e = y[n] = y[n] || e), (v[e] = t)), this;
                  },
                  overrideMimeType: function (e) {
                    return x || (c.mimeType = e), this;
                  },
                  statusCode: function (e) {
                    var t;
                    if (e)
                      if (x < 2) for (t in e) m[t] = [m[t], e[t]];
                      else w.always(e[w.status]);
                    return this;
                  },
                  abort: function (e) {
                    var t = e || b;
                    return n && n.abort(t), T(0, t), this;
                  },
                };
              if (
                ((h.promise(w).complete = g.add),
                (w.success = w.done),
                (w.error = w.fail),
                (c.url = ((e || c.url || tt) + "")
                  .replace(nt, "")
                  .replace(st, et[1] + "//")),
                (c.type = t.method || t.type || c.method || c.type),
                (c.dataTypes = d
                  .trim(c.dataType || "*")
                  .toLowerCase()
                  .match(S) || [""]),
                null == c.crossDomain &&
                  ((a = at.exec(c.url.toLowerCase())),
                  (c.crossDomain = !(
                    !a ||
                    (a[1] === et[1] &&
                      a[2] === et[2] &&
                      (a[3] || ("http:" === a[1] ? "80" : "443")) ===
                        (et[3] || ("http:" === et[1] ? "80" : "443")))
                  ))),
                c.data &&
                  c.processData &&
                  "string" != typeof c.data &&
                  (c.data = d.param(c.data, c.traditional)),
                pt(ut, c, t, w),
                2 === x)
              )
                return w;
              for (l in ((u = c.global) &&
                0 == d.active++ &&
                d.event.trigger("ajaxStart"),
              (c.type = c.type.toUpperCase()),
              (c.hasContent = !ot.test(c.type)),
              (r = c.url),
              c.hasContent ||
                (c.data &&
                  ((r = c.url += (Ze.test(r) ? "&" : "?") + c.data),
                  delete c.data),
                !1 === c.cache &&
                  (c.url = rt.test(r)
                    ? r.replace(rt, "$1_=" + Ke++)
                    : r + (Ze.test(r) ? "&" : "?") + "_=" + Ke++)),
              c.ifModified &&
                (d.lastModified[r] &&
                  w.setRequestHeader("If-Modified-Since", d.lastModified[r]),
                d.etag[r] && w.setRequestHeader("If-None-Match", d.etag[r])),
              ((c.data && c.hasContent && !1 !== c.contentType) ||
                t.contentType) &&
                w.setRequestHeader("Content-Type", c.contentType),
              w.setRequestHeader(
                "Accept",
                c.dataTypes[0] && c.accepts[c.dataTypes[0]]
                  ? c.accepts[c.dataTypes[0]] +
                      ("*" !== c.dataTypes[0] ? ", " + ct + "; q=0.01" : "")
                  : c.accepts["*"]
              ),
              c.headers))
                w.setRequestHeader(l, c.headers[l]);
              if (
                c.beforeSend &&
                (!1 === c.beforeSend.call(f, w, c) || 2 === x)
              )
                return w.abort();
              for (l in ((b = "abort"), { success: 1, error: 1, complete: 1 }))
                w[l](c[l]);
              if ((n = pt(lt, c, t, w))) {
                (w.readyState = 1),
                  u && p.trigger("ajaxSend", [w, c]),
                  c.async &&
                    c.timeout > 0 &&
                    (s = setTimeout(function () {
                      w.abort("timeout");
                    }, c.timeout));
                try {
                  (x = 1), n.send(v, T);
                } catch (Lt) {
                  if (!(x < 2)) throw Lt;
                  T(-1, Lt);
                }
              } else T(-1, "No Transport");
              function T(e, t, o, a) {
                var l,
                  v,
                  y,
                  b,
                  T,
                  C = t;
                2 !== x &&
                  ((x = 2),
                  s && clearTimeout(s),
                  (n = void 0),
                  (i = a || ""),
                  (w.readyState = e > 0 ? 4 : 0),
                  (l = (e >= 200 && e < 300) || 304 === e),
                  o &&
                    (b = (function (e, t, n) {
                      for (
                        var r, i, o, s, a = e.contents, u = e.dataTypes;
                        "*" === u[0];

                      )
                        u.shift(),
                          void 0 === r &&
                            (r =
                              e.mimeType ||
                              t.getResponseHeader("Content-Type"));
                      if (r)
                        for (i in a)
                          if (a[i] && a[i].test(r)) {
                            u.unshift(i);
                            break;
                          }
                      if (u[0] in n) o = u[0];
                      else {
                        for (i in n) {
                          if (!u[0] || e.converters[i + " " + u[0]]) {
                            o = i;
                            break;
                          }
                          s || (s = i);
                        }
                        o = o || s;
                      }
                      if (o) return o !== u[0] && u.unshift(o), n[o];
                    })(c, w, o)),
                  (b = (function (e, t, n, r) {
                    var i,
                      o,
                      s,
                      a,
                      u,
                      l = {},
                      c = e.dataTypes.slice();
                    if (c[1])
                      for (s in e.converters)
                        l[s.toLowerCase()] = e.converters[s];
                    for (o = c.shift(); o; )
                      if (
                        (e.responseFields[o] && (n[e.responseFields[o]] = t),
                        !u &&
                          r &&
                          e.dataFilter &&
                          (t = e.dataFilter(t, e.dataType)),
                        (u = o),
                        (o = c.shift()))
                      )
                        if ("*" === o) o = u;
                        else if ("*" !== u && u !== o) {
                          if (!(s = l[u + " " + o] || l["* " + o]))
                            for (i in l)
                              if (
                                (a = i.split(" "))[1] === o &&
                                (s = l[u + " " + a[0]] || l["* " + a[0]])
                              ) {
                                !0 === s
                                  ? (s = l[i])
                                  : !0 !== l[i] &&
                                    ((o = a[0]), c.unshift(a[1]));
                                break;
                              }
                          if (!0 !== s)
                            if (s && e.throws) t = s(t);
                            else
                              try {
                                t = s(t);
                              } catch (Lt) {
                                return {
                                  state: "parsererror",
                                  error: s
                                    ? Lt
                                    : "No conversion from " + u + " to " + o,
                                };
                              }
                        }
                    return { state: "success", data: t };
                  })(c, b, w, l)),
                  l
                    ? (c.ifModified &&
                        ((T = w.getResponseHeader("Last-Modified")) &&
                          (d.lastModified[r] = T),
                        (T = w.getResponseHeader("etag")) && (d.etag[r] = T)),
                      204 === e || "HEAD" === c.type
                        ? (C = "nocontent")
                        : 304 === e
                        ? (C = "notmodified")
                        : ((C = b.state), (v = b.data), (l = !(y = b.error))))
                    : ((y = C), (!e && C) || ((C = "error"), e < 0 && (e = 0))),
                  (w.status = e),
                  (w.statusText = (t || C) + ""),
                  l ? h.resolveWith(f, [v, C, w]) : h.rejectWith(f, [w, C, y]),
                  w.statusCode(m),
                  (m = void 0),
                  u &&
                    p.trigger(l ? "ajaxSuccess" : "ajaxError", [
                      w,
                      c,
                      l ? v : y,
                    ]),
                  g.fireWith(f, [w, C]),
                  u &&
                    (p.trigger("ajaxComplete", [w, c]),
                    --d.active || d.event.trigger("ajaxStop")));
              }
              return w;
            },
            getJSON: function (e, t, n) {
              return d.get(e, t, n, "json");
            },
            getScript: function (e, t) {
              return d.get(e, void 0, t, "script");
            },
          }),
          d.each(["get", "post"], function (e, t) {
            d[t] = function (e, n, r, i) {
              return (
                d.isFunction(n) && ((i = i || r), (r = n), (n = void 0)),
                d.ajax({ url: e, type: t, dataType: i, data: n, success: r })
              );
            };
          }),
          d.each(
            [
              "ajaxStart",
              "ajaxStop",
              "ajaxComplete",
              "ajaxError",
              "ajaxSuccess",
              "ajaxSend",
            ],
            function (e, t) {
              d.fn[t] = function (e) {
                return this.on(t, e);
              };
            }
          ),
          (d._evalUrl = function (e) {
            return d.ajax({
              url: e,
              type: "GET",
              dataType: "script",
              async: !1,
              global: !1,
              throws: !0,
            });
          }),
          d.fn.extend({
            wrapAll: function (e) {
              var t;
              return d.isFunction(e)
                ? this.each(function (t) {
                    d(this).wrapAll(e.call(this, t));
                  })
                : (this[0] &&
                    ((t = d(e, this[0].ownerDocument).eq(0).clone(!0)),
                    this[0].parentNode && t.insertBefore(this[0]),
                    t
                      .map(function () {
                        for (var e = this; e.firstElementChild; )
                          e = e.firstElementChild;
                        return e;
                      })
                      .append(this)),
                  this);
            },
            wrapInner: function (e) {
              return d.isFunction(e)
                ? this.each(function (t) {
                    d(this).wrapInner(e.call(this, t));
                  })
                : this.each(function () {
                    var t = d(this),
                      n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e);
                  });
            },
            wrap: function (e) {
              var t = d.isFunction(e);
              return this.each(function (n) {
                d(this).wrapAll(t ? e.call(this, n) : e);
              });
            },
            unwrap: function () {
              return this.parent()
                .each(function () {
                  d.nodeName(this, "body") ||
                    d(this).replaceWith(this.childNodes);
                })
                .end();
            },
          }),
          (d.expr.filters.hidden = function (e) {
            return e.offsetWidth <= 0 && e.offsetHeight <= 0;
          }),
          (d.expr.filters.visible = function (e) {
            return !d.expr.filters.hidden(e);
          });
        var ht = /%20/g,
          gt = /\[\]$/,
          mt = /\r?\n/g,
          vt = /^(?:submit|button|image|reset|file)$/i,
          yt = /^(?:input|select|textarea|keygen)/i;
        function xt(e, t, n, r) {
          var i;
          if (d.isArray(t))
            d.each(t, function (t, i) {
              n || gt.test(e)
                ? r(e, i)
                : xt(e + "[" + ("object" == typeof i ? t : "") + "]", i, n, r);
            });
          else if (n || "object" !== d.type(t)) r(e, t);
          else for (i in t) xt(e + "[" + i + "]", t[i], n, r);
        }
        (d.param = function (e, t) {
          var n,
            r = [],
            i = function (e, t) {
              (t = d.isFunction(t) ? t() : null == t ? "" : t),
                (r[r.length] =
                  encodeURIComponent(e) + "=" + encodeURIComponent(t));
            };
          if (
            (void 0 === t && (t = d.ajaxSettings && d.ajaxSettings.traditional),
            d.isArray(e) || (e.jquery && !d.isPlainObject(e)))
          )
            d.each(e, function () {
              i(this.name, this.value);
            });
          else for (n in e) xt(n, e[n], t, i);
          return r.join("&").replace(ht, "+");
        }),
          d.fn.extend({
            serialize: function () {
              return d.param(this.serializeArray());
            },
            serializeArray: function () {
              return this.map(function () {
                var e = d.prop(this, "elements");
                return e ? d.makeArray(e) : this;
              })
                .filter(function () {
                  var e = this.type;
                  return (
                    this.name &&
                    !d(this).is(":disabled") &&
                    yt.test(this.nodeName) &&
                    !vt.test(e) &&
                    (this.checked || !_.test(e))
                  );
                })
                .map(function (e, t) {
                  var n = d(this).val();
                  return null == n
                    ? null
                    : d.isArray(n)
                    ? d.map(n, function (e) {
                        return { name: t.name, value: e.replace(mt, "\r\n") };
                      })
                    : { name: t.name, value: n.replace(mt, "\r\n") };
                })
                .get();
            },
          }),
          (d.ajaxSettings.xhr = function () {
            try {
              return new XMLHttpRequest();
            } catch (Lt) {}
          });
        var bt = 0,
          wt = {},
          Tt = { 0: 200, 1223: 204 },
          Ct = d.ajaxSettings.xhr();
        e.ActiveXObject &&
          d(e).on("unload", function () {
            for (var e in wt) wt[e]();
          }),
          (f.cors = !!Ct && "withCredentials" in Ct),
          (f.ajax = Ct = !!Ct),
          d.ajaxTransport(function (e) {
            var t;
            if (f.cors || (Ct && !e.crossDomain))
              return {
                send: function (n, r) {
                  var i,
                    o = e.xhr(),
                    s = ++bt;
                  if (
                    (o.open(e.type, e.url, e.async, e.username, e.password),
                    e.xhrFields)
                  )
                    for (i in e.xhrFields) o[i] = e.xhrFields[i];
                  for (i in (e.mimeType &&
                    o.overrideMimeType &&
                    o.overrideMimeType(e.mimeType),
                  e.crossDomain ||
                    n["X-Requested-With"] ||
                    (n["X-Requested-With"] = "XMLHttpRequest"),
                  n))
                    o.setRequestHeader(i, n[i]);
                  (t = function (e) {
                    return function () {
                      t &&
                        (delete wt[s],
                        (t = o.onload = o.onerror = null),
                        "abort" === e
                          ? o.abort()
                          : "error" === e
                          ? r(o.status, o.statusText)
                          : r(
                              Tt[o.status] || o.status,
                              o.statusText,
                              "string" == typeof o.responseText
                                ? { text: o.responseText }
                                : void 0,
                              o.getAllResponseHeaders()
                            ));
                    };
                  }),
                    (o.onload = t()),
                    (o.onerror = t("error")),
                    (t = wt[s] = t("abort")),
                    o.send((e.hasContent && e.data) || null);
                },
                abort: function () {
                  t && t();
                },
              };
          }),
          d.ajaxSetup({
            accepts: {
              script:
                "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
            },
            contents: { script: /(?:java|ecma)script/ },
            converters: {
              "text script": function (e) {
                return d.globalEval(e), e;
              },
            },
          }),
          d.ajaxPrefilter("script", function (e) {
            void 0 === e.cache && (e.cache = !1),
              e.crossDomain && (e.type = "GET");
          }),
          d.ajaxTransport("script", function (e) {
            var t, n;
            if (e.crossDomain)
              return {
                send: function (r, i) {
                  (t = d("<script>")
                    .prop({ async: !0, charset: e.scriptCharset, src: e.url })
                    .on(
                      "load error",
                      (n = function (e) {
                        t.remove(),
                          (n = null),
                          e && i("error" === e.type ? 404 : 200, e.type);
                      })
                    )),
                    p.head.appendChild(t[0]);
                },
                abort: function () {
                  n && n();
                },
              };
          });
        var Nt = [],
          kt = /(=)\?(?=&|$)|\?\?/;
        d.ajaxSetup({
          jsonp: "callback",
          jsonpCallback: function () {
            var e = Nt.pop() || d.expando + "_" + Ke++;
            return (this[e] = !0), e;
          },
        }),
          d.ajaxPrefilter("json jsonp", function (t, n, r) {
            var i,
              o,
              s,
              a =
                !1 !== t.jsonp &&
                (kt.test(t.url)
                  ? "url"
                  : "string" == typeof t.data &&
                    !(t.contentType || "").indexOf(
                      "application/x-www-form-urlencoded"
                    ) &&
                    kt.test(t.data) &&
                    "data");
            if (a || "jsonp" === t.dataTypes[0])
              return (
                (i = t.jsonpCallback =
                  d.isFunction(t.jsonpCallback)
                    ? t.jsonpCallback()
                    : t.jsonpCallback),
                a
                  ? (t[a] = t[a].replace(kt, "$1" + i))
                  : !1 !== t.jsonp &&
                    (t.url += (Ze.test(t.url) ? "&" : "?") + t.jsonp + "=" + i),
                (t.converters["script json"] = function () {
                  return s || d.error(i + " was not called"), s[0];
                }),
                (t.dataTypes[0] = "json"),
                (o = e[i]),
                (e[i] = function () {
                  s = arguments;
                }),
                r.always(function () {
                  (e[i] = o),
                    t[i] && ((t.jsonpCallback = n.jsonpCallback), Nt.push(i)),
                    s && d.isFunction(o) && o(s[0]),
                    (s = o = void 0);
                }),
                "script"
              );
          }),
          (d.parseHTML = function (e, t, n) {
            if (!e || "string" != typeof e) return null;
            "boolean" == typeof t && ((n = t), (t = !1)), (t = t || p);
            var r = b.exec(e),
              i = !n && [];
            return r
              ? [t.createElement(r[1])]
              : ((r = d.buildFragment([e], t, i)),
                i && i.length && d(i).remove(),
                d.merge([], r.childNodes));
          });
        var Et = d.fn.load;
        (d.fn.load = function (e, t, n) {
          if ("string" != typeof e && Et) return Et.apply(this, arguments);
          var r,
            i,
            o,
            s = this,
            a = e.indexOf(" ");
          return (
            a >= 0 && ((r = e.slice(a)), (e = e.slice(0, a))),
            d.isFunction(t)
              ? ((n = t), (t = void 0))
              : t && "object" == typeof t && (i = "POST"),
            s.length > 0 &&
              d
                .ajax({ url: e, type: i, dataType: "html", data: t })
                .done(function (e) {
                  (o = arguments),
                    s.html(r ? d("<div>").append(d.parseHTML(e)).find(r) : e);
                })
                .complete(
                  n &&
                    function (e, t) {
                      s.each(n, o || [e.responseText, t, e]);
                    }
                ),
            this
          );
        }),
          (d.expr.filters.animated = function (e) {
            return d.grep(d.timers, function (t) {
              return e === t.elem;
            }).length;
          });
        var Dt = e.document.documentElement;
        function jt(e) {
          return d.isWindow(e) ? e : 9 === e.nodeType && e.defaultView;
        }
        (d.offset = {
          setOffset: function (e, t, n) {
            var r,
              i,
              o,
              s,
              a,
              u,
              l = d.css(e, "position"),
              c = d(e),
              f = {};
            "static" === l && (e.style.position = "relative"),
              (a = c.offset()),
              (o = d.css(e, "top")),
              (u = d.css(e, "left")),
              ("absolute" === l || "fixed" === l) &&
              (o + u).indexOf("auto") > -1
                ? ((s = (r = c.position()).top), (i = r.left))
                : ((s = parseFloat(o) || 0), (i = parseFloat(u) || 0)),
              d.isFunction(t) && (t = t.call(e, n, a)),
              null != t.top && (f.top = t.top - a.top + s),
              null != t.left && (f.left = t.left - a.left + i),
              "using" in t ? t.using.call(e, f) : c.css(f);
          },
        }),
          d.fn.extend({
            offset: function (e) {
              if (arguments.length)
                return void 0 === e
                  ? this
                  : this.each(function (t) {
                      d.offset.setOffset(this, e, t);
                    });
              var t,
                n,
                r = this[0],
                i = { top: 0, left: 0 },
                o = r && r.ownerDocument;
              return o
                ? ((t = o.documentElement),
                  d.contains(t, r)
                    ? (void 0 !== r.getBoundingClientRect &&
                        (i = r.getBoundingClientRect()),
                      (n = jt(o)),
                      {
                        top: i.top + n.pageYOffset - t.clientTop,
                        left: i.left + n.pageXOffset - t.clientLeft,
                      })
                    : i)
                : void 0;
            },
            position: function () {
              if (this[0]) {
                var e,
                  t,
                  n = this[0],
                  r = { top: 0, left: 0 };
                return (
                  "fixed" === d.css(n, "position")
                    ? (t = n.getBoundingClientRect())
                    : ((e = this.offsetParent()),
                      (t = this.offset()),
                      d.nodeName(e[0], "html") || (r = e.offset()),
                      (r.top += d.css(e[0], "borderTopWidth", !0)),
                      (r.left += d.css(e[0], "borderLeftWidth", !0))),
                  {
                    top: t.top - r.top - d.css(n, "marginTop", !0),
                    left: t.left - r.left - d.css(n, "marginLeft", !0),
                  }
                );
              }
            },
            offsetParent: function () {
              return this.map(function () {
                for (
                  var e = this.offsetParent || Dt;
                  e &&
                  !d.nodeName(e, "html") &&
                  "static" === d.css(e, "position");

                )
                  e = e.offsetParent;
                return e || Dt;
              });
            },
          }),
          d.each(
            { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
            function (t, n) {
              var r = "pageYOffset" === n;
              d.fn[t] = function (i) {
                return q(
                  this,
                  function (t, i, o) {
                    var s = jt(t);
                    if (void 0 === o) return s ? s[n] : t[i];
                    s
                      ? s.scrollTo(r ? e.pageXOffset : o, r ? o : e.pageYOffset)
                      : (t[i] = o);
                  },
                  t,
                  i,
                  arguments.length,
                  null
                );
              };
            }
          ),
          d.each(["top", "left"], function (e, t) {
            d.cssHooks[t] = be(f.pixelPosition, function (e, n) {
              if (n)
                return (
                  (n = xe(e, t)), ve.test(n) ? d(e).position()[t] + "px" : n
                );
            });
          }),
          d.each({ Height: "height", Width: "width" }, function (e, t) {
            d.each(
              { padding: "inner" + e, content: t, "": "outer" + e },
              function (n, r) {
                d.fn[r] = function (r, i) {
                  var o = arguments.length && (n || "boolean" != typeof r),
                    s = n || (!0 === r || !0 === i ? "margin" : "border");
                  return q(
                    this,
                    function (t, n, r) {
                      var i;
                      return d.isWindow(t)
                        ? t.document.documentElement["client" + e]
                        : 9 === t.nodeType
                        ? ((i = t.documentElement),
                          Math.max(
                            t.body["scroll" + e],
                            i["scroll" + e],
                            t.body["offset" + e],
                            i["offset" + e],
                            i["client" + e]
                          ))
                        : void 0 === r
                        ? d.css(t, n, s)
                        : d.style(t, n, r, s);
                    },
                    t,
                    o ? r : void 0,
                    o,
                    null
                  );
                };
              }
            );
          }),
          (d.fn.size = function () {
            return this.length;
          }),
          (d.fn.andSelf = d.fn.addBack),
          "function" == typeof define &&
            define.amd &&
            define("jquery", [], function () {
              return d;
            });
        var St = e.jQuery,
          At = e.$;
        return (
          (d.noConflict = function (t) {
            return (
              e.$ === d && (e.$ = At), t && e.jQuery === d && (e.jQuery = St), d
            );
          }),
          void 0 === t && (e.jQuery = e.$ = d),
          d
        );
      });
    </script>
    <script type="text/javascript">
      (function () {
        var n = "Expected a function",
          t = "__lodash_placeholder__",
          r = [
            ["ary", 128],
            ["bind", 1],
            ["bindKey", 2],
            ["curry", 8],
            ["curryRight", 16],
            ["flip", 512],
            ["partial", 32],
            ["partialRight", 64],
            ["rearg", 256],
          ],
          e = "[object Arguments]",
          u = "[object Array]",
          i = "[object Boolean]",
          o = "[object Date]",
          f = "[object Error]",
          a = "[object Function]",
          c = "[object GeneratorFunction]",
          l = "[object Map]",
          s = "[object Number]",
          v = "[object Object]",
          h = "[object RegExp]",
          p = "[object Set]",
          d = "[object String]",
          _ = "[object Symbol]",
          g = "[object WeakMap]",
          y = "[object ArrayBuffer]",
          b = "[object DataView]",
          w = "[object Float32Array]",
          m = "[object Float64Array]",
          x = "[object Int8Array]",
          j = "[object Int16Array]",
          A = "[object Int32Array]",
          k = "[object Uint8Array]",
          O = "[object Uint16Array]",
          I = "[object Uint32Array]",
          R = /\b__p \+= '';/g,
          z = /\b(__p \+=) '' \+/g,
          E = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
          S = /&(?:amp|lt|gt|quot|#39);/g,
          L = /[&<>"']/g,
          W = RegExp(S.source),
          C = RegExp(L.source),
          U = /<%-([\s\S]+?)%>/g,
          B = /<%([\s\S]+?)%>/g,
          T = /<%=([\s\S]+?)%>/g,
          $ = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
          D = /^\w*$/,
          N = /^\./,
          M =
            /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
          F = /[\\^$.*+?()[\]{}|]/g,
          P = RegExp(F.source),
          q = /^\s+|\s+$/g,
          Z = /^\s+/,
          K = /\s+$/,
          V = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
          G = /\{\n\/\* \[wrapped with (.+)\] \*/,
          H = /,? & /,
          J = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
          Y = /\\(\\)?/g,
          Q = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
          X = /\w*$/,
          nn = /^[-+]0x[0-9a-f]+$/i,
          tn = /^0b[01]+$/i,
          rn = /^\[object .+?Constructor\]$/,
          en = /^0o[0-7]+$/i,
          un = /^(?:0|[1-9]\d*)$/,
          on = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
          fn = /($^)/,
          an = /['\n\r\u2028\u2029\\]/g,
          cn = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",
          ln =
            "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
          sn = "[\\ud800-\\udfff]",
          vn = "[" + ln + "]",
          hn = "[" + cn + "]",
          pn = "\\d+",
          dn = "[\\u2700-\\u27bf]",
          _n = "[a-z\\xdf-\\xf6\\xf8-\\xff]",
          gn =
            "[^\\ud800-\\udfff" +
            ln +
            pn +
            "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",
          yn = "\\ud83c[\\udffb-\\udfff]",
          bn = "[^\\ud800-\\udfff]",
          wn = "(?:\\ud83c[\\udde6-\\uddff]){2}",
          mn = "[\\ud800-\\udbff][\\udc00-\\udfff]",
          xn = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
          jn = "(?:" + _n + "|" + gn + ")",
          An = "(?:" + xn + "|" + gn + ")",
          kn = "(?:" + hn + "|" + yn + ")" + "?",
          On =
            "[\\ufe0e\\ufe0f]?" +
            kn +
            ("(?:\\u200d(?:" +
              [bn, wn, mn].join("|") +
              ")[\\ufe0e\\ufe0f]?" +
              kn +
              ")*"),
          In = "(?:" + [dn, wn, mn].join("|") + ")" + On,
          Rn = "(?:" + [bn + hn + "?", hn, wn, mn, sn].join("|") + ")",
          zn = RegExp("['’]", "g"),
          En = RegExp(hn, "g"),
          Sn = RegExp(yn + "(?=" + yn + ")|" + Rn + On, "g"),
          Ln = RegExp(
            [
              xn +
                "?" +
                _n +
                "+(?:['’](?:d|ll|m|re|s|t|ve))?(?=" +
                [vn, xn, "$"].join("|") +
                ")",
              An +
                "+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=" +
                [vn, xn + jn, "$"].join("|") +
                ")",
              xn + "?" + jn + "+(?:['’](?:d|ll|m|re|s|t|ve))?",
              xn + "+(?:['’](?:D|LL|M|RE|S|T|VE))?",
              "\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",
              "\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",
              pn,
              In,
            ].join("|"),
            "g"
          ),
          Wn = RegExp("[\\u200d\\ud800-\\udfff" + cn + "\\ufe0e\\ufe0f]"),
          Cn =
            /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
          Un = [
            "Array",
            "Buffer",
            "DataView",
            "Date",
            "Error",
            "Float32Array",
            "Float64Array",
            "Function",
            "Int8Array",
            "Int16Array",
            "Int32Array",
            "Map",
            "Math",
            "Object",
            "Promise",
            "RegExp",
            "Set",
            "String",
            "Symbol",
            "TypeError",
            "Uint8Array",
            "Uint8ClampedArray",
            "Uint16Array",
            "Uint32Array",
            "WeakMap",
            "_",
            "clearTimeout",
            "isFinite",
            "parseInt",
            "setTimeout",
          ],
          Bn = -1,
          Tn = {};
        (Tn[w] =
          Tn[m] =
          Tn[x] =
          Tn[j] =
          Tn[A] =
          Tn[k] =
          Tn["[object Uint8ClampedArray]"] =
          Tn[O] =
          Tn[I] =
            !0),
          (Tn[e] =
            Tn[u] =
            Tn[y] =
            Tn[i] =
            Tn[b] =
            Tn[o] =
            Tn[f] =
            Tn[a] =
            Tn[l] =
            Tn[s] =
            Tn[v] =
            Tn[h] =
            Tn[p] =
            Tn[d] =
            Tn[g] =
              !1);
        var $n = {};
        ($n[e] =
          $n[u] =
          $n[y] =
          $n[b] =
          $n[i] =
          $n[o] =
          $n[w] =
          $n[m] =
          $n[x] =
          $n[j] =
          $n[A] =
          $n[l] =
          $n[s] =
          $n[v] =
          $n[h] =
          $n[p] =
          $n[d] =
          $n[_] =
          $n[k] =
          $n["[object Uint8ClampedArray]"] =
          $n[O] =
          $n[I] =
            !0),
          ($n[f] = $n[a] = $n[g] = !1);
        var Dn = {
            "\\": "\\",
            "'": "'",
            "\n": "n",
            "\r": "r",
            "\u2028": "u2028",
            "\u2029": "u2029",
          },
          Nn = parseFloat,
          Mn = parseInt,
          Fn =
            "object" == typeof global &&
            global &&
            global.Object === Object &&
            global,
          Pn =
            "object" == typeof self && self && self.Object === Object && self,
          qn = Fn || Pn || Function("return this")(),
          Zn =
            "object" == typeof exports &&
            exports &&
            !exports.nodeType &&
            exports,
          Kn =
            Zn &&
            "object" == typeof module &&
            module &&
            !module.nodeType &&
            module,
          Vn = Kn && Kn.exports === Zn,
          Gn = Vn && Fn.process,
          Hn = (function () {
            try {
              return Gn && Gn.binding && Gn.binding("util");
            } catch (n) {}
          })(),
          Jn = Hn && Hn.isArrayBuffer,
          Yn = Hn && Hn.isDate,
          Qn = Hn && Hn.isMap,
          Xn = Hn && Hn.isRegExp,
          nt = Hn && Hn.isSet,
          tt = Hn && Hn.isTypedArray;
        function rt(n, t) {
          return n.set(t[0], t[1]), n;
        }
        function et(n, t) {
          return n.add(t), n;
        }
        function ut(n, t, r) {
          switch (r.length) {
            case 0:
              return n.call(t);
            case 1:
              return n.call(t, r[0]);
            case 2:
              return n.call(t, r[0], r[1]);
            case 3:
              return n.call(t, r[0], r[1], r[2]);
          }
          return n.apply(t, r);
        }
        function it(n, t, r, e) {
          for (var u = -1, i = null == n ? 0 : n.length; ++u < i; ) {
            var o = n[u];
            t(e, o, r(o), n);
          }
          return e;
        }
        function ot(n, t) {
          for (
            var r = -1, e = null == n ? 0 : n.length;
            ++r < e && !1 !== t(n[r], r, n);

          );
          return n;
        }
        function ft(n, t) {
          for (var r = null == n ? 0 : n.length; r-- && !1 !== t(n[r], r, n); );
          return n;
        }
        function at(n, t) {
          for (var r = -1, e = null == n ? 0 : n.length; ++r < e; )
            if (!t(n[r], r, n)) return !1;
          return !0;
        }
        function ct(n, t) {
          for (
            var r = -1, e = null == n ? 0 : n.length, u = 0, i = [];
            ++r < e;

          ) {
            var o = n[r];
            t(o, r, n) && (i[u++] = o);
          }
          return i;
        }
        function lt(n, t) {
          return !!(null == n ? 0 : n.length) && wt(n, t, 0) > -1;
        }
        function st(n, t, r) {
          for (var e = -1, u = null == n ? 0 : n.length; ++e < u; )
            if (r(t, n[e])) return !0;
          return !1;
        }
        function vt(n, t) {
          for (
            var r = -1, e = null == n ? 0 : n.length, u = Array(e);
            ++r < e;

          )
            u[r] = t(n[r], r, n);
          return u;
        }
        function ht(n, t) {
          for (var r = -1, e = t.length, u = n.length; ++r < e; )
            n[u + r] = t[r];
          return n;
        }
        function pt(n, t, r, e) {
          var u = -1,
            i = null == n ? 0 : n.length;
          for (e && i && (r = n[++u]); ++u < i; ) r = t(r, n[u], u, n);
          return r;
        }
        function dt(n, t, r, e) {
          var u = null == n ? 0 : n.length;
          for (e && u && (r = n[--u]); u--; ) r = t(r, n[u], u, n);
          return r;
        }
        function _t(n, t) {
          for (var r = -1, e = null == n ? 0 : n.length; ++r < e; )
            if (t(n[r], r, n)) return !0;
          return !1;
        }
        var gt = At("length");
        function yt(n, t, r) {
          var e;
          return (
            r(n, function (n, r, u) {
              if (t(n, r, u)) return (e = r), !1;
            }),
            e
          );
        }
        function bt(n, t, r, e) {
          for (var u = n.length, i = r + (e ? 1 : -1); e ? i-- : ++i < u; )
            if (t(n[i], i, n)) return i;
          return -1;
        }
        function wt(n, t, r) {
          return t == t
            ? (function (n, t, r) {
                var e = r - 1,
                  u = n.length;
                for (; ++e < u; ) if (n[e] === t) return e;
                return -1;
              })(n, t, r)
            : bt(n, xt, r);
        }
        function mt(n, t, r, e) {
          for (var u = r - 1, i = n.length; ++u < i; ) if (e(n[u], t)) return u;
          return -1;
        }
        function xt(n) {
          return n != n;
        }
        function jt(n, t) {
          var r = null == n ? 0 : n.length;
          return r ? It(n, t) / r : NaN;
        }
        function At(n) {
          return function (t) {
            return null == t ? void 0 : t[n];
          };
        }
        function kt(n) {
          return function (t) {
            return null == n ? void 0 : n[t];
          };
        }
        function Ot(n, t, r, e, u) {
          return (
            u(n, function (n, u, i) {
              r = e ? ((e = !1), n) : t(r, n, u, i);
            }),
            r
          );
        }
        function It(n, t) {
          for (var r, e = -1, u = n.length; ++e < u; ) {
            var i = t(n[e]);
            void 0 !== i && (r = void 0 === r ? i : r + i);
          }
          return r;
        }
        function Rt(n, t) {
          for (var r = -1, e = Array(n); ++r < n; ) e[r] = t(r);
          return e;
        }
        function zt(n) {
          return function (t) {
            return n(t);
          };
        }
        function Et(n, t) {
          return vt(t, function (t) {
            return n[t];
          });
        }
        function St(n, t) {
          return n.has(t);
        }
        function Lt(n, t) {
          for (var r = -1, e = n.length; ++r < e && wt(t, n[r], 0) > -1; );
          return r;
        }
        function Wt(n, t) {
          for (var r = n.length; r-- && wt(t, n[r], 0) > -1; );
          return r;
        }
        function Ct(n, t) {
          for (var r = n.length, e = 0; r--; ) n[r] === t && ++e;
          return e;
        }
        var Ut = kt({
            À: "A",
            Á: "A",
            Â: "A",
            Ã: "A",
            Ä: "A",
            Å: "A",
            à: "a",
            á: "a",
            â: "a",
            ã: "a",
            ä: "a",
            å: "a",
            Ç: "C",
            ç: "c",
            Ð: "D",
            ð: "d",
            È: "E",
            É: "E",
            Ê: "E",
            Ë: "E",
            è: "e",
            é: "e",
            ê: "e",
            ë: "e",
            Ì: "I",
            Í: "I",
            Î: "I",
            Ï: "I",
            ì: "i",
            í: "i",
            î: "i",
            ï: "i",
            Ñ: "N",
            ñ: "n",
            Ò: "O",
            Ó: "O",
            Ô: "O",
            Õ: "O",
            Ö: "O",
            Ø: "O",
            ò: "o",
            ó: "o",
            ô: "o",
            õ: "o",
            ö: "o",
            ø: "o",
            Ù: "U",
            Ú: "U",
            Û: "U",
            Ü: "U",
            ù: "u",
            ú: "u",
            û: "u",
            ü: "u",
            Ý: "Y",
            ý: "y",
            ÿ: "y",
            Æ: "Ae",
            æ: "ae",
            Þ: "Th",
            þ: "th",
            ß: "ss",
            Ā: "A",
            Ă: "A",
            Ą: "A",
            ā: "a",
            ă: "a",
            ą: "a",
            Ć: "C",
            Ĉ: "C",
            Ċ: "C",
            Č: "C",
            ć: "c",
            ĉ: "c",
            ċ: "c",
            č: "c",
            Ď: "D",
            Đ: "D",
            ď: "d",
            đ: "d",
            Ē: "E",
            Ĕ: "E",
            Ė: "E",
            Ę: "E",
            Ě: "E",
            ē: "e",
            ĕ: "e",
            ė: "e",
            ę: "e",
            ě: "e",
            Ĝ: "G",
            Ğ: "G",
            Ġ: "G",
            Ģ: "G",
            ĝ: "g",
            ğ: "g",
            ġ: "g",
            ģ: "g",
            Ĥ: "H",
            Ħ: "H",
            ĥ: "h",
            ħ: "h",
            Ĩ: "I",
            Ī: "I",
            Ĭ: "I",
            Į: "I",
            İ: "I",
            ĩ: "i",
            ī: "i",
            ĭ: "i",
            į: "i",
            ı: "i",
            Ĵ: "J",
            ĵ: "j",
            Ķ: "K",
            ķ: "k",
            ĸ: "k",
            Ĺ: "L",
            Ļ: "L",
            Ľ: "L",
            Ŀ: "L",
            Ł: "L",
            ĺ: "l",
            ļ: "l",
            ľ: "l",
            ŀ: "l",
            ł: "l",
            Ń: "N",
            Ņ: "N",
            Ň: "N",
            Ŋ: "N",
            ń: "n",
            ņ: "n",
            ň: "n",
            ŋ: "n",
            Ō: "O",
            Ŏ: "O",
            Ő: "O",
            ō: "o",
            ŏ: "o",
            ő: "o",
            Ŕ: "R",
            Ŗ: "R",
            Ř: "R",
            ŕ: "r",
            ŗ: "r",
            ř: "r",
            Ś: "S",
            Ŝ: "S",
            Ş: "S",
            Š: "S",
            ś: "s",
            ŝ: "s",
            ş: "s",
            š: "s",
            Ţ: "T",
            Ť: "T",
            Ŧ: "T",
            ţ: "t",
            ť: "t",
            ŧ: "t",
            Ũ: "U",
            Ū: "U",
            Ŭ: "U",
            Ů: "U",
            Ű: "U",
            Ų: "U",
            ũ: "u",
            ū: "u",
            ŭ: "u",
            ů: "u",
            ű: "u",
            ų: "u",
            Ŵ: "W",
            ŵ: "w",
            Ŷ: "Y",
            ŷ: "y",
            Ÿ: "Y",
            Ź: "Z",
            Ż: "Z",
            Ž: "Z",
            ź: "z",
            ż: "z",
            ž: "z",
            Ĳ: "IJ",
            ĳ: "ij",
            Œ: "Oe",
            œ: "oe",
            ŉ: "'n",
            ſ: "s",
          }),
          Bt = kt({
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
          });
        function Tt(n) {
          return "\\" + Dn[n];
        }
        function $t(n) {
          return Wn.test(n);
        }
        function Dt(n) {
          var t = -1,
            r = Array(n.size);
          return (
            n.forEach(function (n, e) {
              r[++t] = [e, n];
            }),
            r
          );
        }
        function Nt(n, t) {
          return function (r) {
            return n(t(r));
          };
        }
        function Mt(n, r) {
          for (var e = -1, u = n.length, i = 0, o = []; ++e < u; ) {
            var f = n[e];
            (f !== r && f !== t) || ((n[e] = t), (o[i++] = e));
          }
          return o;
        }
        function Ft(n) {
          var t = -1,
            r = Array(n.size);
          return (
            n.forEach(function (n) {
              r[++t] = n;
            }),
            r
          );
        }
        function Pt(n) {
          var t = -1,
            r = Array(n.size);
          return (
            n.forEach(function (n) {
              r[++t] = [n, n];
            }),
            r
          );
        }
        function qt(n) {
          return $t(n)
            ? (function (n) {
                var t = (Sn.lastIndex = 0);
                for (; Sn.test(n); ) ++t;
                return t;
              })(n)
            : gt(n);
        }
        function Zt(n) {
          return $t(n)
            ? (function (n) {
                return n.match(Sn) || [];
              })(n)
            : (function (n) {
                return n.split("");
              })(n);
        }
        var Kt = kt({
          "&amp;": "&",
          "&lt;": "<",
          "&gt;": ">",
          "&quot;": '"',
          "&#39;": "'",
        });
        var Vt = (function cn(ln) {
          var sn,
            vn = (ln =
              null == ln ? qn : Vt.defaults(qn.Object(), ln, Vt.pick(qn, Un)))
              .Array,
            hn = ln.Date,
            pn = ln.Error,
            dn = ln.Function,
            _n = ln.Math,
            gn = ln.Object,
            yn = ln.RegExp,
            bn = ln.String,
            wn = ln.TypeError,
            mn = vn.prototype,
            xn = dn.prototype,
            jn = gn.prototype,
            An = ln["__core-js_shared__"],
            kn = xn.toString,
            On = jn.hasOwnProperty,
            In = 0,
            Rn = (sn = /[^.]+$/.exec((An && An.keys && An.keys.IE_PROTO) || ""))
              ? "Symbol(src)_1." + sn
              : "",
            Sn = jn.toString,
            Wn = kn.call(gn),
            Dn = qn._,
            Fn = yn(
              "^" +
                kn
                  .call(On)
                  .replace(F, "\\$&")
                  .replace(
                    /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                    "$1.*?"
                  ) +
                "$"
            ),
            Pn = Vn ? ln.Buffer : void 0,
            Zn = ln.Symbol,
            Kn = ln.Uint8Array,
            Gn = Pn ? Pn.allocUnsafe : void 0,
            Hn = Nt(gn.getPrototypeOf, gn),
            gt = gn.create,
            kt = jn.propertyIsEnumerable,
            Gt = mn.splice,
            Ht = Zn ? Zn.isConcatSpreadable : void 0,
            Jt = Zn ? Zn.iterator : void 0,
            Yt = Zn ? Zn.toStringTag : void 0,
            Qt = (function () {
              try {
                var n = ri(gn, "defineProperty");
                return n({}, "", {}), n;
              } catch (t) {}
            })(),
            Xt = ln.clearTimeout !== qn.clearTimeout && ln.clearTimeout,
            nr = hn && hn.now !== qn.Date.now && hn.now,
            tr = ln.setTimeout !== qn.setTimeout && ln.setTimeout,
            rr = _n.ceil,
            er = _n.floor,
            ur = gn.getOwnPropertySymbols,
            ir = Pn ? Pn.isBuffer : void 0,
            or = ln.isFinite,
            fr = mn.join,
            ar = Nt(gn.keys, gn),
            cr = _n.max,
            lr = _n.min,
            sr = hn.now,
            vr = ln.parseInt,
            hr = _n.random,
            pr = mn.reverse,
            dr = ri(ln, "DataView"),
            _r = ri(ln, "Map"),
            gr = ri(ln, "Promise"),
            yr = ri(ln, "Set"),
            br = ri(ln, "WeakMap"),
            wr = ri(gn, "create"),
            mr = br && new br(),
            xr = {},
            jr = Ri(dr),
            Ar = Ri(_r),
            kr = Ri(gr),
            Or = Ri(yr),
            Ir = Ri(br),
            Rr = Zn ? Zn.prototype : void 0,
            zr = Rr ? Rr.valueOf : void 0,
            Er = Rr ? Rr.toString : void 0;
          function Sr(n) {
            if (Ko(n) && !Uo(n) && !(n instanceof Ur)) {
              if (n instanceof Cr) return n;
              if (On.call(n, "__wrapped__")) return zi(n);
            }
            return new Cr(n);
          }
          var Lr = (function () {
            function n() {}
            return function (t) {
              if (!Zo(t)) return {};
              if (gt) return gt(t);
              n.prototype = t;
              var r = new n();
              return (n.prototype = void 0), r;
            };
          })();
          function Wr() {}
          function Cr(n, t) {
            (this.__wrapped__ = n),
              (this.__actions__ = []),
              (this.__chain__ = !!t),
              (this.__index__ = 0),
              (this.__values__ = void 0);
          }
          function Ur(n) {
            (this.__wrapped__ = n),
              (this.__actions__ = []),
              (this.__dir__ = 1),
              (this.__filtered__ = !1),
              (this.__iteratees__ = []),
              (this.__takeCount__ = 4294967295),
              (this.__views__ = []);
          }
          function Br(n) {
            var t = -1,
              r = null == n ? 0 : n.length;
            for (this.clear(); ++t < r; ) {
              var e = n[t];
              this.set(e[0], e[1]);
            }
          }
          function Tr(n) {
            var t = -1,
              r = null == n ? 0 : n.length;
            for (this.clear(); ++t < r; ) {
              var e = n[t];
              this.set(e[0], e[1]);
            }
          }
          function $r(n) {
            var t = -1,
              r = null == n ? 0 : n.length;
            for (this.clear(); ++t < r; ) {
              var e = n[t];
              this.set(e[0], e[1]);
            }
          }
          function Dr(n) {
            var t = -1,
              r = null == n ? 0 : n.length;
            for (this.__data__ = new $r(); ++t < r; ) this.add(n[t]);
          }
          function Nr(n) {
            var t = (this.__data__ = new Tr(n));
            this.size = t.size;
          }
          function Mr(n, t) {
            var r = Uo(n),
              e = !r && Co(n),
              u = !r && !e && Do(n),
              i = !r && !e && !u && nf(n),
              o = r || e || u || i,
              f = o ? Rt(n.length, bn) : [],
              a = f.length;
            for (var c in n)
              (!t && !On.call(n, c)) ||
                (o &&
                  ("length" == c ||
                    (u && ("offset" == c || "parent" == c)) ||
                    (i &&
                      ("buffer" == c ||
                        "byteLength" == c ||
                        "byteOffset" == c)) ||
                    ci(c, a))) ||
                f.push(c);
            return f;
          }
          function Fr(n) {
            var t = n.length;
            return t ? n[De(0, t - 1)] : void 0;
          }
          function Pr(n, t) {
            return ki(wu(n), Qr(t, 0, n.length));
          }
          function qr(n) {
            return ki(wu(n));
          }
          function Zr(n, t, r) {
            ((void 0 !== r && !So(n[t], r)) || (void 0 === r && !(t in n))) &&
              Jr(n, t, r);
          }
          function Kr(n, t, r) {
            var e = n[t];
            (On.call(n, t) && So(e, r) && (void 0 !== r || t in n)) ||
              Jr(n, t, r);
          }
          function Vr(n, t) {
            for (var r = n.length; r--; ) if (So(n[r][0], t)) return r;
            return -1;
          }
          function Gr(n, t, r, e) {
            return (
              ee(n, function (n, u, i) {
                t(e, n, r(n), i);
              }),
              e
            );
          }
          function Hr(n, t) {
            return n && mu(t, jf(t), n);
          }
          function Jr(n, t, r) {
            "__proto__" == t && Qt
              ? Qt(n, t, {
                  configurable: !0,
                  enumerable: !0,
                  value: r,
                  writable: !0,
                })
              : (n[t] = r);
          }
          function Yr(n, t) {
            for (var r = -1, e = t.length, u = vn(e), i = null == n; ++r < e; )
              u[r] = i ? void 0 : yf(n, t[r]);
            return u;
          }
          function Qr(n, t, r) {
            return (
              n == n &&
                (void 0 !== r && (n = n <= r ? n : r),
                void 0 !== t && (n = n >= t ? n : t)),
              n
            );
          }
          function Xr(n, t, r, u, f, g) {
            var R,
              z = 1 & t,
              E = 2 & t,
              S = 4 & t;
            if ((r && (R = f ? r(n, u, f, g) : r(n)), void 0 !== R)) return R;
            if (!Zo(n)) return n;
            var L = Uo(n);
            if (L) {
              if (
                ((R = (function (n) {
                  var t = n.length,
                    r = n.constructor(t);
                  t &&
                    "string" == typeof n[0] &&
                    On.call(n, "index") &&
                    ((r.index = n.index), (r.input = n.input));
                  return r;
                })(n)),
                !z)
              )
                return wu(n, R);
            } else {
              var W = ii(n),
                C = W == a || W == c;
              if (Do(n)) return pu(n, z);
              if (W == v || W == e || (C && !f)) {
                if (((R = E || C ? {} : fi(n)), !z))
                  return E
                    ? (function (n, t) {
                        return mu(n, ui(n), t);
                      })(
                        n,
                        (function (n, t) {
                          return n && mu(t, Af(t), n);
                        })(R, n)
                      )
                    : (function (n, t) {
                        return mu(n, ei(n), t);
                      })(n, Hr(R, n));
              } else {
                if (!$n[W]) return f ? n : {};
                R = (function (n, t, r, e) {
                  var u = n.constructor;
                  switch (t) {
                    case y:
                      return du(n);
                    case i:
                    case o:
                      return new u(+n);
                    case b:
                      return (function (n, t) {
                        var r = t ? du(n.buffer) : n.buffer;
                        return new n.constructor(r, n.byteOffset, n.byteLength);
                      })(n, e);
                    case w:
                    case m:
                    case x:
                    case j:
                    case A:
                    case k:
                    case "[object Uint8ClampedArray]":
                    case O:
                    case I:
                      return _u(n, e);
                    case l:
                      return (function (n, t, r) {
                        return pt(
                          t ? r(Dt(n), 1) : Dt(n),
                          rt,
                          new n.constructor()
                        );
                      })(n, e, r);
                    case s:
                    case d:
                      return new u(n);
                    case h:
                      return (function (n) {
                        var t = new n.constructor(n.source, X.exec(n));
                        return (t.lastIndex = n.lastIndex), t;
                      })(n);
                    case p:
                      return (function (n, t, r) {
                        return pt(
                          t ? r(Ft(n), 1) : Ft(n),
                          et,
                          new n.constructor()
                        );
                      })(n, e, r);
                    case _:
                      return (f = n), zr ? gn(zr.call(f)) : {};
                  }
                  var f;
                })(n, W, Xr, z);
              }
            }
            g || (g = new Nr());
            var U = g.get(n);
            if (U) return U;
            g.set(n, R);
            var B = L ? void 0 : (S ? (E ? Hu : Gu) : E ? Af : jf)(n);
            return (
              ot(B || n, function (e, u) {
                B && (e = n[(u = e)]), Kr(R, u, Xr(e, t, r, u, n, g));
              }),
              R
            );
          }
          function ne(n, t, r) {
            var e = r.length;
            if (null == n) return !e;
            for (n = gn(n); e--; ) {
              var u = r[e],
                i = t[u],
                o = n[u];
              if ((void 0 === o && !(u in n)) || !i(o)) return !1;
            }
            return !0;
          }
          function te(t, r, e) {
            if ("function" != typeof t) throw new wn(n);
            return mi(function () {
              t.apply(void 0, e);
            }, r);
          }
          function re(n, t, r, e) {
            var u = -1,
              i = lt,
              o = !0,
              f = n.length,
              a = [],
              c = t.length;
            if (!f) return a;
            r && (t = vt(t, zt(r))),
              e
                ? ((i = st), (o = !1))
                : t.length >= 200 && ((i = St), (o = !1), (t = new Dr(t)));
            n: for (; ++u < f; ) {
              var l = n[u],
                s = null == r ? l : r(l);
              if (((l = e || 0 !== l ? l : 0), o && s == s)) {
                for (var v = c; v--; ) if (t[v] === s) continue n;
                a.push(l);
              } else i(t, s, e) || a.push(l);
            }
            return a;
          }
          (Sr.templateSettings = {
            escape: U,
            evaluate: B,
            interpolate: T,
            variable: "",
            imports: { _: Sr },
          }),
            (Sr.prototype = Wr.prototype),
            (Sr.prototype.constructor = Sr),
            (Cr.prototype = Lr(Wr.prototype)),
            (Cr.prototype.constructor = Cr),
            (Ur.prototype = Lr(Wr.prototype)),
            (Ur.prototype.constructor = Ur),
            (Br.prototype.clear = function () {
              (this.__data__ = wr ? wr(null) : {}), (this.size = 0);
            }),
            (Br.prototype.delete = function (n) {
              var t = this.has(n) && delete this.__data__[n];
              return (this.size -= t ? 1 : 0), t;
            }),
            (Br.prototype.get = function (n) {
              var t = this.__data__;
              if (wr) {
                var r = t[n];
                return "__lodash_hash_undefined__" === r ? void 0 : r;
              }
              return On.call(t, n) ? t[n] : void 0;
            }),
            (Br.prototype.has = function (n) {
              var t = this.__data__;
              return wr ? void 0 !== t[n] : On.call(t, n);
            }),
            (Br.prototype.set = function (n, t) {
              var r = this.__data__;
              return (
                (this.size += this.has(n) ? 0 : 1),
                (r[n] = wr && void 0 === t ? "__lodash_hash_undefined__" : t),
                this
              );
            }),
            (Tr.prototype.clear = function () {
              (this.__data__ = []), (this.size = 0);
            }),
            (Tr.prototype.delete = function (n) {
              var t = this.__data__,
                r = Vr(t, n);
              return (
                !(r < 0) &&
                (r == t.length - 1 ? t.pop() : Gt.call(t, r, 1),
                --this.size,
                !0)
              );
            }),
            (Tr.prototype.get = function (n) {
              var t = this.__data__,
                r = Vr(t, n);
              return r < 0 ? void 0 : t[r][1];
            }),
            (Tr.prototype.has = function (n) {
              return Vr(this.__data__, n) > -1;
            }),
            (Tr.prototype.set = function (n, t) {
              var r = this.__data__,
                e = Vr(r, n);
              return (
                e < 0 ? (++this.size, r.push([n, t])) : (r[e][1] = t), this
              );
            }),
            ($r.prototype.clear = function () {
              (this.size = 0),
                (this.__data__ = {
                  hash: new Br(),
                  map: new (_r || Tr)(),
                  string: new Br(),
                });
            }),
            ($r.prototype.delete = function (n) {
              var t = ni(this, n).delete(n);
              return (this.size -= t ? 1 : 0), t;
            }),
            ($r.prototype.get = function (n) {
              return ni(this, n).get(n);
            }),
            ($r.prototype.has = function (n) {
              return ni(this, n).has(n);
            }),
            ($r.prototype.set = function (n, t) {
              var r = ni(this, n),
                e = r.size;
              return r.set(n, t), (this.size += r.size == e ? 0 : 1), this;
            }),
            (Dr.prototype.add = Dr.prototype.push =
              function (n) {
                return this.__data__.set(n, "__lodash_hash_undefined__"), this;
              }),
            (Dr.prototype.has = function (n) {
              return this.__data__.has(n);
            }),
            (Nr.prototype.clear = function () {
              (this.__data__ = new Tr()), (this.size = 0);
            }),
            (Nr.prototype.delete = function (n) {
              var t = this.__data__,
                r = t.delete(n);
              return (this.size = t.size), r;
            }),
            (Nr.prototype.get = function (n) {
              return this.__data__.get(n);
            }),
            (Nr.prototype.has = function (n) {
              return this.__data__.has(n);
            }),
            (Nr.prototype.set = function (n, t) {
              var r = this.__data__;
              if (r instanceof Tr) {
                var e = r.__data__;
                if (!_r || e.length < 199)
                  return e.push([n, t]), (this.size = ++r.size), this;
                r = this.__data__ = new $r(e);
              }
              return r.set(n, t), (this.size = r.size), this;
            });
          var ee = Au(se),
            ue = Au(ve, !0);
          function ie(n, t) {
            var r = !0;
            return (
              ee(n, function (n, e, u) {
                return (r = !!t(n, e, u));
              }),
              r
            );
          }
          function oe(n, t, r) {
            for (var e = -1, u = n.length; ++e < u; ) {
              var i = n[e],
                o = t(i);
              if (null != o && (void 0 === f ? o == o && !Xo(o) : r(o, f)))
                var f = o,
                  a = i;
            }
            return a;
          }
          function fe(n, t) {
            var r = [];
            return (
              ee(n, function (n, e, u) {
                t(n, e, u) && r.push(n);
              }),
              r
            );
          }
          function ae(n, t, r, e, u) {
            var i = -1,
              o = n.length;
            for (r || (r = ai), u || (u = []); ++i < o; ) {
              var f = n[i];
              t > 0 && r(f)
                ? t > 1
                  ? ae(f, t - 1, r, e, u)
                  : ht(u, f)
                : e || (u[u.length] = f);
            }
            return u;
          }
          var ce = ku(),
            le = ku(!0);
          function se(n, t) {
            return n && ce(n, t, jf);
          }
          function ve(n, t) {
            return n && le(n, t, jf);
          }
          function he(n, t) {
            return ct(t, function (t) {
              return Fo(n[t]);
            });
          }
          function pe(n, t) {
            for (var r = 0, e = (t = lu(t, n)).length; null != n && r < e; )
              n = n[Ii(t[r++])];
            return r && r == e ? n : void 0;
          }
          function de(n, t, r) {
            var e = t(n);
            return Uo(n) ? e : ht(e, r(n));
          }
          function _e(n) {
            return null == n
              ? void 0 === n
                ? "[object Undefined]"
                : "[object Null]"
              : Yt && Yt in gn(n)
              ? (function (n) {
                  var t = On.call(n, Yt),
                    r = n[Yt];
                  try {
                    n[Yt] = void 0;
                    var e = !0;
                  } catch (i) {}
                  var u = Sn.call(n);
                  e && (t ? (n[Yt] = r) : delete n[Yt]);
                  return u;
                })(n)
              : (function (n) {
                  return Sn.call(n);
                })(n);
          }
          function ge(n, t) {
            return n > t;
          }
          function ye(n, t) {
            return null != n && On.call(n, t);
          }
          function be(n, t) {
            return null != n && t in gn(n);
          }
          function we(n, t, r) {
            for (
              var e = r ? st : lt,
                u = n[0].length,
                i = n.length,
                o = i,
                f = vn(i),
                a = 1 / 0,
                c = [];
              o--;

            ) {
              var l = n[o];
              o && t && (l = vt(l, zt(t))),
                (a = lr(l.length, a)),
                (f[o] =
                  !r && (t || (u >= 120 && l.length >= 120))
                    ? new Dr(o && l)
                    : void 0);
            }
            l = n[0];
            var s = -1,
              v = f[0];
            n: for (; ++s < u && c.length < a; ) {
              var h = l[s],
                p = t ? t(h) : h;
              if (((h = r || 0 !== h ? h : 0), !(v ? St(v, p) : e(c, p, r)))) {
                for (o = i; --o; ) {
                  var d = f[o];
                  if (!(d ? St(d, p) : e(n[o], p, r))) continue n;
                }
                v && v.push(p), c.push(h);
              }
            }
            return c;
          }
          function me(n, t, r) {
            var e = null == (n = yi(n, (t = lu(t, n)))) ? n : n[Ii(Ni(t))];
            return null == e ? void 0 : ut(e, n, r);
          }
          function xe(n) {
            return Ko(n) && _e(n) == e;
          }
          function je(n, t, r, a, c) {
            return (
              n === t ||
              (null == n || null == t || (!Ko(n) && !Ko(t))
                ? n != n && t != t
                : (function (n, t, r, a, c, g) {
                    var w = Uo(n),
                      m = Uo(t),
                      x = w ? u : ii(n),
                      j = m ? u : ii(t),
                      A = (x = x == e ? v : x) == v,
                      k = (j = j == e ? v : j) == v,
                      O = x == j;
                    if (O && Do(n)) {
                      if (!Do(t)) return !1;
                      (w = !0), (A = !1);
                    }
                    if (O && !A)
                      return (
                        g || (g = new Nr()),
                        w || nf(n)
                          ? Ku(n, t, r, a, c, g)
                          : (function (n, t, r, e, u, a, c) {
                              switch (r) {
                                case b:
                                  if (
                                    n.byteLength != t.byteLength ||
                                    n.byteOffset != t.byteOffset
                                  )
                                    return !1;
                                  (n = n.buffer), (t = t.buffer);
                                case y:
                                  return !(
                                    n.byteLength != t.byteLength ||
                                    !a(new Kn(n), new Kn(t))
                                  );
                                case i:
                                case o:
                                case s:
                                  return So(+n, +t);
                                case f:
                                  return (
                                    n.name == t.name && n.message == t.message
                                  );
                                case h:
                                case d:
                                  return n == t + "";
                                case l:
                                  var v = Dt;
                                case p:
                                  var g = 1 & e;
                                  if ((v || (v = Ft), n.size != t.size && !g))
                                    return !1;
                                  var w = c.get(n);
                                  if (w) return w == t;
                                  (e |= 2), c.set(n, t);
                                  var m = Ku(v(n), v(t), e, u, a, c);
                                  return c.delete(n), m;
                                case _:
                                  if (zr) return zr.call(n) == zr.call(t);
                              }
                              return !1;
                            })(n, t, x, r, a, c, g)
                      );
                    if (!(1 & r)) {
                      var I = A && On.call(n, "__wrapped__"),
                        R = k && On.call(t, "__wrapped__");
                      if (I || R) {
                        var z = I ? n.value() : n,
                          E = R ? t.value() : t;
                        return g || (g = new Nr()), c(z, E, r, a, g);
                      }
                    }
                    if (!O) return !1;
                    return (
                      g || (g = new Nr()),
                      (function (n, t, r, e, u, i) {
                        var o = 1 & r,
                          f = Gu(n),
                          a = f.length,
                          c = Gu(t).length;
                        if (a != c && !o) return !1;
                        var l = a;
                        for (; l--; ) {
                          var s = f[l];
                          if (!(o ? s in t : On.call(t, s))) return !1;
                        }
                        var v = i.get(n);
                        if (v && i.get(t)) return v == t;
                        var h = !0;
                        i.set(n, t), i.set(t, n);
                        var p = o;
                        for (; ++l < a; ) {
                          s = f[l];
                          var d = n[s],
                            _ = t[s];
                          if (e)
                            var g = o
                              ? e(_, d, s, t, n, i)
                              : e(d, _, s, n, t, i);
                          if (
                            !(void 0 === g ? d === _ || u(d, _, r, e, i) : g)
                          ) {
                            h = !1;
                            break;
                          }
                          p || (p = "constructor" == s);
                        }
                        if (h && !p) {
                          var y = n.constructor,
                            b = t.constructor;
                          y == b ||
                            !("constructor" in n) ||
                            !("constructor" in t) ||
                            ("function" == typeof y &&
                              y instanceof y &&
                              "function" == typeof b &&
                              b instanceof b) ||
                            (h = !1);
                        }
                        return i.delete(n), i.delete(t), h;
                      })(n, t, r, a, c, g)
                    );
                  })(n, t, r, a, je, c))
            );
          }
          function Ae(n, t, r, e) {
            var u = r.length,
              i = u,
              o = !e;
            if (null == n) return !i;
            for (n = gn(n); u--; ) {
              var f = r[u];
              if (o && f[2] ? f[1] !== n[f[0]] : !(f[0] in n)) return !1;
            }
            for (; ++u < i; ) {
              var a = (f = r[u])[0],
                c = n[a],
                l = f[1];
              if (o && f[2]) {
                if (void 0 === c && !(a in n)) return !1;
              } else {
                var s = new Nr();
                if (e) var v = e(c, l, a, n, t, s);
                if (!(void 0 === v ? je(l, c, 3, e, s) : v)) return !1;
              }
            }
            return !0;
          }
          function ke(n) {
            return (
              !(!Zo(n) || ((t = n), Rn && Rn in t)) &&
              (Fo(n) ? Fn : rn).test(Ri(n))
            );
            var t;
          }
          function Oe(n) {
            return "function" == typeof n
              ? n
              : null == n
              ? Hf
              : "object" == typeof n
              ? Uo(n)
                ? Le(n[0], n[1])
                : Se(n)
              : ua(n);
          }
          function Ie(n) {
            if (!pi(n)) return ar(n);
            var t = [];
            for (var r in gn(n))
              On.call(n, r) && "constructor" != r && t.push(r);
            return t;
          }
          function Re(n) {
            if (!Zo(n))
              return (function (n) {
                var t = [];
                if (null != n) for (var r in gn(n)) t.push(r);
                return t;
              })(n);
            var t = pi(n),
              r = [];
            for (var e in n)
              ("constructor" != e || (!t && On.call(n, e))) && r.push(e);
            return r;
          }
          function ze(n, t) {
            return n < t;
          }
          function Ee(n, t) {
            var r = -1,
              e = To(n) ? vn(n.length) : [];
            return (
              ee(n, function (n, u, i) {
                e[++r] = t(n, u, i);
              }),
              e
            );
          }
          function Se(n) {
            var t = ti(n);
            return 1 == t.length && t[0][2]
              ? _i(t[0][0], t[0][1])
              : function (r) {
                  return r === n || Ae(r, n, t);
                };
          }
          function Le(n, t) {
            return si(n) && di(t)
              ? _i(Ii(n), t)
              : function (r) {
                  var e = yf(r, n);
                  return void 0 === e && e === t ? bf(r, n) : je(t, e, 3);
                };
          }
          function We(n, t, r, e, u) {
            n !== t &&
              ce(
                t,
                function (i, o) {
                  if (Zo(i))
                    u || (u = new Nr()),
                      (function (n, t, r, e, u, i, o) {
                        var f = n[r],
                          a = t[r],
                          c = o.get(a);
                        if (c) return void Zr(n, r, c);
                        var l = i ? i(f, a, r + "", n, t, o) : void 0,
                          s = void 0 === l;
                        if (s) {
                          var v = Uo(a),
                            h = !v && Do(a),
                            p = !v && !h && nf(a);
                          (l = a),
                            v || h || p
                              ? Uo(f)
                                ? (l = f)
                                : $o(f)
                                ? (l = wu(f))
                                : h
                                ? ((s = !1), (l = pu(a, !0)))
                                : p
                                ? ((s = !1), (l = _u(a, !0)))
                                : (l = [])
                              : Ho(a) || Co(a)
                              ? ((l = f),
                                Co(f)
                                  ? (l = cf(f))
                                  : (!Zo(f) || (e && Fo(f))) && (l = fi(a)))
                              : (s = !1);
                        }
                        s && (o.set(a, l), u(l, a, e, i, o), o.delete(a));
                        Zr(n, r, l);
                      })(n, t, o, r, We, e, u);
                  else {
                    var f = e ? e(n[o], i, o + "", n, t, u) : void 0;
                    void 0 === f && (f = i), Zr(n, o, f);
                  }
                },
                Af
              );
          }
          function Ce(n, t) {
            var r = n.length;
            if (r) return ci((t += t < 0 ? r : 0), r) ? n[t] : void 0;
          }
          function Ue(n, t, r) {
            var e = -1;
            return (
              (t = vt(t.length ? t : [Hf], zt(Xu()))),
              (function (n, t) {
                var r = n.length;
                for (n.sort(t); r--; ) n[r] = n[r].value;
                return n;
              })(
                Ee(n, function (n, r, u) {
                  return {
                    criteria: vt(t, function (t) {
                      return t(n);
                    }),
                    index: ++e,
                    value: n,
                  };
                }),
                function (n, t) {
                  return (function (n, t, r) {
                    var e = -1,
                      u = n.criteria,
                      i = t.criteria,
                      o = u.length,
                      f = r.length;
                    for (; ++e < o; ) {
                      var a = gu(u[e], i[e]);
                      if (a) {
                        if (e >= f) return a;
                        var c = r[e];
                        return a * ("desc" == c ? -1 : 1);
                      }
                    }
                    return n.index - t.index;
                  })(n, t, r);
                }
              )
            );
          }
          function Be(n, t, r) {
            for (var e = -1, u = t.length, i = {}; ++e < u; ) {
              var o = t[e],
                f = pe(n, o);
              r(f, o) && qe(i, lu(o, n), f);
            }
            return i;
          }
          function Te(n, t, r, e) {
            var u = e ? mt : wt,
              i = -1,
              o = t.length,
              f = n;
            for (n === t && (t = wu(t)), r && (f = vt(n, zt(r))); ++i < o; )
              for (
                var a = 0, c = t[i], l = r ? r(c) : c;
                (a = u(f, l, a, e)) > -1;

              )
                f !== n && Gt.call(f, a, 1), Gt.call(n, a, 1);
            return n;
          }
          function $e(n, t) {
            for (var r = n ? t.length : 0, e = r - 1; r--; ) {
              var u = t[r];
              if (r == e || u !== i) {
                var i = u;
                ci(u) ? Gt.call(n, u, 1) : ru(n, u);
              }
            }
            return n;
          }
          function De(n, t) {
            return n + er(hr() * (t - n + 1));
          }
          function Ne(n, t) {
            var r = "";
            if (!n || t < 1 || t > 9007199254740991) return r;
            do {
              t % 2 && (r += n), (t = er(t / 2)) && (n += n);
            } while (t);
            return r;
          }
          function Me(n, t) {
            return xi(gi(n, t, Hf), n + "");
          }
          function Fe(n) {
            return Fr(Lf(n));
          }
          function Pe(n, t) {
            var r = Lf(n);
            return ki(r, Qr(t, 0, r.length));
          }
          function qe(n, t, r, e) {
            if (!Zo(n)) return n;
            for (
              var u = -1, i = (t = lu(t, n)).length, o = i - 1, f = n;
              null != f && ++u < i;

            ) {
              var a = Ii(t[u]),
                c = r;
              if (u != o) {
                var l = f[a];
                void 0 === (c = e ? e(l, a, f) : void 0) &&
                  (c = Zo(l) ? l : ci(t[u + 1]) ? [] : {});
              }
              Kr(f, a, c), (f = f[a]);
            }
            return n;
          }
          var Ze = mr
              ? function (n, t) {
                  return mr.set(n, t), n;
                }
              : Hf,
            Ke = Qt
              ? function (n, t) {
                  return Qt(n, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: Kf(t),
                    writable: !0,
                  });
                }
              : Hf;
          function Ve(n) {
            return ki(Lf(n));
          }
          function Ge(n, t, r) {
            var e = -1,
              u = n.length;
            t < 0 && (t = -t > u ? 0 : u + t),
              (r = r > u ? u : r) < 0 && (r += u),
              (u = t > r ? 0 : (r - t) >>> 0),
              (t >>>= 0);
            for (var i = vn(u); ++e < u; ) i[e] = n[e + t];
            return i;
          }
          function He(n, t) {
            var r;
            return (
              ee(n, function (n, e, u) {
                return !(r = t(n, e, u));
              }),
              !!r
            );
          }
          function Je(n, t, r) {
            var e = 0,
              u = null == n ? e : n.length;
            if ("number" == typeof t && t == t && u <= 2147483647) {
              for (; e < u; ) {
                var i = (e + u) >>> 1,
                  o = n[i];
                null !== o && !Xo(o) && (r ? o <= t : o < t)
                  ? (e = i + 1)
                  : (u = i);
              }
              return u;
            }
            return Ye(n, t, Hf, r);
          }
          function Ye(n, t, r, e) {
            t = r(t);
            for (
              var u = 0,
                i = null == n ? 0 : n.length,
                o = t != t,
                f = null === t,
                a = Xo(t),
                c = void 0 === t;
              u < i;

            ) {
              var l = er((u + i) / 2),
                s = r(n[l]),
                v = void 0 !== s,
                h = null === s,
                p = s == s,
                d = Xo(s);
              if (o) var _ = e || p;
              else
                _ = c
                  ? p && (e || v)
                  : f
                  ? p && v && (e || !h)
                  : a
                  ? p && v && !h && (e || !d)
                  : !h && !d && (e ? s <= t : s < t);
              _ ? (u = l + 1) : (i = l);
            }
            return lr(i, 4294967294);
          }
          function Qe(n, t) {
            for (var r = -1, e = n.length, u = 0, i = []; ++r < e; ) {
              var o = n[r],
                f = t ? t(o) : o;
              if (!r || !So(f, a)) {
                var a = f;
                i[u++] = 0 === o ? 0 : o;
              }
            }
            return i;
          }
          function Xe(n) {
            return "number" == typeof n ? n : Xo(n) ? NaN : +n;
          }
          function nu(n) {
            if ("string" == typeof n) return n;
            if (Uo(n)) return vt(n, nu) + "";
            if (Xo(n)) return Er ? Er.call(n) : "";
            var t = n + "";
            return "0" == t && 1 / n == -1 / 0 ? "-0" : t;
          }
          function tu(n, t, r) {
            var e = -1,
              u = lt,
              i = n.length,
              o = !0,
              f = [],
              a = f;
            if (r) (o = !1), (u = st);
            else if (i >= 200) {
              var c = t ? null : Nu(n);
              if (c) return Ft(c);
              (o = !1), (u = St), (a = new Dr());
            } else a = t ? [] : f;
            n: for (; ++e < i; ) {
              var l = n[e],
                s = t ? t(l) : l;
              if (((l = r || 0 !== l ? l : 0), o && s == s)) {
                for (var v = a.length; v--; ) if (a[v] === s) continue n;
                t && a.push(s), f.push(l);
              } else u(a, s, r) || (a !== f && a.push(s), f.push(l));
            }
            return f;
          }
          function ru(n, t) {
            return null == (n = yi(n, (t = lu(t, n)))) || delete n[Ii(Ni(t))];
          }
          function eu(n, t, r, e) {
            return qe(n, t, r(pe(n, t)), e);
          }
          function uu(n, t, r, e) {
            for (
              var u = n.length, i = e ? u : -1;
              (e ? i-- : ++i < u) && t(n[i], i, n);

            );
            return r
              ? Ge(n, e ? 0 : i, e ? i + 1 : u)
              : Ge(n, e ? i + 1 : 0, e ? u : i);
          }
          function iu(n, t) {
            var r = n;
            return (
              r instanceof Ur && (r = r.value()),
              pt(
                t,
                function (n, t) {
                  return t.func.apply(t.thisArg, ht([n], t.args));
                },
                r
              )
            );
          }
          function ou(n, t, r) {
            var e = n.length;
            if (e < 2) return e ? tu(n[0]) : [];
            for (var u = -1, i = vn(e); ++u < e; )
              for (var o = n[u], f = -1; ++f < e; )
                f != u && (i[u] = re(i[u] || o, n[f], t, r));
            return tu(ae(i, 1), t, r);
          }
          function fu(n, t, r) {
            for (var e = -1, u = n.length, i = t.length, o = {}; ++e < u; ) {
              var f = e < i ? t[e] : void 0;
              r(o, n[e], f);
            }
            return o;
          }
          function au(n) {
            return $o(n) ? n : [];
          }
          function cu(n) {
            return "function" == typeof n ? n : Hf;
          }
          function lu(n, t) {
            return Uo(n) ? n : si(n, t) ? [n] : Oi(lf(n));
          }
          var su = Me;
          function vu(n, t, r) {
            var e = n.length;
            return (r = void 0 === r ? e : r), !t && r >= e ? n : Ge(n, t, r);
          }
          var hu =
            Xt ||
            function (n) {
              return qn.clearTimeout(n);
            };
          function pu(n, t) {
            if (t) return n.slice();
            var r = n.length,
              e = Gn ? Gn(r) : new n.constructor(r);
            return n.copy(e), e;
          }
          function du(n) {
            var t = new n.constructor(n.byteLength);
            return new Kn(t).set(new Kn(n)), t;
          }
          function _u(n, t) {
            var r = t ? du(n.buffer) : n.buffer;
            return new n.constructor(r, n.byteOffset, n.length);
          }
          function gu(n, t) {
            if (n !== t) {
              var r = void 0 !== n,
                e = null === n,
                u = n == n,
                i = Xo(n),
                o = void 0 !== t,
                f = null === t,
                a = t == t,
                c = Xo(t);
              if (
                (!f && !c && !i && n > t) ||
                (i && o && a && !f && !c) ||
                (e && o && a) ||
                (!r && a) ||
                !u
              )
                return 1;
              if (
                (!e && !i && !c && n < t) ||
                (c && r && u && !e && !i) ||
                (f && r && u) ||
                (!o && u) ||
                !a
              )
                return -1;
            }
            return 0;
          }
          function yu(n, t, r, e) {
            for (
              var u = -1,
                i = n.length,
                o = r.length,
                f = -1,
                a = t.length,
                c = cr(i - o, 0),
                l = vn(a + c),
                s = !e;
              ++f < a;

            )
              l[f] = t[f];
            for (; ++u < o; ) (s || u < i) && (l[r[u]] = n[u]);
            for (; c--; ) l[f++] = n[u++];
            return l;
          }
          function bu(n, t, r, e) {
            for (
              var u = -1,
                i = n.length,
                o = -1,
                f = r.length,
                a = -1,
                c = t.length,
                l = cr(i - f, 0),
                s = vn(l + c),
                v = !e;
              ++u < l;

            )
              s[u] = n[u];
            for (var h = u; ++a < c; ) s[h + a] = t[a];
            for (; ++o < f; ) (v || u < i) && (s[h + r[o]] = n[u++]);
            return s;
          }
          function wu(n, t) {
            var r = -1,
              e = n.length;
            for (t || (t = vn(e)); ++r < e; ) t[r] = n[r];
            return t;
          }
          function mu(n, t, r, e) {
            var u = !r;
            r || (r = {});
            for (var i = -1, o = t.length; ++i < o; ) {
              var f = t[i],
                a = e ? e(r[f], n[f], f, r, n) : void 0;
              void 0 === a && (a = n[f]), u ? Jr(r, f, a) : Kr(r, f, a);
            }
            return r;
          }
          function xu(n, t) {
            return function (r, e) {
              var u = Uo(r) ? it : Gr,
                i = t ? t() : {};
              return u(r, n, Xu(e, 2), i);
            };
          }
          function ju(n) {
            return Me(function (t, r) {
              var e = -1,
                u = r.length,
                i = u > 1 ? r[u - 1] : void 0,
                o = u > 2 ? r[2] : void 0;
              for (
                i = n.length > 3 && "function" == typeof i ? (u--, i) : void 0,
                  o && li(r[0], r[1], o) && ((i = u < 3 ? void 0 : i), (u = 1)),
                  t = gn(t);
                ++e < u;

              ) {
                var f = r[e];
                f && n(t, f, e, i);
              }
              return t;
            });
          }
          function Au(n, t) {
            return function (r, e) {
              if (null == r) return r;
              if (!To(r)) return n(r, e);
              for (
                var u = r.length, i = t ? u : -1, o = gn(r);
                (t ? i-- : ++i < u) && !1 !== e(o[i], i, o);

              );
              return r;
            };
          }
          function ku(n) {
            return function (t, r, e) {
              for (var u = -1, i = gn(t), o = e(t), f = o.length; f--; ) {
                var a = o[n ? f : ++u];
                if (!1 === r(i[a], a, i)) break;
              }
              return t;
            };
          }
          function Ou(n) {
            return function (t) {
              var r = $t((t = lf(t))) ? Zt(t) : void 0,
                e = r ? r[0] : t.charAt(0),
                u = r ? vu(r, 1).join("") : t.slice(1);
              return e[n]() + u;
            };
          }
          function Iu(n) {
            return function (t) {
              return pt(Pf(Uf(t).replace(zn, "")), n, "");
            };
          }
          function Ru(n) {
            return function () {
              var t = arguments;
              switch (t.length) {
                case 0:
                  return new n();
                case 1:
                  return new n(t[0]);
                case 2:
                  return new n(t[0], t[1]);
                case 3:
                  return new n(t[0], t[1], t[2]);
                case 4:
                  return new n(t[0], t[1], t[2], t[3]);
                case 5:
                  return new n(t[0], t[1], t[2], t[3], t[4]);
                case 6:
                  return new n(t[0], t[1], t[2], t[3], t[4], t[5]);
                case 7:
                  return new n(t[0], t[1], t[2], t[3], t[4], t[5], t[6]);
              }
              var r = Lr(n.prototype),
                e = n.apply(r, t);
              return Zo(e) ? e : r;
            };
          }
          function zu(n) {
            return function (t, r, e) {
              var u = gn(t);
              if (!To(t)) {
                var i = Xu(r, 3);
                (t = jf(t)),
                  (r = function (n) {
                    return i(u[n], n, u);
                  });
              }
              var o = n(t, r, e);
              return o > -1 ? u[i ? t[o] : o] : void 0;
            };
          }
          function Eu(t) {
            return Vu(function (r) {
              var e = r.length,
                u = e,
                i = Cr.prototype.thru;
              for (t && r.reverse(); u--; ) {
                var o = r[u];
                if ("function" != typeof o) throw new wn(n);
                if (i && !f && "wrapper" == Yu(o)) var f = new Cr([], !0);
              }
              for (u = f ? u : e; ++u < e; ) {
                var a = Yu((o = r[u])),
                  c = "wrapper" == a ? Ju(o) : void 0;
                f =
                  c && vi(c[0]) && 424 == c[1] && !c[4].length && 1 == c[9]
                    ? f[Yu(c[0])].apply(f, c[3])
                    : 1 == o.length && vi(o)
                    ? f[a]()
                    : f.thru(o);
              }
              return function () {
                var n = arguments,
                  t = n[0];
                if (f && 1 == n.length && Uo(t)) return f.plant(t).value();
                for (var u = 0, i = e ? r[u].apply(this, n) : t; ++u < e; )
                  i = r[u].call(this, i);
                return i;
              };
            });
          }
          function Su(n, t, r, e, u, i, o, f, a, c) {
            var l = 128 & t,
              s = 1 & t,
              v = 2 & t,
              h = 24 & t,
              p = 512 & t,
              d = v ? void 0 : Ru(n);
            return function _() {
              for (var g = arguments.length, y = vn(g), b = g; b--; )
                y[b] = arguments[b];
              if (h)
                var w = Qu(_),
                  m = Ct(y, w);
              if (
                (e && (y = yu(y, e, u, h)),
                i && (y = bu(y, i, o, h)),
                (g -= m),
                h && g < c)
              ) {
                var x = Mt(y, w);
                return $u(n, t, Su, _.placeholder, r, y, x, f, a, c - g);
              }
              var j = s ? r : this,
                A = v ? j[n] : n;
              return (
                (g = y.length),
                f ? (y = bi(y, f)) : p && g > 1 && y.reverse(),
                l && a < g && (y.length = a),
                this && this !== qn && this instanceof _ && (A = d || Ru(A)),
                A.apply(j, y)
              );
            };
          }
          function Lu(n, t) {
            return function (r, e) {
              return (function (n, t, r, e) {
                return (
                  se(n, function (n, u, i) {
                    t(e, r(n), u, i);
                  }),
                  e
                );
              })(r, n, t(e), {});
            };
          }
          function Wu(n, t) {
            return function (r, e) {
              var u;
              if (void 0 === r && void 0 === e) return t;
              if ((void 0 !== r && (u = r), void 0 !== e)) {
                if (void 0 === u) return e;
                "string" == typeof r || "string" == typeof e
                  ? ((r = nu(r)), (e = nu(e)))
                  : ((r = Xe(r)), (e = Xe(e))),
                  (u = n(r, e));
              }
              return u;
            };
          }
          function Cu(n) {
            return Vu(function (t) {
              return (
                (t = vt(t, zt(Xu()))),
                Me(function (r) {
                  var e = this;
                  return n(t, function (n) {
                    return ut(n, e, r);
                  });
                })
              );
            });
          }
          function Uu(n, t) {
            var r = (t = void 0 === t ? " " : nu(t)).length;
            if (r < 2) return r ? Ne(t, n) : t;
            var e = Ne(t, rr(n / qt(t)));
            return $t(t) ? vu(Zt(e), 0, n).join("") : e.slice(0, n);
          }
          function Bu(n) {
            return function (t, r, e) {
              return (
                e && "number" != typeof e && li(t, r, e) && (r = e = void 0),
                (t = uf(t)),
                void 0 === r ? ((r = t), (t = 0)) : (r = uf(r)),
                (function (n, t, r, e) {
                  for (
                    var u = -1, i = cr(rr((t - n) / (r || 1)), 0), o = vn(i);
                    i--;

                  )
                    (o[e ? i : ++u] = n), (n += r);
                  return o;
                })(t, r, (e = void 0 === e ? (t < r ? 1 : -1) : uf(e)), n)
              );
            };
          }
          function Tu(n) {
            return function (t, r) {
              return (
                ("string" == typeof t && "string" == typeof r) ||
                  ((t = af(t)), (r = af(r))),
                n(t, r)
              );
            };
          }
          function $u(n, t, r, e, u, i, o, f, a, c) {
            var l = 8 & t;
            (t |= l ? 32 : 64), 4 & (t &= ~(l ? 64 : 32)) || (t &= -4);
            var s = [
                n,
                t,
                u,
                l ? i : void 0,
                l ? o : void 0,
                l ? void 0 : i,
                l ? void 0 : o,
                f,
                a,
                c,
              ],
              v = r.apply(void 0, s);
            return vi(n) && wi(v, s), (v.placeholder = e), ji(v, n, t);
          }
          function Du(n) {
            var t = _n[n];
            return function (n, r) {
              if (((n = af(n)), (r = null == r ? 0 : lr(of(r), 292)))) {
                var e = (lf(n) + "e").split("e");
                return +(
                  (e = (lf(t(e[0] + "e" + (+e[1] + r))) + "e").split("e"))[0] +
                  "e" +
                  (+e[1] - r)
                );
              }
              return t(n);
            };
          }
          var Nu =
            yr && 1 / Ft(new yr([, -0]))[1] == 1 / 0
              ? function (n) {
                  return new yr(n);
                }
              : na;
          function Mu(n) {
            return function (t) {
              var r = ii(t);
              return r == l
                ? Dt(t)
                : r == p
                ? Pt(t)
                : (function (n, t) {
                    return vt(t, function (t) {
                      return [t, n[t]];
                    });
                  })(t, n(t));
            };
          }
          function Fu(r, e, u, i, o, f, a, c) {
            var l = 2 & e;
            if (!l && "function" != typeof r) throw new wn(n);
            var s = i ? i.length : 0;
            if (
              (s || ((e &= -97), (i = o = void 0)),
              (a = void 0 === a ? a : cr(of(a), 0)),
              (c = void 0 === c ? c : of(c)),
              (s -= o ? o.length : 0),
              64 & e)
            ) {
              var v = i,
                h = o;
              i = o = void 0;
            }
            var p = l ? void 0 : Ju(r),
              d = [r, e, u, i, o, v, h, f, a, c];
            if (
              (p &&
                (function (n, r) {
                  var e = n[1],
                    u = r[1],
                    i = e | u,
                    o = i < 131,
                    f =
                      (128 == u && 8 == e) ||
                      (128 == u && 256 == e && n[7].length <= r[8]) ||
                      (384 == u && r[7].length <= r[8] && 8 == e);
                  if (!o && !f) return n;
                  1 & u && ((n[2] = r[2]), (i |= 1 & e ? 0 : 4));
                  var a = r[3];
                  if (a) {
                    var c = n[3];
                    (n[3] = c ? yu(c, a, r[4]) : a),
                      (n[4] = c ? Mt(n[3], t) : r[4]);
                  }
                  (a = r[5]) &&
                    ((c = n[5]),
                    (n[5] = c ? bu(c, a, r[6]) : a),
                    (n[6] = c ? Mt(n[5], t) : r[6]));
                  (a = r[7]) && (n[7] = a);
                  128 & u && (n[8] = null == n[8] ? r[8] : lr(n[8], r[8]));
                  null == n[9] && (n[9] = r[9]);
                  (n[0] = r[0]), (n[1] = i);
                })(d, p),
              (r = d[0]),
              (e = d[1]),
              (u = d[2]),
              (i = d[3]),
              (o = d[4]),
              !(c = d[9] =
                void 0 === d[9] ? (l ? 0 : r.length) : cr(d[9] - s, 0)) &&
                24 & e &&
                (e &= -25),
              e && 1 != e)
            )
              _ =
                8 == e || 16 == e
                  ? (function (n, t, r) {
                      var e = Ru(n);
                      return function u() {
                        for (
                          var i = arguments.length, o = vn(i), f = i, a = Qu(u);
                          f--;

                        )
                          o[f] = arguments[f];
                        var c =
                          i < 3 && o[0] !== a && o[i - 1] !== a ? [] : Mt(o, a);
                        if ((i -= c.length) < r)
                          return $u(
                            n,
                            t,
                            Su,
                            u.placeholder,
                            void 0,
                            o,
                            c,
                            void 0,
                            void 0,
                            r - i
                          );
                        var l =
                          this && this !== qn && this instanceof u ? e : n;
                        return ut(l, this, o);
                      };
                    })(r, e, c)
                  : (32 != e && 33 != e) || o.length
                  ? Su.apply(void 0, d)
                  : (function (n, t, r, e) {
                      var u = 1 & t,
                        i = Ru(n);
                      return function t() {
                        for (
                          var o = -1,
                            f = arguments.length,
                            a = -1,
                            c = e.length,
                            l = vn(c + f),
                            s =
                              this && this !== qn && this instanceof t ? i : n;
                          ++a < c;

                        )
                          l[a] = e[a];
                        for (; f--; ) l[a++] = arguments[++o];
                        return ut(s, u ? r : this, l);
                      };
                    })(r, e, u, i);
            else
              var _ = (function (n, t, r) {
                var e = 1 & t,
                  u = Ru(n);
                return function t() {
                  var i = this && this !== qn && this instanceof t ? u : n;
                  return i.apply(e ? r : this, arguments);
                };
              })(r, e, u);
            return ji((p ? Ze : wi)(_, d), r, e);
          }
          function Pu(n, t, r, e) {
            return void 0 === n || (So(n, jn[r]) && !On.call(e, r)) ? t : n;
          }
          function qu(n, t, r, e, u, i) {
            return (
              Zo(n) &&
                Zo(t) &&
                (i.set(t, n), We(n, t, void 0, qu, i), i.delete(t)),
              n
            );
          }
          function Zu(n) {
            return Ho(n) ? void 0 : n;
          }
          function Ku(n, t, r, e, u, i) {
            var o = 1 & r,
              f = n.length,
              a = t.length;
            if (f != a && !(o && a > f)) return !1;
            var c = i.get(n);
            if (c && i.get(t)) return c == t;
            var l = -1,
              s = !0,
              v = 2 & r ? new Dr() : void 0;
            for (i.set(n, t), i.set(t, n); ++l < f; ) {
              var h = n[l],
                p = t[l];
              if (e) var d = o ? e(p, h, l, t, n, i) : e(h, p, l, n, t, i);
              if (void 0 !== d) {
                if (d) continue;
                s = !1;
                break;
              }
              if (v) {
                if (
                  !_t(t, function (n, t) {
                    if (!St(v, t) && (h === n || u(h, n, r, e, i)))
                      return v.push(t);
                  })
                ) {
                  s = !1;
                  break;
                }
              } else if (h !== p && !u(h, p, r, e, i)) {
                s = !1;
                break;
              }
            }
            return i.delete(n), i.delete(t), s;
          }
          function Vu(n) {
            return xi(gi(n, void 0, Ui), n + "");
          }
          function Gu(n) {
            return de(n, jf, ei);
          }
          function Hu(n) {
            return de(n, Af, ui);
          }
          var Ju = mr
            ? function (n) {
                return mr.get(n);
              }
            : na;
          function Yu(n) {
            for (
              var t = n.name + "", r = xr[t], e = On.call(xr, t) ? r.length : 0;
              e--;

            ) {
              var u = r[e],
                i = u.func;
              if (null == i || i == n) return u.name;
            }
            return t;
          }
          function Qu(n) {
            return (On.call(Sr, "placeholder") ? Sr : n).placeholder;
          }
          function Xu() {
            var n = Sr.iteratee || Jf;
            return (
              (n = n === Jf ? Oe : n),
              arguments.length ? n(arguments[0], arguments[1]) : n
            );
          }
          function ni(n, t) {
            var r,
              e,
              u = n.__data__;
            return (
              "string" == (e = typeof (r = t)) ||
              "number" == e ||
              "symbol" == e ||
              "boolean" == e
                ? "__proto__" !== r
                : null === r
            )
              ? u["string" == typeof t ? "string" : "hash"]
              : u.map;
          }
          function ti(n) {
            for (var t = jf(n), r = t.length; r--; ) {
              var e = t[r],
                u = n[e];
              t[r] = [e, u, di(u)];
            }
            return t;
          }
          function ri(n, t) {
            var r = (function (n, t) {
              return null == n ? void 0 : n[t];
            })(n, t);
            return ke(r) ? r : void 0;
          }
          var ei = ur
              ? function (n) {
                  return null == n
                    ? []
                    : ((n = gn(n)),
                      ct(ur(n), function (t) {
                        return kt.call(n, t);
                      }));
                }
              : fa,
            ui = ur
              ? function (n) {
                  for (var t = []; n; ) ht(t, ei(n)), (n = Hn(n));
                  return t;
                }
              : fa,
            ii = _e;
          function oi(n, t, r) {
            for (var e = -1, u = (t = lu(t, n)).length, i = !1; ++e < u; ) {
              var o = Ii(t[e]);
              if (!(i = null != n && r(n, o))) break;
              n = n[o];
            }
            return i || ++e != u
              ? i
              : !!(u = null == n ? 0 : n.length) &&
                  qo(u) &&
                  ci(o, u) &&
                  (Uo(n) || Co(n));
          }
          function fi(n) {
            return "function" != typeof n.constructor || pi(n) ? {} : Lr(Hn(n));
          }
          function ai(n) {
            return Uo(n) || Co(n) || !!(Ht && n && n[Ht]);
          }
          function ci(n, t) {
            return (
              !!(t = null == t ? 9007199254740991 : t) &&
              ("number" == typeof n || un.test(n)) &&
              n > -1 &&
              n % 1 == 0 &&
              n < t
            );
          }
          function li(n, t, r) {
            if (!Zo(r)) return !1;
            var e = typeof t;
            return (
              !!("number" == e
                ? To(r) && ci(t, r.length)
                : "string" == e && t in r) && So(r[t], n)
            );
          }
          function si(n, t) {
            if (Uo(n)) return !1;
            var r = typeof n;
            return (
              !(
                "number" != r &&
                "symbol" != r &&
                "boolean" != r &&
                null != n &&
                !Xo(n)
              ) ||
              D.test(n) ||
              !$.test(n) ||
              (null != t && n in gn(t))
            );
          }
          function vi(n) {
            var t = Yu(n),
              r = Sr[t];
            if ("function" != typeof r || !(t in Ur.prototype)) return !1;
            if (n === r) return !0;
            var e = Ju(r);
            return !!e && n === e[0];
          }
          ((dr && ii(new dr(new ArrayBuffer(1))) != b) ||
            (_r && ii(new _r()) != l) ||
            (gr && "[object Promise]" != ii(gr.resolve())) ||
            (yr && ii(new yr()) != p) ||
            (br && ii(new br()) != g)) &&
            (ii = function (n) {
              var t = _e(n),
                r = t == v ? n.constructor : void 0,
                e = r ? Ri(r) : "";
              if (e)
                switch (e) {
                  case jr:
                    return b;
                  case Ar:
                    return l;
                  case kr:
                    return "[object Promise]";
                  case Or:
                    return p;
                  case Ir:
                    return g;
                }
              return t;
            });
          var hi = An ? Fo : aa;
          function pi(n) {
            var t = n && n.constructor;
            return n === (("function" == typeof t && t.prototype) || jn);
          }
          function di(n) {
            return n == n && !Zo(n);
          }
          function _i(n, t) {
            return function (r) {
              return null != r && r[n] === t && (void 0 !== t || n in gn(r));
            };
          }
          function gi(n, t, r) {
            return (
              (t = cr(void 0 === t ? n.length - 1 : t, 0)),
              function () {
                for (
                  var e = arguments, u = -1, i = cr(e.length - t, 0), o = vn(i);
                  ++u < i;

                )
                  o[u] = e[t + u];
                u = -1;
                for (var f = vn(t + 1); ++u < t; ) f[u] = e[u];
                return (f[t] = r(o)), ut(n, this, f);
              }
            );
          }
          function yi(n, t) {
            return t.length < 2 ? n : pe(n, Ge(t, 0, -1));
          }
          function bi(n, t) {
            for (var r = n.length, e = lr(t.length, r), u = wu(n); e--; ) {
              var i = t[e];
              n[e] = ci(i, r) ? u[i] : void 0;
            }
            return n;
          }
          var wi = Ai(Ze),
            mi =
              tr ||
              function (n, t) {
                return qn.setTimeout(n, t);
              },
            xi = Ai(Ke);
          function ji(n, t, e) {
            var u = t + "";
            return xi(
              n,
              (function (n, t) {
                var r = t.length;
                if (!r) return n;
                var e = r - 1;
                return (
                  (t[e] = (r > 1 ? "& " : "") + t[e]),
                  (t = t.join(r > 2 ? ", " : " ")),
                  n.replace(V, "{\n/* [wrapped with " + t + "] */\n")
                );
              })(
                u,
                (function (n, t) {
                  return (
                    ot(r, function (r) {
                      var e = "_." + r[0];
                      t & r[1] && !lt(n, e) && n.push(e);
                    }),
                    n.sort()
                  );
                })(
                  (function (n) {
                    var t = n.match(G);
                    return t ? t[1].split(H) : [];
                  })(u),
                  e
                )
              )
            );
          }
          function Ai(n) {
            var t = 0,
              r = 0;
            return function () {
              var e = sr(),
                u = 16 - (e - r);
              if (((r = e), u > 0)) {
                if (++t >= 800) return arguments[0];
              } else t = 0;
              return n.apply(void 0, arguments);
            };
          }
          function ki(n, t) {
            var r = -1,
              e = n.length,
              u = e - 1;
            for (t = void 0 === t ? e : t; ++r < t; ) {
              var i = De(r, u),
                o = n[i];
              (n[i] = n[r]), (n[r] = o);
            }
            return (n.length = t), n;
          }
          var Oi = (function (n) {
            var t = ko(n, function (n) {
                return 500 === r.size && r.clear(), n;
              }),
              r = t.cache;
            return t;
          })(function (n) {
            var t = [];
            return (
              N.test(n) && t.push(""),
              n.replace(M, function (n, r, e, u) {
                t.push(e ? u.replace(Y, "$1") : r || n);
              }),
              t
            );
          });
          function Ii(n) {
            if ("string" == typeof n || Xo(n)) return n;
            var t = n + "";
            return "0" == t && 1 / n == -1 / 0 ? "-0" : t;
          }
          function Ri(n) {
            if (null != n) {
              try {
                return kn.call(n);
              } catch (t) {}
              try {
                return n + "";
              } catch (t) {}
            }
            return "";
          }
          function zi(n) {
            if (n instanceof Ur) return n.clone();
            var t = new Cr(n.__wrapped__, n.__chain__);
            return (
              (t.__actions__ = wu(n.__actions__)),
              (t.__index__ = n.__index__),
              (t.__values__ = n.__values__),
              t
            );
          }
          var Ei = Me(function (n, t) {
              return $o(n) ? re(n, ae(t, 1, $o, !0)) : [];
            }),
            Si = Me(function (n, t) {
              var r = Ni(t);
              return (
                $o(r) && (r = void 0),
                $o(n) ? re(n, ae(t, 1, $o, !0), Xu(r, 2)) : []
              );
            }),
            Li = Me(function (n, t) {
              var r = Ni(t);
              return (
                $o(r) && (r = void 0),
                $o(n) ? re(n, ae(t, 1, $o, !0), void 0, r) : []
              );
            });
          function Wi(n, t, r) {
            var e = null == n ? 0 : n.length;
            if (!e) return -1;
            var u = null == r ? 0 : of(r);
            return u < 0 && (u = cr(e + u, 0)), bt(n, Xu(t, 3), u);
          }
          function Ci(n, t, r) {
            var e = null == n ? 0 : n.length;
            if (!e) return -1;
            var u = e - 1;
            return (
              void 0 !== r &&
                ((u = of(r)), (u = r < 0 ? cr(e + u, 0) : lr(u, e - 1))),
              bt(n, Xu(t, 3), u, !0)
            );
          }
          function Ui(n) {
            return (null == n ? 0 : n.length) ? ae(n, 1) : [];
          }
          function Bi(n) {
            return n && n.length ? n[0] : void 0;
          }
          var Ti = Me(function (n) {
              var t = vt(n, au);
              return t.length && t[0] === n[0] ? we(t) : [];
            }),
            $i = Me(function (n) {
              var t = Ni(n),
                r = vt(n, au);
              return (
                t === Ni(r) ? (t = void 0) : r.pop(),
                r.length && r[0] === n[0] ? we(r, Xu(t, 2)) : []
              );
            }),
            Di = Me(function (n) {
              var t = Ni(n),
                r = vt(n, au);
              return (
                (t = "function" == typeof t ? t : void 0) && r.pop(),
                r.length && r[0] === n[0] ? we(r, void 0, t) : []
              );
            });
          function Ni(n) {
            var t = null == n ? 0 : n.length;
            return t ? n[t - 1] : void 0;
          }
          var Mi = Me(Fi);
          function Fi(n, t) {
            return n && n.length && t && t.length ? Te(n, t) : n;
          }
          var Pi = Vu(function (n, t) {
            var r = null == n ? 0 : n.length,
              e = Yr(n, t);
            return (
              $e(
                n,
                vt(t, function (n) {
                  return ci(n, r) ? +n : n;
                }).sort(gu)
              ),
              e
            );
          });
          function qi(n) {
            return null == n ? n : pr.call(n);
          }
          var Zi = Me(function (n) {
              return tu(ae(n, 1, $o, !0));
            }),
            Ki = Me(function (n) {
              var t = Ni(n);
              return $o(t) && (t = void 0), tu(ae(n, 1, $o, !0), Xu(t, 2));
            }),
            Vi = Me(function (n) {
              var t = Ni(n);
              return (
                (t = "function" == typeof t ? t : void 0),
                tu(ae(n, 1, $o, !0), void 0, t)
              );
            });
          function Gi(n) {
            if (!n || !n.length) return [];
            var t = 0;
            return (
              (n = ct(n, function (n) {
                if ($o(n)) return (t = cr(n.length, t)), !0;
              })),
              Rt(t, function (t) {
                return vt(n, At(t));
              })
            );
          }
          function Hi(n, t) {
            if (!n || !n.length) return [];
            var r = Gi(n);
            return null == t
              ? r
              : vt(r, function (n) {
                  return ut(t, void 0, n);
                });
          }
          var Ji = Me(function (n, t) {
              return $o(n) ? re(n, t) : [];
            }),
            Yi = Me(function (n) {
              return ou(ct(n, $o));
            }),
            Qi = Me(function (n) {
              var t = Ni(n);
              return $o(t) && (t = void 0), ou(ct(n, $o), Xu(t, 2));
            }),
            Xi = Me(function (n) {
              var t = Ni(n);
              return (
                (t = "function" == typeof t ? t : void 0),
                ou(ct(n, $o), void 0, t)
              );
            }),
            no = Me(Gi);
          var to = Me(function (n) {
            var t = n.length,
              r = t > 1 ? n[t - 1] : void 0;
            return (
              (r = "function" == typeof r ? (n.pop(), r) : void 0), Hi(n, r)
            );
          });
          function ro(n) {
            var t = Sr(n);
            return (t.__chain__ = !0), t;
          }
          function eo(n, t) {
            return t(n);
          }
          var uo = Vu(function (n) {
            var t = n.length,
              r = t ? n[0] : 0,
              e = this.__wrapped__,
              u = function (t) {
                return Yr(t, n);
              };
            return !(t > 1 || this.__actions__.length) &&
              e instanceof Ur &&
              ci(r)
              ? ((e = e.slice(r, +r + (t ? 1 : 0))).__actions__.push({
                  func: eo,
                  args: [u],
                  thisArg: void 0,
                }),
                new Cr(e, this.__chain__).thru(function (n) {
                  return t && !n.length && n.push(void 0), n;
                }))
              : this.thru(u);
          });
          var io = xu(function (n, t, r) {
            On.call(n, r) ? ++n[r] : Jr(n, r, 1);
          });
          var oo = zu(Wi),
            fo = zu(Ci);
          function ao(n, t) {
            return (Uo(n) ? ot : ee)(n, Xu(t, 3));
          }
          function co(n, t) {
            return (Uo(n) ? ft : ue)(n, Xu(t, 3));
          }
          var lo = xu(function (n, t, r) {
            On.call(n, r) ? n[r].push(t) : Jr(n, r, [t]);
          });
          var so = Me(function (n, t, r) {
              var e = -1,
                u = "function" == typeof t,
                i = To(n) ? vn(n.length) : [];
              return (
                ee(n, function (n) {
                  i[++e] = u ? ut(t, n, r) : me(n, t, r);
                }),
                i
              );
            }),
            vo = xu(function (n, t, r) {
              Jr(n, r, t);
            });
          function ho(n, t) {
            return (Uo(n) ? vt : Ee)(n, Xu(t, 3));
          }
          var po = xu(
            function (n, t, r) {
              n[r ? 0 : 1].push(t);
            },
            function () {
              return [[], []];
            }
          );
          var _o = Me(function (n, t) {
              if (null == n) return [];
              var r = t.length;
              return (
                r > 1 && li(n, t[0], t[1])
                  ? (t = [])
                  : r > 2 && li(t[0], t[1], t[2]) && (t = [t[0]]),
                Ue(n, ae(t, 1), [])
              );
            }),
            go =
              nr ||
              function () {
                return qn.Date.now();
              };
          function yo(n, t, r) {
            return (
              (t = r ? void 0 : t),
              Fu(
                n,
                128,
                void 0,
                void 0,
                void 0,
                void 0,
                (t = n && null == t ? n.length : t)
              )
            );
          }
          function bo(t, r) {
            var e;
            if ("function" != typeof r) throw new wn(n);
            return (
              (t = of(t)),
              function () {
                return (
                  --t > 0 && (e = r.apply(this, arguments)),
                  t <= 1 && (r = void 0),
                  e
                );
              }
            );
          }
          var wo = Me(function (n, t, r) {
              var e = 1;
              if (r.length) {
                var u = Mt(r, Qu(wo));
                e |= 32;
              }
              return Fu(n, e, t, r, u);
            }),
            mo = Me(function (n, t, r) {
              var e = 3;
              if (r.length) {
                var u = Mt(r, Qu(mo));
                e |= 32;
              }
              return Fu(t, e, n, r, u);
            });
          function xo(t, r, e) {
            var u,
              i,
              o,
              f,
              a,
              c,
              l = 0,
              s = !1,
              v = !1,
              h = !0;
            if ("function" != typeof t) throw new wn(n);
            function p(n) {
              var r = u,
                e = i;
              return (u = i = void 0), (l = n), (f = t.apply(e, r));
            }
            function d(n) {
              return (l = n), (a = mi(g, r)), s ? p(n) : f;
            }
            function _(n) {
              var t = n - c;
              return void 0 === c || t >= r || t < 0 || (v && n - l >= o);
            }
            function g() {
              var n = go();
              if (_(n)) return y(n);
              a = mi(
                g,
                (function (n) {
                  var t = r - (n - c);
                  return v ? lr(t, o - (n - l)) : t;
                })(n)
              );
            }
            function y(n) {
              return (a = void 0), h && u ? p(n) : ((u = i = void 0), f);
            }
            function b() {
              var n = go(),
                t = _(n);
              if (((u = arguments), (i = this), (c = n), t)) {
                if (void 0 === a) return d(c);
                if (v) return (a = mi(g, r)), p(c);
              }
              return void 0 === a && (a = mi(g, r)), f;
            }
            return (
              (r = af(r) || 0),
              Zo(e) &&
                ((s = !!e.leading),
                (o = (v = "maxWait" in e) ? cr(af(e.maxWait) || 0, r) : o),
                (h = "trailing" in e ? !!e.trailing : h)),
              (b.cancel = function () {
                void 0 !== a && hu(a), (l = 0), (u = c = i = a = void 0);
              }),
              (b.flush = function () {
                return void 0 === a ? f : y(go());
              }),
              b
            );
          }
          var jo = Me(function (n, t) {
              return te(n, 1, t);
            }),
            Ao = Me(function (n, t, r) {
              return te(n, af(t) || 0, r);
            });
          function ko(t, r) {
            if ("function" != typeof t || (null != r && "function" != typeof r))
              throw new wn(n);
            var e = function () {
              var n = arguments,
                u = r ? r.apply(this, n) : n[0],
                i = e.cache;
              if (i.has(u)) return i.get(u);
              var o = t.apply(this, n);
              return (e.cache = i.set(u, o) || i), o;
            };
            return (e.cache = new (ko.Cache || $r)()), e;
          }
          function Oo(t) {
            if ("function" != typeof t) throw new wn(n);
            return function () {
              var n = arguments;
              switch (n.length) {
                case 0:
                  return !t.call(this);
                case 1:
                  return !t.call(this, n[0]);
                case 2:
                  return !t.call(this, n[0], n[1]);
                case 3:
                  return !t.call(this, n[0], n[1], n[2]);
              }
              return !t.apply(this, n);
            };
          }
          ko.Cache = $r;
          var Io = su(function (n, t) {
              var r = (t =
                1 == t.length && Uo(t[0])
                  ? vt(t[0], zt(Xu()))
                  : vt(ae(t, 1), zt(Xu()))).length;
              return Me(function (e) {
                for (var u = -1, i = lr(e.length, r); ++u < i; )
                  e[u] = t[u].call(this, e[u]);
                return ut(n, this, e);
              });
            }),
            Ro = Me(function (n, t) {
              return Fu(n, 32, void 0, t, Mt(t, Qu(Ro)));
            }),
            zo = Me(function (n, t) {
              return Fu(n, 64, void 0, t, Mt(t, Qu(zo)));
            }),
            Eo = Vu(function (n, t) {
              return Fu(n, 256, void 0, void 0, void 0, t);
            });
          function So(n, t) {
            return n === t || (n != n && t != t);
          }
          var Lo = Tu(ge),
            Wo = Tu(function (n, t) {
              return n >= t;
            }),
            Co = xe(
              (function () {
                return arguments;
              })()
            )
              ? xe
              : function (n) {
                  return Ko(n) && On.call(n, "callee") && !kt.call(n, "callee");
                },
            Uo = vn.isArray,
            Bo = Jn
              ? zt(Jn)
              : function (n) {
                  return Ko(n) && _e(n) == y;
                };
          function To(n) {
            return null != n && qo(n.length) && !Fo(n);
          }
          function $o(n) {
            return Ko(n) && To(n);
          }
          var Do = ir || aa,
            No = Yn
              ? zt(Yn)
              : function (n) {
                  return Ko(n) && _e(n) == o;
                };
          function Mo(n) {
            if (!Ko(n)) return !1;
            var t = _e(n);
            return (
              t == f ||
              "[object DOMException]" == t ||
              ("string" == typeof n.message &&
                "string" == typeof n.name &&
                !Ho(n))
            );
          }
          function Fo(n) {
            if (!Zo(n)) return !1;
            var t = _e(n);
            return (
              t == a ||
              t == c ||
              "[object AsyncFunction]" == t ||
              "[object Proxy]" == t
            );
          }
          function Po(n) {
            return "number" == typeof n && n == of(n);
          }
          function qo(n) {
            return (
              "number" == typeof n &&
              n > -1 &&
              n % 1 == 0 &&
              n <= 9007199254740991
            );
          }
          function Zo(n) {
            var t = typeof n;
            return null != n && ("object" == t || "function" == t);
          }
          function Ko(n) {
            return null != n && "object" == typeof n;
          }
          var Vo = Qn
            ? zt(Qn)
            : function (n) {
                return Ko(n) && ii(n) == l;
              };
          function Go(n) {
            return "number" == typeof n || (Ko(n) && _e(n) == s);
          }
          function Ho(n) {
            if (!Ko(n) || _e(n) != v) return !1;
            var t = Hn(n);
            if (null === t) return !0;
            var r = On.call(t, "constructor") && t.constructor;
            return "function" == typeof r && r instanceof r && kn.call(r) == Wn;
          }
          var Jo = Xn
            ? zt(Xn)
            : function (n) {
                return Ko(n) && _e(n) == h;
              };
          var Yo = nt
            ? zt(nt)
            : function (n) {
                return Ko(n) && ii(n) == p;
              };
          function Qo(n) {
            return "string" == typeof n || (!Uo(n) && Ko(n) && _e(n) == d);
          }
          function Xo(n) {
            return "symbol" == typeof n || (Ko(n) && _e(n) == _);
          }
          var nf = tt
            ? zt(tt)
            : function (n) {
                return Ko(n) && qo(n.length) && !!Tn[_e(n)];
              };
          var tf = Tu(ze),
            rf = Tu(function (n, t) {
              return n <= t;
            });
          function ef(n) {
            if (!n) return [];
            if (To(n)) return Qo(n) ? Zt(n) : wu(n);
            if (Jt && n[Jt])
              return (function (n) {
                for (var t, r = []; !(t = n.next()).done; ) r.push(t.value);
                return r;
              })(n[Jt]());
            var t = ii(n);
            return (t == l ? Dt : t == p ? Ft : Lf)(n);
          }
          function uf(n) {
            return n
              ? (n = af(n)) === 1 / 0 || n === -1 / 0
                ? 17976931348623157e292 * (n < 0 ? -1 : 1)
                : n == n
                ? n
                : 0
              : 0 === n
              ? n
              : 0;
          }
          function of(n) {
            var t = uf(n),
              r = t % 1;
            return t == t ? (r ? t - r : t) : 0;
          }
          function ff(n) {
            return n ? Qr(of(n), 0, 4294967295) : 0;
          }
          function af(n) {
            if ("number" == typeof n) return n;
            if (Xo(n)) return NaN;
            if (Zo(n)) {
              var t = "function" == typeof n.valueOf ? n.valueOf() : n;
              n = Zo(t) ? t + "" : t;
            }
            if ("string" != typeof n) return 0 === n ? n : +n;
            n = n.replace(q, "");
            var r = tn.test(n);
            return r || en.test(n)
              ? Mn(n.slice(2), r ? 2 : 8)
              : nn.test(n)
              ? NaN
              : +n;
          }
          function cf(n) {
            return mu(n, Af(n));
          }
          function lf(n) {
            return null == n ? "" : nu(n);
          }
          var sf = ju(function (n, t) {
              if (pi(t) || To(t)) mu(t, jf(t), n);
              else for (var r in t) On.call(t, r) && Kr(n, r, t[r]);
            }),
            vf = ju(function (n, t) {
              mu(t, Af(t), n);
            }),
            hf = ju(function (n, t, r, e) {
              mu(t, Af(t), n, e);
            }),
            pf = ju(function (n, t, r, e) {
              mu(t, jf(t), n, e);
            }),
            df = Vu(Yr);
          var _f = Me(function (n) {
              return n.push(void 0, Pu), ut(hf, void 0, n);
            }),
            gf = Me(function (n) {
              return n.push(void 0, qu), ut(Of, void 0, n);
            });
          function yf(n, t, r) {
            var e = null == n ? void 0 : pe(n, t);
            return void 0 === e ? r : e;
          }
          function bf(n, t) {
            return null != n && oi(n, t, be);
          }
          var wf = Lu(function (n, t, r) {
              n[t] = r;
            }, Kf(Hf)),
            mf = Lu(function (n, t, r) {
              On.call(n, t) ? n[t].push(r) : (n[t] = [r]);
            }, Xu),
            xf = Me(me);
          function jf(n) {
            return To(n) ? Mr(n) : Ie(n);
          }
          function Af(n) {
            return To(n) ? Mr(n, !0) : Re(n);
          }
          var kf = ju(function (n, t, r) {
              We(n, t, r);
            }),
            Of = ju(function (n, t, r, e) {
              We(n, t, r, e);
            }),
            If = Vu(function (n, t) {
              var r = {};
              if (null == n) return r;
              var e = !1;
              (t = vt(t, function (t) {
                return (t = lu(t, n)), e || (e = t.length > 1), t;
              })),
                mu(n, Hu(n), r),
                e && (r = Xr(r, 7, Zu));
              for (var u = t.length; u--; ) ru(r, t[u]);
              return r;
            });
          var Rf = Vu(function (n, t) {
            return null == n
              ? {}
              : (function (n, t) {
                  return Be(n, t, function (t, r) {
                    return bf(n, r);
                  });
                })(n, t);
          });
          function zf(n, t) {
            if (null == n) return {};
            var r = vt(Hu(n), function (n) {
              return [n];
            });
            return (
              (t = Xu(t)),
              Be(n, r, function (n, r) {
                return t(n, r[0]);
              })
            );
          }
          var Ef = Mu(jf),
            Sf = Mu(Af);
          function Lf(n) {
            return null == n ? [] : Et(n, jf(n));
          }
          var Wf = Iu(function (n, t, r) {
            return (t = t.toLowerCase()), n + (r ? Cf(t) : t);
          });
          function Cf(n) {
            return Ff(lf(n).toLowerCase());
          }
          function Uf(n) {
            return (n = lf(n)) && n.replace(on, Ut).replace(En, "");
          }
          var Bf = Iu(function (n, t, r) {
              return n + (r ? "-" : "") + t.toLowerCase();
            }),
            Tf = Iu(function (n, t, r) {
              return n + (r ? " " : "") + t.toLowerCase();
            }),
            $f = Ou("toLowerCase");
          var Df = Iu(function (n, t, r) {
            return n + (r ? "_" : "") + t.toLowerCase();
          });
          var Nf = Iu(function (n, t, r) {
            return n + (r ? " " : "") + Ff(t);
          });
          var Mf = Iu(function (n, t, r) {
              return n + (r ? " " : "") + t.toUpperCase();
            }),
            Ff = Ou("toUpperCase");
          function Pf(n, t, r) {
            return (
              (n = lf(n)),
              void 0 === (t = r ? void 0 : t)
                ? (function (n) {
                    return Cn.test(n);
                  })(n)
                  ? (function (n) {
                      return n.match(Ln) || [];
                    })(n)
                  : (function (n) {
                      return n.match(J) || [];
                    })(n)
                : n.match(t) || []
            );
          }
          var qf = Me(function (n, t) {
              try {
                return ut(n, void 0, t);
              } catch (r) {
                return Mo(r) ? r : new pn(r);
              }
            }),
            Zf = Vu(function (n, t) {
              return (
                ot(t, function (t) {
                  (t = Ii(t)), Jr(n, t, wo(n[t], n));
                }),
                n
              );
            });
          function Kf(n) {
            return function () {
              return n;
            };
          }
          var Vf = Eu(),
            Gf = Eu(!0);
          function Hf(n) {
            return n;
          }
          function Jf(n) {
            return Oe("function" == typeof n ? n : Xr(n, 1));
          }
          var Yf = Me(function (n, t) {
              return function (r) {
                return me(r, n, t);
              };
            }),
            Qf = Me(function (n, t) {
              return function (r) {
                return me(n, r, t);
              };
            });
          function Xf(n, t, r) {
            var e = jf(t),
              u = he(t, e);
            null != r ||
              (Zo(t) && (u.length || !e.length)) ||
              ((r = t), (t = n), (n = this), (u = he(t, jf(t))));
            var i = !(Zo(r) && "chain" in r && !r.chain),
              o = Fo(n);
            return (
              ot(u, function (r) {
                var e = t[r];
                (n[r] = e),
                  o &&
                    (n.prototype[r] = function () {
                      var t = this.__chain__;
                      if (i || t) {
                        var r = n(this.__wrapped__),
                          u = (r.__actions__ = wu(this.__actions__));
                        return (
                          u.push({ func: e, args: arguments, thisArg: n }),
                          (r.__chain__ = t),
                          r
                        );
                      }
                      return e.apply(n, ht([this.value()], arguments));
                    });
              }),
              n
            );
          }
          function na() {}
          var ta = Cu(vt),
            ra = Cu(at),
            ea = Cu(_t);
          function ua(n) {
            return si(n)
              ? At(Ii(n))
              : (function (n) {
                  return function (t) {
                    return pe(t, n);
                  };
                })(n);
          }
          var ia = Bu(),
            oa = Bu(!0);
          function fa() {
            return [];
          }
          function aa() {
            return !1;
          }
          var ca = Wu(function (n, t) {
              return n + t;
            }, 0),
            la = Du("ceil"),
            sa = Wu(function (n, t) {
              return n / t;
            }, 1),
            va = Du("floor");
          var ha,
            pa = Wu(function (n, t) {
              return n * t;
            }, 1),
            da = Du("round"),
            _a = Wu(function (n, t) {
              return n - t;
            }, 0);
          return (
            (Sr.after = function (t, r) {
              if ("function" != typeof r) throw new wn(n);
              return (
                (t = of(t)),
                function () {
                  if (--t < 1) return r.apply(this, arguments);
                }
              );
            }),
            (Sr.ary = yo),
            (Sr.assign = sf),
            (Sr.assignIn = vf),
            (Sr.assignInWith = hf),
            (Sr.assignWith = pf),
            (Sr.at = df),
            (Sr.before = bo),
            (Sr.bind = wo),
            (Sr.bindAll = Zf),
            (Sr.bindKey = mo),
            (Sr.castArray = function () {
              if (!arguments.length) return [];
              var n = arguments[0];
              return Uo(n) ? n : [n];
            }),
            (Sr.chain = ro),
            (Sr.chunk = function (n, t, r) {
              t = (r ? li(n, t, r) : void 0 === t) ? 1 : cr(of(t), 0);
              var e = null == n ? 0 : n.length;
              if (!e || t < 1) return [];
              for (var u = 0, i = 0, o = vn(rr(e / t)); u < e; )
                o[i++] = Ge(n, u, (u += t));
              return o;
            }),
            (Sr.compact = function (n) {
              for (
                var t = -1, r = null == n ? 0 : n.length, e = 0, u = [];
                ++t < r;

              ) {
                var i = n[t];
                i && (u[e++] = i);
              }
              return u;
            }),
            (Sr.concat = function () {
              var n = arguments.length;
              if (!n) return [];
              for (var t = vn(n - 1), r = arguments[0], e = n; e--; )
                t[e - 1] = arguments[e];
              return ht(Uo(r) ? wu(r) : [r], ae(t, 1));
            }),
            (Sr.cond = function (t) {
              var r = null == t ? 0 : t.length,
                e = Xu();
              return (
                (t = r
                  ? vt(t, function (t) {
                      if ("function" != typeof t[1]) throw new wn(n);
                      return [e(t[0]), t[1]];
                    })
                  : []),
                Me(function (n) {
                  for (var e = -1; ++e < r; ) {
                    var u = t[e];
                    if (ut(u[0], this, n)) return ut(u[1], this, n);
                  }
                })
              );
            }),
            (Sr.conforms = function (n) {
              return (function (n) {
                var t = jf(n);
                return function (r) {
                  return ne(r, n, t);
                };
              })(Xr(n, 1));
            }),
            (Sr.constant = Kf),
            (Sr.countBy = io),
            (Sr.create = function (n, t) {
              var r = Lr(n);
              return null == t ? r : Hr(r, t);
            }),
            (Sr.curry = function n(t, r, e) {
              var u = Fu(
                t,
                8,
                void 0,
                void 0,
                void 0,
                void 0,
                void 0,
                (r = e ? void 0 : r)
              );
              return (u.placeholder = n.placeholder), u;
            }),
            (Sr.curryRight = function n(t, r, e) {
              var u = Fu(
                t,
                16,
                void 0,
                void 0,
                void 0,
                void 0,
                void 0,
                (r = e ? void 0 : r)
              );
              return (u.placeholder = n.placeholder), u;
            }),
            (Sr.debounce = xo),
            (Sr.defaults = _f),
            (Sr.defaultsDeep = gf),
            (Sr.defer = jo),
            (Sr.delay = Ao),
            (Sr.difference = Ei),
            (Sr.differenceBy = Si),
            (Sr.differenceWith = Li),
            (Sr.drop = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              return e
                ? Ge(n, (t = r || void 0 === t ? 1 : of(t)) < 0 ? 0 : t, e)
                : [];
            }),
            (Sr.dropRight = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              return e
                ? Ge(
                    n,
                    0,
                    (t = e - (t = r || void 0 === t ? 1 : of(t))) < 0 ? 0 : t
                  )
                : [];
            }),
            (Sr.dropRightWhile = function (n, t) {
              return n && n.length ? uu(n, Xu(t, 3), !0, !0) : [];
            }),
            (Sr.dropWhile = function (n, t) {
              return n && n.length ? uu(n, Xu(t, 3), !0) : [];
            }),
            (Sr.fill = function (n, t, r, e) {
              var u = null == n ? 0 : n.length;
              return u
                ? (r &&
                    "number" != typeof r &&
                    li(n, t, r) &&
                    ((r = 0), (e = u)),
                  (function (n, t, r, e) {
                    var u = n.length;
                    for (
                      (r = of(r)) < 0 && (r = -r > u ? 0 : u + r),
                        (e = void 0 === e || e > u ? u : of(e)) < 0 && (e += u),
                        e = r > e ? 0 : ff(e);
                      r < e;

                    )
                      n[r++] = t;
                    return n;
                  })(n, t, r, e))
                : [];
            }),
            (Sr.filter = function (n, t) {
              return (Uo(n) ? ct : fe)(n, Xu(t, 3));
            }),
            (Sr.flatMap = function (n, t) {
              return ae(ho(n, t), 1);
            }),
            (Sr.flatMapDeep = function (n, t) {
              return ae(ho(n, t), 1 / 0);
            }),
            (Sr.flatMapDepth = function (n, t, r) {
              return (r = void 0 === r ? 1 : of(r)), ae(ho(n, t), r);
            }),
            (Sr.flatten = Ui),
            (Sr.flattenDeep = function (n) {
              return (null == n ? 0 : n.length) ? ae(n, 1 / 0) : [];
            }),
            (Sr.flattenDepth = function (n, t) {
              return (null == n ? 0 : n.length)
                ? ae(n, (t = void 0 === t ? 1 : of(t)))
                : [];
            }),
            (Sr.flip = function (n) {
              return Fu(n, 512);
            }),
            (Sr.flow = Vf),
            (Sr.flowRight = Gf),
            (Sr.fromPairs = function (n) {
              for (
                var t = -1, r = null == n ? 0 : n.length, e = {};
                ++t < r;

              ) {
                var u = n[t];
                e[u[0]] = u[1];
              }
              return e;
            }),
            (Sr.functions = function (n) {
              return null == n ? [] : he(n, jf(n));
            }),
            (Sr.functionsIn = function (n) {
              return null == n ? [] : he(n, Af(n));
            }),
            (Sr.groupBy = lo),
            (Sr.initial = function (n) {
              return (null == n ? 0 : n.length) ? Ge(n, 0, -1) : [];
            }),
            (Sr.intersection = Ti),
            (Sr.intersectionBy = $i),
            (Sr.intersectionWith = Di),
            (Sr.invert = wf),
            (Sr.invertBy = mf),
            (Sr.invokeMap = so),
            (Sr.iteratee = Jf),
            (Sr.keyBy = vo),
            (Sr.keys = jf),
            (Sr.keysIn = Af),
            (Sr.map = ho),
            (Sr.mapKeys = function (n, t) {
              var r = {};
              return (
                (t = Xu(t, 3)),
                se(n, function (n, e, u) {
                  Jr(r, t(n, e, u), n);
                }),
                r
              );
            }),
            (Sr.mapValues = function (n, t) {
              var r = {};
              return (
                (t = Xu(t, 3)),
                se(n, function (n, e, u) {
                  Jr(r, e, t(n, e, u));
                }),
                r
              );
            }),
            (Sr.matches = function (n) {
              return Se(Xr(n, 1));
            }),
            (Sr.matchesProperty = function (n, t) {
              return Le(n, Xr(t, 1));
            }),
            (Sr.memoize = ko),
            (Sr.merge = kf),
            (Sr.mergeWith = Of),
            (Sr.method = Yf),
            (Sr.methodOf = Qf),
            (Sr.mixin = Xf),
            (Sr.negate = Oo),
            (Sr.nthArg = function (n) {
              return (
                (n = of(n)),
                Me(function (t) {
                  return Ce(t, n);
                })
              );
            }),
            (Sr.omit = If),
            (Sr.omitBy = function (n, t) {
              return zf(n, Oo(Xu(t)));
            }),
            (Sr.once = function (n) {
              return bo(2, n);
            }),
            (Sr.orderBy = function (n, t, r, e) {
              return null == n
                ? []
                : (Uo(t) || (t = null == t ? [] : [t]),
                  Uo((r = e ? void 0 : r)) || (r = null == r ? [] : [r]),
                  Ue(n, t, r));
            }),
            (Sr.over = ta),
            (Sr.overArgs = Io),
            (Sr.overEvery = ra),
            (Sr.overSome = ea),
            (Sr.partial = Ro),
            (Sr.partialRight = zo),
            (Sr.partition = po),
            (Sr.pick = Rf),
            (Sr.pickBy = zf),
            (Sr.property = ua),
            (Sr.propertyOf = function (n) {
              return function (t) {
                return null == n ? void 0 : pe(n, t);
              };
            }),
            (Sr.pull = Mi),
            (Sr.pullAll = Fi),
            (Sr.pullAllBy = function (n, t, r) {
              return n && n.length && t && t.length ? Te(n, t, Xu(r, 2)) : n;
            }),
            (Sr.pullAllWith = function (n, t, r) {
              return n && n.length && t && t.length ? Te(n, t, void 0, r) : n;
            }),
            (Sr.pullAt = Pi),
            (Sr.range = ia),
            (Sr.rangeRight = oa),
            (Sr.rearg = Eo),
            (Sr.reject = function (n, t) {
              return (Uo(n) ? ct : fe)(n, Oo(Xu(t, 3)));
            }),
            (Sr.remove = function (n, t) {
              var r = [];
              if (!n || !n.length) return r;
              var e = -1,
                u = [],
                i = n.length;
              for (t = Xu(t, 3); ++e < i; ) {
                var o = n[e];
                t(o, e, n) && (r.push(o), u.push(e));
              }
              return $e(n, u), r;
            }),
            (Sr.rest = function (t, r) {
              if ("function" != typeof t) throw new wn(n);
              return Me(t, (r = void 0 === r ? r : of(r)));
            }),
            (Sr.reverse = qi),
            (Sr.sampleSize = function (n, t, r) {
              return (
                (t = (r ? li(n, t, r) : void 0 === t) ? 1 : of(t)),
                (Uo(n) ? Pr : Pe)(n, t)
              );
            }),
            (Sr.set = function (n, t, r) {
              return null == n ? n : qe(n, t, r);
            }),
            (Sr.setWith = function (n, t, r, e) {
              return (
                (e = "function" == typeof e ? e : void 0),
                null == n ? n : qe(n, t, r, e)
              );
            }),
            (Sr.shuffle = function (n) {
              return (Uo(n) ? qr : Ve)(n);
            }),
            (Sr.slice = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              return e
                ? (r && "number" != typeof r && li(n, t, r)
                    ? ((t = 0), (r = e))
                    : ((t = null == t ? 0 : of(t)),
                      (r = void 0 === r ? e : of(r))),
                  Ge(n, t, r))
                : [];
            }),
            (Sr.sortBy = _o),
            (Sr.sortedUniq = function (n) {
              return n && n.length ? Qe(n) : [];
            }),
            (Sr.sortedUniqBy = function (n, t) {
              return n && n.length ? Qe(n, Xu(t, 2)) : [];
            }),
            (Sr.split = function (n, t, r) {
              return (
                r && "number" != typeof r && li(n, t, r) && (t = r = void 0),
                (r = void 0 === r ? 4294967295 : r >>> 0)
                  ? (n = lf(n)) &&
                    ("string" == typeof t || (null != t && !Jo(t))) &&
                    !(t = nu(t)) &&
                    $t(n)
                    ? vu(Zt(n), 0, r)
                    : n.split(t, r)
                  : []
              );
            }),
            (Sr.spread = function (t, r) {
              if ("function" != typeof t) throw new wn(n);
              return (
                (r = null == r ? 0 : cr(of(r), 0)),
                Me(function (n) {
                  var e = n[r],
                    u = vu(n, 0, r);
                  return e && ht(u, e), ut(t, this, u);
                })
              );
            }),
            (Sr.tail = function (n) {
              var t = null == n ? 0 : n.length;
              return t ? Ge(n, 1, t) : [];
            }),
            (Sr.take = function (n, t, r) {
              return n && n.length
                ? Ge(n, 0, (t = r || void 0 === t ? 1 : of(t)) < 0 ? 0 : t)
                : [];
            }),
            (Sr.takeRight = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              return e
                ? Ge(
                    n,
                    (t = e - (t = r || void 0 === t ? 1 : of(t))) < 0 ? 0 : t,
                    e
                  )
                : [];
            }),
            (Sr.takeRightWhile = function (n, t) {
              return n && n.length ? uu(n, Xu(t, 3), !1, !0) : [];
            }),
            (Sr.takeWhile = function (n, t) {
              return n && n.length ? uu(n, Xu(t, 3)) : [];
            }),
            (Sr.tap = function (n, t) {
              return t(n), n;
            }),
            (Sr.throttle = function (t, r, e) {
              var u = !0,
                i = !0;
              if ("function" != typeof t) throw new wn(n);
              return (
                Zo(e) &&
                  ((u = "leading" in e ? !!e.leading : u),
                  (i = "trailing" in e ? !!e.trailing : i)),
                xo(t, r, { leading: u, maxWait: r, trailing: i })
              );
            }),
            (Sr.thru = eo),
            (Sr.toArray = ef),
            (Sr.toPairs = Ef),
            (Sr.toPairsIn = Sf),
            (Sr.toPath = function (n) {
              return Uo(n) ? vt(n, Ii) : Xo(n) ? [n] : wu(Oi(lf(n)));
            }),
            (Sr.toPlainObject = cf),
            (Sr.transform = function (n, t, r) {
              var e = Uo(n),
                u = e || Do(n) || nf(n);
              if (((t = Xu(t, 4)), null == r)) {
                var i = n && n.constructor;
                r = u ? (e ? new i() : []) : Zo(n) && Fo(i) ? Lr(Hn(n)) : {};
              }
              return (
                (u ? ot : se)(n, function (n, e, u) {
                  return t(r, n, e, u);
                }),
                r
              );
            }),
            (Sr.unary = function (n) {
              return yo(n, 1);
            }),
            (Sr.union = Zi),
            (Sr.unionBy = Ki),
            (Sr.unionWith = Vi),
            (Sr.uniq = function (n) {
              return n && n.length ? tu(n) : [];
            }),
            (Sr.uniqBy = function (n, t) {
              return n && n.length ? tu(n, Xu(t, 2)) : [];
            }),
            (Sr.uniqWith = function (n, t) {
              return (
                (t = "function" == typeof t ? t : void 0),
                n && n.length ? tu(n, void 0, t) : []
              );
            }),
            (Sr.unset = function (n, t) {
              return null == n || ru(n, t);
            }),
            (Sr.unzip = Gi),
            (Sr.unzipWith = Hi),
            (Sr.update = function (n, t, r) {
              return null == n ? n : eu(n, t, cu(r));
            }),
            (Sr.updateWith = function (n, t, r, e) {
              return (
                (e = "function" == typeof e ? e : void 0),
                null == n ? n : eu(n, t, cu(r), e)
              );
            }),
            (Sr.values = Lf),
            (Sr.valuesIn = function (n) {
              return null == n ? [] : Et(n, Af(n));
            }),
            (Sr.without = Ji),
            (Sr.words = Pf),
            (Sr.wrap = function (n, t) {
              return Ro(cu(t), n);
            }),
            (Sr.xor = Yi),
            (Sr.xorBy = Qi),
            (Sr.xorWith = Xi),
            (Sr.zip = no),
            (Sr.zipObject = function (n, t) {
              return fu(n || [], t || [], Kr);
            }),
            (Sr.zipObjectDeep = function (n, t) {
              return fu(n || [], t || [], qe);
            }),
            (Sr.zipWith = to),
            (Sr.entries = Ef),
            (Sr.entriesIn = Sf),
            (Sr.extend = vf),
            (Sr.extendWith = hf),
            Xf(Sr, Sr),
            (Sr.add = ca),
            (Sr.attempt = qf),
            (Sr.camelCase = Wf),
            (Sr.capitalize = Cf),
            (Sr.ceil = la),
            (Sr.clamp = function (n, t, r) {
              return (
                void 0 === r && ((r = t), (t = void 0)),
                void 0 !== r && (r = (r = af(r)) == r ? r : 0),
                void 0 !== t && (t = (t = af(t)) == t ? t : 0),
                Qr(af(n), t, r)
              );
            }),
            (Sr.clone = function (n) {
              return Xr(n, 4);
            }),
            (Sr.cloneDeep = function (n) {
              return Xr(n, 5);
            }),
            (Sr.cloneDeepWith = function (n, t) {
              return Xr(n, 5, (t = "function" == typeof t ? t : void 0));
            }),
            (Sr.cloneWith = function (n, t) {
              return Xr(n, 4, (t = "function" == typeof t ? t : void 0));
            }),
            (Sr.conformsTo = function (n, t) {
              return null == t || ne(n, t, jf(t));
            }),
            (Sr.deburr = Uf),
            (Sr.defaultTo = function (n, t) {
              return null == n || n != n ? t : n;
            }),
            (Sr.divide = sa),
            (Sr.endsWith = function (n, t, r) {
              (n = lf(n)), (t = nu(t));
              var e = n.length,
                u = (r = void 0 === r ? e : Qr(of(r), 0, e));
              return (r -= t.length) >= 0 && n.slice(r, u) == t;
            }),
            (Sr.eq = So),
            (Sr.escape = function (n) {
              return (n = lf(n)) && C.test(n) ? n.replace(L, Bt) : n;
            }),
            (Sr.escapeRegExp = function (n) {
              return (n = lf(n)) && P.test(n) ? n.replace(F, "\\$&") : n;
            }),
            (Sr.every = function (n, t, r) {
              var e = Uo(n) ? at : ie;
              return r && li(n, t, r) && (t = void 0), e(n, Xu(t, 3));
            }),
            (Sr.find = oo),
            (Sr.findIndex = Wi),
            (Sr.findKey = function (n, t) {
              return yt(n, Xu(t, 3), se);
            }),
            (Sr.findLast = fo),
            (Sr.findLastIndex = Ci),
            (Sr.findLastKey = function (n, t) {
              return yt(n, Xu(t, 3), ve);
            }),
            (Sr.floor = va),
            (Sr.forEach = ao),
            (Sr.forEachRight = co),
            (Sr.forIn = function (n, t) {
              return null == n ? n : ce(n, Xu(t, 3), Af);
            }),
            (Sr.forInRight = function (n, t) {
              return null == n ? n : le(n, Xu(t, 3), Af);
            }),
            (Sr.forOwn = function (n, t) {
              return n && se(n, Xu(t, 3));
            }),
            (Sr.forOwnRight = function (n, t) {
              return n && ve(n, Xu(t, 3));
            }),
            (Sr.get = yf),
            (Sr.gt = Lo),
            (Sr.gte = Wo),
            (Sr.has = function (n, t) {
              return null != n && oi(n, t, ye);
            }),
            (Sr.hasIn = bf),
            (Sr.head = Bi),
            (Sr.identity = Hf),
            (Sr.includes = function (n, t, r, e) {
              (n = To(n) ? n : Lf(n)), (r = r && !e ? of(r) : 0);
              var u = n.length;
              return (
                r < 0 && (r = cr(u + r, 0)),
                Qo(n) ? r <= u && n.indexOf(t, r) > -1 : !!u && wt(n, t, r) > -1
              );
            }),
            (Sr.indexOf = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              if (!e) return -1;
              var u = null == r ? 0 : of(r);
              return u < 0 && (u = cr(e + u, 0)), wt(n, t, u);
            }),
            (Sr.inRange = function (n, t, r) {
              return (
                (t = uf(t)),
                void 0 === r ? ((r = t), (t = 0)) : (r = uf(r)),
                (function (n, t, r) {
                  return n >= lr(t, r) && n < cr(t, r);
                })((n = af(n)), t, r)
              );
            }),
            (Sr.invoke = xf),
            (Sr.isArguments = Co),
            (Sr.isArray = Uo),
            (Sr.isArrayBuffer = Bo),
            (Sr.isArrayLike = To),
            (Sr.isArrayLikeObject = $o),
            (Sr.isBoolean = function (n) {
              return !0 === n || !1 === n || (Ko(n) && _e(n) == i);
            }),
            (Sr.isBuffer = Do),
            (Sr.isDate = No),
            (Sr.isElement = function (n) {
              return Ko(n) && 1 === n.nodeType && !Ho(n);
            }),
            (Sr.isEmpty = function (n) {
              if (null == n) return !0;
              if (
                To(n) &&
                (Uo(n) ||
                  "string" == typeof n ||
                  "function" == typeof n.splice ||
                  Do(n) ||
                  nf(n) ||
                  Co(n))
              )
                return !n.length;
              var t = ii(n);
              if (t == l || t == p) return !n.size;
              if (pi(n)) return !Ie(n).length;
              for (var r in n) if (On.call(n, r)) return !1;
              return !0;
            }),
            (Sr.isEqual = function (n, t) {
              return je(n, t);
            }),
            (Sr.isEqualWith = function (n, t, r) {
              var e = (r = "function" == typeof r ? r : void 0)
                ? r(n, t)
                : void 0;
              return void 0 === e ? je(n, t, void 0, r) : !!e;
            }),
            (Sr.isError = Mo),
            (Sr.isFinite = function (n) {
              return "number" == typeof n && or(n);
            }),
            (Sr.isFunction = Fo),
            (Sr.isInteger = Po),
            (Sr.isLength = qo),
            (Sr.isMap = Vo),
            (Sr.isMatch = function (n, t) {
              return n === t || Ae(n, t, ti(t));
            }),
            (Sr.isMatchWith = function (n, t, r) {
              return (
                (r = "function" == typeof r ? r : void 0), Ae(n, t, ti(t), r)
              );
            }),
            (Sr.isNaN = function (n) {
              return Go(n) && n != +n;
            }),
            (Sr.isNative = function (n) {
              if (hi(n))
                throw new pn(
                  "Unsupported core-js use. Try https://npms.io/search?q=ponyfill."
                );
              return ke(n);
            }),
            (Sr.isNil = function (n) {
              return null == n;
            }),
            (Sr.isNull = function (n) {
              return null === n;
            }),
            (Sr.isNumber = Go),
            (Sr.isObject = Zo),
            (Sr.isObjectLike = Ko),
            (Sr.isPlainObject = Ho),
            (Sr.isRegExp = Jo),
            (Sr.isSafeInteger = function (n) {
              return Po(n) && n >= -9007199254740991 && n <= 9007199254740991;
            }),
            (Sr.isSet = Yo),
            (Sr.isString = Qo),
            (Sr.isSymbol = Xo),
            (Sr.isTypedArray = nf),
            (Sr.isUndefined = function (n) {
              return void 0 === n;
            }),
            (Sr.isWeakMap = function (n) {
              return Ko(n) && ii(n) == g;
            }),
            (Sr.isWeakSet = function (n) {
              return Ko(n) && "[object WeakSet]" == _e(n);
            }),
            (Sr.join = function (n, t) {
              return null == n ? "" : fr.call(n, t);
            }),
            (Sr.kebabCase = Bf),
            (Sr.last = Ni),
            (Sr.lastIndexOf = function (n, t, r) {
              var e = null == n ? 0 : n.length;
              if (!e) return -1;
              var u = e;
              return (
                void 0 !== r &&
                  (u = (u = of(r)) < 0 ? cr(e + u, 0) : lr(u, e - 1)),
                t == t
                  ? (function (n, t, r) {
                      for (var e = r + 1; e--; ) if (n[e] === t) return e;
                      return e;
                    })(n, t, u)
                  : bt(n, xt, u, !0)
              );
            }),
            (Sr.lowerCase = Tf),
            (Sr.lowerFirst = $f),
            (Sr.lt = tf),
            (Sr.lte = rf),
            (Sr.max = function (n) {
              return n && n.length ? oe(n, Hf, ge) : void 0;
            }),
            (Sr.maxBy = function (n, t) {
              return n && n.length ? oe(n, Xu(t, 2), ge) : void 0;
            }),
            (Sr.mean = function (n) {
              return jt(n, Hf);
            }),
            (Sr.meanBy = function (n, t) {
              return jt(n, Xu(t, 2));
            }),
            (Sr.min = function (n) {
              return n && n.length ? oe(n, Hf, ze) : void 0;
            }),
            (Sr.minBy = function (n, t) {
              return n && n.length ? oe(n, Xu(t, 2), ze) : void 0;
            }),
            (Sr.stubArray = fa),
            (Sr.stubFalse = aa),
            (Sr.stubObject = function () {
              return {};
            }),
            (Sr.stubString = function () {
              return "";
            }),
            (Sr.stubTrue = function () {
              return !0;
            }),
            (Sr.multiply = pa),
            (Sr.nth = function (n, t) {
              return n && n.length ? Ce(n, of(t)) : void 0;
            }),
            (Sr.noConflict = function () {
              return qn._ === this && (qn._ = Dn), this;
            }),
            (Sr.noop = na),
            (Sr.now = go),
            (Sr.pad = function (n, t, r) {
              n = lf(n);
              var e = (t = of(t)) ? qt(n) : 0;
              if (!t || e >= t) return n;
              var u = (t - e) / 2;
              return Uu(er(u), r) + n + Uu(rr(u), r);
            }),
            (Sr.padEnd = function (n, t, r) {
              n = lf(n);
              var e = (t = of(t)) ? qt(n) : 0;
              return t && e < t ? n + Uu(t - e, r) : n;
            }),
            (Sr.padStart = function (n, t, r) {
              n = lf(n);
              var e = (t = of(t)) ? qt(n) : 0;
              return t && e < t ? Uu(t - e, r) + n : n;
            }),
            (Sr.parseInt = function (n, t, r) {
              return (
                r || null == t ? (t = 0) : t && (t = +t),
                vr(lf(n).replace(Z, ""), t || 0)
              );
            }),
            (Sr.random = function (n, t, r) {
              if (
                (r && "boolean" != typeof r && li(n, t, r) && (t = r = void 0),
                void 0 === r &&
                  ("boolean" == typeof t
                    ? ((r = t), (t = void 0))
                    : "boolean" == typeof n && ((r = n), (n = void 0))),
                void 0 === n && void 0 === t
                  ? ((n = 0), (t = 1))
                  : ((n = uf(n)),
                    void 0 === t ? ((t = n), (n = 0)) : (t = uf(t))),
                n > t)
              ) {
                var e = n;
                (n = t), (t = e);
              }
              if (r || n % 1 || t % 1) {
                var u = hr();
                return lr(
                  n + u * (t - n + Nn("1e-" + ((u + "").length - 1))),
                  t
                );
              }
              return De(n, t);
            }),
            (Sr.reduce = function (n, t, r) {
              var e = Uo(n) ? pt : Ot,
                u = arguments.length < 3;
              return e(n, Xu(t, 4), r, u, ee);
            }),
            (Sr.reduceRight = function (n, t, r) {
              var e = Uo(n) ? dt : Ot,
                u = arguments.length < 3;
              return e(n, Xu(t, 4), r, u, ue);
            }),
            (Sr.repeat = function (n, t, r) {
              return (
                (t = (r ? li(n, t, r) : void 0 === t) ? 1 : of(t)), Ne(lf(n), t)
              );
            }),
            (Sr.replace = function () {
              var n = arguments,
                t = lf(n[0]);
              return n.length < 3 ? t : t.replace(n[1], n[2]);
            }),
            (Sr.result = function (n, t, r) {
              var e = -1,
                u = (t = lu(t, n)).length;
              for (u || ((u = 1), (n = void 0)); ++e < u; ) {
                var i = null == n ? void 0 : n[Ii(t[e])];
                void 0 === i && ((e = u), (i = r)), (n = Fo(i) ? i.call(n) : i);
              }
              return n;
            }),
            (Sr.round = da),
            (Sr.runInContext = cn),
            (Sr.sample = function (n) {
              return (Uo(n) ? Fr : Fe)(n);
            }),
            (Sr.size = function (n) {
              if (null == n) return 0;
              if (To(n)) return Qo(n) ? qt(n) : n.length;
              var t = ii(n);
              return t == l || t == p ? n.size : Ie(n).length;
            }),
            (Sr.snakeCase = Df),
            (Sr.some = function (n, t, r) {
              var e = Uo(n) ? _t : He;
              return r && li(n, t, r) && (t = void 0), e(n, Xu(t, 3));
            }),
            (Sr.sortedIndex = function (n, t) {
              return Je(n, t);
            }),
            (Sr.sortedIndexBy = function (n, t, r) {
              return Ye(n, t, Xu(r, 2));
            }),
            (Sr.sortedIndexOf = function (n, t) {
              var r = null == n ? 0 : n.length;
              if (r) {
                var e = Je(n, t);
                if (e < r && So(n[e], t)) return e;
              }
              return -1;
            }),
            (Sr.sortedLastIndex = function (n, t) {
              return Je(n, t, !0);
            }),
            (Sr.sortedLastIndexBy = function (n, t, r) {
              return Ye(n, t, Xu(r, 2), !0);
            }),
            (Sr.sortedLastIndexOf = function (n, t) {
              if (null == n ? 0 : n.length) {
                var r = Je(n, t, !0) - 1;
                if (So(n[r], t)) return r;
              }
              return -1;
            }),
            (Sr.startCase = Nf),
            (Sr.startsWith = function (n, t, r) {
              return (
                (n = lf(n)),
                (r = null == r ? 0 : Qr(of(r), 0, n.length)),
                (t = nu(t)),
                n.slice(r, r + t.length) == t
              );
            }),
            (Sr.subtract = _a),
            (Sr.sum = function (n) {
              return n && n.length ? It(n, Hf) : 0;
            }),
            (Sr.sumBy = function (n, t) {
              return n && n.length ? It(n, Xu(t, 2)) : 0;
            }),
            (Sr.template = function (n, t, r) {
              var e = Sr.templateSettings;
              r && li(n, t, r) && (t = void 0),
                (n = lf(n)),
                (t = hf({}, t, e, Pu));
              var u,
                i,
                o = hf({}, t.imports, e.imports, Pu),
                f = jf(o),
                a = Et(o, f),
                c = 0,
                l = t.interpolate || fn,
                s = "__p += '",
                v = yn(
                  (t.escape || fn).source +
                    "|" +
                    l.source +
                    "|" +
                    (l === T ? Q : fn).source +
                    "|" +
                    (t.evaluate || fn).source +
                    "|$",
                  "g"
                ),
                h =
                  "//# sourceURL=" +
                  ("sourceURL" in t
                    ? t.sourceURL
                    : "lodash.templateSources[" + ++Bn + "]") +
                  "\n";
              n.replace(v, function (t, r, e, o, f, a) {
                return (
                  e || (e = o),
                  (s += n.slice(c, a).replace(an, Tt)),
                  r && ((u = !0), (s += "' +\n__e(" + r + ") +\n'")),
                  f && ((i = !0), (s += "';\n" + f + ";\n__p += '")),
                  e &&
                    (s += "' +\n((__t = (" + e + ")) == null ? '' : __t) +\n'"),
                  (c = a + t.length),
                  t
                );
              }),
                (s += "';\n");
              var p = t.variable;
              p || (s = "with (obj) {\n" + s + "\n}\n"),
                (s = (i ? s.replace(R, "") : s)
                  .replace(z, "$1")
                  .replace(E, "$1;")),
                (s =
                  "function(" +
                  (p || "obj") +
                  ") {\n" +
                  (p ? "" : "obj || (obj = {});\n") +
                  "var __t, __p = ''" +
                  (u ? ", __e = _.escape" : "") +
                  (i
                    ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"
                    : ";\n") +
                  s +
                  "return __p\n}");
              var d = qf(function () {
                return dn(f, h + "return " + s).apply(void 0, a);
              });
              if (((d.source = s), Mo(d))) throw d;
              return d;
            }),
            (Sr.times = function (n, t) {
              if ((n = of(n)) < 1 || n > 9007199254740991) return [];
              var r = 4294967295,
                e = lr(n, 4294967295);
              n -= 4294967295;
              for (var u = Rt(e, (t = Xu(t))); ++r < n; ) t(r);
              return u;
            }),
            (Sr.toFinite = uf),
            (Sr.toInteger = of),
            (Sr.toLength = ff),
            (Sr.toLower = function (n) {
              return lf(n).toLowerCase();
            }),
            (Sr.toNumber = af),
            (Sr.toSafeInteger = function (n) {
              return n
                ? Qr(of(n), -9007199254740991, 9007199254740991)
                : 0 === n
                ? n
                : 0;
            }),
            (Sr.toString = lf),
            (Sr.toUpper = function (n) {
              return lf(n).toUpperCase();
            }),
            (Sr.trim = function (n, t, r) {
              if ((n = lf(n)) && (r || void 0 === t)) return n.replace(q, "");
              if (!n || !(t = nu(t))) return n;
              var e = Zt(n),
                u = Zt(t);
              return vu(e, Lt(e, u), Wt(e, u) + 1).join("");
            }),
            (Sr.trimEnd = function (n, t, r) {
              if ((n = lf(n)) && (r || void 0 === t)) return n.replace(K, "");
              if (!n || !(t = nu(t))) return n;
              var e = Zt(n);
              return vu(e, 0, Wt(e, Zt(t)) + 1).join("");
            }),
            (Sr.trimStart = function (n, t, r) {
              if ((n = lf(n)) && (r || void 0 === t)) return n.replace(Z, "");
              if (!n || !(t = nu(t))) return n;
              var e = Zt(n);
              return vu(e, Lt(e, Zt(t))).join("");
            }),
            (Sr.truncate = function (n, t) {
              var r = 30,
                e = "...";
              if (Zo(t)) {
                var u = "separator" in t ? t.separator : u;
                (r = "length" in t ? of(t.length) : r),
                  (e = "omission" in t ? nu(t.omission) : e);
              }
              var i = (n = lf(n)).length;
              if ($t(n)) {
                var o = Zt(n);
                i = o.length;
              }
              if (r >= i) return n;
              var f = r - qt(e);
              if (f < 1) return e;
              var a = o ? vu(o, 0, f).join("") : n.slice(0, f);
              if (void 0 === u) return a + e;
              if ((o && (f += a.length - f), Jo(u))) {
                if (n.slice(f).search(u)) {
                  var c,
                    l = a;
                  for (
                    u.global || (u = yn(u.source, lf(X.exec(u)) + "g")),
                      u.lastIndex = 0;
                    (c = u.exec(l));

                  )
                    var s = c.index;
                  a = a.slice(0, void 0 === s ? f : s);
                }
              } else if (n.indexOf(nu(u), f) != f) {
                var v = a.lastIndexOf(u);
                v > -1 && (a = a.slice(0, v));
              }
              return a + e;
            }),
            (Sr.unescape = function (n) {
              return (n = lf(n)) && W.test(n) ? n.replace(S, Kt) : n;
            }),
            (Sr.uniqueId = function (n) {
              var t = ++In;
              return lf(n) + t;
            }),
            (Sr.upperCase = Mf),
            (Sr.upperFirst = Ff),
            (Sr.each = ao),
            (Sr.eachRight = co),
            (Sr.first = Bi),
            Xf(
              Sr,
              ((ha = {}),
              se(Sr, function (n, t) {
                On.call(Sr.prototype, t) || (ha[t] = n);
              }),
              ha),
              { chain: !1 }
            ),
            (Sr.VERSION = "4.17.4"),
            ot(
              [
                "bind",
                "bindKey",
                "curry",
                "curryRight",
                "partial",
                "partialRight",
              ],
              function (n) {
                Sr[n].placeholder = Sr;
              }
            ),
            ot(["drop", "take"], function (n, t) {
              (Ur.prototype[n] = function (r) {
                r = void 0 === r ? 1 : cr(of(r), 0);
                var e = this.__filtered__ && !t ? new Ur(this) : this.clone();
                return (
                  e.__filtered__
                    ? (e.__takeCount__ = lr(r, e.__takeCount__))
                    : e.__views__.push({
                        size: lr(r, 4294967295),
                        type: n + (e.__dir__ < 0 ? "Right" : ""),
                      }),
                  e
                );
              }),
                (Ur.prototype[n + "Right"] = function (t) {
                  return this.reverse()[n](t).reverse();
                });
            }),
            ot(["filter", "map", "takeWhile"], function (n, t) {
              var r = t + 1,
                e = 1 == r || 3 == r;
              Ur.prototype[n] = function (n) {
                var t = this.clone();
                return (
                  t.__iteratees__.push({ iteratee: Xu(n, 3), type: r }),
                  (t.__filtered__ = t.__filtered__ || e),
                  t
                );
              };
            }),
            ot(["head", "last"], function (n, t) {
              var r = "take" + (t ? "Right" : "");
              Ur.prototype[n] = function () {
                return this[r](1).value()[0];
              };
            }),
            ot(["initial", "tail"], function (n, t) {
              var r = "drop" + (t ? "" : "Right");
              Ur.prototype[n] = function () {
                return this.__filtered__ ? new Ur(this) : this[r](1);
              };
            }),
            (Ur.prototype.compact = function () {
              return this.filter(Hf);
            }),
            (Ur.prototype.find = function (n) {
              return this.filter(n).head();
            }),
            (Ur.prototype.findLast = function (n) {
              return this.reverse().find(n);
            }),
            (Ur.prototype.invokeMap = Me(function (n, t) {
              return "function" == typeof n
                ? new Ur(this)
                : this.map(function (r) {
                    return me(r, n, t);
                  });
            })),
            (Ur.prototype.reject = function (n) {
              return this.filter(Oo(Xu(n)));
            }),
            (Ur.prototype.slice = function (n, t) {
              n = of(n);
              var r = this;
              return r.__filtered__ && (n > 0 || t < 0)
                ? new Ur(r)
                : (n < 0 ? (r = r.takeRight(-n)) : n && (r = r.drop(n)),
                  void 0 !== t &&
                    (r = (t = of(t)) < 0 ? r.dropRight(-t) : r.take(t - n)),
                  r);
            }),
            (Ur.prototype.takeRightWhile = function (n) {
              return this.reverse().takeWhile(n).reverse();
            }),
            (Ur.prototype.toArray = function () {
              return this.take(4294967295);
            }),
            se(Ur.prototype, function (n, t) {
              var r = /^(?:filter|find|map|reject)|While$/.test(t),
                e = /^(?:head|last)$/.test(t),
                u = Sr[e ? "take" + ("last" == t ? "Right" : "") : t],
                i = e || /^find/.test(t);
              u &&
                (Sr.prototype[t] = function () {
                  var t = this.__wrapped__,
                    o = e ? [1] : arguments,
                    f = t instanceof Ur,
                    a = o[0],
                    c = f || Uo(t),
                    l = function (n) {
                      var t = u.apply(Sr, ht([n], o));
                      return e && s ? t[0] : t;
                    };
                  c &&
                    r &&
                    "function" == typeof a &&
                    1 != a.length &&
                    (f = c = !1);
                  var s = this.__chain__,
                    v = !!this.__actions__.length,
                    h = i && !s,
                    p = f && !v;
                  if (!i && c) {
                    t = p ? t : new Ur(this);
                    var d = n.apply(t, o);
                    return (
                      d.__actions__.push({
                        func: eo,
                        args: [l],
                        thisArg: void 0,
                      }),
                      new Cr(d, s)
                    );
                  }
                  return h && p
                    ? n.apply(this, o)
                    : ((d = this.thru(l)),
                      h ? (e ? d.value()[0] : d.value()) : d);
                });
            }),
            ot(
              ["pop", "push", "shift", "sort", "splice", "unshift"],
              function (n) {
                var t = mn[n],
                  r = /^(?:push|sort|unshift)$/.test(n) ? "tap" : "thru",
                  e = /^(?:pop|shift)$/.test(n);
                Sr.prototype[n] = function () {
                  var n = arguments;
                  if (e && !this.__chain__) {
                    var u = this.value();
                    return t.apply(Uo(u) ? u : [], n);
                  }
                  return this[r](function (r) {
                    return t.apply(Uo(r) ? r : [], n);
                  });
                };
              }
            ),
            se(Ur.prototype, function (n, t) {
              var r = Sr[t];
              if (r) {
                var e = r.name + "";
                (xr[e] || (xr[e] = [])).push({ name: t, func: r });
              }
            }),
            (xr[Su(void 0, 2).name] = [{ name: "wrapper", func: void 0 }]),
            (Ur.prototype.clone = function () {
              var n = new Ur(this.__wrapped__);
              return (
                (n.__actions__ = wu(this.__actions__)),
                (n.__dir__ = this.__dir__),
                (n.__filtered__ = this.__filtered__),
                (n.__iteratees__ = wu(this.__iteratees__)),
                (n.__takeCount__ = this.__takeCount__),
                (n.__views__ = wu(this.__views__)),
                n
              );
            }),
            (Ur.prototype.reverse = function () {
              if (this.__filtered__) {
                var n = new Ur(this);
                (n.__dir__ = -1), (n.__filtered__ = !0);
              } else (n = this.clone()).__dir__ *= -1;
              return n;
            }),
            (Ur.prototype.value = function () {
              var n = this.__wrapped__.value(),
                t = this.__dir__,
                r = Uo(n),
                e = t < 0,
                u = r ? n.length : 0,
                i = (function (n, t, r) {
                  var e = -1,
                    u = r.length;
                  for (; ++e < u; ) {
                    var i = r[e],
                      o = i.size;
                    switch (i.type) {
                      case "drop":
                        n += o;
                        break;
                      case "dropRight":
                        t -= o;
                        break;
                      case "take":
                        t = lr(t, n + o);
                        break;
                      case "takeRight":
                        n = cr(n, t - o);
                    }
                  }
                  return { start: n, end: t };
                })(0, u, this.__views__),
                o = i.start,
                f = i.end,
                a = f - o,
                c = e ? f : o - 1,
                l = this.__iteratees__,
                s = l.length,
                v = 0,
                h = lr(a, this.__takeCount__);
              if (!r || (!e && u == a && h == a))
                return iu(n, this.__actions__);
              var p = [];
              n: for (; a-- && v < h; ) {
                for (var d = -1, _ = n[(c += t)]; ++d < s; ) {
                  var g = l[d],
                    y = g.iteratee,
                    b = g.type,
                    w = y(_);
                  if (2 == b) _ = w;
                  else if (!w) {
                    if (1 == b) continue n;
                    break n;
                  }
                }
                p[v++] = _;
              }
              return p;
            }),
            (Sr.prototype.at = uo),
            (Sr.prototype.chain = function () {
              return ro(this);
            }),
            (Sr.prototype.commit = function () {
              return new Cr(this.value(), this.__chain__);
            }),
            (Sr.prototype.next = function () {
              void 0 === this.__values__ &&
                (this.__values__ = ef(this.value()));
              var n = this.__index__ >= this.__values__.length;
              return {
                done: n,
                value: n ? void 0 : this.__values__[this.__index__++],
              };
            }),
            (Sr.prototype.plant = function (n) {
              for (var t, r = this; r instanceof Wr; ) {
                var e = zi(r);
                (e.__index__ = 0),
                  (e.__values__ = void 0),
                  t ? (u.__wrapped__ = e) : (t = e);
                var u = e;
                r = r.__wrapped__;
              }
              return (u.__wrapped__ = n), t;
            }),
            (Sr.prototype.reverse = function () {
              var n = this.__wrapped__;
              if (n instanceof Ur) {
                var t = n;
                return (
                  this.__actions__.length && (t = new Ur(this)),
                  (t = t.reverse()).__actions__.push({
                    func: eo,
                    args: [qi],
                    thisArg: void 0,
                  }),
                  new Cr(t, this.__chain__)
                );
              }
              return this.thru(qi);
            }),
            (Sr.prototype.toJSON =
              Sr.prototype.valueOf =
              Sr.prototype.value =
                function () {
                  return iu(this.__wrapped__, this.__actions__);
                }),
            (Sr.prototype.first = Sr.prototype.head),
            Jt &&
              (Sr.prototype[Jt] = function () {
                return this;
              }),
            Sr
          );
        })();
        "function" == typeof define &&
        "object" == typeof define.amd &&
        define.amd
          ? ((qn._ = Vt),
            define(function () {
              return Vt;
            }))
          : Kn
          ? (((Kn.exports = Vt)._ = Vt), (Zn._ = Vt))
          : (qn._ = Vt);
      }).call(this);
    </script>
    <script type="text/javascript">
     var saveAs =
        saveAs ||
        ("undefined" != typeof navigator &&
          navigator.msSaveOrOpenBlob &&
          navigator.msSaveOrOpenBlob.bind(navigator)) ||
        (function (e) {
          "use strict";
          if (
            "undefined" == typeof navigator ||
            !/MSIE [1-9]\./.test(navigator.userAgent)
          ) {
            var t = e.document,
              n = function () {
                return e.URL || e.webkitURL || e;
              },
              o = t.createElementNS("http://www.w3.org/1999/xhtml", "a"),
              r = !e.externalHost && "download" in o,
              i = e.webkitRequestFileSystem,
              a = e.requestFileSystem || i || e.mozRequestFileSystem,
              u = function (t) {
                (e.setImmediate || e.setTimeout)(function () {
                  throw t;
                }, 0);
              },
              c = 0,
              s = [],
              d = function () {
                for (var e = s.length; e--; ) {
                  var t = s[e];
                  "string" == typeof t ? n().revokeObjectURL(t) : t.remove();
                }
                s.length = 0;
              },
              f = function (e, t, n) {
                for (var o = (t = [].concat(t)).length; o--; ) {
                  var r = e["on" + t[o]];
                  if ("function" == typeof r)
                    try {
                      r.call(e, n || e);
                    } catch (i) {
                      u(i);
                    }
                }
              },
              l = function (u, d) {
                var l,
                  v,
                  p,
                  w,
                  y,
                  m = this,
                  h = u.type,
                  E = !1,
                  g = function () {
                    var e = n().createObjectURL(u);
                    return s.push(e), e;
                  },
                  O = function () {
                    f(m, "writestart progress write writeend".split(" "));
                  },
                  S = function () {
                    (!E && l) || (l = g()),
                      v ? (v.location.href = l) : window.open(l, "_blank"),
                      (m.readyState = m.DONE),
                      O();
                  },
                  R = function (e) {
                    return function () {
                      if (m.readyState !== m.DONE)
                        return e.apply(this, arguments);
                    };
                  },
                  b = { create: !0, exclusive: !1 };
                if (((m.readyState = m.INIT), d || (d = "download"), r))
                  return (
                    (l = g()),
                    (o.href = l),
                    (o.download = d),
                    (w = o),
                    (y = t.createEvent("MouseEvents")).initMouseEvent(
                      "click",
                      !0,
                      !1,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      !1,
                      !1,
                      !1,
                      !1,
                      0,
                      null
                    ),
                    w.dispatchEvent(y),
                    (m.readyState = m.DONE),
                    void O()
                  );
                e.chrome &&
                  h &&
                  "application/octet-stream" !== h &&
                  ((p = u.slice || u.webkitSlice),
                  (u = p.call(u, 0, u.size, "application/octet-stream")),
                  (E = !0)),
                  i && "download" !== d && (d += ".download"),
                  ("application/octet-stream" === h || i) && (v = e),
                  a
                    ? ((c += u.size),
                      a(
                        e.TEMPORARY,
                        c,
                        R(function (e) {
                          e.root.getDirectory(
                            "saved",
                            b,
                            R(function (e) {
                              var t = function () {
                                e.getFile(
                                  d,
                                  b,
                                  R(function (e) {
                                    e.createWriter(
                                      R(function (t) {
                                        (t.onwriteend = function (t) {
                                          (v.location.href = e.toURL()),
                                            s.push(e),
                                            (m.readyState = m.DONE),
                                            f(m, "writeend", t);
                                        }),
                                          (t.onerror = function () {
                                            var e = t.error;
                                            e.code !== e.ABORT_ERR && S();
                                          }),
                                          "writestart progress write abort"
                                            .split(" ")
                                            .forEach(function (e) {
                                              t["on" + e] = m["on" + e];
                                            }),
                                          t.write(u),
                                          (m.abort = function () {
                                            t.abort(), (m.readyState = m.DONE);
                                          }),
                                          (m.readyState = m.WRITING);
                                      }),
                                      S
                                    );
                                  }),
                                  S
                                );
                              };
                              e.getFile(
                                d,
                                { create: !1 },
                                R(function (e) {
                                  e.remove(), t();
                                }),
                                R(function (e) {
                                  e.code === e.NOT_FOUND_ERR ? t() : S();
                                })
                              );
                            }),
                            S
                          );
                        }),
                        S
                      ))
                    : S();
              },
              v = l.prototype,
              p = function (e, t) {
                return new l(e, t);
              };
            return (
              (v.abort = function () {
                (this.readyState = this.DONE), f(this, "abort");
              }),
              (v.readyState = v.INIT = 0),
              (v.WRITING = 1),
              (v.DONE = 2),
              (v.error =
                v.onwritestart =
                v.onprogress =
                v.onwrite =
                v.onabort =
                v.onerror =
                v.onwriteend =
                  null),
              e.addEventListener("unload", d, !1),
              (p.unload = function () {
                d(), e.removeEventListener("unload", d, !1);
              }),
              p
            );
          }
        })(
          ("undefined" != typeof self && self) ||
            ("undefined" != typeof window && window) ||
            this.content
        );
      "undefined" != typeof module && null !== module
        ? (module.exports = saveAs)
        : "undefined" != typeof define &&
          null !== define &&
          null != define.amd &&
          define([], function () {
            return saveAs;
          });
    </script>
    <script type="text/javascript">
      !(function (n) {
        if ("object" == typeof exports && "undefined" != typeof module)
          module.exports = n();
        else if ("function" == typeof define && define.amd) define([], n);
        else {
          ("undefined" != typeof window
            ? window
            : "undefined" != typeof global
            ? global
            : "undefined" != typeof self
            ? self
            : this
          ).himalaya = n();
        }
      })(function () {
        return (function n(l, e, t) {
          function o(c, u) {
            if (!e[c]) {
              if (!l[c]) {
                var s = "function" == typeof require && require;
                if (!u && s) return s(c, !0);
                if (i) return i(c, !0);
                var m = new Error("Cannot find module '" + c + "'");
                throw ((m.code = "MODULE_NOT_FOUND"), m);
              }
              var a = (e[c] = { exports: {} });
              l[c][0].call(
                a.exports,
                function (n) {
                  var e = l[c][1][n];
                  return o(e || n);
                },
                a,
                a.exports,
                n,
                l,
                e,
                t
              );
            }
            return e[c].exports;
          }
          for (
            var i = "function" == typeof require && require, c = 0;
            c < t.length;
            c++
          )
            o(t[c]);
          return o;
        })(
          {
            1: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/compat.js",
                    l = "cde94accf38c67a096269c512dfb0f1bca69a38a",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/compat.js",
                      statementMap: {
                        0: {
                          start: { line: 10, column: 2 },
                          end: { line: 10, column: 72 },
                        },
                        1: {
                          start: { line: 14, column: 16 },
                          end: { line: 14, column: 62 },
                        },
                        2: {
                          start: { line: 15, column: 20 },
                          end: { line: 15, column: 56 },
                        },
                        3: {
                          start: { line: 16, column: 2 },
                          end: { line: 16, column: 48 },
                        },
                        4: {
                          start: { line: 20, column: 2 },
                          end: { line: 20, column: 56 },
                        },
                        5: {
                          start: { line: 24, column: 2 },
                          end: { line: 24, column: 42 },
                        },
                        6: {
                          start: { line: 28, column: 14 },
                          end: { line: 28, column: 26 },
                        },
                        7: {
                          start: { line: 29, column: 2 },
                          end: { line: 29, column: 29 },
                        },
                        8: {
                          start: { line: 29, column: 17 },
                          end: { line: 29, column: 29 },
                        },
                        9: {
                          start: { line: 31, column: 22 },
                          end: { line: 31, column: 34 },
                        },
                        10: {
                          start: { line: 32, column: 23 },
                          end: { line: 32, column: 47 },
                        },
                        11: {
                          start: { line: 33, column: 20 },
                          end: { line: 33, column: 70 },
                        },
                        12: {
                          start: { line: 34, column: 2 },
                          end: { line: 38, column: 3 },
                        },
                        13: {
                          start: { line: 35, column: 20 },
                          end: { line: 35, column: 40 },
                        },
                        14: {
                          start: { line: 36, column: 4 },
                          end: { line: 36, column: 46 },
                        },
                        15: {
                          start: { line: 36, column: 35 },
                          end: { line: 36, column: 46 },
                        },
                        16: {
                          start: { line: 37, column: 4 },
                          end: { line: 37, column: 55 },
                        },
                        17: {
                          start: { line: 37, column: 44 },
                          end: { line: 37, column: 55 },
                        },
                        18: {
                          start: { line: 40, column: 2 },
                          end: { line: 40, column: 14 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "startsWith",
                          decl: {
                            start: { line: 9, column: 16 },
                            end: { line: 9, column: 26 },
                          },
                          loc: {
                            start: { line: 9, column: 57 },
                            end: { line: 11, column: 1 },
                          },
                          line: 9,
                        },
                        1: {
                          name: "endsWith",
                          decl: {
                            start: { line: 13, column: 16 },
                            end: { line: 13, column: 24 },
                          },
                          loc: {
                            start: { line: 13, column: 55 },
                            end: { line: 17, column: 1 },
                          },
                          line: 13,
                        },
                        2: {
                          name: "stringIncludes",
                          decl: {
                            start: { line: 19, column: 16 },
                            end: { line: 19, column: 30 },
                          },
                          loc: {
                            start: { line: 19, column: 61 },
                            end: { line: 21, column: 1 },
                          },
                          line: 19,
                        },
                        3: {
                          name: "isRealNaN",
                          decl: {
                            start: { line: 23, column: 16 },
                            end: { line: 23, column: 25 },
                          },
                          loc: {
                            start: { line: 23, column: 30 },
                            end: { line: 25, column: 1 },
                          },
                          line: 23,
                        },
                        4: {
                          name: "arrayIncludes",
                          decl: {
                            start: { line: 27, column: 16 },
                            end: { line: 27, column: 29 },
                          },
                          loc: {
                            start: { line: 27, column: 63 },
                            end: { line: 41, column: 1 },
                          },
                          line: 27,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 10, column: 20 },
                            end: { line: 10, column: 33 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 10, column: 20 },
                              end: { line: 10, column: 28 },
                            },
                            {
                              start: { line: 10, column: 32 },
                              end: { line: 10, column: 33 },
                            },
                          ],
                          line: 10,
                        },
                        1: {
                          loc: {
                            start: { line: 14, column: 17 },
                            end: { line: 14, column: 39 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 14, column: 17 },
                              end: { line: 14, column: 25 },
                            },
                            {
                              start: { line: 14, column: 29 },
                              end: { line: 14, column: 39 },
                            },
                          ],
                          line: 14,
                        },
                        2: {
                          loc: {
                            start: { line: 16, column: 9 },
                            end: { line: 16, column: 48 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 16, column: 9 },
                              end: { line: 16, column: 25 },
                            },
                            {
                              start: { line: 16, column: 29 },
                              end: { line: 16, column: 48 },
                            },
                          ],
                          line: 16,
                        },
                        3: {
                          loc: {
                            start: { line: 20, column: 35 },
                            end: { line: 20, column: 48 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 20, column: 35 },
                              end: { line: 20, column: 43 },
                            },
                            {
                              start: { line: 20, column: 47 },
                              end: { line: 20, column: 48 },
                            },
                          ],
                          line: 20,
                        },
                        4: {
                          loc: {
                            start: { line: 24, column: 9 },
                            end: { line: 24, column: 42 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 24, column: 9 },
                              end: { line: 24, column: 30 },
                            },
                            {
                              start: { line: 24, column: 34 },
                              end: { line: 24, column: 42 },
                            },
                          ],
                          line: 24,
                        },
                        5: {
                          loc: {
                            start: { line: 29, column: 2 },
                            end: { line: 29, column: 29 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 29, column: 2 },
                              end: { line: 29, column: 29 },
                            },
                            {
                              start: { line: 29, column: 2 },
                              end: { line: 29, column: 29 },
                            },
                          ],
                          line: 29,
                        },
                        6: {
                          loc: {
                            start: { line: 33, column: 20 },
                            end: { line: 33, column: 70 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 33, column: 39 },
                              end: { line: 33, column: 50 },
                            },
                            {
                              start: { line: 33, column: 53 },
                              end: { line: 33, column: 70 },
                            },
                          ],
                          line: 33,
                        },
                        7: {
                          loc: {
                            start: { line: 36, column: 4 },
                            end: { line: 36, column: 46 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 36, column: 4 },
                              end: { line: 36, column: 46 },
                            },
                            {
                              start: { line: 36, column: 4 },
                              end: { line: 36, column: 46 },
                            },
                          ],
                          line: 36,
                        },
                        8: {
                          loc: {
                            start: { line: 37, column: 4 },
                            end: { line: 37, column: 55 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 37, column: 4 },
                              end: { line: 37, column: 55 },
                            },
                            {
                              start: { line: 37, column: 4 },
                              end: { line: 37, column: 55 },
                            },
                          ],
                          line: 37,
                        },
                        9: {
                          loc: {
                            start: { line: 37, column: 8 },
                            end: { line: 37, column: 42 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 37, column: 8 },
                              end: { line: 37, column: 20 },
                            },
                            {
                              start: { line: 37, column: 24 },
                              end: { line: 37, column: 42 },
                            },
                          ],
                          line: 37,
                        },
                      },
                      s: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                        14: 0,
                        15: 0,
                        16: 0,
                        17: 0,
                        18: 0,
                      },
                      f: { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0 },
                      b: {
                        0: [0, 0],
                        1: [0, 0],
                        2: [0, 0],
                        3: [0, 0],
                        4: [0, 0],
                        5: [0, 0],
                        6: [0, 0],
                        7: [0, 0],
                        8: [0, 0],
                        9: [0, 0],
                      },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                function o(n) {
                  return (
                    t.f[3]++,
                    t.s[5]++,
                    t.b[4][0]++,
                    "number" == typeof n && (t.b[4][1]++, isNaN(n))
                  );
                }
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.startsWith = function (n, l, e) {
                    return (
                      t.f[0]++,
                      t.s[0]++,
                      n.substr(
                        (t.b[0][0]++, e || (t.b[0][1]++, 0)),
                        l.length
                      ) === l
                    );
                  }),
                  (e.endsWith = function (n, l, e) {
                    t.f[1]++;
                    var o =
                        (t.s[1]++,
                        t.b[1][0]++,
                        (e || (t.b[1][1]++, n.length)) - l.length),
                      i = (t.s[2]++, n.lastIndexOf(l, o));
                    return (
                      t.s[3]++, t.b[2][0]++, -1 !== i && (t.b[2][1]++, i === o)
                    );
                  }),
                  (e.stringIncludes = function (n, l, e) {
                    return (
                      t.f[2]++,
                      t.s[4]++,
                      -1 !== n.indexOf(l, (t.b[3][0]++, e || (t.b[3][1]++, 0)))
                    );
                  }),
                  (e.isRealNaN = o),
                  (e.arrayIncludes = function (n, l, e) {
                    t.f[4]++;
                    var i = (t.s[6]++, n.length);
                    if ((t.s[7]++, 0 === i)) return t.b[5][0]++, t.s[8]++, !1;
                    t.b[5][1]++;
                    var c = (t.s[9]++, 0 | e),
                      u = (t.s[10]++, o(l)),
                      s =
                        (t.s[11]++,
                        c >= 0 ? (t.b[6][0]++, c) : (t.b[6][1]++, i + c));
                    t.s[12]++;
                    for (; s < i; ) {
                      var m = (t.s[13]++, n[s++]);
                      if ((t.s[14]++, m === l))
                        return t.b[7][0]++, t.s[15]++, !0;
                      if (
                        (t.b[7][1]++,
                        t.s[16]++,
                        t.b[9][0]++,
                        u && (t.b[9][1]++, o(m)))
                      )
                        return t.b[8][0]++, t.s[17]++, !0;
                      t.b[8][1]++;
                    }
                    return t.s[18]++, !1;
                  });
              },
              {},
            ],
            2: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/format.js",
                    l = "ef8c4d14fa58c2bce23a58bf5d7c370846a07329",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/format.js",
                      statementMap: {
                        0: {
                          start: { line: 2, column: 14 },
                          end: { line: 2, column: 30 },
                        },
                        1: {
                          start: { line: 3, column: 2 },
                          end: { line: 3, column: 30 },
                        },
                        2: {
                          start: { line: 3, column: 18 },
                          end: { line: 3, column: 30 },
                        },
                        3: {
                          start: { line: 4, column: 2 },
                          end: { line: 4, column: 57 },
                        },
                        4: {
                          start: { line: 8, column: 14 },
                          end: { line: 8, column: 27 },
                        },
                        5: {
                          start: { line: 9, column: 14 },
                          end: { line: 9, column: 28 },
                        },
                        6: {
                          start: { line: 10, column: 23 },
                          end: { line: 10, column: 49 },
                        },
                        7: {
                          start: { line: 11, column: 2 },
                          end: { line: 13, column: 3 },
                        },
                        8: {
                          start: { line: 12, column: 4 },
                          end: { line: 12, column: 28 },
                        },
                        9: {
                          start: { line: 14, column: 2 },
                          end: { line: 14, column: 12 },
                        },
                        10: {
                          start: { line: 18, column: 2 },
                          end: { line: 32, column: 4 },
                        },
                        11: {
                          start: { line: 19, column: 17 },
                          end: { line: 19, column: 26 },
                        },
                        12: {
                          start: { line: 20, column: 23 },
                          end: { line: 27, column: 39 },
                        },
                        13: {
                          start: { line: 28, column: 4 },
                          end: { line: 30, column: 5 },
                        },
                        14: {
                          start: { line: 29, column: 6 },
                          end: { line: 29, column: 41 },
                        },
                        15: {
                          start: { line: 31, column: 4 },
                          end: { line: 31, column: 21 },
                        },
                        16: {
                          start: { line: 36, column: 2 },
                          end: { line: 43, column: 4 },
                        },
                        17: {
                          start: { line: 37, column: 18 },
                          end: { line: 37, column: 50 },
                        },
                        18: {
                          start: { line: 38, column: 16 },
                          end: { line: 38, column: 24 },
                        },
                        19: {
                          start: { line: 39, column: 18 },
                          end: { line: 41, column: 12 },
                        },
                        20: {
                          start: { line: 42, column: 4 },
                          end: { line: 42, column: 23 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "splitHead",
                          decl: {
                            start: { line: 1, column: 16 },
                            end: { line: 1, column: 25 },
                          },
                          loc: {
                            start: { line: 1, column: 37 },
                            end: { line: 5, column: 1 },
                          },
                          line: 1,
                        },
                        1: {
                          name: "unquote",
                          decl: {
                            start: { line: 7, column: 16 },
                            end: { line: 7, column: 23 },
                          },
                          loc: {
                            start: { line: 7, column: 30 },
                            end: { line: 15, column: 1 },
                          },
                          line: 7,
                        },
                        2: {
                          name: "format",
                          decl: {
                            start: { line: 17, column: 16 },
                            end: { line: 17, column: 22 },
                          },
                          loc: {
                            start: { line: 17, column: 40 },
                            end: { line: 33, column: 1 },
                          },
                          line: 17,
                        },
                        3: {
                          name: "(anonymous_3)",
                          decl: {
                            start: { line: 18, column: 19 },
                            end: { line: 18, column: 20 },
                          },
                          loc: {
                            start: { line: 18, column: 27 },
                            end: { line: 32, column: 3 },
                          },
                          line: 18,
                        },
                        4: {
                          name: "formatAttributes",
                          decl: {
                            start: { line: 35, column: 16 },
                            end: { line: 35, column: 32 },
                          },
                          loc: {
                            start: { line: 35, column: 46 },
                            end: { line: 44, column: 1 },
                          },
                          line: 35,
                        },
                        5: {
                          name: "(anonymous_5)",
                          decl: {
                            start: { line: 36, column: 24 },
                            end: { line: 36, column: 25 },
                          },
                          loc: {
                            start: { line: 36, column: 37 },
                            end: { line: 43, column: 3 },
                          },
                          line: 36,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 3, column: 2 },
                            end: { line: 3, column: 30 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 3, column: 2 },
                              end: { line: 3, column: 30 },
                            },
                            {
                              start: { line: 3, column: 2 },
                              end: { line: 3, column: 30 },
                            },
                          ],
                          line: 3,
                        },
                        1: {
                          loc: {
                            start: { line: 10, column: 23 },
                            end: { line: 10, column: 49 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 10, column: 23 },
                              end: { line: 10, column: 34 },
                            },
                            {
                              start: { line: 10, column: 38 },
                              end: { line: 10, column: 49 },
                            },
                          ],
                          line: 10,
                        },
                        2: {
                          loc: {
                            start: { line: 11, column: 2 },
                            end: { line: 13, column: 3 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 11, column: 2 },
                              end: { line: 13, column: 3 },
                            },
                            {
                              start: { line: 11, column: 2 },
                              end: { line: 13, column: 3 },
                            },
                          ],
                          line: 11,
                        },
                        3: {
                          loc: {
                            start: { line: 11, column: 6 },
                            end: { line: 11, column: 45 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 11, column: 6 },
                              end: { line: 11, column: 18 },
                            },
                            {
                              start: { line: 11, column: 22 },
                              end: { line: 11, column: 45 },
                            },
                          ],
                          line: 11,
                        },
                        4: {
                          loc: {
                            start: { line: 20, column: 23 },
                            end: { line: 27, column: 39 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 21, column: 8 },
                              end: { line: 26, column: 7 },
                            },
                            {
                              start: { line: 27, column: 8 },
                              end: { line: 27, column: 39 },
                            },
                          ],
                          line: 20,
                        },
                        5: {
                          loc: {
                            start: { line: 28, column: 4 },
                            end: { line: 30, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 28, column: 4 },
                              end: { line: 30, column: 5 },
                            },
                            {
                              start: { line: 28, column: 4 },
                              end: { line: 30, column: 5 },
                            },
                          ],
                          line: 28,
                        },
                        6: {
                          loc: {
                            start: { line: 39, column: 18 },
                            end: { line: 41, column: 12 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 40, column: 8 },
                              end: { line: 40, column: 25 },
                            },
                            {
                              start: { line: 41, column: 8 },
                              end: { line: 41, column: 12 },
                            },
                          ],
                          line: 39,
                        },
                      },
                      s: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                        14: 0,
                        15: 0,
                        16: 0,
                        17: 0,
                        18: 0,
                        19: 0,
                        20: 0,
                      },
                      f: { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 },
                      b: {
                        0: [0, 0],
                        1: [0, 0],
                        2: [0, 0],
                        3: [0, 0],
                        4: [0, 0],
                        5: [0, 0],
                        6: [0, 0],
                      },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                function o(n, l) {
                  t.f[0]++;
                  var e = (t.s[0]++, n.indexOf(l));
                  return (
                    t.s[1]++,
                    -1 === e
                      ? (t.b[0][0]++, t.s[2]++, [n])
                      : (t.b[0][1]++,
                        t.s[3]++,
                        [n.slice(0, e), n.slice(e + l.length)])
                  );
                }
                function i(n) {
                  t.f[1]++;
                  var l = (t.s[4]++, n.charAt(0)),
                    e = (t.s[5]++, n.length - 1),
                    o =
                      (t.s[6]++,
                      t.b[1][0]++,
                      '"' === l || (t.b[1][1]++, "'" === l));
                  return (
                    t.s[7]++,
                    t.b[3][0]++,
                    o && (t.b[3][1]++, l === n.charAt(e))
                      ? (t.b[2][0]++, t.s[8]++, n.slice(1, e))
                      : (t.b[2][1]++, t.s[9]++, n)
                  );
                }
                function c(n) {
                  return (
                    t.f[4]++,
                    t.s[16]++,
                    n.map(function (n) {
                      t.f[5]++;
                      var l = (t.s[17]++, o(n.trim(), "=")),
                        e = (t.s[18]++, l[0]),
                        c =
                          (t.s[19]++,
                          "string" == typeof l[1]
                            ? (t.b[6][0]++, i(l[1]))
                            : (t.b[6][1]++, null));
                      return t.s[20]++, { key: e, value: c };
                    })
                  );
                }
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.splitHead = o),
                  (e.unquote = i),
                  (e.format = function n(l, e) {
                    return (
                      t.f[2]++,
                      t.s[10]++,
                      l.map(function (l) {
                        t.f[3]++;
                        var o = (t.s[11]++, l.type),
                          i =
                            (t.s[12]++,
                            "element" === o
                              ? (t.b[4][0]++,
                                {
                                  type: o,
                                  tagName: l.tagName.toLowerCase(),
                                  attributes: c(l.attributes),
                                  children: n(l.children, e),
                                })
                              : (t.b[4][1]++, { type: o, content: l.content }));
                        return (
                          t.s[13]++,
                          e.includePositions
                            ? (t.b[5][0]++,
                              t.s[14]++,
                              (i.position = l.position))
                            : t.b[5][1]++,
                          t.s[15]++,
                          i
                        );
                      })
                    );
                  }),
                  (e.formatAttributes = c);
              },
              {},
            ],
            3: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/index.js",
                    l = "a91ca68b6320b199fa63e4cbd37dce6857e0c43d",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/index.js",
                      statementMap: {
                        0: {
                          start: { line: 12, column: 29 },
                          end: { line: 18, column: 1 },
                        },
                        1: {
                          start: { line: 21, column: 17 },
                          end: { line: 21, column: 36 },
                        },
                        2: {
                          start: { line: 22, column: 16 },
                          end: { line: 22, column: 39 },
                        },
                        3: {
                          start: { line: 23, column: 2 },
                          end: { line: 23, column: 31 },
                        },
                        4: {
                          start: { line: 27, column: 2 },
                          end: { line: 27, column: 29 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "parse",
                          decl: {
                            start: { line: 20, column: 16 },
                            end: { line: 20, column: 21 },
                          },
                          loc: {
                            start: { line: 20, column: 53 },
                            end: { line: 24, column: 1 },
                          },
                          line: 20,
                        },
                        1: {
                          name: "stringify",
                          decl: {
                            start: { line: 26, column: 16 },
                            end: { line: 26, column: 25 },
                          },
                          loc: {
                            start: { line: 26, column: 57 },
                            end: { line: 28, column: 1 },
                          },
                          line: 26,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 20, column: 28 },
                            end: { line: 20, column: 51 },
                          },
                          type: "default-arg",
                          locations: [
                            {
                              start: { line: 20, column: 38 },
                              end: { line: 20, column: 51 },
                            },
                          ],
                          line: 20,
                        },
                        1: {
                          loc: {
                            start: { line: 26, column: 32 },
                            end: { line: 26, column: 55 },
                          },
                          type: "default-arg",
                          locations: [
                            {
                              start: { line: 26, column: 42 },
                              end: { line: 26, column: 55 },
                            },
                          ],
                          line: 26,
                        },
                      },
                      s: { 0: 0, 1: 0, 2: 0, 3: 0, 4: 0 },
                      f: { 0: 0, 1: 0 },
                      b: { 0: [0], 1: [0] },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.parseDefaults = void 0),
                  (e.parse = function (n) {
                    var l =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : (t.b[0][0]++, a);
                    t.f[0]++;
                    var e = (t.s[1]++, (0, o.default)(n, l)),
                      u = (t.s[2]++, (0, i.default)(e, l));
                    return t.s[3]++, (0, c.format)(u, l);
                  }),
                  (e.stringify = function (n) {
                    var l =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : (t.b[1][0]++, a);
                    return t.f[1]++, t.s[4]++, (0, u.toHTML)(n, l);
                  });
                var o = m(n("./lexer")),
                  i = m(n("./parser")),
                  c = n("./format"),
                  u = n("./stringify"),
                  s = n("./tags");
                function m(n) {
                  return n && n.__esModule ? n : { default: n };
                }
                var a = (e.parseDefaults =
                  (t.s[0]++,
                  {
                    voidTags: s.voidTags,
                    closingTags: s.closingTags,
                    childlessTags: s.childlessTags,
                    closingTagAncestorBreakers: s.closingTagAncestorBreakers,
                    includePositions: !1,
                  }));
              },
              {
                "./format": 2,
                "./lexer": 4,
                "./parser": 5,
                "./stringify": 6,
                "./tags": 7,
              },
            ],
            4: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/lexer.js",
                    l = "99f1269b85a36e02e6fcfa2eb5c9423a8a428848",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/lexer.js",
                      statementMap: {
                        0: {
                          start: { line: 9, column: 16 },
                          end: { line: 9, column: 30 },
                        },
                        1: {
                          start: { line: 10, column: 14 },
                          end: { line: 10, column: 42 },
                        },
                        2: {
                          start: { line: 11, column: 2 },
                          end: { line: 19, column: 3 },
                        },
                        3: {
                          start: { line: 12, column: 17 },
                          end: { line: 12, column: 30 },
                        },
                        4: {
                          start: { line: 13, column: 4 },
                          end: { line: 18, column: 5 },
                        },
                        5: {
                          start: { line: 14, column: 6 },
                          end: { line: 14, column: 21 },
                        },
                        6: {
                          start: { line: 15, column: 6 },
                          end: { line: 15, column: 25 },
                        },
                        7: {
                          start: { line: 17, column: 6 },
                          end: { line: 17, column: 23 },
                        },
                        8: {
                          start: { line: 23, column: 14 },
                          end: { line: 23, column: 34 },
                        },
                        9: {
                          start: { line: 24, column: 2 },
                          end: { line: 24, column: 41 },
                        },
                        10: {
                          start: { line: 28, column: 2 },
                          end: { line: 32, column: 3 },
                        },
                        11: {
                          start: { line: 36, column: 2 },
                          end: { line: 40, column: 3 },
                        },
                        12: {
                          start: { line: 44, column: 16 },
                          end: { line: 49, column: 3 },
                        },
                        13: {
                          start: { line: 50, column: 2 },
                          end: { line: 50, column: 12 },
                        },
                        14: {
                          start: { line: 51, column: 2 },
                          end: { line: 51, column: 21 },
                        },
                        15: {
                          start: { line: 55, column: 42 },
                          end: { line: 55, column: 47 },
                        },
                        16: {
                          start: { line: 56, column: 14 },
                          end: { line: 56, column: 24 },
                        },
                        17: {
                          start: { line: 57, column: 2 },
                          end: { line: 72, column: 3 },
                        },
                        18: {
                          start: { line: 58, column: 18 },
                          end: { line: 58, column: 38 },
                        },
                        19: {
                          start: { line: 59, column: 4 },
                          end: { line: 59, column: 18 },
                        },
                        20: {
                          start: { line: 60, column: 4 },
                          end: { line: 71, column: 5 },
                        },
                        21: {
                          start: { line: 61, column: 24 },
                          end: { line: 61, column: 57 },
                        },
                        22: {
                          start: { line: 62, column: 6 },
                          end: { line: 70, column: 7 },
                        },
                        23: {
                          start: { line: 63, column: 8 },
                          end: { line: 63, column: 25 },
                        },
                        24: {
                          start: { line: 65, column: 24 },
                          end: { line: 65, column: 37 },
                        },
                        25: {
                          start: { line: 66, column: 24 },
                          end: { line: 66, column: 45 },
                        },
                        26: {
                          start: { line: 67, column: 8 },
                          end: { line: 69, column: 9 },
                        },
                        27: {
                          start: { line: 68, column: 10 },
                          end: { line: 68, column: 36 },
                        },
                        28: {
                          start: { line: 75, column: 21 },
                          end: { line: 75, column: 34 },
                        },
                        29: {
                          start: { line: 77, column: 2 },
                          end: { line: 87, column: 3 },
                        },
                        30: {
                          start: { line: 78, column: 20 },
                          end: { line: 78, column: 43 },
                        },
                        31: {
                          start: { line: 79, column: 4 },
                          end: { line: 81, column: 5 },
                        },
                        32: {
                          start: { line: 80, column: 6 },
                          end: { line: 80, column: 20 },
                        },
                        33: {
                          start: { line: 82, column: 17 },
                          end: { line: 82, column: 40 },
                        },
                        34: {
                          start: { line: 83, column: 4 },
                          end: { line: 85, column: 5 },
                        },
                        35: {
                          start: { line: 84, column: 6 },
                          end: { line: 84, column: 20 },
                        },
                        36: {
                          start: { line: 86, column: 4 },
                          end: { line: 86, column: 23 },
                        },
                        37: {
                          start: { line: 91, column: 15 },
                          end: { line: 91, column: 21 },
                        },
                        38: {
                          start: { line: 92, column: 26 },
                          end: { line: 92, column: 31 },
                        },
                        39: {
                          start: { line: 93, column: 16 },
                          end: { line: 93, column: 48 },
                        },
                        40: {
                          start: { line: 94, column: 2 },
                          end: { line: 94, column: 40 },
                        },
                        41: {
                          start: { line: 94, column: 34 },
                          end: { line: 94, column: 40 },
                        },
                        42: {
                          start: { line: 95, column: 2 },
                          end: { line: 97, column: 3 },
                        },
                        43: {
                          start: { line: 96, column: 4 },
                          end: { line: 96, column: 24 },
                        },
                        44: {
                          start: { line: 99, column: 16 },
                          end: { line: 99, column: 38 },
                        },
                        45: {
                          start: { line: 100, column: 18 },
                          end: { line: 100, column: 52 },
                        },
                        46: {
                          start: { line: 101, column: 2 },
                          end: { line: 101, column: 38 },
                        },
                        47: {
                          start: { line: 102, column: 14 },
                          end: { line: 102, column: 36 },
                        },
                        48: {
                          start: { line: 103, column: 2 },
                          end: { line: 103, column: 60 },
                        },
                        49: {
                          start: { line: 107, column: 26 },
                          end: { line: 107, column: 31 },
                        },
                        50: {
                          start: { line: 108, column: 16 },
                          end: { line: 108, column: 38 },
                        },
                        51: {
                          start: { line: 109, column: 2 },
                          end: { line: 109, column: 32 },
                        },
                        52: {
                          start: { line: 110, column: 19 },
                          end: { line: 110, column: 53 },
                        },
                        53: {
                          start: { line: 111, column: 19 },
                          end: { line: 111, column: 33 },
                        },
                        54: {
                          start: { line: 112, column: 2 },
                          end: { line: 114, column: 3 },
                        },
                        55: {
                          start: { line: 113, column: 4 },
                          end: { line: 113, column: 40 },
                        },
                        56: {
                          start: { line: 116, column: 18 },
                          end: { line: 116, column: 55 },
                        },
                        57: {
                          start: { line: 117, column: 2 },
                          end: { line: 117, column: 41 },
                        },
                        58: {
                          start: { line: 118, column: 2 },
                          end: { line: 125, column: 4 },
                        },
                        59: {
                          start: { line: 129, column: 26 },
                          end: { line: 129, column: 31 },
                        },
                        60: {
                          start: { line: 131, column: 23 },
                          end: { line: 131, column: 53 },
                        },
                        61: {
                          start: { line: 132, column: 18 },
                          end: { line: 132, column: 36 },
                        },
                        62: {
                          start: { line: 133, column: 18 },
                          end: { line: 133, column: 40 },
                        },
                        63: {
                          start: { line: 134, column: 4 },
                          end: { line: 134, column: 46 },
                        },
                        64: {
                          start: { line: 135, column: 4 },
                          end: { line: 135, column: 68 },
                        },
                        65: {
                          start: { line: 137, column: 18 },
                          end: { line: 137, column: 35 },
                        },
                        66: {
                          start: { line: 138, column: 2 },
                          end: { line: 138, column: 25 },
                        },
                        67: {
                          start: { line: 140, column: 22 },
                          end: { line: 140, column: 48 },
                        },
                        68: {
                          start: { line: 141, column: 18 },
                          end: { line: 141, column: 35 },
                        },
                        69: {
                          start: { line: 142, column: 4 },
                          end: { line: 142, column: 46 },
                        },
                        70: {
                          start: { line: 143, column: 16 },
                          end: { line: 143, column: 38 },
                        },
                        71: {
                          start: { line: 144, column: 4 },
                          end: { line: 144, column: 64 },
                        },
                        72: {
                          start: { line: 146, column: 2 },
                          end: { line: 146, column: 16 },
                        },
                        73: {
                          start: { line: 150, column: 19 },
                          end: { line: 150, column: 23 },
                        },
                        74: {
                          start: { line: 152, column: 2 },
                          end: { line: 152, column: 30 },
                        },
                        75: {
                          start: { line: 156, column: 26 },
                          end: { line: 156, column: 31 },
                        },
                        76: {
                          start: { line: 157, column: 14 },
                          end: { line: 157, column: 24 },
                        },
                        77: {
                          start: { line: 158, column: 14 },
                          end: { line: 158, column: 28 },
                        },
                        78: {
                          start: { line: 159, column: 2 },
                          end: { line: 164, column: 3 },
                        },
                        79: {
                          start: { line: 160, column: 17 },
                          end: { line: 160, column: 34 },
                        },
                        80: {
                          start: { line: 161, column: 22 },
                          end: { line: 161, column: 79 },
                        },
                        81: {
                          start: { line: 162, column: 4 },
                          end: { line: 162, column: 24 },
                        },
                        82: {
                          start: { line: 162, column: 19 },
                          end: { line: 162, column: 24 },
                        },
                        83: {
                          start: { line: 163, column: 4 },
                          end: { line: 163, column: 11 },
                        },
                        84: {
                          start: { line: 166, column: 12 },
                          end: { line: 166, column: 21 },
                        },
                        85: {
                          start: { line: 167, column: 2 },
                          end: { line: 172, column: 3 },
                        },
                        86: {
                          start: { line: 168, column: 17 },
                          end: { line: 168, column: 32 },
                        },
                        87: {
                          start: { line: 169, column: 22 },
                          end: { line: 169, column: 79 },
                        },
                        88: {
                          start: { line: 170, column: 4 },
                          end: { line: 170, column: 25 },
                        },
                        89: {
                          start: { line: 170, column: 20 },
                          end: { line: 170, column: 25 },
                        },
                        90: {
                          start: { line: 171, column: 4 },
                          end: { line: 171, column: 9 },
                        },
                        91: {
                          start: { line: 174, column: 2 },
                          end: { line: 174, column: 34 },
                        },
                        92: {
                          start: { line: 175, column: 18 },
                          end: { line: 175, column: 39 },
                        },
                        93: {
                          start: { line: 176, column: 2 },
                          end: { line: 179, column: 4 },
                        },
                        94: {
                          start: { line: 180, column: 2 },
                          end: { line: 180, column: 16 },
                        },
                        95: {
                          start: { line: 184, column: 34 },
                          end: { line: 184, column: 39 },
                        },
                        96: {
                          start: { line: 185, column: 15 },
                          end: { line: 185, column: 29 },
                        },
                        97: {
                          start: { line: 186, column: 14 },
                          end: { line: 186, column: 18 },
                        },
                        98: {
                          start: { line: 187, column: 18 },
                          end: { line: 187, column: 24 },
                        },
                        99: {
                          start: { line: 188, column: 16 },
                          end: { line: 188, column: 18 },
                        },
                        100: {
                          start: { line: 189, column: 14 },
                          end: { line: 189, column: 24 },
                        },
                        101: {
                          start: { line: 190, column: 2 },
                          end: { line: 227, column: 3 },
                        },
                        102: {
                          start: { line: 191, column: 17 },
                          end: { line: 191, column: 35 },
                        },
                        103: {
                          start: { line: 192, column: 4 },
                          end: { line: 199, column: 5 },
                        },
                        104: {
                          start: { line: 193, column: 25 },
                          end: { line: 193, column: 39 },
                        },
                        105: {
                          start: { line: 194, column: 6 },
                          end: { line: 196, column: 7 },
                        },
                        106: {
                          start: { line: 195, column: 8 },
                          end: { line: 195, column: 20 },
                        },
                        107: {
                          start: { line: 197, column: 6 },
                          end: { line: 197, column: 14 },
                        },
                        108: {
                          start: { line: 198, column: 6 },
                          end: { line: 198, column: 14 },
                        },
                        109: {
                          start: { line: 201, column: 21 },
                          end: { line: 201, column: 49 },
                        },
                        110: {
                          start: { line: 202, column: 4 },
                          end: { line: 207, column: 5 },
                        },
                        111: {
                          start: { line: 203, column: 6 },
                          end: { line: 205, column: 7 },
                        },
                        112: {
                          start: { line: 204, column: 8 },
                          end: { line: 204, column: 48 },
                        },
                        113: {
                          start: { line: 206, column: 6 },
                          end: { line: 206, column: 11 },
                        },
                        114: {
                          start: { line: 209, column: 22 },
                          end: { line: 209, column: 44 },
                        },
                        115: {
                          start: { line: 210, column: 4 },
                          end: { line: 217, column: 5 },
                        },
                        116: {
                          start: { line: 211, column: 6 },
                          end: { line: 213, column: 7 },
                        },
                        117: {
                          start: { line: 212, column: 8 },
                          end: { line: 212, column: 48 },
                        },
                        118: {
                          start: { line: 214, column: 6 },
                          end: { line: 214, column: 28 },
                        },
                        119: {
                          start: { line: 215, column: 6 },
                          end: { line: 215, column: 14 },
                        },
                        120: {
                          start: { line: 216, column: 6 },
                          end: { line: 216, column: 14 },
                        },
                        121: {
                          start: { line: 219, column: 25 },
                          end: { line: 219, column: 54 },
                        },
                        122: {
                          start: { line: 220, column: 4 },
                          end: { line: 224, column: 5 },
                        },
                        123: {
                          start: { line: 221, column: 6 },
                          end: { line: 221, column: 18 },
                        },
                        124: {
                          start: { line: 222, column: 6 },
                          end: { line: 222, column: 14 },
                        },
                        125: {
                          start: { line: 223, column: 6 },
                          end: { line: 223, column: 14 },
                        },
                        126: {
                          start: { line: 226, column: 4 },
                          end: { line: 226, column: 12 },
                        },
                        127: {
                          start: { line: 228, column: 2 },
                          end: { line: 228, column: 37 },
                        },
                        128: {
                          start: { line: 230, column: 15 },
                          end: { line: 230, column: 27 },
                        },
                        129: {
                          start: { line: 231, column: 15 },
                          end: { line: 231, column: 26 },
                        },
                        130: {
                          start: { line: 232, column: 2 },
                          end: { line: 269, column: 3 },
                        },
                        131: {
                          start: { line: 233, column: 17 },
                          end: { line: 233, column: 25 },
                        },
                        132: {
                          start: { line: 234, column: 22 },
                          end: { line: 234, column: 46 },
                        },
                        133: {
                          start: { line: 235, column: 4 },
                          end: { line: 253, column: 5 },
                        },
                        134: {
                          start: { line: 236, column: 25 },
                          end: { line: 236, column: 37 },
                        },
                        135: {
                          start: { line: 237, column: 6 },
                          end: { line: 252, column: 7 },
                        },
                        136: {
                          start: { line: 238, column: 8 },
                          end: { line: 243, column: 9 },
                        },
                        137: {
                          start: { line: 239, column: 26 },
                          end: { line: 239, column: 43 },
                        },
                        138: {
                          start: { line: 240, column: 10 },
                          end: { line: 240, column: 47 },
                        },
                        139: {
                          start: { line: 241, column: 10 },
                          end: { line: 241, column: 16 },
                        },
                        140: {
                          start: { line: 242, column: 10 },
                          end: { line: 242, column: 18 },
                        },
                        141: {
                          start: { line: 244, column: 26 },
                          end: { line: 244, column: 38 },
                        },
                        142: {
                          start: { line: 245, column: 8 },
                          end: { line: 245, column: 14 },
                        },
                        143: {
                          start: { line: 246, column: 8 },
                          end: { line: 251, column: 9 },
                        },
                        144: {
                          start: { line: 247, column: 26 },
                          end: { line: 247, column: 48 },
                        },
                        145: {
                          start: { line: 248, column: 10 },
                          end: { line: 248, column: 47 },
                        },
                        146: {
                          start: { line: 249, column: 10 },
                          end: { line: 249, column: 16 },
                        },
                        147: {
                          start: { line: 250, column: 10 },
                          end: { line: 250, column: 18 },
                        },
                        148: {
                          start: { line: 254, column: 4 },
                          end: { line: 266, column: 5 },
                        },
                        149: {
                          start: { line: 255, column: 25 },
                          end: { line: 255, column: 37 },
                        },
                        150: {
                          start: { line: 256, column: 6 },
                          end: { line: 261, column: 7 },
                        },
                        151: {
                          start: { line: 257, column: 24 },
                          end: { line: 257, column: 41 },
                        },
                        152: {
                          start: { line: 258, column: 8 },
                          end: { line: 258, column: 45 },
                        },
                        153: {
                          start: { line: 259, column: 8 },
                          end: { line: 259, column: 14 },
                        },
                        154: {
                          start: { line: 260, column: 8 },
                          end: { line: 260, column: 16 },
                        },
                        155: {
                          start: { line: 263, column: 22 },
                          end: { line: 263, column: 39 },
                        },
                        156: {
                          start: { line: 264, column: 6 },
                          end: { line: 264, column: 43 },
                        },
                        157: {
                          start: { line: 265, column: 6 },
                          end: { line: 265, column: 14 },
                        },
                        158: {
                          start: { line: 268, column: 4 },
                          end: { line: 268, column: 38 },
                        },
                        159: {
                          start: { line: 272, column: 13 },
                          end: { line: 272, column: 20 },
                        },
                        160: {
                          start: { line: 275, column: 34 },
                          end: { line: 275, column: 39 },
                        },
                        161: {
                          start: { line: 276, column: 22 },
                          end: { line: 276, column: 43 },
                        },
                        162: {
                          start: { line: 277, column: 14 },
                          end: { line: 277, column: 24 },
                        },
                        163: {
                          start: { line: 278, column: 14 },
                          end: { line: 278, column: 28 },
                        },
                        164: {
                          start: { line: 279, column: 2 },
                          end: { line: 311, column: 3 },
                        },
                        165: {
                          start: { line: 280, column: 20 },
                          end: { line: 280, column: 44 },
                        },
                        166: {
                          start: { line: 281, column: 4 },
                          end: { line: 284, column: 5 },
                        },
                        167: {
                          start: { line: 282, column: 6 },
                          end: { line: 282, column: 20 },
                        },
                        168: {
                          start: { line: 283, column: 6 },
                          end: { line: 283, column: 11 },
                        },
                        169: {
                          start: { line: 286, column: 29 },
                          end: { line: 286, column: 51 },
                        },
                        170: {
                          start: { line: 287, column: 4 },
                          end: { line: 287, column: 48 },
                        },
                        171: {
                          start: { line: 288, column: 21 },
                          end: { line: 288, column: 66 },
                        },
                        172: {
                          start: { line: 289, column: 17 },
                          end: { line: 289, column: 33 },
                        },
                        173: {
                          start: { line: 290, column: 4 },
                          end: { line: 293, column: 5 },
                        },
                        174: {
                          start: { line: 291, column: 6 },
                          end: { line: 291, column: 37 },
                        },
                        175: {
                          start: { line: 292, column: 6 },
                          end: { line: 292, column: 14 },
                        },
                        176: {
                          start: { line: 295, column: 4 },
                          end: { line: 306, column: 5 },
                        },
                        177: {
                          start: { line: 296, column: 24 },
                          end: { line: 296, column: 46 },
                        },
                        178: {
                          start: { line: 297, column: 6 },
                          end: { line: 297, column: 42 },
                        },
                        179: {
                          start: { line: 298, column: 6 },
                          end: { line: 305, column: 8 },
                        },
                        180: {
                          start: { line: 308, column: 4 },
                          end: { line: 308, column: 39 },
                        },
                        181: {
                          start: { line: 309, column: 4 },
                          end: { line: 309, column: 56 },
                        },
                        182: {
                          start: { line: 310, column: 4 },
                          end: { line: 310, column: 9 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "feedPosition",
                          decl: {
                            start: { line: 8, column: 16 },
                            end: { line: 8, column: 28 },
                          },
                          loc: {
                            start: { line: 8, column: 50 },
                            end: { line: 20, column: 1 },
                          },
                          line: 8,
                        },
                        1: {
                          name: "jumpPosition",
                          decl: {
                            start: { line: 22, column: 16 },
                            end: { line: 22, column: 28 },
                          },
                          loc: {
                            start: { line: 22, column: 50 },
                            end: { line: 25, column: 1 },
                          },
                          line: 22,
                        },
                        2: {
                          name: "makeInitialPosition",
                          decl: {
                            start: { line: 27, column: 16 },
                            end: { line: 27, column: 35 },
                          },
                          loc: {
                            start: { line: 27, column: 39 },
                            end: { line: 33, column: 1 },
                          },
                          line: 27,
                        },
                        3: {
                          name: "copyPosition",
                          decl: {
                            start: { line: 35, column: 16 },
                            end: { line: 35, column: 28 },
                          },
                          loc: {
                            start: { line: 35, column: 40 },
                            end: { line: 41, column: 1 },
                          },
                          line: 35,
                        },
                        4: {
                          name: "lexer",
                          decl: {
                            start: { line: 43, column: 24 },
                            end: { line: 43, column: 29 },
                          },
                          loc: {
                            start: { line: 43, column: 45 },
                            end: { line: 52, column: 1 },
                          },
                          line: 43,
                        },
                        5: {
                          name: "lex",
                          decl: {
                            start: { line: 54, column: 16 },
                            end: { line: 54, column: 19 },
                          },
                          loc: {
                            start: { line: 54, column: 28 },
                            end: { line: 73, column: 1 },
                          },
                          line: 54,
                        },
                        6: {
                          name: "findTextEnd",
                          decl: {
                            start: { line: 76, column: 16 },
                            end: { line: 76, column: 27 },
                          },
                          loc: {
                            start: { line: 76, column: 41 },
                            end: { line: 88, column: 1 },
                          },
                          line: 76,
                        },
                        7: {
                          name: "lexText",
                          decl: {
                            start: { line: 90, column: 16 },
                            end: { line: 90, column: 23 },
                          },
                          loc: {
                            start: { line: 90, column: 32 },
                            end: { line: 104, column: 1 },
                          },
                          line: 90,
                        },
                        8: {
                          name: "lexComment",
                          decl: {
                            start: { line: 106, column: 16 },
                            end: { line: 106, column: 26 },
                          },
                          loc: {
                            start: { line: 106, column: 35 },
                            end: { line: 126, column: 1 },
                          },
                          line: 106,
                        },
                        9: {
                          name: "lexTag",
                          decl: {
                            start: { line: 128, column: 16 },
                            end: { line: 128, column: 22 },
                          },
                          loc: {
                            start: { line: 128, column: 31 },
                            end: { line: 147, column: 1 },
                          },
                          line: 128,
                        },
                        10: {
                          name: "isWhitespaceChar",
                          decl: {
                            start: { line: 151, column: 16 },
                            end: { line: 151, column: 32 },
                          },
                          loc: {
                            start: { line: 151, column: 40 },
                            end: { line: 153, column: 1 },
                          },
                          line: 151,
                        },
                        11: {
                          name: "lexTagName",
                          decl: {
                            start: { line: 155, column: 16 },
                            end: { line: 155, column: 26 },
                          },
                          loc: {
                            start: { line: 155, column: 35 },
                            end: { line: 181, column: 1 },
                          },
                          line: 155,
                        },
                        12: {
                          name: "lexTagAttributes",
                          decl: {
                            start: { line: 183, column: 16 },
                            end: { line: 183, column: 32 },
                          },
                          loc: {
                            start: { line: 183, column: 41 },
                            end: { line: 270, column: 1 },
                          },
                          line: 183,
                        },
                        13: {
                          name: "lexSkipTag",
                          decl: {
                            start: { line: 274, column: 16 },
                            end: { line: 274, column: 26 },
                          },
                          loc: {
                            start: { line: 274, column: 44 },
                            end: { line: 312, column: 1 },
                          },
                          line: 274,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 13, column: 4 },
                            end: { line: 18, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 13, column: 4 },
                              end: { line: 18, column: 5 },
                            },
                            {
                              start: { line: 13, column: 4 },
                              end: { line: 18, column: 5 },
                            },
                          ],
                          line: 13,
                        },
                        1: {
                          loc: {
                            start: { line: 60, column: 4 },
                            end: { line: 71, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 60, column: 4 },
                              end: { line: 71, column: 5 },
                            },
                            {
                              start: { line: 60, column: 4 },
                              end: { line: 71, column: 5 },
                            },
                          ],
                          line: 60,
                        },
                        2: {
                          loc: {
                            start: { line: 62, column: 6 },
                            end: { line: 70, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 62, column: 6 },
                              end: { line: 70, column: 7 },
                            },
                            {
                              start: { line: 62, column: 6 },
                              end: { line: 70, column: 7 },
                            },
                          ],
                          line: 62,
                        },
                        3: {
                          loc: {
                            start: { line: 67, column: 8 },
                            end: { line: 69, column: 9 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 67, column: 8 },
                              end: { line: 69, column: 9 },
                            },
                            {
                              start: { line: 67, column: 8 },
                              end: { line: 69, column: 9 },
                            },
                          ],
                          line: 67,
                        },
                        4: {
                          loc: {
                            start: { line: 79, column: 4 },
                            end: { line: 81, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 79, column: 4 },
                              end: { line: 81, column: 5 },
                            },
                            {
                              start: { line: 79, column: 4 },
                              end: { line: 81, column: 5 },
                            },
                          ],
                          line: 79,
                        },
                        5: {
                          loc: {
                            start: { line: 83, column: 4 },
                            end: { line: 85, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 83, column: 4 },
                              end: { line: 85, column: 5 },
                            },
                            {
                              start: { line: 83, column: 4 },
                              end: { line: 85, column: 5 },
                            },
                          ],
                          line: 83,
                        },
                        6: {
                          loc: {
                            start: { line: 83, column: 8 },
                            end: { line: 83, column: 63 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 83, column: 8 },
                              end: { line: 83, column: 20 },
                            },
                            {
                              start: { line: 83, column: 24 },
                              end: { line: 83, column: 36 },
                            },
                            {
                              start: { line: 83, column: 40 },
                              end: { line: 83, column: 63 },
                            },
                          ],
                          line: 83,
                        },
                        7: {
                          loc: {
                            start: { line: 94, column: 2 },
                            end: { line: 94, column: 40 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 94, column: 2 },
                              end: { line: 94, column: 40 },
                            },
                            {
                              start: { line: 94, column: 2 },
                              end: { line: 94, column: 40 },
                            },
                          ],
                          line: 94,
                        },
                        8: {
                          loc: {
                            start: { line: 95, column: 2 },
                            end: { line: 97, column: 3 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 95, column: 2 },
                              end: { line: 97, column: 3 },
                            },
                            {
                              start: { line: 95, column: 2 },
                              end: { line: 97, column: 3 },
                            },
                          ],
                          line: 95,
                        },
                        9: {
                          loc: {
                            start: { line: 112, column: 2 },
                            end: { line: 114, column: 3 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 112, column: 2 },
                              end: { line: 114, column: 3 },
                            },
                            {
                              start: { line: 112, column: 2 },
                              end: { line: 114, column: 3 },
                            },
                          ],
                          line: 112,
                        },
                        10: {
                          loc: {
                            start: { line: 134, column: 32 },
                            end: { line: 134, column: 45 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 134, column: 40 },
                              end: { line: 134, column: 41 },
                            },
                            {
                              start: { line: 134, column: 44 },
                              end: { line: 134, column: 45 },
                            },
                          ],
                          line: 134,
                        },
                        11: {
                          loc: {
                            start: { line: 142, column: 32 },
                            end: { line: 142, column: 45 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 142, column: 40 },
                              end: { line: 142, column: 41 },
                            },
                            {
                              start: { line: 142, column: 44 },
                              end: { line: 142, column: 45 },
                            },
                          ],
                          line: 142,
                        },
                        12: {
                          loc: {
                            start: { line: 161, column: 24 },
                            end: { line: 161, column: 78 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 161, column: 24 },
                              end: { line: 161, column: 46 },
                            },
                            {
                              start: { line: 161, column: 50 },
                              end: { line: 161, column: 62 },
                            },
                            {
                              start: { line: 161, column: 66 },
                              end: { line: 161, column: 78 },
                            },
                          ],
                          line: 161,
                        },
                        13: {
                          loc: {
                            start: { line: 162, column: 4 },
                            end: { line: 162, column: 24 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 162, column: 4 },
                              end: { line: 162, column: 24 },
                            },
                            {
                              start: { line: 162, column: 4 },
                              end: { line: 162, column: 24 },
                            },
                          ],
                          line: 162,
                        },
                        14: {
                          loc: {
                            start: { line: 169, column: 24 },
                            end: { line: 169, column: 78 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 169, column: 24 },
                              end: { line: 169, column: 46 },
                            },
                            {
                              start: { line: 169, column: 50 },
                              end: { line: 169, column: 62 },
                            },
                            {
                              start: { line: 169, column: 66 },
                              end: { line: 169, column: 78 },
                            },
                          ],
                          line: 169,
                        },
                        15: {
                          loc: {
                            start: { line: 170, column: 4 },
                            end: { line: 170, column: 25 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 170, column: 4 },
                              end: { line: 170, column: 25 },
                            },
                            {
                              start: { line: 170, column: 4 },
                              end: { line: 170, column: 25 },
                            },
                          ],
                          line: 170,
                        },
                        16: {
                          loc: {
                            start: { line: 192, column: 4 },
                            end: { line: 199, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 192, column: 4 },
                              end: { line: 199, column: 5 },
                            },
                            {
                              start: { line: 192, column: 4 },
                              end: { line: 199, column: 5 },
                            },
                          ],
                          line: 192,
                        },
                        17: {
                          loc: {
                            start: { line: 194, column: 6 },
                            end: { line: 196, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 194, column: 6 },
                              end: { line: 196, column: 7 },
                            },
                            {
                              start: { line: 194, column: 6 },
                              end: { line: 196, column: 7 },
                            },
                          ],
                          line: 194,
                        },
                        18: {
                          loc: {
                            start: { line: 201, column: 21 },
                            end: { line: 201, column: 49 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 201, column: 21 },
                              end: { line: 201, column: 33 },
                            },
                            {
                              start: { line: 201, column: 37 },
                              end: { line: 201, column: 49 },
                            },
                          ],
                          line: 201,
                        },
                        19: {
                          loc: {
                            start: { line: 202, column: 4 },
                            end: { line: 207, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 202, column: 4 },
                              end: { line: 207, column: 5 },
                            },
                            {
                              start: { line: 202, column: 4 },
                              end: { line: 207, column: 5 },
                            },
                          ],
                          line: 202,
                        },
                        20: {
                          loc: {
                            start: { line: 203, column: 6 },
                            end: { line: 205, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 203, column: 6 },
                              end: { line: 205, column: 7 },
                            },
                            {
                              start: { line: 203, column: 6 },
                              end: { line: 205, column: 7 },
                            },
                          ],
                          line: 203,
                        },
                        21: {
                          loc: {
                            start: { line: 210, column: 4 },
                            end: { line: 217, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 210, column: 4 },
                              end: { line: 217, column: 5 },
                            },
                            {
                              start: { line: 210, column: 4 },
                              end: { line: 217, column: 5 },
                            },
                          ],
                          line: 210,
                        },
                        22: {
                          loc: {
                            start: { line: 211, column: 6 },
                            end: { line: 213, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 211, column: 6 },
                              end: { line: 213, column: 7 },
                            },
                            {
                              start: { line: 211, column: 6 },
                              end: { line: 213, column: 7 },
                            },
                          ],
                          line: 211,
                        },
                        23: {
                          loc: {
                            start: { line: 219, column: 25 },
                            end: { line: 219, column: 54 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 219, column: 25 },
                              end: { line: 219, column: 38 },
                            },
                            {
                              start: { line: 219, column: 42 },
                              end: { line: 219, column: 54 },
                            },
                          ],
                          line: 219,
                        },
                        24: {
                          loc: {
                            start: { line: 220, column: 4 },
                            end: { line: 224, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 220, column: 4 },
                              end: { line: 224, column: 5 },
                            },
                            {
                              start: { line: 220, column: 4 },
                              end: { line: 224, column: 5 },
                            },
                          ],
                          line: 220,
                        },
                        25: {
                          loc: {
                            start: { line: 235, column: 4 },
                            end: { line: 253, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 235, column: 4 },
                              end: { line: 253, column: 5 },
                            },
                            {
                              start: { line: 235, column: 4 },
                              end: { line: 253, column: 5 },
                            },
                          ],
                          line: 235,
                        },
                        26: {
                          loc: {
                            start: { line: 237, column: 6 },
                            end: { line: 252, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 237, column: 6 },
                              end: { line: 252, column: 7 },
                            },
                            {
                              start: { line: 237, column: 6 },
                              end: { line: 252, column: 7 },
                            },
                          ],
                          line: 237,
                        },
                        27: {
                          loc: {
                            start: { line: 237, column: 10 },
                            end: { line: 237, column: 51 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 237, column: 10 },
                              end: { line: 237, column: 20 },
                            },
                            {
                              start: { line: 237, column: 24 },
                              end: { line: 237, column: 51 },
                            },
                          ],
                          line: 237,
                        },
                        28: {
                          loc: {
                            start: { line: 238, column: 8 },
                            end: { line: 243, column: 9 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 238, column: 8 },
                              end: { line: 243, column: 9 },
                            },
                            {
                              start: { line: 238, column: 8 },
                              end: { line: 243, column: 9 },
                            },
                          ],
                          line: 238,
                        },
                        29: {
                          loc: {
                            start: { line: 246, column: 8 },
                            end: { line: 251, column: 9 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 246, column: 8 },
                              end: { line: 251, column: 9 },
                            },
                            {
                              start: { line: 246, column: 8 },
                              end: { line: 251, column: 9 },
                            },
                          ],
                          line: 246,
                        },
                        30: {
                          loc: {
                            start: { line: 254, column: 4 },
                            end: { line: 266, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 254, column: 4 },
                              end: { line: 266, column: 5 },
                            },
                            {
                              start: { line: 254, column: 4 },
                              end: { line: 266, column: 5 },
                            },
                          ],
                          line: 254,
                        },
                        31: {
                          loc: {
                            start: { line: 256, column: 6 },
                            end: { line: 261, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 256, column: 6 },
                              end: { line: 261, column: 7 },
                            },
                            {
                              start: { line: 256, column: 6 },
                              end: { line: 261, column: 7 },
                            },
                          ],
                          line: 256,
                        },
                        32: {
                          loc: {
                            start: { line: 256, column: 10 },
                            end: { line: 256, column: 56 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 256, column: 10 },
                              end: { line: 256, column: 20 },
                            },
                            {
                              start: { line: 256, column: 24 },
                              end: { line: 256, column: 56 },
                            },
                          ],
                          line: 256,
                        },
                        33: {
                          loc: {
                            start: { line: 281, column: 4 },
                            end: { line: 284, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 281, column: 4 },
                              end: { line: 284, column: 5 },
                            },
                            {
                              start: { line: 281, column: 4 },
                              end: { line: 284, column: 5 },
                            },
                          ],
                          line: 281,
                        },
                        34: {
                          loc: {
                            start: { line: 290, column: 4 },
                            end: { line: 293, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 290, column: 4 },
                              end: { line: 293, column: 5 },
                            },
                            {
                              start: { line: 290, column: 4 },
                              end: { line: 293, column: 5 },
                            },
                          ],
                          line: 290,
                        },
                        35: {
                          loc: {
                            start: { line: 295, column: 4 },
                            end: { line: 306, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 295, column: 4 },
                              end: { line: 306, column: 5 },
                            },
                            {
                              start: { line: 295, column: 4 },
                              end: { line: 306, column: 5 },
                            },
                          ],
                          line: 295,
                        },
                      },
                      s: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                        14: 0,
                        15: 0,
                        16: 0,
                        17: 0,
                        18: 0,
                        19: 0,
                        20: 0,
                        21: 0,
                        22: 0,
                        23: 0,
                        24: 0,
                        25: 0,
                        26: 0,
                        27: 0,
                        28: 0,
                        29: 0,
                        30: 0,
                        31: 0,
                        32: 0,
                        33: 0,
                        34: 0,
                        35: 0,
                        36: 0,
                        37: 0,
                        38: 0,
                        39: 0,
                        40: 0,
                        41: 0,
                        42: 0,
                        43: 0,
                        44: 0,
                        45: 0,
                        46: 0,
                        47: 0,
                        48: 0,
                        49: 0,
                        50: 0,
                        51: 0,
                        52: 0,
                        53: 0,
                        54: 0,
                        55: 0,
                        56: 0,
                        57: 0,
                        58: 0,
                        59: 0,
                        60: 0,
                        61: 0,
                        62: 0,
                        63: 0,
                        64: 0,
                        65: 0,
                        66: 0,
                        67: 0,
                        68: 0,
                        69: 0,
                        70: 0,
                        71: 0,
                        72: 0,
                        73: 0,
                        74: 0,
                        75: 0,
                        76: 0,
                        77: 0,
                        78: 0,
                        79: 0,
                        80: 0,
                        81: 0,
                        82: 0,
                        83: 0,
                        84: 0,
                        85: 0,
                        86: 0,
                        87: 0,
                        88: 0,
                        89: 0,
                        90: 0,
                        91: 0,
                        92: 0,
                        93: 0,
                        94: 0,
                        95: 0,
                        96: 0,
                        97: 0,
                        98: 0,
                        99: 0,
                        100: 0,
                        101: 0,
                        102: 0,
                        103: 0,
                        104: 0,
                        105: 0,
                        106: 0,
                        107: 0,
                        108: 0,
                        109: 0,
                        110: 0,
                        111: 0,
                        112: 0,
                        113: 0,
                        114: 0,
                        115: 0,
                        116: 0,
                        117: 0,
                        118: 0,
                        119: 0,
                        120: 0,
                        121: 0,
                        122: 0,
                        123: 0,
                        124: 0,
                        125: 0,
                        126: 0,
                        127: 0,
                        128: 0,
                        129: 0,
                        130: 0,
                        131: 0,
                        132: 0,
                        133: 0,
                        134: 0,
                        135: 0,
                        136: 0,
                        137: 0,
                        138: 0,
                        139: 0,
                        140: 0,
                        141: 0,
                        142: 0,
                        143: 0,
                        144: 0,
                        145: 0,
                        146: 0,
                        147: 0,
                        148: 0,
                        149: 0,
                        150: 0,
                        151: 0,
                        152: 0,
                        153: 0,
                        154: 0,
                        155: 0,
                        156: 0,
                        157: 0,
                        158: 0,
                        159: 0,
                        160: 0,
                        161: 0,
                        162: 0,
                        163: 0,
                        164: 0,
                        165: 0,
                        166: 0,
                        167: 0,
                        168: 0,
                        169: 0,
                        170: 0,
                        171: 0,
                        172: 0,
                        173: 0,
                        174: 0,
                        175: 0,
                        176: 0,
                        177: 0,
                        178: 0,
                        179: 0,
                        180: 0,
                        181: 0,
                        182: 0,
                      },
                      f: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                      },
                      b: {
                        0: [0, 0],
                        1: [0, 0],
                        2: [0, 0],
                        3: [0, 0],
                        4: [0, 0],
                        5: [0, 0],
                        6: [0, 0, 0],
                        7: [0, 0],
                        8: [0, 0],
                        9: [0, 0],
                        10: [0, 0],
                        11: [0, 0],
                        12: [0, 0, 0],
                        13: [0, 0],
                        14: [0, 0, 0],
                        15: [0, 0],
                        16: [0, 0],
                        17: [0, 0],
                        18: [0, 0],
                        19: [0, 0],
                        20: [0, 0],
                        21: [0, 0],
                        22: [0, 0],
                        23: [0, 0],
                        24: [0, 0],
                        25: [0, 0],
                        26: [0, 0],
                        27: [0, 0],
                        28: [0, 0],
                        29: [0, 0],
                        30: [0, 0],
                        31: [0, 0],
                        32: [0, 0],
                        33: [0, 0],
                        34: [0, 0],
                        35: [0, 0],
                      },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.feedPosition = i),
                  (e.jumpPosition = c),
                  (e.makeInitialPosition = u),
                  (e.copyPosition = s),
                  (e.default = function (n, l) {
                    t.f[4]++;
                    var e =
                      (t.s[12]++,
                      { str: n, options: l, position: u(), tokens: [] });
                    return t.s[13]++, m(e), t.s[14]++, e.tokens;
                  }),
                  (e.lex = m),
                  (e.findTextEnd = r),
                  (e.lexText = d),
                  (e.lexComment = f),
                  (e.lexTag = p),
                  (e.isWhitespaceChar = h),
                  (e.lexTagName = y),
                  (e.lexTagAttributes = v),
                  (e.lexSkipTag = x);
                var o = n("./compat");
                function i(n, l, e) {
                  t.f[0]++;
                  var o = (t.s[0]++, n.index),
                    i = (t.s[1]++, (n.index = o + e));
                  t.s[2]++;
                  for (var c = o; c < i; c++) {
                    var u = (t.s[3]++, l.charAt(c));
                    t.s[4]++,
                      "\n" === u
                        ? (t.b[0][0]++,
                          t.s[5]++,
                          n.line++,
                          t.s[6]++,
                          (n.column = 0))
                        : (t.b[0][1]++, t.s[7]++, n.column++);
                  }
                }
                function c(n, l, e) {
                  t.f[1]++;
                  var o = (t.s[8]++, e - n.index);
                  return t.s[9]++, i(n, l, o);
                }
                function u() {
                  return t.f[2]++, t.s[10]++, { index: 0, column: 0, line: 0 };
                }
                function s(n) {
                  return (
                    t.f[3]++,
                    t.s[11]++,
                    { index: n.index, line: n.line, column: n.column }
                  );
                }
                function m(n) {
                  t.f[5]++;
                  var l = (t.s[15]++, n),
                    e = l.str,
                    i = l.options.childlessTags,
                    c = (t.s[16]++, e.length);
                  for (t.s[17]++; n.position.index < c; ) {
                    var u = (t.s[18]++, n.position.index);
                    if ((t.s[19]++, d(n), t.s[20]++, n.position.index === u)) {
                      t.b[1][0]++;
                      var s = (t.s[21]++, (0, o.startsWith)(e, "!--", u + 1));
                      if ((t.s[22]++, s)) t.b[2][0]++, t.s[23]++, f(n);
                      else {
                        t.b[2][1]++;
                        var m = (t.s[24]++, p(n)),
                          a = (t.s[25]++, m.toLowerCase());
                        t.s[26]++,
                          (0, o.arrayIncludes)(i, a)
                            ? (t.b[3][0]++, t.s[27]++, x(m, n))
                            : t.b[3][1]++;
                      }
                    } else t.b[1][1]++;
                  }
                }
                var a = (t.s[28]++, /[A-Za-z0-9]/);
                function r(n, l) {
                  for (t.f[6]++, t.s[29]++; ; ) {
                    var e = (t.s[30]++, n.indexOf("<", l));
                    if ((t.s[31]++, -1 === e)) return t.b[4][0]++, t.s[32]++, e;
                    t.b[4][1]++;
                    var o = (t.s[33]++, n.charAt(e + 1));
                    if (
                      (t.s[34]++,
                      t.b[6][0]++,
                      "/" === o ||
                        (t.b[6][1]++, "!" === o) ||
                        (t.b[6][2]++, a.test(o)))
                    )
                      return t.b[5][0]++, t.s[35]++, e;
                    t.b[5][1]++, t.s[36]++, (l = e + 1);
                  }
                }
                function d(n) {
                  t.f[7]++;
                  var l = (t.s[37]++, "text"),
                    e = (t.s[38]++, n),
                    o = e.str,
                    i = e.position,
                    u = (t.s[39]++, r(o, i.index));
                  if ((t.s[40]++, u === i.index))
                    return t.b[7][0]++, void t.s[41]++;
                  t.b[7][1]++,
                    t.s[42]++,
                    -1 === u
                      ? (t.b[8][0]++, t.s[43]++, (u = o.length))
                      : t.b[8][1]++;
                  var m = (t.s[44]++, s(i)),
                    a = (t.s[45]++, o.slice(i.index, u));
                  t.s[46]++, c(i, o, u);
                  var d = (t.s[47]++, s(i));
                  t.s[48]++,
                    n.tokens.push({
                      type: l,
                      content: a,
                      position: { start: m, end: d },
                    });
                }
                function f(n) {
                  t.f[8]++;
                  var l = (t.s[49]++, n),
                    e = l.str,
                    o = l.position,
                    u = (t.s[50]++, s(o));
                  t.s[51]++, i(o, e, 4);
                  var m = (t.s[52]++, e.indexOf("--\x3e", o.index)),
                    a = (t.s[53]++, m + 3);
                  t.s[54]++,
                    -1 === m
                      ? (t.b[9][0]++, t.s[55]++, (m = a = e.length))
                      : t.b[9][1]++;
                  var r = (t.s[56]++, e.slice(o.index, m));
                  t.s[57]++,
                    c(o, e, a),
                    t.s[58]++,
                    n.tokens.push({
                      type: "comment",
                      content: r,
                      position: { start: u, end: s(o) },
                    });
                }
                function p(n) {
                  t.f[9]++;
                  var l = (t.s[59]++, n),
                    e = l.str,
                    o = l.position,
                    c = (t.s[60]++, e.charAt(o.index + 1)),
                    u = (t.s[61]++, "/" === c),
                    m = (t.s[62]++, s(o));
                  t.s[63]++,
                    i(o, e, u ? (t.b[10][0]++, 2) : (t.b[10][1]++, 1)),
                    t.s[64]++,
                    n.tokens.push({
                      type: "tag-start",
                      close: u,
                      position: { start: m },
                    });
                  var a = (t.s[65]++, y(n));
                  t.s[66]++, v(n);
                  var r = (t.s[67]++, e.charAt(o.index)),
                    d = (t.s[68]++, "/" === r);
                  t.s[69]++, i(o, e, d ? (t.b[11][0]++, 2) : (t.b[11][1]++, 1));
                  var f = (t.s[70]++, s(o));
                  return (
                    t.s[71]++,
                    n.tokens.push({
                      type: "tag-end",
                      close: d,
                      position: { end: f },
                    }),
                    t.s[72]++,
                    a
                  );
                }
                var b = (t.s[73]++, /\s/);
                function h(n) {
                  return t.f[10]++, t.s[74]++, b.test(n);
                }
                function y(n) {
                  t.f[11]++;
                  var l = (t.s[75]++, n),
                    e = l.str,
                    o = l.position,
                    i = (t.s[76]++, e.length),
                    u = (t.s[77]++, o.index);
                  for (t.s[78]++; u < i; ) {
                    var s = (t.s[79]++, e.charAt(u)),
                      m =
                        (t.s[80]++,
                        t.b[12][0]++,
                        !(
                          h(s) ||
                          (t.b[12][1]++, "/" === s) ||
                          (t.b[12][2]++, ">" === s)
                        ));
                    if ((t.s[81]++, m)) {
                      t.b[13][0]++, t.s[82]++;
                      break;
                    }
                    t.b[13][1]++, t.s[83]++, u++;
                  }
                  var a = (t.s[84]++, u + 1);
                  for (t.s[85]++; a < i; ) {
                    var r = (t.s[86]++, e.charAt(a)),
                      d =
                        (t.s[87]++,
                        t.b[14][0]++,
                        !(
                          h(r) ||
                          (t.b[14][1]++, "/" === r) ||
                          (t.b[14][2]++, ">" === r)
                        ));
                    if ((t.s[88]++, !d)) {
                      t.b[15][0]++, t.s[89]++;
                      break;
                    }
                    t.b[15][1]++, t.s[90]++, a++;
                  }
                  t.s[91]++, c(o, e, a);
                  var f = (t.s[92]++, e.slice(u, a));
                  return (
                    t.s[93]++,
                    n.tokens.push({ type: "tag", content: f }),
                    t.s[94]++,
                    f
                  );
                }
                function v(n) {
                  t.f[12]++;
                  var l = (t.s[95]++, n),
                    e = l.str,
                    i = l.position,
                    u = l.tokens,
                    s = (t.s[96]++, i.index),
                    m = (t.s[97]++, null),
                    a = (t.s[98]++, s),
                    r = (t.s[99]++, []),
                    d = (t.s[100]++, e.length);
                  for (t.s[101]++; s < d; ) {
                    var f = (t.s[102]++, e.charAt(s));
                    if ((t.s[103]++, m)) {
                      t.b[16][0]++;
                      var p = (t.s[104]++, f === m);
                      t.s[105]++,
                        p
                          ? (t.b[17][0]++, t.s[106]++, (m = null))
                          : t.b[17][1]++,
                        t.s[107]++,
                        s++,
                        t.s[108]++;
                    } else {
                      t.b[16][1]++;
                      var b =
                        (t.s[109]++,
                        t.b[18][0]++,
                        "/" === f || (t.b[18][1]++, ">" === f));
                      if ((t.s[110]++, b)) {
                        t.b[19][0]++,
                          t.s[111]++,
                          s !== a
                            ? (t.b[20][0]++, t.s[112]++, r.push(e.slice(a, s)))
                            : t.b[20][1]++,
                          t.s[113]++;
                        break;
                      }
                      t.b[19][1]++;
                      var y = (t.s[114]++, h(f));
                      if ((t.s[115]++, y))
                        t.b[21][0]++,
                          t.s[116]++,
                          s !== a
                            ? (t.b[22][0]++, t.s[117]++, r.push(e.slice(a, s)))
                            : t.b[22][1]++,
                          t.s[118]++,
                          (a = s + 1),
                          t.s[119]++,
                          s++,
                          t.s[120]++;
                      else {
                        t.b[21][1]++;
                        var v =
                          (t.s[121]++,
                          t.b[23][0]++,
                          "'" === f || (t.b[23][1]++, '"' === f));
                        t.s[122]++,
                          v
                            ? (t.b[24][0]++,
                              t.s[123]++,
                              (m = f),
                              t.s[124]++,
                              s++,
                              t.s[125]++)
                            : (t.b[24][1]++, t.s[126]++, s++);
                      }
                    }
                  }
                  t.s[127]++, c(i, e, s);
                  var g = (t.s[128]++, r.length),
                    x = (t.s[129]++, "attribute");
                  t.s[130]++;
                  for (var k = 0; k < g; k++) {
                    var _ = (t.s[131]++, r[k]),
                      j = (t.s[132]++, -1 === _.indexOf("="));
                    if ((t.s[133]++, j)) {
                      t.b[25][0]++;
                      var w = (t.s[134]++, r[k + 1]);
                      if (
                        (t.s[135]++,
                        t.b[27][0]++,
                        w && (t.b[27][1]++, (0, o.startsWith)(w, "=")))
                      ) {
                        if ((t.b[26][0]++, t.s[136]++, w.length > 1)) {
                          t.b[28][0]++;
                          var T = (t.s[137]++, _ + w);
                          t.s[138]++,
                            u.push({ type: x, content: T }),
                            t.s[139]++,
                            (k += 1),
                            t.s[140]++;
                          continue;
                        }
                        t.b[28][1]++;
                        var M = (t.s[141]++, r[k + 2]);
                        if ((t.s[142]++, (k += 1), t.s[143]++, M)) {
                          t.b[29][0]++;
                          var W = (t.s[144]++, _ + "=" + M);
                          t.s[145]++,
                            u.push({ type: x, content: W }),
                            t.s[146]++,
                            (k += 1),
                            t.s[147]++;
                          continue;
                        }
                        t.b[29][1]++;
                      } else t.b[26][1]++;
                    } else t.b[25][1]++;
                    if ((t.s[148]++, (0, o.endsWith)(_, "="))) {
                      t.b[30][0]++;
                      var A = (t.s[149]++, r[k + 1]);
                      if (
                        (t.s[150]++,
                        t.b[32][0]++,
                        A && (t.b[32][1]++, !(0, o.stringIncludes)(A, "=")))
                      ) {
                        t.b[31][0]++;
                        var N = (t.s[151]++, _ + A);
                        t.s[152]++,
                          u.push({ type: x, content: N }),
                          t.s[153]++,
                          (k += 1),
                          t.s[154]++;
                        continue;
                      }
                      t.b[31][1]++;
                      var P = (t.s[155]++, _.slice(0, -1));
                      t.s[156]++, u.push({ type: x, content: P }), t.s[157]++;
                    } else
                      t.b[30][1]++, t.s[158]++, u.push({ type: x, content: _ });
                  }
                }
                var g = (t.s[159]++, [].push);
                function x(n, l) {
                  t.f[13]++;
                  var e = (t.s[160]++, l),
                    o = e.str,
                    i = e.position,
                    u = e.tokens,
                    m = (t.s[161]++, n.toLowerCase()),
                    a = (t.s[162]++, o.length),
                    r = (t.s[163]++, i.index);
                  for (t.s[164]++; r < a; ) {
                    var f = (t.s[165]++, o.indexOf("</", r));
                    if ((t.s[166]++, -1 === f)) {
                      t.b[33][0]++, t.s[167]++, d(l), t.s[168]++;
                      break;
                    }
                    t.b[33][1]++;
                    var b = (t.s[169]++, s(i));
                    t.s[170]++, c(b, o, f);
                    var h = (t.s[171]++, { str: o, position: b, tokens: [] }),
                      y = (t.s[172]++, p(h));
                    if ((t.s[173]++, m === y.toLowerCase())) {
                      if ((t.b[34][1]++, t.s[176]++, f !== i.index)) {
                        t.b[35][0]++;
                        var v = (t.s[177]++, s(i));
                        t.s[178]++,
                          c(i, o, f),
                          t.s[179]++,
                          u.push({
                            type: "text",
                            content: o.slice(v.index, f),
                            position: { start: v, end: s(i) },
                          });
                      } else t.b[35][1]++;
                      t.s[180]++,
                        g.apply(u, h.tokens),
                        t.s[181]++,
                        c(i, o, h.position.index),
                        t.s[182]++;
                      break;
                    }
                    t.b[34][0]++,
                      t.s[174]++,
                      (r = h.position.index),
                      t.s[175]++;
                  }
                }
              },
              { "./compat": 1 },
            ],
            5: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/parser.js",
                    l = "10fb0478bb046c7059c47c8225586b7e30f48474",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/parser.js",
                      statementMap: {
                        0: {
                          start: { line: 4, column: 15 },
                          end: { line: 4, column: 44 },
                        },
                        1: {
                          start: { line: 5, column: 16 },
                          end: { line: 5, column: 59 },
                        },
                        2: {
                          start: { line: 6, column: 2 },
                          end: { line: 6, column: 14 },
                        },
                        3: {
                          start: { line: 7, column: 2 },
                          end: { line: 7, column: 22 },
                        },
                        4: {
                          start: { line: 11, column: 21 },
                          end: { line: 11, column: 39 },
                        },
                        5: {
                          start: { line: 12, column: 2 },
                          end: { line: 24, column: 3 },
                        },
                        6: {
                          start: { line: 13, column: 23 },
                          end: { line: 13, column: 39 },
                        },
                        7: {
                          start: { line: 14, column: 4 },
                          end: { line: 23, column: 5 },
                        },
                        8: {
                          start: { line: 15, column: 28 },
                          end: { line: 15, column: 55 },
                        },
                        9: {
                          start: { line: 16, column: 6 },
                          end: { line: 18, column: 7 },
                        },
                        10: {
                          start: { line: 17, column: 8 },
                          end: { line: 17, column: 13 },
                        },
                        11: {
                          start: { line: 19, column: 6 },
                          end: { line: 21, column: 7 },
                        },
                        12: {
                          start: { line: 20, column: 8 },
                          end: { line: 20, column: 19 },
                        },
                        13: {
                          start: { line: 22, column: 6 },
                          end: { line: 22, column: 20 },
                        },
                        14: {
                          start: { line: 25, column: 2 },
                          end: { line: 25, column: 14 },
                        },
                        15: {
                          start: { line: 29, column: 2 },
                          end: { line: 29, column: 45 },
                        },
                        16: {
                          start: { line: 30, column: 2 },
                          end: { line: 32, column: 3 },
                        },
                        17: {
                          start: { line: 31, column: 4 },
                          end: { line: 31, column: 47 },
                        },
                        18: {
                          start: { line: 33, column: 2 },
                          end: { line: 33, column: 25 },
                        },
                        19: {
                          start: { line: 37, column: 28 },
                          end: { line: 37, column: 33 },
                        },
                        20: {
                          start: { line: 38, column: 16 },
                          end: { line: 38, column: 21 },
                        },
                        21: {
                          start: { line: 39, column: 14 },
                          end: { line: 39, column: 46 },
                        },
                        22: {
                          start: { line: 40, column: 14 },
                          end: { line: 40, column: 27 },
                        },
                        23: {
                          start: { line: 41, column: 17 },
                          end: { line: 41, column: 22 },
                        },
                        24: {
                          start: { line: 42, column: 2 },
                          end: { line: 132, column: 3 },
                        },
                        25: {
                          start: { line: 43, column: 18 },
                          end: { line: 43, column: 32 },
                        },
                        26: {
                          start: { line: 44, column: 4 },
                          end: { line: 48, column: 5 },
                        },
                        27: {
                          start: { line: 45, column: 6 },
                          end: { line: 45, column: 23 },
                        },
                        28: {
                          start: { line: 46, column: 6 },
                          end: { line: 46, column: 14 },
                        },
                        29: {
                          start: { line: 47, column: 6 },
                          end: { line: 47, column: 14 },
                        },
                        30: {
                          start: { line: 50, column: 21 },
                          end: { line: 50, column: 37 },
                        },
                        31: {
                          start: { line: 51, column: 4 },
                          end: { line: 51, column: 12 },
                        },
                        32: {
                          start: { line: 52, column: 20 },
                          end: { line: 52, column: 50 },
                        },
                        33: {
                          start: { line: 53, column: 4 },
                          end: { line: 73, column: 5 },
                        },
                        34: {
                          start: { line: 54, column: 18 },
                          end: { line: 54, column: 30 },
                        },
                        35: {
                          start: { line: 55, column: 25 },
                          end: { line: 55, column: 30 },
                        },
                        36: {
                          start: { line: 56, column: 6 },
                          end: { line: 61, column: 7 },
                        },
                        37: {
                          start: { line: 57, column: 8 },
                          end: { line: 60, column: 9 },
                        },
                        38: {
                          start: { line: 58, column: 10 },
                          end: { line: 58, column: 29 },
                        },
                        39: {
                          start: { line: 59, column: 10 },
                          end: { line: 59, column: 15 },
                        },
                        40: {
                          start: { line: 62, column: 6 },
                          end: { line: 66, column: 7 },
                        },
                        41: {
                          start: { line: 63, column: 25 },
                          end: { line: 63, column: 39 },
                        },
                        42: {
                          start: { line: 64, column: 8 },
                          end: { line: 64, column: 46 },
                        },
                        43: {
                          start: { line: 64, column: 41 },
                          end: { line: 64, column: 46 },
                        },
                        44: {
                          start: { line: 65, column: 8 },
                          end: { line: 65, column: 16 },
                        },
                        45: {
                          start: { line: 67, column: 6 },
                          end: { line: 72, column: 7 },
                        },
                        46: {
                          start: { line: 68, column: 8 },
                          end: { line: 68, column: 88 },
                        },
                        47: {
                          start: { line: 69, column: 8 },
                          end: { line: 69, column: 13 },
                        },
                        48: {
                          start: { line: 71, column: 8 },
                          end: { line: 71, column: 16 },
                        },
                        49: {
                          start: { line: 75, column: 25 },
                          end: { line: 75, column: 68 },
                        },
                        50: {
                          start: { line: 76, column: 34 },
                          end: { line: 76, column: 46 },
                        },
                        51: {
                          start: { line: 77, column: 4 },
                          end: { line: 80, column: 5 },
                        },
                        52: {
                          start: { line: 78, column: 56 },
                          end: { line: 78, column: 63 },
                        },
                        53: {
                          start: { line: 79, column: 6 },
                          end: { line: 79, column: 77 },
                        },
                        54: {
                          start: { line: 82, column: 4 },
                          end: { line: 95, column: 5 },
                        },
                        55: {
                          start: { line: 85, column: 25 },
                          end: { line: 85, column: 41 },
                        },
                        56: {
                          start: { line: 86, column: 6 },
                          end: { line: 94, column: 7 },
                        },
                        57: {
                          start: { line: 87, column: 8 },
                          end: { line: 92, column: 9 },
                        },
                        58: {
                          start: { line: 88, column: 10 },
                          end: { line: 88, column: 86 },
                        },
                        59: {
                          start: { line: 89, column: 32 },
                          end: { line: 89, column: 48 },
                        },
                        60: {
                          start: { line: 90, column: 10 },
                          end: { line: 90, column: 47 },
                        },
                        61: {
                          start: { line: 91, column: 10 },
                          end: { line: 91, column: 15 },
                        },
                        62: {
                          start: { line: 93, column: 8 },
                          end: { line: 93, column: 39 },
                        },
                        63: {
                          start: { line: 97, column: 21 },
                          end: { line: 97, column: 23 },
                        },
                        64: {
                          start: { line: 99, column: 4 },
                          end: { line: 104, column: 5 },
                        },
                        65: {
                          start: { line: 100, column: 6 },
                          end: { line: 100, column: 32 },
                        },
                        66: {
                          start: { line: 101, column: 6 },
                          end: { line: 101, column: 45 },
                        },
                        67: {
                          start: { line: 101, column: 40 },
                          end: { line: 101, column: 45 },
                        },
                        68: {
                          start: { line: 102, column: 6 },
                          end: { line: 102, column: 40 },
                        },
                        69: {
                          start: { line: 103, column: 6 },
                          end: { line: 103, column: 14 },
                        },
                        70: {
                          start: { line: 106, column: 4 },
                          end: { line: 106, column: 12 },
                        },
                        71: {
                          start: { line: 107, column: 21 },
                          end: { line: 107, column: 23 },
                        },
                        72: {
                          start: { line: 108, column: 21 },
                          end: { line: 111, column: 5 },
                        },
                        73: {
                          start: { line: 112, column: 24 },
                          end: { line: 118, column: 5 },
                        },
                        74: {
                          start: { line: 119, column: 4 },
                          end: { line: 119, column: 27 },
                        },
                        75: {
                          start: { line: 121, column: 24 },
                          end: { line: 121, column: 86 },
                        },
                        76: {
                          start: { line: 122, column: 4 },
                          end: { line: 131, column: 5 },
                        },
                        77: {
                          start: { line: 123, column: 19 },
                          end: { line: 123, column: 60 },
                        },
                        78: {
                          start: { line: 124, column: 25 },
                          end: { line: 124, column: 57 },
                        },
                        79: {
                          start: { line: 125, column: 6 },
                          end: { line: 125, column: 23 },
                        },
                        80: {
                          start: { line: 126, column: 6 },
                          end: { line: 126, column: 32 },
                        },
                        81: {
                          start: { line: 127, column: 31 },
                          end: { line: 127, column: 52 },
                        },
                        82: {
                          start: { line: 128, column: 6 },
                          end: { line: 130, column: 7 },
                        },
                        83: {
                          start: { line: 129, column: 8 },
                          end: { line: 129, column: 66 },
                        },
                        84: {
                          start: { line: 133, column: 2 },
                          end: { line: 133, column: 23 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "parser",
                          decl: {
                            start: { line: 3, column: 24 },
                            end: { line: 3, column: 30 },
                          },
                          loc: {
                            start: { line: 3, column: 49 },
                            end: { line: 8, column: 1 },
                          },
                          line: 3,
                        },
                        1: {
                          name: "hasTerminalParent",
                          decl: {
                            start: { line: 10, column: 16 },
                            end: { line: 10, column: 33 },
                          },
                          loc: {
                            start: { line: 10, column: 62 },
                            end: { line: 26, column: 1 },
                          },
                          line: 10,
                        },
                        2: {
                          name: "rewindStack",
                          decl: {
                            start: { line: 28, column: 16 },
                            end: { line: 28, column: 27 },
                          },
                          loc: {
                            start: { line: 28, column: 81 },
                            end: { line: 34, column: 1 },
                          },
                          line: 28,
                        },
                        3: {
                          name: "parse",
                          decl: {
                            start: { line: 36, column: 16 },
                            end: { line: 36, column: 21 },
                          },
                          loc: {
                            start: { line: 36, column: 30 },
                            end: { line: 134, column: 1 },
                          },
                          line: 36,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 12, column: 2 },
                            end: { line: 24, column: 3 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 12, column: 2 },
                              end: { line: 24, column: 3 },
                            },
                            {
                              start: { line: 12, column: 2 },
                              end: { line: 24, column: 3 },
                            },
                          ],
                          line: 12,
                        },
                        1: {
                          loc: {
                            start: { line: 16, column: 6 },
                            end: { line: 18, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 16, column: 6 },
                              end: { line: 18, column: 7 },
                            },
                            {
                              start: { line: 16, column: 6 },
                              end: { line: 18, column: 7 },
                            },
                          ],
                          line: 16,
                        },
                        2: {
                          loc: {
                            start: { line: 19, column: 6 },
                            end: { line: 21, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 19, column: 6 },
                              end: { line: 21, column: 7 },
                            },
                            {
                              start: { line: 19, column: 6 },
                              end: { line: 21, column: 7 },
                            },
                          ],
                          line: 19,
                        },
                        3: {
                          loc: {
                            start: { line: 44, column: 4 },
                            end: { line: 48, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 44, column: 4 },
                              end: { line: 48, column: 5 },
                            },
                            {
                              start: { line: 44, column: 4 },
                              end: { line: 48, column: 5 },
                            },
                          ],
                          line: 44,
                        },
                        4: {
                          loc: {
                            start: { line: 53, column: 4 },
                            end: { line: 73, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 53, column: 4 },
                              end: { line: 73, column: 5 },
                            },
                            {
                              start: { line: 53, column: 4 },
                              end: { line: 73, column: 5 },
                            },
                          ],
                          line: 53,
                        },
                        5: {
                          loc: {
                            start: { line: 57, column: 8 },
                            end: { line: 60, column: 9 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 57, column: 8 },
                              end: { line: 60, column: 9 },
                            },
                            {
                              start: { line: 57, column: 8 },
                              end: { line: 60, column: 9 },
                            },
                          ],
                          line: 57,
                        },
                        6: {
                          loc: {
                            start: { line: 64, column: 8 },
                            end: { line: 64, column: 46 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 64, column: 8 },
                              end: { line: 64, column: 46 },
                            },
                            {
                              start: { line: 64, column: 8 },
                              end: { line: 64, column: 46 },
                            },
                          ],
                          line: 64,
                        },
                        7: {
                          loc: {
                            start: { line: 67, column: 6 },
                            end: { line: 72, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 67, column: 6 },
                              end: { line: 72, column: 7 },
                            },
                            {
                              start: { line: 67, column: 6 },
                              end: { line: 72, column: 7 },
                            },
                          ],
                          line: 67,
                        },
                        8: {
                          loc: {
                            start: { line: 77, column: 4 },
                            end: { line: 80, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 77, column: 4 },
                              end: { line: 80, column: 5 },
                            },
                            {
                              start: { line: 77, column: 4 },
                              end: { line: 80, column: 5 },
                            },
                          ],
                          line: 77,
                        },
                        9: {
                          loc: {
                            start: { line: 82, column: 4 },
                            end: { line: 95, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 82, column: 4 },
                              end: { line: 95, column: 5 },
                            },
                            {
                              start: { line: 82, column: 4 },
                              end: { line: 95, column: 5 },
                            },
                          ],
                          line: 82,
                        },
                        10: {
                          loc: {
                            start: { line: 87, column: 8 },
                            end: { line: 92, column: 9 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 87, column: 8 },
                              end: { line: 92, column: 9 },
                            },
                            {
                              start: { line: 87, column: 8 },
                              end: { line: 92, column: 9 },
                            },
                          ],
                          line: 87,
                        },
                        11: {
                          loc: {
                            start: { line: 101, column: 6 },
                            end: { line: 101, column: 45 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 101, column: 6 },
                              end: { line: 101, column: 45 },
                            },
                            {
                              start: { line: 101, column: 6 },
                              end: { line: 101, column: 45 },
                            },
                          ],
                          line: 101,
                        },
                        12: {
                          loc: {
                            start: { line: 121, column: 26 },
                            end: { line: 121, column: 85 },
                          },
                          type: "binary-expr",
                          locations: [
                            {
                              start: { line: 121, column: 26 },
                              end: { line: 121, column: 41 },
                            },
                            {
                              start: { line: 121, column: 45 },
                              end: { line: 121, column: 85 },
                            },
                          ],
                          line: 121,
                        },
                        13: {
                          loc: {
                            start: { line: 122, column: 4 },
                            end: { line: 131, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 122, column: 4 },
                              end: { line: 131, column: 5 },
                            },
                            {
                              start: { line: 122, column: 4 },
                              end: { line: 131, column: 5 },
                            },
                          ],
                          line: 122,
                        },
                        14: {
                          loc: {
                            start: { line: 128, column: 6 },
                            end: { line: 130, column: 7 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 128, column: 6 },
                              end: { line: 130, column: 7 },
                            },
                            {
                              start: { line: 128, column: 6 },
                              end: { line: 130, column: 7 },
                            },
                          ],
                          line: 128,
                        },
                      },
                      s: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                        14: 0,
                        15: 0,
                        16: 0,
                        17: 0,
                        18: 0,
                        19: 0,
                        20: 0,
                        21: 0,
                        22: 0,
                        23: 0,
                        24: 0,
                        25: 0,
                        26: 0,
                        27: 0,
                        28: 0,
                        29: 0,
                        30: 0,
                        31: 0,
                        32: 0,
                        33: 0,
                        34: 0,
                        35: 0,
                        36: 0,
                        37: 0,
                        38: 0,
                        39: 0,
                        40: 0,
                        41: 0,
                        42: 0,
                        43: 0,
                        44: 0,
                        45: 0,
                        46: 0,
                        47: 0,
                        48: 0,
                        49: 0,
                        50: 0,
                        51: 0,
                        52: 0,
                        53: 0,
                        54: 0,
                        55: 0,
                        56: 0,
                        57: 0,
                        58: 0,
                        59: 0,
                        60: 0,
                        61: 0,
                        62: 0,
                        63: 0,
                        64: 0,
                        65: 0,
                        66: 0,
                        67: 0,
                        68: 0,
                        69: 0,
                        70: 0,
                        71: 0,
                        72: 0,
                        73: 0,
                        74: 0,
                        75: 0,
                        76: 0,
                        77: 0,
                        78: 0,
                        79: 0,
                        80: 0,
                        81: 0,
                        82: 0,
                        83: 0,
                        84: 0,
                      },
                      f: { 0: 0, 1: 0, 2: 0, 3: 0 },
                      b: {
                        0: [0, 0],
                        1: [0, 0],
                        2: [0, 0],
                        3: [0, 0],
                        4: [0, 0],
                        5: [0, 0],
                        6: [0, 0],
                        7: [0, 0],
                        8: [0, 0],
                        9: [0, 0],
                        10: [0, 0],
                        11: [0, 0],
                        12: [0, 0],
                        13: [0, 0],
                        14: [0, 0],
                      },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.default = function (n, l) {
                    t.f[0]++;
                    var e = (t.s[0]++, { tagName: null, children: [] }),
                      o =
                        (t.s[1]++,
                        { tokens: n, options: l, cursor: 0, stack: [e] });
                    return t.s[2]++, u(o), t.s[3]++, e.children;
                  }),
                  (e.hasTerminalParent = i),
                  (e.rewindStack = c),
                  (e.parse = u);
                var o = n("./compat");
                function i(n, l, e) {
                  t.f[1]++;
                  var i = (t.s[4]++, e[n]);
                  if ((t.s[5]++, i)) {
                    t.b[0][0]++;
                    var c = (t.s[6]++, l.length - 1);
                    for (t.s[7]++; c >= 0; ) {
                      var u = (t.s[8]++, l[c].tagName);
                      if ((t.s[9]++, u === n)) {
                        t.b[1][0]++, t.s[10]++;
                        break;
                      }
                      if ((t.b[1][1]++, t.s[11]++, (0, o.arrayIncludes)(i, u)))
                        return t.b[2][0]++, t.s[12]++, !0;
                      t.b[2][1]++, t.s[13]++, c--;
                    }
                  } else t.b[0][1]++;
                  return t.s[14]++, !1;
                }
                function c(n, l, e, o) {
                  t.f[2]++, t.s[15]++, (n[l].position.end = o), t.s[16]++;
                  for (var i = l + 1, c = n.length; i < c; i++)
                    t.s[17]++, (n[i].position.end = e);
                  t.s[18]++, n.splice(l);
                }
                function u(n) {
                  t.f[3]++;
                  var l = (t.s[19]++, n),
                    e = l.tokens,
                    s = l.options,
                    m = (t.s[20]++, n).stack,
                    a = (t.s[21]++, m[m.length - 1].children),
                    r = (t.s[22]++, e.length),
                    d = (t.s[23]++, n).cursor;
                  for (t.s[24]++; d < r; ) {
                    var f = (t.s[25]++, e[d]);
                    if ((t.s[26]++, "tag-start" === f.type)) {
                      t.b[3][1]++;
                      var p = (t.s[30]++, e[++d]);
                      t.s[31]++, d++;
                      var b = (t.s[32]++, p.content.toLowerCase());
                      if ((t.s[33]++, f.close)) {
                        t.b[4][0]++;
                        var h = (t.s[34]++, m.length),
                          y = (t.s[35]++, !1);
                        for (t.s[36]++; --h > -1; ) {
                          if ((t.s[37]++, m[h].tagName === b)) {
                            t.b[5][0]++, t.s[38]++, (y = !0), t.s[39]++;
                            break;
                          }
                          t.b[5][1]++;
                        }
                        for (t.s[40]++; d < r; ) {
                          var v = (t.s[41]++, e[d]);
                          if ((t.s[42]++, "tag-end" !== v.type)) {
                            t.b[6][0]++, t.s[43]++;
                            break;
                          }
                          t.b[6][1]++, t.s[44]++, d++;
                        }
                        if ((t.s[45]++, y)) {
                          t.b[7][0]++,
                            t.s[46]++,
                            c(m, h, f.position.start, e[d - 1].position.end),
                            t.s[47]++;
                          break;
                        }
                        t.b[7][1]++, t.s[48]++;
                      } else {
                        t.b[4][1]++;
                        var g =
                            (t.s[49]++, (0, o.arrayIncludes)(s.closingTags, b)),
                          x = (t.s[50]++, g);
                        if ((t.s[51]++, x)) {
                          t.b[8][0]++;
                          var k = (t.s[52]++, s).closingTagAncestorBreakers;
                          t.s[53]++, (x = !i(b, m, k));
                        } else t.b[8][1]++;
                        if ((t.s[54]++, x)) {
                          t.b[9][0]++;
                          var _ = (t.s[55]++, m.length - 1);
                          for (t.s[56]++; _ > 0; ) {
                            if ((t.s[57]++, b === m[_].tagName)) {
                              t.b[10][0]++,
                                t.s[58]++,
                                c(m, _, f.position.start, f.position.start);
                              var j = (t.s[59]++, _ - 1);
                              t.s[60]++, (a = m[j].children), t.s[61]++;
                              break;
                            }
                            t.b[10][1]++, t.s[62]++, (_ -= 1);
                          }
                        } else t.b[9][1]++;
                        var w = (t.s[63]++, []),
                          T = void 0;
                        for (t.s[64]++; d < r; ) {
                          if (
                            (t.s[65]++,
                            (T = e[d]),
                            t.s[66]++,
                            "tag-end" === T.type)
                          ) {
                            t.b[11][0]++, t.s[67]++;
                            break;
                          }
                          t.b[11][1]++,
                            t.s[68]++,
                            w.push(T.content),
                            t.s[69]++,
                            d++;
                        }
                        t.s[70]++, d++;
                        var M = (t.s[71]++, []),
                          W =
                            (t.s[72]++,
                            { start: f.position.start, end: T.position.end }),
                          A =
                            (t.s[73]++,
                            {
                              type: "element",
                              tagName: p.content,
                              attributes: w,
                              children: M,
                              position: W,
                            });
                        t.s[74]++, a.push(A);
                        var N =
                          (t.s[75]++,
                          t.b[12][0]++,
                          !(
                            T.close ||
                            (t.b[12][1]++, (0, o.arrayIncludes)(s.voidTags, b))
                          ));
                        if ((t.s[76]++, N)) {
                          t.b[13][0]++;
                          var P =
                              (t.s[77]++,
                              m.push({ tagName: b, children: M, position: W })),
                            D =
                              (t.s[78]++,
                              { tokens: e, options: s, cursor: d, stack: m });
                          t.s[79]++, u(D), t.s[80]++, (d = D.cursor);
                          var O = (t.s[81]++, m.length === P);
                          t.s[82]++,
                            O
                              ? (t.b[14][0]++,
                                t.s[83]++,
                                (A.position.end = e[d - 1].position.end))
                              : t.b[14][1]++;
                        } else t.b[13][1]++;
                      }
                    } else
                      t.b[3][0]++,
                        t.s[27]++,
                        a.push(f),
                        t.s[28]++,
                        d++,
                        t.s[29]++;
                  }
                  t.s[84]++, (n.cursor = d);
                }
              },
              { "./compat": 1 },
            ],
            6: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/stringify.js",
                    l = "4a6a4628f3d12bd91f868fee07f716c74df89307",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/stringify.js",
                      statementMap: {
                        0: {
                          start: { line: 4, column: 2 },
                          end: { line: 12, column: 8 },
                        },
                        1: {
                          start: { line: 5, column: 25 },
                          end: { line: 5, column: 34 },
                        },
                        2: {
                          start: { line: 6, column: 4 },
                          end: { line: 8, column: 5 },
                        },
                        3: {
                          start: { line: 7, column: 6 },
                          end: { line: 7, column: 30 },
                        },
                        4: {
                          start: { line: 9, column: 24 },
                          end: { line: 9, column: 50 },
                        },
                        5: {
                          start: { line: 10, column: 18 },
                          end: { line: 10, column: 42 },
                        },
                        6: {
                          start: { line: 11, column: 4 },
                          end: { line: 11, column: 53 },
                        },
                        7: {
                          start: { line: 16, column: 2 },
                          end: { line: 28, column: 13 },
                        },
                        8: {
                          start: { line: 17, column: 4 },
                          end: { line: 19, column: 5 },
                        },
                        9: {
                          start: { line: 18, column: 6 },
                          end: { line: 18, column: 25 },
                        },
                        10: {
                          start: { line: 20, column: 4 },
                          end: { line: 22, column: 5 },
                        },
                        11: {
                          start: { line: 21, column: 6 },
                          end: { line: 21, column: 37 },
                        },
                        12: {
                          start: { line: 23, column: 44 },
                          end: { line: 23, column: 48 },
                        },
                        13: {
                          start: { line: 24, column: 26 },
                          end: { line: 24, column: 80 },
                        },
                        14: {
                          start: { line: 25, column: 4 },
                          end: { line: 27, column: 94 },
                        },
                      },
                      fnMap: {
                        0: {
                          name: "formatAttributes",
                          decl: {
                            start: { line: 3, column: 16 },
                            end: { line: 3, column: 32 },
                          },
                          loc: {
                            start: { line: 3, column: 46 },
                            end: { line: 13, column: 1 },
                          },
                          line: 3,
                        },
                        1: {
                          name: "(anonymous_1)",
                          decl: {
                            start: { line: 4, column: 27 },
                            end: { line: 4, column: 28 },
                          },
                          loc: {
                            start: { line: 4, column: 49 },
                            end: { line: 12, column: 3 },
                          },
                          line: 4,
                        },
                        2: {
                          name: "toHTML",
                          decl: {
                            start: { line: 15, column: 16 },
                            end: { line: 15, column: 22 },
                          },
                          loc: {
                            start: { line: 15, column: 39 },
                            end: { line: 29, column: 1 },
                          },
                          line: 15,
                        },
                        3: {
                          name: "(anonymous_3)",
                          decl: {
                            start: { line: 16, column: 18 },
                            end: { line: 16, column: 19 },
                          },
                          loc: {
                            start: { line: 16, column: 26 },
                            end: { line: 28, column: 3 },
                          },
                          line: 16,
                        },
                      },
                      branchMap: {
                        0: {
                          loc: {
                            start: { line: 6, column: 4 },
                            end: { line: 8, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 6, column: 4 },
                              end: { line: 8, column: 5 },
                            },
                            {
                              start: { line: 6, column: 4 },
                              end: { line: 8, column: 5 },
                            },
                          ],
                          line: 6,
                        },
                        1: {
                          loc: {
                            start: { line: 10, column: 18 },
                            end: { line: 10, column: 42 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 10, column: 32 },
                              end: { line: 10, column: 35 },
                            },
                            {
                              start: { line: 10, column: 38 },
                              end: { line: 10, column: 42 },
                            },
                          ],
                          line: 10,
                        },
                        2: {
                          loc: {
                            start: { line: 17, column: 4 },
                            end: { line: 19, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 17, column: 4 },
                              end: { line: 19, column: 5 },
                            },
                            {
                              start: { line: 17, column: 4 },
                              end: { line: 19, column: 5 },
                            },
                          ],
                          line: 17,
                        },
                        3: {
                          loc: {
                            start: { line: 20, column: 4 },
                            end: { line: 22, column: 5 },
                          },
                          type: "if",
                          locations: [
                            {
                              start: { line: 20, column: 4 },
                              end: { line: 22, column: 5 },
                            },
                            {
                              start: { line: 20, column: 4 },
                              end: { line: 22, column: 5 },
                            },
                          ],
                          line: 20,
                        },
                        4: {
                          loc: {
                            start: { line: 25, column: 11 },
                            end: { line: 27, column: 94 },
                          },
                          type: "cond-expr",
                          locations: [
                            {
                              start: { line: 26, column: 8 },
                              end: { line: 26, column: 53 },
                            },
                            {
                              start: { line: 27, column: 8 },
                              end: { line: 27, column: 94 },
                            },
                          ],
                          line: 25,
                        },
                      },
                      s: {
                        0: 0,
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0,
                        5: 0,
                        6: 0,
                        7: 0,
                        8: 0,
                        9: 0,
                        10: 0,
                        11: 0,
                        12: 0,
                        13: 0,
                        14: 0,
                      },
                      f: { 0: 0, 1: 0, 2: 0, 3: 0 },
                      b: {
                        0: [0, 0],
                        1: [0, 0],
                        2: [0, 0],
                        3: [0, 0],
                        4: [0, 0],
                      },
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                Object.defineProperty(e, "__esModule", { value: !0 }),
                  (e.formatAttributes = i),
                  (e.toHTML = c);
                var o = n("./compat");
                function i(n) {
                  return (
                    t.f[0]++,
                    t.s[0]++,
                    n.reduce(function (n, l) {
                      t.f[1]++;
                      var e = (t.s[1]++, l),
                        o = e.key,
                        i = e.value;
                      if ((t.s[2]++, null === i))
                        return t.b[0][0]++, t.s[3]++, n + " " + o;
                      t.b[0][1]++;
                      var c = (t.s[4]++, -1 !== i.indexOf("'")),
                        u =
                          (t.s[5]++,
                          c ? (t.b[1][0]++, '"') : (t.b[1][1]++, "'"));
                      return t.s[6]++, n + " " + o + "=" + u + i + u;
                    }, "")
                  );
                }
                function c(n, l) {
                  return (
                    t.f[2]++,
                    t.s[7]++,
                    n
                      .map(function (n) {
                        if ((t.f[3]++, t.s[8]++, "text" === n.type))
                          return t.b[2][0]++, t.s[9]++, n.content;
                        if ((t.b[2][1]++, t.s[10]++, "comment" === n.type))
                          return (
                            t.b[3][0]++,
                            t.s[11]++,
                            "\x3c!--" + n.content + "--\x3e"
                          );
                        t.b[3][1]++;
                        var e = (t.s[12]++, n),
                          u = e.tagName,
                          s = e.attributes,
                          m = e.children,
                          a =
                            (t.s[13]++,
                            (0, o.arrayIncludes)(l.voidTags, u.toLowerCase()));
                        return (
                          t.s[14]++,
                          a
                            ? (t.b[4][0]++, "<" + u + i(s) + ">")
                            : (t.b[4][1]++,
                              "<" + u + i(s) + ">" + c(m, l) + "</" + u + ">")
                        );
                      })
                      .join("")
                  );
                }
                e.default = { toHTML: c };
              },
              { "./compat": 1 },
            ],
            7: [
              function (n, l, e) {
                "use strict";
                var t = (function () {
                  var n =
                      "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/tags.js",
                    l = "6039b9f65d15797c952509955976acf6930e65a4",
                    e = new (0, function () {}.constructor)("return this")(),
                    t = "__coverage__",
                    o = {
                      path: "/Users/chrisandrejewski/Desktop/Work/github-repos/himalaya/src/tags.js",
                      statementMap: {
                        0: {
                          start: { line: 5, column: 29 },
                          end: { line: 5, column: 60 },
                        },
                        1: {
                          start: { line: 11, column: 27 },
                          end: { line: 14, column: 1 },
                        },
                        2: {
                          start: { line: 23, column: 42 },
                          end: { line: 32, column: 1 },
                        },
                        3: {
                          start: { line: 38, column: 24 },
                          end: { line: 42, column: 1 },
                        },
                      },
                      fnMap: {},
                      branchMap: {},
                      s: { 0: 0, 1: 0, 2: 0, 3: 0 },
                      f: {},
                      b: {},
                      _coverageSchema:
                        "332fd63041d2c1bcb487cc26dd0d5f7d97098a6c",
                    },
                    i = e[t] || (e[t] = {});
                  return i[n] && i[n].hash === l
                    ? i[n]
                    : ((o.hash = l), (i[n] = o));
                })();
                Object.defineProperty(e, "__esModule", { value: !0 });
                (e.childlessTags = (t.s[0]++, ["style", "script", "template"])),
                  (e.closingTags =
                    (t.s[1]++,
                    [
                      "html",
                      "head",
                      "body",
                      "p",
                      "dt",
                      "dd",
                      "li",
                      "option",
                      "thead",
                      "th",
                      "tbody",
                      "tr",
                      "td",
                      "tfoot",
                      "colgroup",
                    ])),
                  (e.closingTagAncestorBreakers =
                    (t.s[2]++,
                    {
                      li: ["ul", "ol", "menu"],
                      dt: ["dl"],
                      dd: ["dl"],
                      tbody: ["table"],
                      thead: ["table"],
                      tfoot: ["table"],
                      tr: ["table"],
                      td: ["table"],
                    })),
                  (e.voidTags =
                    (t.s[3]++,
                    [
                      "!doctype",
                      "area",
                      "base",
                      "br",
                      "col",
                      "command",
                      "embed",
                      "hr",
                      "img",
                      "input",
                      "keygen",
                      "link",
                      "meta",
                      "param",
                      "source",
                      "track",
                      "wbr",
                    ]));
              },
              {},
            ],
          },
          {},
          [3]
        )(3);
      });
    </script>
    <script type="text/javascript">
      window.LineBreaker = (() => {
        const t = (() => {
            function t() {
              (this.table = new Uint16Array(16)),
                (this.trans = new Uint16Array(288));
            }
            function e(e, s) {
              (this.source = e),
                (this.sourceIndex = 0),
                (this.tag = 0),
                (this.bitcount = 0),
                (this.dest = s),
                (this.destLen = 0),
                (this.ltree = new t()),
                (this.dtree = new t());
            }
            var s = new t(),
              r = new t(),
              n = new Uint8Array(30),
              a = new Uint16Array(30),
              i = new Uint8Array(30),
              u = new Uint16Array(30),
              o = new Uint8Array([
                16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1,
                15,
              ]),
              f = new t(),
              c = new Uint8Array(320);
            function h(t, e, s, r) {
              var n, a;
              for (n = 0; n < s; ++n) t[n] = 0;
              for (n = 0; n < 30 - s; ++n) t[n + s] = (n / s) | 0;
              for (a = r, n = 0; n < 30; ++n) (e[n] = a), (a += 1 << t[n]);
            }
            var l = new Uint16Array(16);
            function b(t, e, s, r) {
              var n, a;
              for (n = 0; n < 16; ++n) t.table[n] = 0;
              for (n = 0; n < r; ++n) t.table[e[s + n]]++;
              for (t.table[0] = 0, a = 0, n = 0; n < 16; ++n)
                (l[n] = a), (a += t.table[n]);
              for (n = 0; n < r; ++n) e[s + n] && (t.trans[l[e[s + n]]++] = n);
            }
            function d(t) {
              t.bitcount-- ||
                ((t.tag = t.source[t.sourceIndex++]), (t.bitcount = 7));
              var e = 1 & t.tag;
              return (t.tag >>>= 1), e;
            }
            function v(t, e, s) {
              if (!e) return s;
              for (; t.bitcount < 24; )
                (t.tag |= t.source[t.sourceIndex++] << t.bitcount),
                  (t.bitcount += 8);
              var r = t.tag & (65535 >>> (16 - e));
              return (t.tag >>>= e), (t.bitcount -= e), r + s;
            }
            function w(t, e) {
              for (; t.bitcount < 24; )
                (t.tag |= t.source[t.sourceIndex++] << t.bitcount),
                  (t.bitcount += 8);
              var s = 0,
                r = 0,
                n = 0,
                a = t.tag;
              do {
                (r = 2 * r + (1 & a)),
                  (a >>>= 1),
                  ++n,
                  (s += e.table[n]),
                  (r -= e.table[n]);
              } while (r >= 0);
              return (t.tag = a), (t.bitcount -= n), e.trans[s + r];
            }
            function P(t, e, s) {
              var r, n, a, i, u, h;
              for (
                r = v(t, 5, 257), n = v(t, 5, 1), a = v(t, 4, 4), i = 0;
                i < 19;
                ++i
              )
                c[i] = 0;
              for (i = 0; i < a; ++i) {
                var l = v(t, 3, 0);
                c[o[i]] = l;
              }
              for (b(f, c, 0, 19), u = 0; u < r + n; ) {
                var d = w(t, f);
                switch (d) {
                  case 16:
                    var P = c[u - 1];
                    for (h = v(t, 2, 3); h; --h) c[u++] = P;
                    break;
                  case 17:
                    for (h = v(t, 3, 3); h; --h) c[u++] = 0;
                    break;
                  case 18:
                    for (h = v(t, 7, 11); h; --h) c[u++] = 0;
                    break;
                  default:
                    c[u++] = d;
                }
              }
              b(e, c, 0, r), b(s, c, r, n);
            }
            function X(t, e, s) {
              for (;;) {
                var r,
                  o,
                  f,
                  c,
                  h = w(t, e);
                if (256 === h) return 0;
                if (h < 256) t.dest[t.destLen++] = h;
                else
                  for (
                    r = v(t, n[(h -= 257)], a[h]),
                      o = w(t, s),
                      c = f = t.destLen - v(t, i[o], u[o]);
                    c < f + r;
                    ++c
                  )
                    t.dest[t.destLen++] = t.dest[c];
              }
            }
            function L(t) {
              for (var e, s; t.bitcount > 8; )
                t.sourceIndex--, (t.bitcount -= 8);
              if (
                (e =
                  256 * (e = t.source[t.sourceIndex + 1]) +
                  t.source[t.sourceIndex]) !==
                (65535 &
                  ~(
                    256 * t.source[t.sourceIndex + 3] +
                    t.source[t.sourceIndex + 2]
                  ))
              )
                return -3;
              for (t.sourceIndex += 4, s = e; s; --s)
                t.dest[t.destLen++] = t.source[t.sourceIndex++];
              return (t.bitcount = 0), 0;
            }
            return (
              (function (t, e) {
                var s;
                for (s = 0; s < 7; ++s) t.table[s] = 0;
                for (
                  t.table[7] = 24, t.table[8] = 152, t.table[9] = 112, s = 0;
                  s < 24;
                  ++s
                )
                  t.trans[s] = 256 + s;
                for (s = 0; s < 144; ++s) t.trans[24 + s] = s;
                for (s = 0; s < 8; ++s) t.trans[168 + s] = 280 + s;
                for (s = 0; s < 112; ++s) t.trans[176 + s] = 144 + s;
                for (s = 0; s < 5; ++s) e.table[s] = 0;
                for (e.table[5] = 32, s = 0; s < 32; ++s) e.trans[s] = s;
              })(s, r),
              h(n, a, 4, 3),
              h(i, u, 2, 1),
              (n[28] = 0),
              (a[28] = 258),
              function (t, n) {
                var a,
                  i,
                  u = new e(t, n);
                do {
                  switch (((a = d(u)), v(u, 2, 0))) {
                    case 0:
                      i = L(u);
                      break;
                    case 1:
                      i = X(u, s, r);
                      break;
                    case 2:
                      P(u, u.ltree, u.dtree), (i = X(u, u.ltree, u.dtree));
                      break;
                    default:
                      i = -3;
                  }
                  if (0 !== i) throw new Error("Data error");
                } while (!a);
                return u.destLen < u.dest.length
                  ? "function" == typeof u.dest.slice
                    ? u.dest.slice(0, u.destLen)
                    : u.dest.subarray(0, u.destLen)
                  : u.dest;
              }
            );
          })(),
          e = (() => {
            const t =
                18 === new Uint8Array(new Uint32Array([305419896]).buffer)[0],
              e = (t, e, s) => {
                let r = t[e];
                (t[e] = t[s]), (t[s] = r);
              };
            return (s) => {
              t &&
                ((t) => {
                  const s = t.length;
                  for (let r = 0; r < s; r += 4)
                    e(t, r, r + 3), e(t, r + 1, r + 2);
                })(s);
            };
          })(),
          s = new (class {
            constructor(s) {
              const r =
                "function" == typeof s.readUInt32BE &&
                "function" == typeof s.slice;
              if (r || s instanceof Uint8Array) {
                let n;
                if (r)
                  (this.highStart = s.readUInt32LE(0)),
                    (this.errorValue = s.readUInt32LE(4)),
                    (n = s.readUInt32LE(8)),
                    (s = s.slice(12));
                else {
                  const t = new DataView(s.buffer);
                  (this.highStart = t.getUint32(0, !0)),
                    (this.errorValue = t.getUint32(4, !0)),
                    (n = t.getUint32(8, !0)),
                    (s = s.subarray(12));
                }
                (s = t(s, new Uint8Array(n))),
                  (s = t(s, new Uint8Array(n))),
                  e(s),
                  (this.data = new Uint32Array(s.buffer));
              } else
                ({
                  data: this.data,
                  highStart: this.highStart,
                  errorValue: this.errorValue,
                } = s);
            }
            get(t) {
              let e;
              return t < 0 || t > 1114111
                ? this.errorValue
                : t < 55296 || (t > 56319 && t <= 65535)
                ? ((e = (this.data[t >> 5] << 2) + (31 & t)), this.data[e])
                : t <= 65535
                ? ((e = (this.data[2048 + ((t - 55296) >> 5)] << 2) + (31 & t)),
                  this.data[e])
                : t < this.highStart
                ? ((e = this.data[2080 + (t >> 11)]),
                  (e = this.data[e + ((t >> 5) & 63)]),
                  (e = (e << 2) + (31 & t)),
                  this.data[e])
                : this.data[this.data.length - 4];
            }
          })(
            ((t) => {
              const e = window.atob(t),
                s = new Uint8Array(e.length);
              for (var r = 0; r < e.length; r++) s[r] = e.charCodeAt(r);
              return s;
            })(
              "AAgOAAAAAAAQ4QAAAQ0P8vDtnQuMXUUZx+eyu7d7797d9m5bHoWltKVUlsjLWE0VJNigQoMVqkStEoNQQUl5GIo1KKmogEgqkKbBRki72lYabZMGKoGAjQRtJJDaCCIRiiigREBQS3z+xzOTnZ3O+3HOhd5NfpkzZx7fN9988zivu2M9hGwB28F94DnwEngd/Asc1EtIs9c/bIPDwCxwLDgezHcodyo4w5C+CCwBS8FnwSXgCnA1uFbI93XwbXAbWAfWgx+CzWAb+An4KfgFeAzsYWWfYuFz4CXwGvgb+Dfo6yNkEEwGh4CZYB44FpwI3g1OY+kfBItZOo2fB84Hy8DF4HJwNbiWpV8PVoO1LH4n2NRXyN+KcAd4kNVP9XsY4aPgcfAbsBfs6SniL4K/sPjfEf6HlanXCRkCw2BGvUh/keWfXS/CY+pFXs7x9XHmM94LTmWIeU2cgbxnS/k/B3kf86jDhU8L9V2E40vAFWAlWFUfb++NOL4F3C7JX4/4GiE+hvgWsF0oS7mXldspnN+F493gyXrh9xTav0cg3EvzgVfBG6wsmVSEkxBOBgdPGpd7JI6PnqRvJ68/xlbHof53gPeA94OzwLngk+ACsAwsByvASrAK3MB0Ws3CtQjvBJvAVrADPMDSHkb4CNijaccTwvnf4fiPEs8Lxy+D18A/QU8/xjgYBjPAbDAKTgYLwOngTHAO+EQ/8wuEF4EvsPiVCFf2+9tsFStzA8LVHuXXBsi6QyqzUYiPMR/7Mc7dAx7oL8bzw/3u/Bw8Bp4Az4AXwCtgHzsmDXP5fiF9iiVvly5d0sHngar16NKlS5cuXbp06fLmYlqHXrcd3ph4P0THUY3iXh49novju4S0tzfs5d+JPKewfAsRntZb3K9ZhOMlrO6lCC8An28U9+OuovcPcPxlVu5rCL/VmHh/iHIrzn3fIPu7SN8Axmg+8AOwEWwCm7tp3bRuWjetm5Y8bSu4B9zbKO6ZVsnORrVU3f4uXTqZ2H3sLoyx3eDXjfDndE9qyj6L838CfwVvgFpzYnof4oNgOhgBc8Fos9DrZIQLmtXPP1MmF6wGj4H+KXoWguvADkXaPil+YpuQy8Am8Ey7ODdtmJDF4HowBp4De6HDTNjhfHAHeBr0DBBy0kDxfPbcgSIusgrcWhtnJ8vL+TPix7UIOQtcBq4C28Cr4KRBnANbwSuDE+s50JgyNNFuXbp06XIgsXjIvPafjvXozKY+fVFz/z0LT1uCtKVSWbrOLWPnztG8e0Xfy7ol8XtZJi7WtG+5od2UFXQ/A12vUeS7jp27yVKHjdsU9lXB869TyNvAzt0lpP2oWbwLdjiO78bx/Sz+EMJHwK9Y/LcIfw+eZ3F67/Hl5vh9xX80J+rwX8SvRDhpgL17iPAQMHNArfPrqHPewLheI+AERV6efwV418B4nOZ/H+IfYHV8GOF5LJ3eAz0fx8sM9S0fUNud39O9CulfGZhY5huI3wzWgNvBelbHZoTbNPVpfYjKQpkHwUNgl0LWblbnk0LbbDxr0OMFpL3iqWdu9nWYPlVAWkXY39LnGdCkDbeqv1YNbfcMQ3t9oe8lzm6NH9N1ZB6Ln4BwfkJZJk7RyFnYKt6b/JDQXx9p5X+eFdqOjzM9P9MB/lUlFzr20aXIdzlY4dmn9F3YqtvoO76/2hp/D/xA5Zue88nNyL8GbFbs075X0tyUig3Qd2MCnf//HjnzpbsR3g9+1kHzzVjdnE71/qVBX9rGPUh/ysNWe1neFzvIDi5zAufV1sT0N0poR22wkFUfTOPfA4N2mbZ5fSrqOHSw+IbkSBbOGSzSRgf91/GTUWYBOB2cIZQ/G8cfBZ8CFwrnL8XxF8FKcA24jqXdiPA7Qr61OF7H4mMItwzuv2/YLth1ISt3Hzu3k4W7EH5JqPdRHD/O4k+z8A8IX5Lq3y7Z4nXE9xn6kX6vQ4bKfy+ok+hH+xf3hq9dnTTHhjKd2GmDuWA242iHMq4cC7A8kJ7i8o1+skSa7Jieo38HCWnoNjKFhdSFBxzpZ7QE6lI8N4S14aASZcryaV/WWHw66f6NHuCoxuQxmvM56GX9QMd8Q4D65ywGP+ZzRJuM+zQvx/MOS2VFeqQ4IXnH26zM9Xe6/E6D+4foAzzuajPZp8Qyw5ayZVDWuH0z0BtYRkeIDqH9KO9VbH1btd/lhNqCzvl8zeLnG0S/hnU6baHfpiuO6yy0rd+DHURo/zYF5H26j03rQsip2ndzz82u1z9N4VjWKWeb68Tedpt95HRVXp7H1R6p+/Wt4FPy/PpWwscOLRJ+PVWF/+W0iVyGzs18TIvXkOJ1Wxm66vSXz+vylenrZcj1ub439W+K8RNCGTJi2p/TJ1K23VaXr35tRpnzmjxequgfcfyk6B/TGBVlyedsNgpdd/h+W1U3P99QyFPNo1X3TwpM/WLTIWYfoBqXrv6iskHZ/RFr79R6hIyHBrH3f1nrUVnjP8SnZZ+rYtzr9Exld5MNbPNErusAPg+77u/eDOPftU9yj39TH7rezxd1LvsZQJlzkWlOirG/79zjMj/mtHUKu7vKy+3/LnXr9okyKedjX5/0He9iP/j63LwOQdarEVlfy8OO/Lqw023j6xcqmwxLiOd6heM2i9cV9LJy8jMJ23yQ+rpbfu7EQ/pXE8KYvUSqvVnb4XzZa6LrHMXHR+zcLvqWbm/Bn0/HzIs6fWPHoat8XfnDKmZGxRxeMbn2UqZ5Q94nmcZRbqqUXbZ8+lcjE+cPX11t814orvvAXNcG8vqj2vvk1MGn3anlj0bIT72v47bvE+Lc98T9b6r7AKn6j+8Duf7D0nnZx/j7Zjn0j9nbpSTndaLr9WNLivP+iN23xF7L+fqv6ZouFyb78jxVXvv5jJ9YUs9/sddO8h7KNg5jrhfaJGztT6G7KF+1d6yCmD5Kdb2fan60rSc552fZr3zeQ9DpnPp+Si5cx5Ktv2QfSzF/mMbWdOm46rFI4XstnU9xeqX4NKb7TKEdcr6pZOK3ID1k/LvFHkVczEuZLEDr499YqvqBym1aEHWgcvoYOtv0M91qQl5TfpO/in6rWx8OVpT1Wedkv3f5xom3T/xeR/6Gx6V86PWAOB4bBpqWdN+yTcVxjIyGRz/FrDGu6w/3d7kPm8StX8RyPu+uuvpNju/vTLJV37GpvoM0oZPnW87VLnL/5pDno1NoW1R6yedU6TyUv3u19a3KFnIbTLYz+ZCLP4T0tU1uivFgso0pnsJ/UtXvarNY28Xq5cvkBDrQP/E5ZaiuQwwfmTlsOiQRU1fMuqrDd/3ISSuwjOwXOfTyGUMpZIXq4GpLn3pUcdfzch2x7XO1u2uZHOPb1G6b3Xg9PH1IIWeEpJlPQtqos2EKW8b0u8rnuP1UeVLoXJb9be0uG9nnbchjU+XTszT5VeNBThPHnc5OKj1U9aj0GTHIVaGy1YhEWT4ixns00DT+XEzWn/7VAsIc63Cov3OdyhwjrnaqQqZvWKXdypRdlq+k8msZ031U+Rm4fA+3TtyeR9hwfW9G9yxDN0fZMN33F+9TE6md4hwoxumfaUzI9fN3PFT3xVV2msrQ3UsnChm6Nulk8TndpS28D3zX9tTIPsF/z7Am5OkTjm1tI1JZW74+4VgsZ0N3L1yXV3WeP5uR7TGHHdvC3JQlxybfpd22tDlk/2eofRK8TzrN/qnar/K/OUTth6I/+jAnEptNbPvFHP2gs40N3+dfMWtwqvVct7/wfd8gtQ7imifial9ZJ9/3IHLYU6eDj3+4PhsNhX+vwvcWLnu6kGfEMe8DuciPfUfGZB8X/7HJy/Gefe5n+VRGFd/wyP2ta7/LO4yh/sbLV/k9lev6kfO9Dt/5U67b1/6u/epqB1U9Me23jfHY9sscAg4tkbLl+e4/U36rJ9ddxfd6sg5vq5ice42Wpk/pb9FOJ36/W9tpv4kbC79nUbZceX8Zu6/qJ+P3WvhvA8v3reh7Jbn2d6rrNC7XNZTLma4Ba0JI9efX2uLzF5scG/w9UNU1ZxW+ymUfzELeTllXlQ1rUuhzjS5fp9c964iFBOqeSz63bU065nZKdU+mDEz3qHIjjifquw0pnb/raRtvrnsYcb46ihT3taoYz6brdNW9l6rWRnE/navdPn1XlR1km7hcz1WlH/elKuSOSvLLuE8U6m8uzwRdfcGl73VyTHuyMvzJ1Sa2cWDTP/Z63Kc94n2B1PYr24dz1JlyHLlcP+S4B6vD1c9EW4q2LWstCvUjeVy63k/LMYdUNd5D1xQfvVTzX1VjkMsUv88N8VH5fReVn/Fjn++/h6X6Q8a6b1/q3g/i/ewi0/Scs8zxXeV6mWIOUPlPzBgdFerW+bZrm2P18dnjuK6HunEp+rHvPMXbr+sHVb/lnL+pTP57jPw9Cvk3PW178JD9qChfzuvTf7Htl38L1QUf/VKu9SFjwWbTWPvFEvu7Uq76y7+31g6QlYPc669pbsm9Xur2LWI9Pu8ypfDXqm3A2z8s1FWGn4ntL9NfQu2oSlftX9uetvTtv7J8Ql4zxfXGZ3zk8PeQ9w59x2uMfqI8/q5eKh/l9cb2rwsu9rSNl06ZP2Pmxtz+rNMx93yno0n2/82rVH7rQ+y9P15H6FyRun9ViH81ATmffI7nJ5r8uXXW6enbP6b/B8/l5OifVHYLnb9S39s2zcc+Ph+rh8+eQgVPS72elzGWY/tUtbbabBpDiI7yN1q6/4th2y+ErAc5+9BVvu/7KamJbWNZeuqI/R4tRf+YyD1HmOZM1bMV3/14Sn10c0Xu+Sj1nOXb5jL73ncdy02uvlXZNde65dOHYl7Vs4KYuS6FzWLn2zJlpZqPXPVPOa5yzKOyn1VhT9lmMfdbfH7D11Wf2PXN5h9y+dD287+qxgSnaYmnIrRtIb8pJe6/Uv9OVer6Whn0zfGO/BEloZI9ojmfAlUflClDd178bTmVHVTpZXOkAlk/lb42UujmI89HH5V+cl7XtowY6vTxLVWok6UrGzoGTHN+bB+6ri05687VNpvfuvRfaP2uMlNQth1D5JjGelm/8yn+9p3p/7qk9gnfeddXZmq/Sm333PJT659Kv1zjNbZ9uv2Oi//67CV8/N1nj1DmviyXDNVeJkaeaX8UsyesYg8cu2+NvdaPfb+lLDu5tvt/"
            )
          ),
          r = [
            [
              4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3,
              4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
            ],
            [
              0, 4, 4, 1, 1, 4, 4, 4, 4, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 4, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              4, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 2,
              4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 2,
              4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 4, 2,
              4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 0, 1, 4, 4, 4, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 0, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 2,
              4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 4, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0,
              0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 2,
              4, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 1, 4, 4, 4, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              1, 4, 4, 1, 1, 1, 4, 4, 4, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
            [
              0, 4, 4, 1, 1, 0, 4, 4, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 2,
              4, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0,
            ],
          ],
          n = function (t) {
            switch (t) {
              case 33:
                return 12;
              case 39:
              case 40:
              case 42:
                return 12;
              case 35:
                return 5;
              default:
                return t;
            }
          },
          a = function (t) {
            switch (t) {
              case 37:
              case 38:
                return 34;
              case 41:
                return 22;
              default:
                return t;
            }
          };
        class i {
          constructor(t) {
            let e =
              arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            (this.position = t), (this.required = e);
          }
        }
        return class {
          constructor(t) {
            (this.string = t),
              (this.pos = 0),
              (this.lastPos = 0),
              (this.curClass = null),
              (this.nextClass = null),
              (this.LB8a = !1),
              (this.LB21a = !1),
              (this.LB30a = 0);
          }
          nextCodePoint() {
            const t = this.string.charCodeAt(this.pos++),
              e = this.string.charCodeAt(this.pos);
            return 55296 <= t && t <= 56319 && 56320 <= e && e <= 57343
              ? (this.pos++, 1024 * (t - 55296) + (e - 56320) + 65536)
              : t;
          }
          nextCharClass() {
            return n(s.get(this.nextCodePoint()));
          }
          getSimpleBreak() {
            switch (this.nextClass) {
              case 41:
                return !1;
              case 34:
              case 37:
              case 38:
                return (this.curClass = 34), !1;
              case 36:
                return (this.curClass = 36), !1;
            }
            return null;
          }
          getPairTableBreak(t) {
            let e = !1;
            switch (r[this.curClass][this.nextClass]) {
              case 0:
                e = !0;
                break;
              case 1:
                e = 41 === t;
                break;
              case 2:
                if (((e = 41 === t), !e)) return (e = !1), e;
                break;
              case 3:
                if (41 !== t) return e;
            }
            return (
              this.LB8a && (e = !1),
              !this.LB21a || (16 !== this.curClass && 17 !== this.curClass)
                ? (this.LB21a = 13 === this.curClass)
                : ((e = !1), (this.LB21a = !1)),
              28 === this.curClass
                ? (this.LB30a++,
                  2 == this.LB30a &&
                    28 === this.nextClass &&
                    ((e = !0), (this.LB30a = 0)))
                : (this.LB30a = 0),
              (this.curClass = this.nextClass),
              e
            );
          }
          nextBreak() {
            if (null == this.curClass) {
              let t = this.nextCharClass();
              (this.curClass = a(t)),
                (this.nextClass = t),
                (this.LB8a = 31 === t),
                (this.LB30a = 0);
            }
            for (; this.pos < this.string.length; ) {
              this.lastPos = this.pos;
              const t = this.nextClass;
              if (
                ((this.nextClass = this.nextCharClass()),
                34 === this.curClass ||
                  (36 === this.curClass && 37 !== this.nextClass))
              )
                return (
                  (this.curClass = a(n(this.nextClass))),
                  new i(this.lastPos, !0)
                );
              let e = this.getSimpleBreak();
              if (
                (null === e && (e = this.getPairTableBreak(t)),
                (this.LB8a = 31 === this.nextClass),
                e)
              )
                return new i(this.lastPos);
            }
            return this.lastPos < this.string.length
              ? ((this.lastPos = this.string.length), new i(this.string.length))
              : null;
          }
        };
      })();
    </script>
    <script type="text/javascript">
      class FlatQueue {
        constructor() {
          (this.ids = []), (this.values = []), (this.length = 0);
        }
        clear() {
          this.length = 0;
        }
        push(s, t) {
          let i = this.length++;
          for (this.ids[i] = s, this.values[i] = t; i > 0; ) {
            const s = (i - 1) >> 1,
              h = this.values[s];
            if (t >= h) break;
            (this.ids[i] = this.ids[s]), (this.values[i] = h), (i = s);
          }
          (this.ids[i] = s), (this.values[i] = t);
        }
        pop() {
          if (0 === this.length) return;
          const s = this.ids[0];
          if ((this.length--, this.length > 0)) {
            const s = (this.ids[0] = this.ids[this.length]),
              t = (this.values[0] = this.values[this.length]),
              i = this.length >> 1;
            let h = 0;
            for (; h < i; ) {
              let s = 1 + (h << 1);
              const i = s + 1;
              let e = this.ids[s],
                l = this.values[s];
              const u = this.values[i];
              if (
                (i < this.length &&
                  u < l &&
                  ((s = i), (e = this.ids[i]), (l = u)),
                l >= t)
              )
                break;
              (this.ids[h] = e), (this.values[h] = l), (h = s);
            }
            (this.ids[h] = s), (this.values[h] = t);
          }
          return s;
        }
        peek() {
          if (0 !== this.length) return this.ids[0];
        }
        peekValue() {
          if (0 !== this.length) return this.values[0];
        }
      }
      window.FlatQueue = FlatQueue;
    </script>
    <script type="text/javascript">
     !(function (
        r
      ) {
        var e = "object" == typeof exports && exports,
          a =
            "object" == typeof module &&
            module &&
            module.exports == e &&
            module,
          u = "object" == typeof global && global;
        (u.global !== u && u.window !== u) || (r = u);
        var t = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
          o = /[\x01-\x7F]/g,
          c = /[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,
          s =
            /<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,
          l = {
            "­": "shy",
            "‌": "zwnj",
            "‍": "zwj",
            "‎": "lrm",
            "⁣": "ic",
            "⁢": "it",
            "⁡": "af",
            "‏": "rlm",
            "​": "ZeroWidthSpace",
            "⁠": "NoBreak",
            "̑": "DownBreve",
            "⃛": "tdot",
            "⃜": "DotDot",
            "\t": "Tab",
            "\n": "NewLine",
            " ": "puncsp",
            " ": "MediumSpace",
            " ": "thinsp",
            " ": "hairsp",
            " ": "emsp13",
            " ": "ensp",
            " ": "emsp14",
            " ": "emsp",
            " ": "numsp",
            " ": "nbsp",
            "  ": "ThickSpace",
            "‾": "oline",
            _: "lowbar",
            "‐": "dash",
            "–": "ndash",
            "—": "mdash",
            "―": "horbar",
            ",": "comma",
            ";": "semi",
            "⁏": "bsemi",
            ":": "colon",
            "⩴": "Colone",
            "!": "excl",
            "¡": "iexcl",
            "?": "quest",
            "¿": "iquest",
            ".": "period",
            "‥": "nldr",
            "…": "mldr",
            "·": "middot",
            "'": "apos",
            "‘": "lsquo",
            "’": "rsquo",
            "‚": "sbquo",
            "‹": "lsaquo",
            "›": "rsaquo",
            '"': "quot",
            "“": "ldquo",
            "”": "rdquo",
            "„": "bdquo",
            "«": "laquo",
            "»": "raquo",
            "(": "lpar",
            ")": "rpar",
            "[": "lsqb",
            "]": "rsqb",
            "{": "lcub",
            "}": "rcub",
            "⌈": "lceil",
            "⌉": "rceil",
            "⌊": "lfloor",
            "⌋": "rfloor",
            "⦅": "lopar",
            "⦆": "ropar",
            "⦋": "lbrke",
            "⦌": "rbrke",
            "⦍": "lbrkslu",
            "⦎": "rbrksld",
            "⦏": "lbrksld",
            "⦐": "rbrkslu",
            "⦑": "langd",
            "⦒": "rangd",
            "⦓": "lparlt",
            "⦔": "rpargt",
            "⦕": "gtlPar",
            "⦖": "ltrPar",
            "⟦": "lobrk",
            "⟧": "robrk",
            "⟨": "lang",
            "⟩": "rang",
            "⟪": "Lang",
            "⟫": "Rang",
            "⟬": "loang",
            "⟭": "roang",
            "❲": "lbbrk",
            "❳": "rbbrk",
            "‖": "Vert",
            "§": "sect",
            "¶": "para",
            "@": "commat",
            "*": "ast",
            "/": "sol",
            undefined: null,
            "&": "amp",
            "#": "num",
            "%": "percnt",
            "‰": "permil",
            "‱": "pertenk",
            "†": "dagger",
            "‡": "Dagger",
            "•": "bull",
            "⁃": "hybull",
            "′": "prime",
            "″": "Prime",
            "‴": "tprime",
            "⁗": "qprime",
            "‵": "bprime",
            "⁁": "caret",
            "`": "grave",
            "´": "acute",
            "˜": "tilde",
            "^": "Hat",
            "¯": "macr",
            "˘": "breve",
            "˙": "dot",
            "¨": "die",
            "˚": "ring",
            "˝": "dblac",
            "¸": "cedil",
            "˛": "ogon",
            ˆ: "circ",
            ˇ: "caron",
            "°": "deg",
            "©": "copy",
            "®": "reg",
            "℗": "copysr",
            "℘": "wp",
            "℞": "rx",
            "℧": "mho",
            "℩": "iiota",
            "←": "larr",
            "↚": "nlarr",
            "→": "rarr",
            "↛": "nrarr",
            "↑": "uarr",
            "↓": "darr",
            "↔": "harr",
            "↮": "nharr",
            "↕": "varr",
            "↖": "nwarr",
            "↗": "nearr",
            "↘": "searr",
            "↙": "swarr",
            "↝": "rarrw",
            "↝̸": "nrarrw",
            "↞": "Larr",
            "↟": "Uarr",
            "↠": "Rarr",
            "↡": "Darr",
            "↢": "larrtl",
            "↣": "rarrtl",
            "↤": "mapstoleft",
            "↥": "mapstoup",
            "↦": "map",
            "↧": "mapstodown",
            "↩": "larrhk",
            "↪": "rarrhk",
            "↫": "larrlp",
            "↬": "rarrlp",
            "↭": "harrw",
            "↰": "lsh",
            "↱": "rsh",
            "↲": "ldsh",
            "↳": "rdsh",
            "↵": "crarr",
            "↶": "cularr",
            "↷": "curarr",
            "↺": "olarr",
            "↻": "orarr",
            "↼": "lharu",
            "↽": "lhard",
            "↾": "uharr",
            "↿": "uharl",
            "⇀": "rharu",
            "⇁": "rhard",
            "⇂": "dharr",
            "⇃": "dharl",
            "⇄": "rlarr",
            "⇅": "udarr",
            "⇆": "lrarr",
            "⇇": "llarr",
            "⇈": "uuarr",
            "⇉": "rrarr",
            "⇊": "ddarr",
            "⇋": "lrhar",
            "⇌": "rlhar",
            "⇐": "lArr",
            "⇍": "nlArr",
            "⇑": "uArr",
            "⇒": "rArr",
            "⇏": "nrArr",
            "⇓": "dArr",
            "⇔": "iff",
            "⇎": "nhArr",
            "⇕": "vArr",
            "⇖": "nwArr",
            "⇗": "neArr",
            "⇘": "seArr",
            "⇙": "swArr",
            "⇚": "lAarr",
            "⇛": "rAarr",
            "⇝": "zigrarr",
            "⇤": "larrb",
            "⇥": "rarrb",
            "⇵": "duarr",
            "⇽": "loarr",
            "⇾": "roarr",
            "⇿": "hoarr",
            "∀": "forall",
            "∁": "comp",
            "∂": "part",
            "∂̸": "npart",
            "∃": "exist",
            "∄": "nexist",
            "∅": "empty",
            "∇": "Del",
            "∈": "in",
            "∉": "notin",
            "∋": "ni",
            "∌": "notni",
            "϶": "bepsi",
            "∏": "prod",
            "∐": "coprod",
            "∑": "sum",
            "+": "plus",
            "±": "pm",
            "÷": "div",
            "×": "times",
            "<": "lt",
            "≮": "nlt",
            "<⃒": "nvlt",
            "=": "equals",
            "≠": "ne",
            "=⃥": "bne",
            "⩵": "Equal",
            ">": "gt",
            "≯": "ngt",
            ">⃒": "nvgt",
            "¬": "not",
            "|": "vert",
            "¦": "brvbar",
            "−": "minus",
            "∓": "mp",
            "∔": "plusdo",
            "⁄": "frasl",
            "∖": "setmn",
            "∗": "lowast",
            "∘": "compfn",
            "√": "Sqrt",
            "∝": "prop",
            "∞": "infin",
            "∟": "angrt",
            "∠": "ang",
            "∠⃒": "nang",
            "∡": "angmsd",
            "∢": "angsph",
            "∣": "mid",
            "∤": "nmid",
            "∥": "par",
            "∦": "npar",
            "∧": "and",
            "∨": "or",
            "∩": "cap",
            "∩︀": "caps",
            "∪": "cup",
            "∪︀": "cups",
            "∫": "int",
            "∬": "Int",
            "∭": "tint",
            "⨌": "qint",
            "∮": "oint",
            "∯": "Conint",
            "∰": "Cconint",
            "∱": "cwint",
            "∲": "cwconint",
            "∳": "awconint",
            "∴": "there4",
            "∵": "becaus",
            "∶": "ratio",
            "∷": "Colon",
            "∸": "minusd",
            "∺": "mDDot",
            "∻": "homtht",
            "∼": "sim",
            "≁": "nsim",
            "∼⃒": "nvsim",
            "∽": "bsim",
            "∽̱": "race",
            "∾": "ac",
            "∾̳": "acE",
            "∿": "acd",
            "≀": "wr",
            "≂": "esim",
            "≂̸": "nesim",
            "≃": "sime",
            "≄": "nsime",
            "≅": "cong",
            "≇": "ncong",
            "≆": "simne",
            "≈": "ap",
            "≉": "nap",
            "≊": "ape",
            "≋": "apid",
            "≋̸": "napid",
            "≌": "bcong",
            "≍": "CupCap",
            "≭": "NotCupCap",
            "≍⃒": "nvap",
            "≎": "bump",
            "≎̸": "nbump",
            "≏": "bumpe",
            "≏̸": "nbumpe",
            "≐": "doteq",
            "≐̸": "nedot",
            "≑": "eDot",
            "≒": "efDot",
            "≓": "erDot",
            "≔": "colone",
            "≕": "ecolon",
            "≖": "ecir",
            "≗": "cire",
            "≙": "wedgeq",
            "≚": "veeeq",
            "≜": "trie",
            "≟": "equest",
            "≡": "equiv",
            "≢": "nequiv",
            "≡⃥": "bnequiv",
            "≤": "le",
            "≰": "nle",
            "≤⃒": "nvle",
            "≥": "ge",
            "≱": "nge",
            "≥⃒": "nvge",
            "≦": "lE",
            "≦̸": "nlE",
            "≧": "gE",
            "≧̸": "ngE",
            "≨︀": "lvnE",
            "≨": "lnE",
            "≩": "gnE",
            "≩︀": "gvnE",
            "≪": "ll",
            "≪̸": "nLtv",
            "≪⃒": "nLt",
            "≫": "gg",
            "≫̸": "nGtv",
            "≫⃒": "nGt",
            "≬": "twixt",
            "≲": "lsim",
            "≴": "nlsim",
            "≳": "gsim",
            "≵": "ngsim",
            "≶": "lg",
            "≸": "ntlg",
            "≷": "gl",
            "≹": "ntgl",
            "≺": "pr",
            "⊀": "npr",
            "≻": "sc",
            "⊁": "nsc",
            "≼": "prcue",
            "⋠": "nprcue",
            "≽": "sccue",
            "⋡": "nsccue",
            "≾": "prsim",
            "≿": "scsim",
            "≿̸": "NotSucceedsTilde",
            "⊂": "sub",
            "⊄": "nsub",
            "⊂⃒": "vnsub",
            "⊃": "sup",
            "⊅": "nsup",
            "⊃⃒": "vnsup",
            "⊆": "sube",
            "⊈": "nsube",
            "⊇": "supe",
            "⊉": "nsupe",
            "⊊︀": "vsubne",
            "⊊": "subne",
            "⊋︀": "vsupne",
            "⊋": "supne",
            "⊍": "cupdot",
            "⊎": "uplus",
            "⊏": "sqsub",
            "⊏̸": "NotSquareSubset",
            "⊐": "sqsup",
            "⊐̸": "NotSquareSuperset",
            "⊑": "sqsube",
            "⋢": "nsqsube",
            "⊒": "sqsupe",
            "⋣": "nsqsupe",
            "⊓": "sqcap",
            "⊓︀": "sqcaps",
            "⊔": "sqcup",
            "⊔︀": "sqcups",
            "⊕": "oplus",
            "⊖": "ominus",
            "⊗": "otimes",
            "⊘": "osol",
            "⊙": "odot",
            "⊚": "ocir",
            "⊛": "oast",
            "⊝": "odash",
            "⊞": "plusb",
            "⊟": "minusb",
            "⊠": "timesb",
            "⊡": "sdotb",
            "⊢": "vdash",
            "⊬": "nvdash",
            "⊣": "dashv",
            "⊤": "top",
            "⊥": "bot",
            "⊧": "models",
            "⊨": "vDash",
            "⊭": "nvDash",
            "⊩": "Vdash",
            "⊮": "nVdash",
            "⊪": "Vvdash",
            "⊫": "VDash",
            "⊯": "nVDash",
            "⊰": "prurel",
            "⊲": "vltri",
            "⋪": "nltri",
            "⊳": "vrtri",
            "⋫": "nrtri",
            "⊴": "ltrie",
            "⋬": "nltrie",
            "⊴⃒": "nvltrie",
            "⊵": "rtrie",
            "⋭": "nrtrie",
            "⊵⃒": "nvrtrie",
            "⊶": "origof",
            "⊷": "imof",
            "⊸": "mumap",
            "⊹": "hercon",
            "⊺": "intcal",
            "⊻": "veebar",
            "⊽": "barvee",
            "⊾": "angrtvb",
            "⊿": "lrtri",
            "⋀": "Wedge",
            "⋁": "Vee",
            "⋂": "xcap",
            "⋃": "xcup",
            "⋄": "diam",
            "⋅": "sdot",
            "⋆": "Star",
            "⋇": "divonx",
            "⋈": "bowtie",
            "⋉": "ltimes",
            "⋊": "rtimes",
            "⋋": "lthree",
            "⋌": "rthree",
            "⋍": "bsime",
            "⋎": "cuvee",
            "⋏": "cuwed",
            "⋐": "Sub",
            "⋑": "Sup",
            "⋒": "Cap",
            "⋓": "Cup",
            "⋔": "fork",
            "⋕": "epar",
            "⋖": "ltdot",
            "⋗": "gtdot",
            "⋘": "Ll",
            "⋘̸": "nLl",
            "⋙": "Gg",
            "⋙̸": "nGg",
            "⋚︀": "lesg",
            "⋚": "leg",
            "⋛": "gel",
            "⋛︀": "gesl",
            "⋞": "cuepr",
            "⋟": "cuesc",
            "⋦": "lnsim",
            "⋧": "gnsim",
            "⋨": "prnsim",
            "⋩": "scnsim",
            "⋮": "vellip",
            "⋯": "ctdot",
            "⋰": "utdot",
            "⋱": "dtdot",
            "⋲": "disin",
            "⋳": "isinsv",
            "⋴": "isins",
            "⋵": "isindot",
            "⋵̸": "notindot",
            "⋶": "notinvc",
            "⋷": "notinvb",
            "⋹": "isinE",
            "⋹̸": "notinE",
            "⋺": "nisd",
            "⋻": "xnis",
            "⋼": "nis",
            "⋽": "notnivc",
            "⋾": "notnivb",
            "⌅": "barwed",
            "⌆": "Barwed",
            "⌌": "drcrop",
            "⌍": "dlcrop",
            "⌎": "urcrop",
            "⌏": "ulcrop",
            "⌐": "bnot",
            "⌒": "profline",
            "⌓": "profsurf",
            "⌕": "telrec",
            "⌖": "target",
            "⌜": "ulcorn",
            "⌝": "urcorn",
            "⌞": "dlcorn",
            "⌟": "drcorn",
            "⌢": "frown",
            "⌣": "smile",
            "⌭": "cylcty",
            "⌮": "profalar",
            "⌶": "topbot",
            "⌽": "ovbar",
            "⌿": "solbar",
            "⍼": "angzarr",
            "⎰": "lmoust",
            "⎱": "rmoust",
            "⎴": "tbrk",
            "⎵": "bbrk",
            "⎶": "bbrktbrk",
            "⏜": "OverParenthesis",
            "⏝": "UnderParenthesis",
            "⏞": "OverBrace",
            "⏟": "UnderBrace",
            "⏢": "trpezium",
            "⏧": "elinters",
            "␣": "blank",
            "─": "boxh",
            "│": "boxv",
            "┌": "boxdr",
            "┐": "boxdl",
            "└": "boxur",
            "┘": "boxul",
            "├": "boxvr",
            "┤": "boxvl",
            "┬": "boxhd",
            "┴": "boxhu",
            "┼": "boxvh",
            "═": "boxH",
            "║": "boxV",
            "╒": "boxdR",
            "╓": "boxDr",
            "╔": "boxDR",
            "╕": "boxdL",
            "╖": "boxDl",
            "╗": "boxDL",
            "╘": "boxuR",
            "╙": "boxUr",
            "╚": "boxUR",
            "╛": "boxuL",
            "╜": "boxUl",
            "╝": "boxUL",
            "╞": "boxvR",
            "╟": "boxVr",
            "╠": "boxVR",
            "╡": "boxvL",
            "╢": "boxVl",
            "╣": "boxVL",
            "╤": "boxHd",
            "╥": "boxhD",
            "╦": "boxHD",
            "╧": "boxHu",
            "╨": "boxhU",
            "╩": "boxHU",
            "╪": "boxvH",
            "╫": "boxVh",
            "╬": "boxVH",
            "▀": "uhblk",
            "▄": "lhblk",
            "█": "block",
            "░": "blk14",
            "▒": "blk12",
            "▓": "blk34",
            "□": "squ",
            "▪": "squf",
            "▫": "EmptyVerySmallSquare",
            "▭": "rect",
            "▮": "marker",
            "▱": "fltns",
            "△": "xutri",
            "▴": "utrif",
            "▵": "utri",
            "▸": "rtrif",
            "▹": "rtri",
            "▽": "xdtri",
            "▾": "dtrif",
            "▿": "dtri",
            "◂": "ltrif",
            "◃": "ltri",
            "◊": "loz",
            "○": "cir",
            "◬": "tridot",
            "◯": "xcirc",
            "◸": "ultri",
            "◹": "urtri",
            "◺": "lltri",
            "◻": "EmptySmallSquare",
            "◼": "FilledSmallSquare",
            "★": "starf",
            "☆": "star",
            "☎": "phone",
            "♀": "female",
            "♂": "male",
            "♠": "spades",
            "♣": "clubs",
            "♥": "hearts",
            "♦": "diams",
            "♪": "sung",
            "✓": "check",
            "✗": "cross",
            "✠": "malt",
            "✶": "sext",
            "❘": "VerticalSeparator",
            "⟈": "bsolhsub",
            "⟉": "suphsol",
            "⟵": "xlarr",
            "⟶": "xrarr",
            "⟷": "xharr",
            "⟸": "xlArr",
            "⟹": "xrArr",
            "⟺": "xhArr",
            "⟼": "xmap",
            "⟿": "dzigrarr",
            "⤂": "nvlArr",
            "⤃": "nvrArr",
            "⤄": "nvHarr",
            "⤅": "Map",
            "⤌": "lbarr",
            "⤍": "rbarr",
            "⤎": "lBarr",
            "⤏": "rBarr",
            "⤐": "RBarr",
            "⤑": "DDotrahd",
            "⤒": "UpArrowBar",
            "⤓": "DownArrowBar",
            "⤖": "Rarrtl",
            "⤙": "latail",
            "⤚": "ratail",
            "⤛": "lAtail",
            "⤜": "rAtail",
            "⤝": "larrfs",
            "⤞": "rarrfs",
            "⤟": "larrbfs",
            "⤠": "rarrbfs",
            "⤣": "nwarhk",
            "⤤": "nearhk",
            "⤥": "searhk",
            "⤦": "swarhk",
            "⤧": "nwnear",
            "⤨": "toea",
            "⤩": "tosa",
            "⤪": "swnwar",
            "⤳": "rarrc",
            "⤳̸": "nrarrc",
            "⤵": "cudarrr",
            "⤶": "ldca",
            "⤷": "rdca",
            "⤸": "cudarrl",
            "⤹": "larrpl",
            "⤼": "curarrm",
            "⤽": "cularrp",
            "⥅": "rarrpl",
            "⥈": "harrcir",
            "⥉": "Uarrocir",
            "⥊": "lurdshar",
            "⥋": "ldrushar",
            "⥎": "LeftRightVector",
            "⥏": "RightUpDownVector",
            "⥐": "DownLeftRightVector",
            "⥑": "LeftUpDownVector",
            "⥒": "LeftVectorBar",
            "⥓": "RightVectorBar",
            "⥔": "RightUpVectorBar",
            "⥕": "RightDownVectorBar",
            "⥖": "DownLeftVectorBar",
            "⥗": "DownRightVectorBar",
            "⥘": "LeftUpVectorBar",
            "⥙": "LeftDownVectorBar",
            "⥚": "LeftTeeVector",
            "⥛": "RightTeeVector",
            "⥜": "RightUpTeeVector",
            "⥝": "RightDownTeeVector",
            "⥞": "DownLeftTeeVector",
            "⥟": "DownRightTeeVector",
            "⥠": "LeftUpTeeVector",
            "⥡": "LeftDownTeeVector",
            "⥢": "lHar",
            "⥣": "uHar",
            "⥤": "rHar",
            "⥥": "dHar",
            "⥦": "luruhar",
            "⥧": "ldrdhar",
            "⥨": "ruluhar",
            "⥩": "rdldhar",
            "⥪": "lharul",
            "⥫": "llhard",
            "⥬": "rharul",
            "⥭": "lrhard",
            "⥮": "udhar",
            "⥯": "duhar",
            "⥰": "RoundImplies",
            "⥱": "erarr",
            "⥲": "simrarr",
            "⥳": "larrsim",
            "⥴": "rarrsim",
            "⥵": "rarrap",
            "⥶": "ltlarr",
            "⥸": "gtrarr",
            "⥹": "subrarr",
            "⥻": "suplarr",
            "⥼": "lfisht",
            "⥽": "rfisht",
            "⥾": "ufisht",
            "⥿": "dfisht",
            "⦚": "vzigzag",
            "⦜": "vangrt",
            "⦝": "angrtvbd",
            "⦤": "ange",
            "⦥": "range",
            "⦦": "dwangle",
            "⦧": "uwangle",
            "⦨": "angmsdaa",
            "⦩": "angmsdab",
            "⦪": "angmsdac",
            "⦫": "angmsdad",
            "⦬": "angmsdae",
            "⦭": "angmsdaf",
            "⦮": "angmsdag",
            "⦯": "angmsdah",
            "⦰": "bemptyv",
            "⦱": "demptyv",
            "⦲": "cemptyv",
            "⦳": "raemptyv",
            "⦴": "laemptyv",
            "⦵": "ohbar",
            "⦶": "omid",
            "⦷": "opar",
            "⦹": "operp",
            "⦻": "olcross",
            "⦼": "odsold",
            "⦾": "olcir",
            "⦿": "ofcir",
            "⧀": "olt",
            "⧁": "ogt",
            "⧂": "cirscir",
            "⧃": "cirE",
            "⧄": "solb",
            "⧅": "bsolb",
            "⧉": "boxbox",
            "⧍": "trisb",
            "⧎": "rtriltri",
            "⧏": "LeftTriangleBar",
            "⧏̸": "NotLeftTriangleBar",
            "⧐": "RightTriangleBar",
            "⧐̸": "NotRightTriangleBar",
            "⧜": "iinfin",
            "⧝": "infintie",
            "⧞": "nvinfin",
            "⧣": "eparsl",
            "⧤": "smeparsl",
            "⧥": "eqvparsl",
            "⧫": "lozf",
            "⧴": "RuleDelayed",
            "⧶": "dsol",
            "⨀": "xodot",
            "⨁": "xoplus",
            "⨂": "xotime",
            "⨄": "xuplus",
            "⨆": "xsqcup",
            "⨍": "fpartint",
            "⨐": "cirfnint",
            "⨑": "awint",
            "⨒": "rppolint",
            "⨓": "scpolint",
            "⨔": "npolint",
            "⨕": "pointint",
            "⨖": "quatint",
            "⨗": "intlarhk",
            "⨢": "pluscir",
            "⨣": "plusacir",
            "⨤": "simplus",
            "⨥": "plusdu",
            "⨦": "plussim",
            "⨧": "plustwo",
            "⨩": "mcomma",
            "⨪": "minusdu",
            "⨭": "loplus",
            "⨮": "roplus",
            "⨯": "Cross",
            "⨰": "timesd",
            "⨱": "timesbar",
            "⨳": "smashp",
            "⨴": "lotimes",
            "⨵": "rotimes",
            "⨶": "otimesas",
            "⨷": "Otimes",
            "⨸": "odiv",
            "⨹": "triplus",
            "⨺": "triminus",
            "⨻": "tritime",
            "⨼": "iprod",
            "⨿": "amalg",
            "⩀": "capdot",
            "⩂": "ncup",
            "⩃": "ncap",
            "⩄": "capand",
            "⩅": "cupor",
            "⩆": "cupcap",
            "⩇": "capcup",
            "⩈": "cupbrcap",
            "⩉": "capbrcup",
            "⩊": "cupcup",
            "⩋": "capcap",
            "⩌": "ccups",
            "⩍": "ccaps",
            "⩐": "ccupssm",
            "⩓": "And",
            "⩔": "Or",
            "⩕": "andand",
            "⩖": "oror",
            "⩗": "orslope",
            "⩘": "andslope",
            "⩚": "andv",
            "⩛": "orv",
            "⩜": "andd",
            "⩝": "ord",
            "⩟": "wedbar",
            "⩦": "sdote",
            "⩪": "simdot",
            "⩭": "congdot",
            "⩭̸": "ncongdot",
            "⩮": "easter",
            "⩯": "apacir",
            "⩰": "apE",
            "⩰̸": "napE",
            "⩱": "eplus",
            "⩲": "pluse",
            "⩳": "Esim",
            "⩷": "eDDot",
            "⩸": "equivDD",
            "⩹": "ltcir",
            "⩺": "gtcir",
            "⩻": "ltquest",
            "⩼": "gtquest",
            "⩽": "les",
            "⩽̸": "nles",
            "⩾": "ges",
            "⩾̸": "nges",
            "⩿": "lesdot",
            "⪀": "gesdot",
            "⪁": "lesdoto",
            "⪂": "gesdoto",
            "⪃": "lesdotor",
            "⪄": "gesdotol",
            "⪅": "lap",
            "⪆": "gap",
            "⪇": "lne",
            "⪈": "gne",
            "⪉": "lnap",
            "⪊": "gnap",
            "⪋": "lEg",
            "⪌": "gEl",
            "⪍": "lsime",
            "⪎": "gsime",
            "⪏": "lsimg",
            "⪐": "gsiml",
            "⪑": "lgE",
            "⪒": "glE",
            "⪓": "lesges",
            "⪔": "gesles",
            "⪕": "els",
            "⪖": "egs",
            "⪗": "elsdot",
            "⪘": "egsdot",
            "⪙": "el",
            "⪚": "eg",
            "⪝": "siml",
            "⪞": "simg",
            "⪟": "simlE",
            "⪠": "simgE",
            "⪡": "LessLess",
            "⪡̸": "NotNestedLessLess",
            "⪢": "GreaterGreater",
            "⪢̸": "NotNestedGreaterGreater",
            "⪤": "glj",
            "⪥": "gla",
            "⪦": "ltcc",
            "⪧": "gtcc",
            "⪨": "lescc",
            "⪩": "gescc",
            "⪪": "smt",
            "⪫": "lat",
            "⪬": "smte",
            "⪬︀": "smtes",
            "⪭": "late",
            "⪭︀": "lates",
            "⪮": "bumpE",
            "⪯": "pre",
            "⪯̸": "npre",
            "⪰": "sce",
            "⪰̸": "nsce",
            "⪳": "prE",
            "⪴": "scE",
            "⪵": "prnE",
            "⪶": "scnE",
            "⪷": "prap",
            "⪸": "scap",
            "⪹": "prnap",
            "⪺": "scnap",
            "⪻": "Pr",
            "⪼": "Sc",
            "⪽": "subdot",
            "⪾": "supdot",
            "⪿": "subplus",
            "⫀": "supplus",
            "⫁": "submult",
            "⫂": "supmult",
            "⫃": "subedot",
            "⫄": "supedot",
            "⫅": "subE",
            "⫅̸": "nsubE",
            "⫆": "supE",
            "⫆̸": "nsupE",
            "⫇": "subsim",
            "⫈": "supsim",
            "⫋︀": "vsubnE",
            "⫋": "subnE",
            "⫌︀": "vsupnE",
            "⫌": "supnE",
            "⫏": "csub",
            "⫐": "csup",
            "⫑": "csube",
            "⫒": "csupe",
            "⫓": "subsup",
            "⫔": "supsub",
            "⫕": "subsub",
            "⫖": "supsup",
            "⫗": "suphsub",
            "⫘": "supdsub",
            "⫙": "forkv",
            "⫚": "topfork",
            "⫛": "mlcp",
            "⫤": "Dashv",
            "⫦": "Vdashl",
            "⫧": "Barv",
            "⫨": "vBar",
            "⫩": "vBarv",
            "⫫": "Vbar",
            "⫬": "Not",
            "⫭": "bNot",
            "⫮": "rnmid",
            "⫯": "cirmid",
            "⫰": "midcir",
            "⫱": "topcir",
            "⫲": "nhpar",
            "⫳": "parsim",
            "⫽": "parsl",
            "⫽⃥": "nparsl",
            "♭": "flat",
            "♮": "natur",
            "♯": "sharp",
            "¤": "curren",
            "¢": "cent",
            $: "dollar",
            "£": "pound",
            "¥": "yen",
            "€": "euro",
            "¹": "sup1",
            "½": "half",
            "⅓": "frac13",
            "¼": "frac14",
            "⅕": "frac15",
            "⅙": "frac16",
            "⅛": "frac18",
            "²": "sup2",
            "⅔": "frac23",
            "⅖": "frac25",
            "³": "sup3",
            "¾": "frac34",
            "⅗": "frac35",
            "⅜": "frac38",
            "⅘": "frac45",
            "⅚": "frac56",
            "⅝": "frac58",
            "⅞": "frac78",
            "𝒶": "ascr",
            "𝕒": "aopf",
            "𝔞": "afr",
            "𝔸": "Aopf",
            "𝔄": "Afr",
            "𝒜": "Ascr",
            ª: "ordf",
            á: "aacute",
            Á: "Aacute",
            à: "agrave",
            À: "Agrave",
            ă: "abreve",
            Ă: "Abreve",
            â: "acirc",
            Â: "Acirc",
            å: "aring",
            Å: "angst",
            ä: "auml",
            Ä: "Auml",
            ã: "atilde",
            Ã: "Atilde",
            ą: "aogon",
            Ą: "Aogon",
            ā: "amacr",
            Ā: "Amacr",
            æ: "aelig",
            Æ: "AElig",
            "𝒷": "bscr",
            "𝕓": "bopf",
            "𝔟": "bfr",
            "𝔹": "Bopf",
            ℬ: "Bscr",
            "𝔅": "Bfr",
            "𝔠": "cfr",
            "𝒸": "cscr",
            "𝕔": "copf",
            ℭ: "Cfr",
            "𝒞": "Cscr",
            ℂ: "Copf",
            ć: "cacute",
            Ć: "Cacute",
            ĉ: "ccirc",
            Ĉ: "Ccirc",
            č: "ccaron",
            Č: "Ccaron",
            ċ: "cdot",
            Ċ: "Cdot",
            ç: "ccedil",
            Ç: "Ccedil",
            "℅": "incare",
            "𝔡": "dfr",
            ⅆ: "dd",
            "𝕕": "dopf",
            "𝒹": "dscr",
            "𝒟": "Dscr",
            "𝔇": "Dfr",
            ⅅ: "DD",
            "𝔻": "Dopf",
            ď: "dcaron",
            Ď: "Dcaron",
            đ: "dstrok",
            Đ: "Dstrok",
            ð: "eth",
            Ð: "ETH",
            ⅇ: "ee",
            ℯ: "escr",
            "𝔢": "efr",
            "𝕖": "eopf",
            ℰ: "Escr",
            "𝔈": "Efr",
            "𝔼": "Eopf",
            é: "eacute",
            É: "Eacute",
            è: "egrave",
            È: "Egrave",
            ê: "ecirc",
            Ê: "Ecirc",
            ě: "ecaron",
            Ě: "Ecaron",
            ë: "euml",
            Ë: "Euml",
            ė: "edot",
            Ė: "Edot",
            ę: "eogon",
            Ę: "Eogon",
            ē: "emacr",
            Ē: "Emacr",
            "𝔣": "ffr",
            "𝕗": "fopf",
            "𝒻": "fscr",
            "𝔉": "Ffr",
            "𝔽": "Fopf",
            ℱ: "Fscr",
            ﬀ: "fflig",
            ﬃ: "ffilig",
            ﬄ: "ffllig",
            ﬁ: "filig",
            fj: "fjlig",
            ﬂ: "fllig",
            ƒ: "fnof",
            ℊ: "gscr",
            "𝕘": "gopf",
            "𝔤": "gfr",
            "𝒢": "Gscr",
            "𝔾": "Gopf",
            "𝔊": "Gfr",
            ǵ: "gacute",
            ğ: "gbreve",
            Ğ: "Gbreve",
            ĝ: "gcirc",
            Ĝ: "Gcirc",
            ġ: "gdot",
            Ġ: "Gdot",
            Ģ: "Gcedil",
            "𝔥": "hfr",
            ℎ: "planckh",
            "𝒽": "hscr",
            "𝕙": "hopf",
            ℋ: "Hscr",
            ℌ: "Hfr",
            ℍ: "Hopf",
            ĥ: "hcirc",
            Ĥ: "Hcirc",
            ℏ: "hbar",
            ħ: "hstrok",
            Ħ: "Hstrok",
            "𝕚": "iopf",
            "𝔦": "ifr",
            "𝒾": "iscr",
            ⅈ: "ii",
            "𝕀": "Iopf",
            ℐ: "Iscr",
            ℑ: "Im",
            í: "iacute",
            Í: "Iacute",
            ì: "igrave",
            Ì: "Igrave",
            î: "icirc",
            Î: "Icirc",
            ï: "iuml",
            Ï: "Iuml",
            ĩ: "itilde",
            Ĩ: "Itilde",
            İ: "Idot",
            į: "iogon",
            Į: "Iogon",
            ī: "imacr",
            Ī: "Imacr",
            ĳ: "ijlig",
            Ĳ: "IJlig",
            ı: "imath",
            "𝒿": "jscr",
            "𝕛": "jopf",
            "𝔧": "jfr",
            "𝒥": "Jscr",
            "𝔍": "Jfr",
            "𝕁": "Jopf",
            ĵ: "jcirc",
            Ĵ: "Jcirc",
            ȷ: "jmath",
            "𝕜": "kopf",
            "𝓀": "kscr",
            "𝔨": "kfr",
            "𝒦": "Kscr",
            "𝕂": "Kopf",
            "𝔎": "Kfr",
            ķ: "kcedil",
            Ķ: "Kcedil",
            "𝔩": "lfr",
            "𝓁": "lscr",
            ℓ: "ell",
            "𝕝": "lopf",
            ℒ: "Lscr",
            "𝔏": "Lfr",
            "𝕃": "Lopf",
            ĺ: "lacute",
            Ĺ: "Lacute",
            ľ: "lcaron",
            Ľ: "Lcaron",
            ļ: "lcedil",
            Ļ: "Lcedil",
            ł: "lstrok",
            Ł: "Lstrok",
            ŀ: "lmidot",
            Ŀ: "Lmidot",
            "𝔪": "mfr",
            "𝕞": "mopf",
            "𝓂": "mscr",
            "𝔐": "Mfr",
            "𝕄": "Mopf",
            ℳ: "Mscr",
            "𝔫": "nfr",
            "𝕟": "nopf",
            "𝓃": "nscr",
            ℕ: "Nopf",
            "𝒩": "Nscr",
            "𝔑": "Nfr",
            ń: "nacute",
            Ń: "Nacute",
            ň: "ncaron",
            Ň: "Ncaron",
            ñ: "ntilde",
            Ñ: "Ntilde",
            ņ: "ncedil",
            Ņ: "Ncedil",
            "№": "numero",
            ŋ: "eng",
            Ŋ: "ENG",
            "𝕠": "oopf",
            "𝔬": "ofr",
            ℴ: "oscr",
            "𝒪": "Oscr",
            "𝔒": "Ofr",
            "𝕆": "Oopf",
            º: "ordm",
            ó: "oacute",
            Ó: "Oacute",
            ò: "ograve",
            Ò: "Ograve",
            ô: "ocirc",
            Ô: "Ocirc",
            ö: "ouml",
            Ö: "Ouml",
            ő: "odblac",
            Ő: "Odblac",
            õ: "otilde",
            Õ: "Otilde",
            ø: "oslash",
            Ø: "Oslash",
            ō: "omacr",
            Ō: "Omacr",
            œ: "oelig",
            Œ: "OElig",
            "𝔭": "pfr",
            "𝓅": "pscr",
            "𝕡": "popf",
            ℙ: "Popf",
            "𝔓": "Pfr",
            "𝒫": "Pscr",
            "𝕢": "qopf",
            "𝔮": "qfr",
            "𝓆": "qscr",
            "𝒬": "Qscr",
            "𝔔": "Qfr",
            ℚ: "Qopf",
            ĸ: "kgreen",
            "𝔯": "rfr",
            "𝕣": "ropf",
            "𝓇": "rscr",
            ℛ: "Rscr",
            ℜ: "Re",
            ℝ: "Ropf",
            ŕ: "racute",
            Ŕ: "Racute",
            ř: "rcaron",
            Ř: "Rcaron",
            ŗ: "rcedil",
            Ŗ: "Rcedil",
            "𝕤": "sopf",
            "𝓈": "sscr",
            "𝔰": "sfr",
            "𝕊": "Sopf",
            "𝔖": "Sfr",
            "𝒮": "Sscr",
            "Ⓢ": "oS",
            ś: "sacute",
            Ś: "Sacute",
            ŝ: "scirc",
            Ŝ: "Scirc",
            š: "scaron",
            Š: "Scaron",
            ş: "scedil",
            Ş: "Scedil",
            ß: "szlig",
            "𝔱": "tfr",
            "𝓉": "tscr",
            "𝕥": "topf",
            "𝒯": "Tscr",
            "𝔗": "Tfr",
            "𝕋": "Topf",
            ť: "tcaron",
            Ť: "Tcaron",
            ţ: "tcedil",
            Ţ: "Tcedil",
            "™": "trade",
            ŧ: "tstrok",
            Ŧ: "Tstrok",
            "𝓊": "uscr",
            "𝕦": "uopf",
            "𝔲": "ufr",
            "𝕌": "Uopf",
            "𝔘": "Ufr",
            "𝒰": "Uscr",
            ú: "uacute",
            Ú: "Uacute",
            ù: "ugrave",
            Ù: "Ugrave",
            ŭ: "ubreve",
            Ŭ: "Ubreve",
            û: "ucirc",
            Û: "Ucirc",
            ů: "uring",
            Ů: "Uring",
            ü: "uuml",
            Ü: "Uuml",
            ű: "udblac",
            Ű: "Udblac",
            ũ: "utilde",
            Ũ: "Utilde",
            ų: "uogon",
            Ų: "Uogon",
            ū: "umacr",
            Ū: "Umacr",
            "𝔳": "vfr",
            "𝕧": "vopf",
            "𝓋": "vscr",
            "𝔙": "Vfr",
            "𝕍": "Vopf",
            "𝒱": "Vscr",
            "𝕨": "wopf",
            "𝓌": "wscr",
            "𝔴": "wfr",
            "𝒲": "Wscr",
            "𝕎": "Wopf",
            "𝔚": "Wfr",
            ŵ: "wcirc",
            Ŵ: "Wcirc",
            "𝔵": "xfr",
            "𝓍": "xscr",
            "𝕩": "xopf",
            "𝕏": "Xopf",
            "𝔛": "Xfr",
            "𝒳": "Xscr",
            "𝔶": "yfr",
            "𝓎": "yscr",
            "𝕪": "yopf",
            "𝒴": "Yscr",
            "𝔜": "Yfr",
            "𝕐": "Yopf",
            ý: "yacute",
            Ý: "Yacute",
            ŷ: "ycirc",
            Ŷ: "Ycirc",
            ÿ: "yuml",
            Ÿ: "Yuml",
            "𝓏": "zscr",
            "𝔷": "zfr",
            "𝕫": "zopf",
            ℨ: "Zfr",
            ℤ: "Zopf",
            "𝒵": "Zscr",
            ź: "zacute",
            Ź: "Zacute",
            ž: "zcaron",
            Ž: "Zcaron",
            ż: "zdot",
            Ż: "Zdot",
            Ƶ: "imped",
            þ: "thorn",
            Þ: "THORN",
            ŉ: "napos",
            α: "alpha",
            Α: "Alpha",
            β: "beta",
            Β: "Beta",
            γ: "gamma",
            Γ: "Gamma",
            δ: "delta",
            Δ: "Delta",
            ε: "epsi",
            ϵ: "epsiv",
            Ε: "Epsilon",
            ϝ: "gammad",
            Ϝ: "Gammad",
            ζ: "zeta",
            Ζ: "Zeta",
            η: "eta",
            Η: "Eta",
            θ: "theta",
            ϑ: "thetav",
            Θ: "Theta",
            ι: "iota",
            Ι: "Iota",
            κ: "kappa",
            ϰ: "kappav",
            Κ: "Kappa",
            λ: "lambda",
            Λ: "Lambda",
            μ: "mu",
            µ: "micro",
            Μ: "Mu",
            ν: "nu",
            Ν: "Nu",
            ξ: "xi",
            Ξ: "Xi",
            ο: "omicron",
            Ο: "Omicron",
            π: "pi",
            ϖ: "piv",
            Π: "Pi",
            ρ: "rho",
            ϱ: "rhov",
            Ρ: "Rho",
            σ: "sigma",
            Σ: "Sigma",
            ς: "sigmaf",
            τ: "tau",
            Τ: "Tau",
            υ: "upsi",
            Υ: "Upsilon",
            ϒ: "Upsi",
            φ: "phi",
            ϕ: "phiv",
            Φ: "Phi",
            χ: "chi",
            Χ: "Chi",
            ψ: "psi",
            Ψ: "Psi",
            ω: "omega",
            Ω: "ohm",
            а: "acy",
            А: "Acy",
            б: "bcy",
            Б: "Bcy",
            в: "vcy",
            В: "Vcy",
            г: "gcy",
            Г: "Gcy",
            ѓ: "gjcy",
            Ѓ: "GJcy",
            д: "dcy",
            Д: "Dcy",
            ђ: "djcy",
            Ђ: "DJcy",
            е: "iecy",
            Е: "IEcy",
            ё: "iocy",
            Ё: "IOcy",
            є: "jukcy",
            Є: "Jukcy",
            ж: "zhcy",
            Ж: "ZHcy",
            з: "zcy",
            З: "Zcy",
            ѕ: "dscy",
            Ѕ: "DScy",
            и: "icy",
            И: "Icy",
            і: "iukcy",
            І: "Iukcy",
            ї: "yicy",
            Ї: "YIcy",
            й: "jcy",
            Й: "Jcy",
            ј: "jsercy",
            Ј: "Jsercy",
            к: "kcy",
            К: "Kcy",
            ќ: "kjcy",
            Ќ: "KJcy",
            л: "lcy",
            Л: "Lcy",
            љ: "ljcy",
            Љ: "LJcy",
            м: "mcy",
            М: "Mcy",
            н: "ncy",
            Н: "Ncy",
            њ: "njcy",
            Њ: "NJcy",
            о: "ocy",
            О: "Ocy",
            п: "pcy",
            П: "Pcy",
            р: "rcy",
            Р: "Rcy",
            с: "scy",
            С: "Scy",
            т: "tcy",
            Т: "Tcy",
            ћ: "tshcy",
            Ћ: "TSHcy",
            у: "ucy",
            У: "Ucy",
            ў: "ubrcy",
            Ў: "Ubrcy",
            ф: "fcy",
            Ф: "Fcy",
            х: "khcy",
            Х: "KHcy",
            ц: "tscy",
            Ц: "TScy",
            ч: "chcy",
            Ч: "CHcy",
            џ: "dzcy",
            Џ: "DZcy",
            ш: "shcy",
            Ш: "SHcy",
            щ: "shchcy",
            Щ: "SHCHcy",
            ъ: "hardcy",
            Ъ: "HARDcy",
            ы: "ycy",
            Ы: "Ycy",
            ь: "softcy",
            Ь: "SOFTcy",
            э: "ecy",
            Э: "Ecy",
            ю: "yucy",
            Ю: "YUcy",
            я: "yacy",
            Я: "YAcy",
            ℵ: "aleph",
            ℶ: "beth",
            ℷ: "gimel",
            ℸ: "daleth",
          },
          i = /["&'<>`]/g,
          n = {
            '"': "&quot;",
            "&": "&amp;",
            "'": "&#x27;",
            "<": "&lt;",
            ">": "&gt;",
            "`": "&#x60;",
          },
          p = /&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,
          d =
            /[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,
          g =
            /&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,
          m = {
            aacute: "á",
            Aacute: "Á",
            abreve: "ă",
            Abreve: "Ă",
            ac: "∾",
            acd: "∿",
            acE: "∾̳",
            acirc: "â",
            Acirc: "Â",
            acute: "´",
            acy: "а",
            Acy: "А",
            aelig: "æ",
            AElig: "Æ",
            af: "⁡",
            afr: "𝔞",
            Afr: "𝔄",
            agrave: "à",
            Agrave: "À",
            alefsym: "ℵ",
            aleph: "ℵ",
            alpha: "α",
            Alpha: "Α",
            amacr: "ā",
            Amacr: "Ā",
            amalg: "⨿",
            amp: "&",
            AMP: "&",
            and: "∧",
            And: "⩓",
            andand: "⩕",
            andd: "⩜",
            andslope: "⩘",
            andv: "⩚",
            ang: "∠",
            ange: "⦤",
            angle: "∠",
            angmsd: "∡",
            angmsdaa: "⦨",
            angmsdab: "⦩",
            angmsdac: "⦪",
            angmsdad: "⦫",
            angmsdae: "⦬",
            angmsdaf: "⦭",
            angmsdag: "⦮",
            angmsdah: "⦯",
            angrt: "∟",
            angrtvb: "⊾",
            angrtvbd: "⦝",
            angsph: "∢",
            angst: "Å",
            angzarr: "⍼",
            aogon: "ą",
            Aogon: "Ą",
            aopf: "𝕒",
            Aopf: "𝔸",
            ap: "≈",
            apacir: "⩯",
            ape: "≊",
            apE: "⩰",
            apid: "≋",
            apos: "'",
            ApplyFunction: "⁡",
            approx: "≈",
            approxeq: "≊",
            aring: "å",
            Aring: "Å",
            ascr: "𝒶",
            Ascr: "𝒜",
            Assign: "≔",
            ast: "*",
            asymp: "≈",
            asympeq: "≍",
            atilde: "ã",
            Atilde: "Ã",
            auml: "ä",
            Auml: "Ä",
            awconint: "∳",
            awint: "⨑",
            backcong: "≌",
            backepsilon: "϶",
            backprime: "‵",
            backsim: "∽",
            backsimeq: "⋍",
            Backslash: "∖",
            Barv: "⫧",
            barvee: "⊽",
            barwed: "⌅",
            Barwed: "⌆",
            barwedge: "⌅",
            bbrk: "⎵",
            bbrktbrk: "⎶",
            bcong: "≌",
            bcy: "б",
            Bcy: "Б",
            bdquo: "„",
            becaus: "∵",
            because: "∵",
            Because: "∵",
            bemptyv: "⦰",
            bepsi: "϶",
            bernou: "ℬ",
            Bernoullis: "ℬ",
            beta: "β",
            Beta: "Β",
            beth: "ℶ",
            between: "≬",
            bfr: "𝔟",
            Bfr: "𝔅",
            bigcap: "⋂",
            bigcirc: "◯",
            bigcup: "⋃",
            bigodot: "⨀",
            bigoplus: "⨁",
            bigotimes: "⨂",
            bigsqcup: "⨆",
            bigstar: "★",
            bigtriangledown: "▽",
            bigtriangleup: "△",
            biguplus: "⨄",
            bigvee: "⋁",
            bigwedge: "⋀",
            bkarow: "⤍",
            blacklozenge: "⧫",
            blacksquare: "▪",
            blacktriangle: "▴",
            blacktriangledown: "▾",
            blacktriangleleft: "◂",
            blacktriangleright: "▸",
            blank: "␣",
            blk12: "▒",
            blk14: "░",
            blk34: "▓",
            block: "█",
            bne: "=⃥",
            bnequiv: "≡⃥",
            bnot: "⌐",
            bNot: "⫭",
            bopf: "𝕓",
            Bopf: "𝔹",
            bot: "⊥",
            bottom: "⊥",
            bowtie: "⋈",
            boxbox: "⧉",
            boxdl: "┐",
            boxdL: "╕",
            boxDl: "╖",
            boxDL: "╗",
            boxdr: "┌",
            boxdR: "╒",
            boxDr: "╓",
            boxDR: "╔",
            boxh: "─",
            boxH: "═",
            boxhd: "┬",
            boxhD: "╥",
            boxHd: "╤",
            boxHD: "╦",
            boxhu: "┴",
            boxhU: "╨",
            boxHu: "╧",
            boxHU: "╩",
            boxminus: "⊟",
            boxplus: "⊞",
            boxtimes: "⊠",
            boxul: "┘",
            boxuL: "╛",
            boxUl: "╜",
            boxUL: "╝",
            boxur: "└",
            boxuR: "╘",
            boxUr: "╙",
            boxUR: "╚",
            boxv: "│",
            boxV: "║",
            boxvh: "┼",
            boxvH: "╪",
            boxVh: "╫",
            boxVH: "╬",
            boxvl: "┤",
            boxvL: "╡",
            boxVl: "╢",
            boxVL: "╣",
            boxvr: "├",
            boxvR: "╞",
            boxVr: "╟",
            boxVR: "╠",
            bprime: "‵",
            breve: "˘",
            Breve: "˘",
            brvbar: "¦",
            bscr: "𝒷",
            Bscr: "ℬ",
            bsemi: "⁏",
            bsim: "∽",
            bsime: "⋍",
            bsol: "\\",
            bsolb: "⧅",
            bsolhsub: "⟈",
            bull: "•",
            bullet: "•",
            bump: "≎",
            bumpe: "≏",
            bumpE: "⪮",
            bumpeq: "≏",
            Bumpeq: "≎",
            cacute: "ć",
            Cacute: "Ć",
            cap: "∩",
            Cap: "⋒",
            capand: "⩄",
            capbrcup: "⩉",
            capcap: "⩋",
            capcup: "⩇",
            capdot: "⩀",
            CapitalDifferentialD: "ⅅ",
            caps: "∩︀",
            caret: "⁁",
            caron: "ˇ",
            Cayleys: "ℭ",
            ccaps: "⩍",
            ccaron: "č",
            Ccaron: "Č",
            ccedil: "ç",
            Ccedil: "Ç",
            ccirc: "ĉ",
            Ccirc: "Ĉ",
            Cconint: "∰",
            ccups: "⩌",
            ccupssm: "⩐",
            cdot: "ċ",
            Cdot: "Ċ",
            cedil: "¸",
            Cedilla: "¸",
            cemptyv: "⦲",
            cent: "¢",
            centerdot: "·",
            CenterDot: "·",
            cfr: "𝔠",
            Cfr: "ℭ",
            chcy: "ч",
            CHcy: "Ч",
            check: "✓",
            checkmark: "✓",
            chi: "χ",
            Chi: "Χ",
            cir: "○",
            circ: "ˆ",
            circeq: "≗",
            circlearrowleft: "↺",
            circlearrowright: "↻",
            circledast: "⊛",
            circledcirc: "⊚",
            circleddash: "⊝",
            CircleDot: "⊙",
            circledR: "®",
            circledS: "Ⓢ",
            CircleMinus: "⊖",
            CirclePlus: "⊕",
            CircleTimes: "⊗",
            cire: "≗",
            cirE: "⧃",
            cirfnint: "⨐",
            cirmid: "⫯",
            cirscir: "⧂",
            ClockwiseContourIntegral: "∲",
            CloseCurlyDoubleQuote: "”",
            CloseCurlyQuote: "’",
            clubs: "♣",
            clubsuit: "♣",
            colon: ":",
            Colon: "∷",
            colone: "≔",
            Colone: "⩴",
            coloneq: "≔",
            comma: ",",
            commat: "@",
            comp: "∁",
            compfn: "∘",
            complement: "∁",
            complexes: "ℂ",
            cong: "≅",
            congdot: "⩭",
            Congruent: "≡",
            conint: "∮",
            Conint: "∯",
            ContourIntegral: "∮",
            copf: "𝕔",
            Copf: "ℂ",
            coprod: "∐",
            Coproduct: "∐",
            copy: "©",
            COPY: "©",
            copysr: "℗",
            CounterClockwiseContourIntegral: "∳",
            crarr: "↵",
            cross: "✗",
            Cross: "⨯",
            cscr: "𝒸",
            Cscr: "𝒞",
            csub: "⫏",
            csube: "⫑",
            csup: "⫐",
            csupe: "⫒",
            ctdot: "⋯",
            cudarrl: "⤸",
            cudarrr: "⤵",
            cuepr: "⋞",
            cuesc: "⋟",
            cularr: "↶",
            cularrp: "⤽",
            cup: "∪",
            Cup: "⋓",
            cupbrcap: "⩈",
            cupcap: "⩆",
            CupCap: "≍",
            cupcup: "⩊",
            cupdot: "⊍",
            cupor: "⩅",
            cups: "∪︀",
            curarr: "↷",
            curarrm: "⤼",
            curlyeqprec: "⋞",
            curlyeqsucc: "⋟",
            curlyvee: "⋎",
            curlywedge: "⋏",
            curren: "¤",
            curvearrowleft: "↶",
            curvearrowright: "↷",
            cuvee: "⋎",
            cuwed: "⋏",
            cwconint: "∲",
            cwint: "∱",
            cylcty: "⌭",
            dagger: "†",
            Dagger: "‡",
            daleth: "ℸ",
            darr: "↓",
            dArr: "⇓",
            Darr: "↡",
            dash: "‐",
            dashv: "⊣",
            Dashv: "⫤",
            dbkarow: "⤏",
            dblac: "˝",
            dcaron: "ď",
            Dcaron: "Ď",
            dcy: "д",
            Dcy: "Д",
            dd: "ⅆ",
            DD: "ⅅ",
            ddagger: "‡",
            ddarr: "⇊",
            DDotrahd: "⤑",
            ddotseq: "⩷",
            deg: "°",
            Del: "∇",
            delta: "δ",
            Delta: "Δ",
            demptyv: "⦱",
            dfisht: "⥿",
            dfr: "𝔡",
            Dfr: "𝔇",
            dHar: "⥥",
            dharl: "⇃",
            dharr: "⇂",
            DiacriticalAcute: "´",
            DiacriticalDot: "˙",
            DiacriticalDoubleAcute: "˝",
            DiacriticalGrave: "`",
            DiacriticalTilde: "˜",
            diam: "⋄",
            diamond: "⋄",
            Diamond: "⋄",
            diamondsuit: "♦",
            diams: "♦",
            die: "¨",
            DifferentialD: "ⅆ",
            digamma: "ϝ",
            disin: "⋲",
            div: "÷",
            divide: "÷",
            divideontimes: "⋇",
            divonx: "⋇",
            djcy: "ђ",
            DJcy: "Ђ",
            dlcorn: "⌞",
            dlcrop: "⌍",
            dollar: "$",
            dopf: "𝕕",
            Dopf: "𝔻",
            dot: "˙",
            Dot: "¨",
            DotDot: "⃜",
            doteq: "≐",
            doteqdot: "≑",
            DotEqual: "≐",
            dotminus: "∸",
            dotplus: "∔",
            dotsquare: "⊡",
            doublebarwedge: "⌆",
            DoubleContourIntegral: "∯",
            DoubleDot: "¨",
            DoubleDownArrow: "⇓",
            DoubleLeftArrow: "⇐",
            DoubleLeftRightArrow: "⇔",
            DoubleLeftTee: "⫤",
            DoubleLongLeftArrow: "⟸",
            DoubleLongLeftRightArrow: "⟺",
            DoubleLongRightArrow: "⟹",
            DoubleRightArrow: "⇒",
            DoubleRightTee: "⊨",
            DoubleUpArrow: "⇑",
            DoubleUpDownArrow: "⇕",
            DoubleVerticalBar: "∥",
            downarrow: "↓",
            Downarrow: "⇓",
            DownArrow: "↓",
            DownArrowBar: "⤓",
            DownArrowUpArrow: "⇵",
            DownBreve: "̑",
            downdownarrows: "⇊",
            downharpoonleft: "⇃",
            downharpoonright: "⇂",
            DownLeftRightVector: "⥐",
            DownLeftTeeVector: "⥞",
            DownLeftVector: "↽",
            DownLeftVectorBar: "⥖",
            DownRightTeeVector: "⥟",
            DownRightVector: "⇁",
            DownRightVectorBar: "⥗",
            DownTee: "⊤",
            DownTeeArrow: "↧",
            drbkarow: "⤐",
            drcorn: "⌟",
            drcrop: "⌌",
            dscr: "𝒹",
            Dscr: "𝒟",
            dscy: "ѕ",
            DScy: "Ѕ",
            dsol: "⧶",
            dstrok: "đ",
            Dstrok: "Đ",
            dtdot: "⋱",
            dtri: "▿",
            dtrif: "▾",
            duarr: "⇵",
            duhar: "⥯",
            dwangle: "⦦",
            dzcy: "џ",
            DZcy: "Џ",
            dzigrarr: "⟿",
            eacute: "é",
            Eacute: "É",
            easter: "⩮",
            ecaron: "ě",
            Ecaron: "Ě",
            ecir: "≖",
            ecirc: "ê",
            Ecirc: "Ê",
            ecolon: "≕",
            ecy: "э",
            Ecy: "Э",
            eDDot: "⩷",
            edot: "ė",
            eDot: "≑",
            Edot: "Ė",
            ee: "ⅇ",
            efDot: "≒",
            efr: "𝔢",
            Efr: "𝔈",
            eg: "⪚",
            egrave: "è",
            Egrave: "È",
            egs: "⪖",
            egsdot: "⪘",
            el: "⪙",
            Element: "∈",
            elinters: "⏧",
            ell: "ℓ",
            els: "⪕",
            elsdot: "⪗",
            emacr: "ē",
            Emacr: "Ē",
            empty: "∅",
            emptyset: "∅",
            EmptySmallSquare: "◻",
            emptyv: "∅",
            EmptyVerySmallSquare: "▫",
            emsp: " ",
            emsp13: " ",
            emsp14: " ",
            eng: "ŋ",
            ENG: "Ŋ",
            ensp: " ",
            eogon: "ę",
            Eogon: "Ę",
            eopf: "𝕖",
            Eopf: "𝔼",
            epar: "⋕",
            eparsl: "⧣",
            eplus: "⩱",
            epsi: "ε",
            epsilon: "ε",
            Epsilon: "Ε",
            epsiv: "ϵ",
            eqcirc: "≖",
            eqcolon: "≕",
            eqsim: "≂",
            eqslantgtr: "⪖",
            eqslantless: "⪕",
            Equal: "⩵",
            equals: "=",
            EqualTilde: "≂",
            equest: "≟",
            Equilibrium: "⇌",
            equiv: "≡",
            equivDD: "⩸",
            eqvparsl: "⧥",
            erarr: "⥱",
            erDot: "≓",
            escr: "ℯ",
            Escr: "ℰ",
            esdot: "≐",
            esim: "≂",
            Esim: "⩳",
            eta: "η",
            Eta: "Η",
            eth: "ð",
            ETH: "Ð",
            euml: "ë",
            Euml: "Ë",
            euro: "€",
            excl: "!",
            exist: "∃",
            Exists: "∃",
            expectation: "ℰ",
            exponentiale: "ⅇ",
            ExponentialE: "ⅇ",
            fallingdotseq: "≒",
            fcy: "ф",
            Fcy: "Ф",
            female: "♀",
            ffilig: "ﬃ",
            fflig: "ﬀ",
            ffllig: "ﬄ",
            ffr: "𝔣",
            Ffr: "𝔉",
            filig: "ﬁ",
            FilledSmallSquare: "◼",
            FilledVerySmallSquare: "▪",
            fjlig: "fj",
            flat: "♭",
            fllig: "ﬂ",
            fltns: "▱",
            fnof: "ƒ",
            fopf: "𝕗",
            Fopf: "𝔽",
            forall: "∀",
            ForAll: "∀",
            fork: "⋔",
            forkv: "⫙",
            Fouriertrf: "ℱ",
            fpartint: "⨍",
            frac12: "½",
            frac13: "⅓",
            frac14: "¼",
            frac15: "⅕",
            frac16: "⅙",
            frac18: "⅛",
            frac23: "⅔",
            frac25: "⅖",
            frac34: "¾",
            frac35: "⅗",
            frac38: "⅜",
            frac45: "⅘",
            frac56: "⅚",
            frac58: "⅝",
            frac78: "⅞",
            frasl: "⁄",
            frown: "⌢",
            fscr: "𝒻",
            Fscr: "ℱ",
            gacute: "ǵ",
            gamma: "γ",
            Gamma: "Γ",
            gammad: "ϝ",
            Gammad: "Ϝ",
            gap: "⪆",
            gbreve: "ğ",
            Gbreve: "Ğ",
            Gcedil: "Ģ",
            gcirc: "ĝ",
            Gcirc: "Ĝ",
            gcy: "г",
            Gcy: "Г",
            gdot: "ġ",
            Gdot: "Ġ",
            ge: "≥",
            gE: "≧",
            gel: "⋛",
            gEl: "⪌",
            geq: "≥",
            geqq: "≧",
            geqslant: "⩾",
            ges: "⩾",
            gescc: "⪩",
            gesdot: "⪀",
            gesdoto: "⪂",
            gesdotol: "⪄",
            gesl: "⋛︀",
            gesles: "⪔",
            gfr: "𝔤",
            Gfr: "𝔊",
            gg: "≫",
            Gg: "⋙",
            ggg: "⋙",
            gimel: "ℷ",
            gjcy: "ѓ",
            GJcy: "Ѓ",
            gl: "≷",
            gla: "⪥",
            glE: "⪒",
            glj: "⪤",
            gnap: "⪊",
            gnapprox: "⪊",
            gne: "⪈",
            gnE: "≩",
            gneq: "⪈",
            gneqq: "≩",
            gnsim: "⋧",
            gopf: "𝕘",
            Gopf: "𝔾",
            grave: "`",
            GreaterEqual: "≥",
            GreaterEqualLess: "⋛",
            GreaterFullEqual: "≧",
            GreaterGreater: "⪢",
            GreaterLess: "≷",
            GreaterSlantEqual: "⩾",
            GreaterTilde: "≳",
            gscr: "ℊ",
            Gscr: "𝒢",
            gsim: "≳",
            gsime: "⪎",
            gsiml: "⪐",
            gt: ">",
            Gt: "≫",
            GT: ">",
            gtcc: "⪧",
            gtcir: "⩺",
            gtdot: "⋗",
            gtlPar: "⦕",
            gtquest: "⩼",
            gtrapprox: "⪆",
            gtrarr: "⥸",
            gtrdot: "⋗",
            gtreqless: "⋛",
            gtreqqless: "⪌",
            gtrless: "≷",
            gtrsim: "≳",
            gvertneqq: "≩︀",
            gvnE: "≩︀",
            Hacek: "ˇ",
            hairsp: " ",
            half: "½",
            hamilt: "ℋ",
            hardcy: "ъ",
            HARDcy: "Ъ",
            harr: "↔",
            hArr: "⇔",
            harrcir: "⥈",
            harrw: "↭",
            Hat: "^",
            hbar: "ℏ",
            hcirc: "ĥ",
            Hcirc: "Ĥ",
            hearts: "♥",
            heartsuit: "♥",
            hellip: "…",
            hercon: "⊹",
            hfr: "𝔥",
            Hfr: "ℌ",
            HilbertSpace: "ℋ",
            hksearow: "⤥",
            hkswarow: "⤦",
            hoarr: "⇿",
            homtht: "∻",
            hookleftarrow: "↩",
            hookrightarrow: "↪",
            hopf: "𝕙",
            Hopf: "ℍ",
            horbar: "―",
            HorizontalLine: "─",
            hscr: "𝒽",
            Hscr: "ℋ",
            hslash: "ℏ",
            hstrok: "ħ",
            Hstrok: "Ħ",
            HumpDownHump: "≎",
            HumpEqual: "≏",
            hybull: "⁃",
            hyphen: "‐",
            iacute: "í",
            Iacute: "Í",
            ic: "⁣",
            icirc: "î",
            Icirc: "Î",
            icy: "и",
            Icy: "И",
            Idot: "İ",
            iecy: "е",
            IEcy: "Е",
            iexcl: "¡",
            iff: "⇔",
            ifr: "𝔦",
            Ifr: "ℑ",
            igrave: "ì",
            Igrave: "Ì",
            ii: "ⅈ",
            iiiint: "⨌",
            iiint: "∭",
            iinfin: "⧜",
            iiota: "℩",
            ijlig: "ĳ",
            IJlig: "Ĳ",
            Im: "ℑ",
            imacr: "ī",
            Imacr: "Ī",
            image: "ℑ",
            ImaginaryI: "ⅈ",
            imagline: "ℐ",
            imagpart: "ℑ",
            imath: "ı",
            imof: "⊷",
            imped: "Ƶ",
            Implies: "⇒",
            in: "∈",
            incare: "℅",
            infin: "∞",
            infintie: "⧝",
            inodot: "ı",
            int: "∫",
            Int: "∬",
            intcal: "⊺",
            integers: "ℤ",
            Integral: "∫",
            intercal: "⊺",
            Intersection: "⋂",
            intlarhk: "⨗",
            intprod: "⨼",
            InvisibleComma: "⁣",
            InvisibleTimes: "⁢",
            iocy: "ё",
            IOcy: "Ё",
            iogon: "į",
            Iogon: "Į",
            iopf: "𝕚",
            Iopf: "𝕀",
            iota: "ι",
            Iota: "Ι",
            iprod: "⨼",
            iquest: "¿",
            iscr: "𝒾",
            Iscr: "ℐ",
            isin: "∈",
            isindot: "⋵",
            isinE: "⋹",
            isins: "⋴",
            isinsv: "⋳",
            isinv: "∈",
            it: "⁢",
            itilde: "ĩ",
            Itilde: "Ĩ",
            iukcy: "і",
            Iukcy: "І",
            iuml: "ï",
            Iuml: "Ï",
            jcirc: "ĵ",
            Jcirc: "Ĵ",
            jcy: "й",
            Jcy: "Й",
            jfr: "𝔧",
            Jfr: "𝔍",
            jmath: "ȷ",
            jopf: "𝕛",
            Jopf: "𝕁",
            jscr: "𝒿",
            Jscr: "𝒥",
            jsercy: "ј",
            Jsercy: "Ј",
            jukcy: "є",
            Jukcy: "Є",
            kappa: "κ",
            Kappa: "Κ",
            kappav: "ϰ",
            kcedil: "ķ",
            Kcedil: "Ķ",
            kcy: "к",
            Kcy: "К",
            kfr: "𝔨",
            Kfr: "𝔎",
            kgreen: "ĸ",
            khcy: "х",
            KHcy: "Х",
            kjcy: "ќ",
            KJcy: "Ќ",
            kopf: "𝕜",
            Kopf: "𝕂",
            kscr: "𝓀",
            Kscr: "𝒦",
            lAarr: "⇚",
            lacute: "ĺ",
            Lacute: "Ĺ",
            laemptyv: "⦴",
            lagran: "ℒ",
            lambda: "λ",
            Lambda: "Λ",
            lang: "⟨",
            Lang: "⟪",
            langd: "⦑",
            langle: "⟨",
            lap: "⪅",
            Laplacetrf: "ℒ",
            laquo: "«",
            larr: "←",
            lArr: "⇐",
            Larr: "↞",
            larrb: "⇤",
            larrbfs: "⤟",
            larrfs: "⤝",
            larrhk: "↩",
            larrlp: "↫",
            larrpl: "⤹",
            larrsim: "⥳",
            larrtl: "↢",
            lat: "⪫",
            latail: "⤙",
            lAtail: "⤛",
            late: "⪭",
            lates: "⪭︀",
            lbarr: "⤌",
            lBarr: "⤎",
            lbbrk: "❲",
            lbrace: "{",
            lbrack: "[",
            lbrke: "⦋",
            lbrksld: "⦏",
            lbrkslu: "⦍",
            lcaron: "ľ",
            Lcaron: "Ľ",
            lcedil: "ļ",
            Lcedil: "Ļ",
            lceil: "⌈",
            lcub: "{",
            lcy: "л",
            Lcy: "Л",
            ldca: "⤶",
            ldquo: "“",
            ldquor: "„",
            ldrdhar: "⥧",
            ldrushar: "⥋",
            ldsh: "↲",
            le: "≤",
            lE: "≦",
            LeftAngleBracket: "⟨",
            leftarrow: "←",
            Leftarrow: "⇐",
            LeftArrow: "←",
            LeftArrowBar: "⇤",
            LeftArrowRightArrow: "⇆",
            leftarrowtail: "↢",
            LeftCeiling: "⌈",
            LeftDoubleBracket: "⟦",
            LeftDownTeeVector: "⥡",
            LeftDownVector: "⇃",
            LeftDownVectorBar: "⥙",
            LeftFloor: "⌊",
            leftharpoondown: "↽",
            leftharpoonup: "↼",
            leftleftarrows: "⇇",
            leftrightarrow: "↔",
            Leftrightarrow: "⇔",
            LeftRightArrow: "↔",
            leftrightarrows: "⇆",
            leftrightharpoons: "⇋",
            leftrightsquigarrow: "↭",
            LeftRightVector: "⥎",
            LeftTee: "⊣",
            LeftTeeArrow: "↤",
            LeftTeeVector: "⥚",
            leftthreetimes: "⋋",
            LeftTriangle: "⊲",
            LeftTriangleBar: "⧏",
            LeftTriangleEqual: "⊴",
            LeftUpDownVector: "⥑",
            LeftUpTeeVector: "⥠",
            LeftUpVector: "↿",
            LeftUpVectorBar: "⥘",
            LeftVector: "↼",
            LeftVectorBar: "⥒",
            leg: "⋚",
            lEg: "⪋",
            leq: "≤",
            leqq: "≦",
            leqslant: "⩽",
            les: "⩽",
            lescc: "⪨",
            lesdot: "⩿",
            lesdoto: "⪁",
            lesdotor: "⪃",
            lesg: "⋚︀",
            lesges: "⪓",
            lessapprox: "⪅",
            lessdot: "⋖",
            lesseqgtr: "⋚",
            lesseqqgtr: "⪋",
            LessEqualGreater: "⋚",
            LessFullEqual: "≦",
            LessGreater: "≶",
            lessgtr: "≶",
            LessLess: "⪡",
            lesssim: "≲",
            LessSlantEqual: "⩽",
            LessTilde: "≲",
            lfisht: "⥼",
            lfloor: "⌊",
            lfr: "𝔩",
            Lfr: "𝔏",
            lg: "≶",
            lgE: "⪑",
            lHar: "⥢",
            lhard: "↽",
            lharu: "↼",
            lharul: "⥪",
            lhblk: "▄",
            ljcy: "љ",
            LJcy: "Љ",
            ll: "≪",
            Ll: "⋘",
            llarr: "⇇",
            llcorner: "⌞",
            Lleftarrow: "⇚",
            llhard: "⥫",
            lltri: "◺",
            lmidot: "ŀ",
            Lmidot: "Ŀ",
            lmoust: "⎰",
            lmoustache: "⎰",
            lnap: "⪉",
            lnapprox: "⪉",
            lne: "⪇",
            lnE: "≨",
            lneq: "⪇",
            lneqq: "≨",
            lnsim: "⋦",
            loang: "⟬",
            loarr: "⇽",
            lobrk: "⟦",
            longleftarrow: "⟵",
            Longleftarrow: "⟸",
            LongLeftArrow: "⟵",
            longleftrightarrow: "⟷",
            Longleftrightarrow: "⟺",
            LongLeftRightArrow: "⟷",
            longmapsto: "⟼",
            longrightarrow: "⟶",
            Longrightarrow: "⟹",
            LongRightArrow: "⟶",
            looparrowleft: "↫",
            looparrowright: "↬",
            lopar: "⦅",
            lopf: "𝕝",
            Lopf: "𝕃",
            loplus: "⨭",
            lotimes: "⨴",
            lowast: "∗",
            lowbar: "_",
            LowerLeftArrow: "↙",
            LowerRightArrow: "↘",
            loz: "◊",
            lozenge: "◊",
            lozf: "⧫",
            lpar: "(",
            lparlt: "⦓",
            lrarr: "⇆",
            lrcorner: "⌟",
            lrhar: "⇋",
            lrhard: "⥭",
            lrm: "‎",
            lrtri: "⊿",
            lsaquo: "‹",
            lscr: "𝓁",
            Lscr: "ℒ",
            lsh: "↰",
            Lsh: "↰",
            lsim: "≲",
            lsime: "⪍",
            lsimg: "⪏",
            lsqb: "[",
            lsquo: "‘",
            lsquor: "‚",
            lstrok: "ł",
            Lstrok: "Ł",
            lt: "<",
            Lt: "≪",
            LT: "<",
            ltcc: "⪦",
            ltcir: "⩹",
            ltdot: "⋖",
            lthree: "⋋",
            ltimes: "⋉",
            ltlarr: "⥶",
            ltquest: "⩻",
            ltri: "◃",
            ltrie: "⊴",
            ltrif: "◂",
            ltrPar: "⦖",
            lurdshar: "⥊",
            luruhar: "⥦",
            lvertneqq: "≨︀",
            lvnE: "≨︀",
            macr: "¯",
            male: "♂",
            malt: "✠",
            maltese: "✠",
            map: "↦",
            Map: "⤅",
            mapsto: "↦",
            mapstodown: "↧",
            mapstoleft: "↤",
            mapstoup: "↥",
            marker: "▮",
            mcomma: "⨩",
            mcy: "м",
            Mcy: "М",
            mdash: "—",
            mDDot: "∺",
            measuredangle: "∡",
            MediumSpace: " ",
            Mellintrf: "ℳ",
            mfr: "𝔪",
            Mfr: "𝔐",
            mho: "℧",
            micro: "µ",
            mid: "∣",
            midast: "*",
            midcir: "⫰",
            middot: "·",
            minus: "−",
            minusb: "⊟",
            minusd: "∸",
            minusdu: "⨪",
            MinusPlus: "∓",
            mlcp: "⫛",
            mldr: "…",
            mnplus: "∓",
            models: "⊧",
            mopf: "𝕞",
            Mopf: "𝕄",
            mp: "∓",
            mscr: "𝓂",
            Mscr: "ℳ",
            mstpos: "∾",
            mu: "μ",
            Mu: "Μ",
            multimap: "⊸",
            mumap: "⊸",
            nabla: "∇",
            nacute: "ń",
            Nacute: "Ń",
            nang: "∠⃒",
            nap: "≉",
            napE: "⩰̸",
            napid: "≋̸",
            napos: "ŉ",
            napprox: "≉",
            natur: "♮",
            natural: "♮",
            naturals: "ℕ",
            nbsp: " ",
            nbump: "≎̸",
            nbumpe: "≏̸",
            ncap: "⩃",
            ncaron: "ň",
            Ncaron: "Ň",
            ncedil: "ņ",
            Ncedil: "Ņ",
            ncong: "≇",
            ncongdot: "⩭̸",
            ncup: "⩂",
            ncy: "н",
            Ncy: "Н",
            ndash: "–",
            ne: "≠",
            nearhk: "⤤",
            nearr: "↗",
            neArr: "⇗",
            nearrow: "↗",
            nedot: "≐̸",
            NegativeMediumSpace: "​",
            NegativeThickSpace: "​",
            NegativeThinSpace: "​",
            NegativeVeryThinSpace: "​",
            nequiv: "≢",
            nesear: "⤨",
            nesim: "≂̸",
            NestedGreaterGreater: "≫",
            NestedLessLess: "≪",
            NewLine: "\n",
            nexist: "∄",
            nexists: "∄",
            nfr: "𝔫",
            Nfr: "𝔑",
            nge: "≱",
            ngE: "≧̸",
            ngeq: "≱",
            ngeqq: "≧̸",
            ngeqslant: "⩾̸",
            nges: "⩾̸",
            nGg: "⋙̸",
            ngsim: "≵",
            ngt: "≯",
            nGt: "≫⃒",
            ngtr: "≯",
            nGtv: "≫̸",
            nharr: "↮",
            nhArr: "⇎",
            nhpar: "⫲",
            ni: "∋",
            nis: "⋼",
            nisd: "⋺",
            niv: "∋",
            njcy: "њ",
            NJcy: "Њ",
            nlarr: "↚",
            nlArr: "⇍",
            nldr: "‥",
            nle: "≰",
            nlE: "≦̸",
            nleftarrow: "↚",
            nLeftarrow: "⇍",
            nleftrightarrow: "↮",
            nLeftrightarrow: "⇎",
            nleq: "≰",
            nleqq: "≦̸",
            nleqslant: "⩽̸",
            nles: "⩽̸",
            nless: "≮",
            nLl: "⋘̸",
            nlsim: "≴",
            nlt: "≮",
            nLt: "≪⃒",
            nltri: "⋪",
            nltrie: "⋬",
            nLtv: "≪̸",
            nmid: "∤",
            NoBreak: "⁠",
            NonBreakingSpace: " ",
            nopf: "𝕟",
            Nopf: "ℕ",
            not: "¬",
            Not: "⫬",
            NotCongruent: "≢",
            NotCupCap: "≭",
            NotDoubleVerticalBar: "∦",
            NotElement: "∉",
            NotEqual: "≠",
            NotEqualTilde: "≂̸",
            NotExists: "∄",
            NotGreater: "≯",
            NotGreaterEqual: "≱",
            NotGreaterFullEqual: "≧̸",
            NotGreaterGreater: "≫̸",
            NotGreaterLess: "≹",
            NotGreaterSlantEqual: "⩾̸",
            NotGreaterTilde: "≵",
            NotHumpDownHump: "≎̸",
            NotHumpEqual: "≏̸",
            notin: "∉",
            notindot: "⋵̸",
            notinE: "⋹̸",
            notinva: "∉",
            notinvb: "⋷",
            notinvc: "⋶",
            NotLeftTriangle: "⋪",
            NotLeftTriangleBar: "⧏̸",
            NotLeftTriangleEqual: "⋬",
            NotLess: "≮",
            NotLessEqual: "≰",
            NotLessGreater: "≸",
            NotLessLess: "≪̸",
            NotLessSlantEqual: "⩽̸",
            NotLessTilde: "≴",
            NotNestedGreaterGreater: "⪢̸",
            NotNestedLessLess: "⪡̸",
            notni: "∌",
            notniva: "∌",
            notnivb: "⋾",
            notnivc: "⋽",
            NotPrecedes: "⊀",
            NotPrecedesEqual: "⪯̸",
            NotPrecedesSlantEqual: "⋠",
            NotReverseElement: "∌",
            NotRightTriangle: "⋫",
            NotRightTriangleBar: "⧐̸",
            NotRightTriangleEqual: "⋭",
            NotSquareSubset: "⊏̸",
            NotSquareSubsetEqual: "⋢",
            NotSquareSuperset: "⊐̸",
            NotSquareSupersetEqual: "⋣",
            NotSubset: "⊂⃒",
            NotSubsetEqual: "⊈",
            NotSucceeds: "⊁",
            NotSucceedsEqual: "⪰̸",
            NotSucceedsSlantEqual: "⋡",
            NotSucceedsTilde: "≿̸",
            NotSuperset: "⊃⃒",
            NotSupersetEqual: "⊉",
            NotTilde: "≁",
            NotTildeEqual: "≄",
            NotTildeFullEqual: "≇",
            NotTildeTilde: "≉",
            NotVerticalBar: "∤",
            npar: "∦",
            nparallel: "∦",
            nparsl: "⫽⃥",
            npart: "∂̸",
            npolint: "⨔",
            npr: "⊀",
            nprcue: "⋠",
            npre: "⪯̸",
            nprec: "⊀",
            npreceq: "⪯̸",
            nrarr: "↛",
            nrArr: "⇏",
            nrarrc: "⤳̸",
            nrarrw: "↝̸",
            nrightarrow: "↛",
            nRightarrow: "⇏",
            nrtri: "⋫",
            nrtrie: "⋭",
            nsc: "⊁",
            nsccue: "⋡",
            nsce: "⪰̸",
            nscr: "𝓃",
            Nscr: "𝒩",
            nshortmid: "∤",
            nshortparallel: "∦",
            nsim: "≁",
            nsime: "≄",
            nsimeq: "≄",
            nsmid: "∤",
            nspar: "∦",
            nsqsube: "⋢",
            nsqsupe: "⋣",
            nsub: "⊄",
            nsube: "⊈",
            nsubE: "⫅̸",
            nsubset: "⊂⃒",
            nsubseteq: "⊈",
            nsubseteqq: "⫅̸",
            nsucc: "⊁",
            nsucceq: "⪰̸",
            nsup: "⊅",
            nsupe: "⊉",
            nsupE: "⫆̸",
            nsupset: "⊃⃒",
            nsupseteq: "⊉",
            nsupseteqq: "⫆̸",
            ntgl: "≹",
            ntilde: "ñ",
            Ntilde: "Ñ",
            ntlg: "≸",
            ntriangleleft: "⋪",
            ntrianglelefteq: "⋬",
            ntriangleright: "⋫",
            ntrianglerighteq: "⋭",
            nu: "ν",
            Nu: "Ν",
            num: "#",
            numero: "№",
            numsp: " ",
            nvap: "≍⃒",
            nvdash: "⊬",
            nvDash: "⊭",
            nVdash: "⊮",
            nVDash: "⊯",
            nvge: "≥⃒",
            nvgt: ">⃒",
            nvHarr: "⤄",
            nvinfin: "⧞",
            nvlArr: "⤂",
            nvle: "≤⃒",
            nvlt: "<⃒",
            nvltrie: "⊴⃒",
            nvrArr: "⤃",
            nvrtrie: "⊵⃒",
            nvsim: "∼⃒",
            nwarhk: "⤣",
            nwarr: "↖",
            nwArr: "⇖",
            nwarrow: "↖",
            nwnear: "⤧",
            oacute: "ó",
            Oacute: "Ó",
            oast: "⊛",
            ocir: "⊚",
            ocirc: "ô",
            Ocirc: "Ô",
            ocy: "о",
            Ocy: "О",
            odash: "⊝",
            odblac: "ő",
            Odblac: "Ő",
            odiv: "⨸",
            odot: "⊙",
            odsold: "⦼",
            oelig: "œ",
            OElig: "Œ",
            ofcir: "⦿",
            ofr: "𝔬",
            Ofr: "𝔒",
            ogon: "˛",
            ograve: "ò",
            Ograve: "Ò",
            ogt: "⧁",
            ohbar: "⦵",
            ohm: "Ω",
            oint: "∮",
            olarr: "↺",
            olcir: "⦾",
            olcross: "⦻",
            oline: "‾",
            olt: "⧀",
            omacr: "ō",
            Omacr: "Ō",
            omega: "ω",
            Omega: "Ω",
            omicron: "ο",
            Omicron: "Ο",
            omid: "⦶",
            ominus: "⊖",
            oopf: "𝕠",
            Oopf: "𝕆",
            opar: "⦷",
            OpenCurlyDoubleQuote: "“",
            OpenCurlyQuote: "‘",
            operp: "⦹",
            oplus: "⊕",
            or: "∨",
            Or: "⩔",
            orarr: "↻",
            ord: "⩝",
            order: "ℴ",
            orderof: "ℴ",
            ordf: "ª",
            ordm: "º",
            origof: "⊶",
            oror: "⩖",
            orslope: "⩗",
            orv: "⩛",
            oS: "Ⓢ",
            oscr: "ℴ",
            Oscr: "𝒪",
            oslash: "ø",
            Oslash: "Ø",
            osol: "⊘",
            otilde: "õ",
            Otilde: "Õ",
            otimes: "⊗",
            Otimes: "⨷",
            otimesas: "⨶",
            ouml: "ö",
            Ouml: "Ö",
            ovbar: "⌽",
            OverBar: "‾",
            OverBrace: "⏞",
            OverBracket: "⎴",
            OverParenthesis: "⏜",
            par: "∥",
            para: "¶",
            parallel: "∥",
            parsim: "⫳",
            parsl: "⫽",
            part: "∂",
            PartialD: "∂",
            pcy: "п",
            Pcy: "П",
            percnt: "%",
            period: ".",
            permil: "‰",
            perp: "⊥",
            pertenk: "‱",
            pfr: "𝔭",
            Pfr: "𝔓",
            phi: "φ",
            Phi: "Φ",
            phiv: "ϕ",
            phmmat: "ℳ",
            phone: "☎",
            pi: "π",
            Pi: "Π",
            pitchfork: "⋔",
            piv: "ϖ",
            planck: "ℏ",
            planckh: "ℎ",
            plankv: "ℏ",
            plus: "+",
            plusacir: "⨣",
            plusb: "⊞",
            pluscir: "⨢",
            plusdo: "∔",
            plusdu: "⨥",
            pluse: "⩲",
            PlusMinus: "±",
            plusmn: "±",
            plussim: "⨦",
            plustwo: "⨧",
            pm: "±",
            Poincareplane: "ℌ",
            pointint: "⨕",
            popf: "𝕡",
            Popf: "ℙ",
            pound: "£",
            pr: "≺",
            Pr: "⪻",
            prap: "⪷",
            prcue: "≼",
            pre: "⪯",
            prE: "⪳",
            prec: "≺",
            precapprox: "⪷",
            preccurlyeq: "≼",
            Precedes: "≺",
            PrecedesEqual: "⪯",
            PrecedesSlantEqual: "≼",
            PrecedesTilde: "≾",
            preceq: "⪯",
            precnapprox: "⪹",
            precneqq: "⪵",
            precnsim: "⋨",
            precsim: "≾",
            prime: "′",
            Prime: "″",
            primes: "ℙ",
            prnap: "⪹",
            prnE: "⪵",
            prnsim: "⋨",
            prod: "∏",
            Product: "∏",
            profalar: "⌮",
            profline: "⌒",
            profsurf: "⌓",
            prop: "∝",
            Proportion: "∷",
            Proportional: "∝",
            propto: "∝",
            prsim: "≾",
            prurel: "⊰",
            pscr: "𝓅",
            Pscr: "𝒫",
            psi: "ψ",
            Psi: "Ψ",
            puncsp: " ",
            qfr: "𝔮",
            Qfr: "𝔔",
            qint: "⨌",
            qopf: "𝕢",
            Qopf: "ℚ",
            qprime: "⁗",
            qscr: "𝓆",
            Qscr: "𝒬",
            quaternions: "ℍ",
            quatint: "⨖",
            quest: "?",
            questeq: "≟",
            quot: '"',
            QUOT: '"',
            rAarr: "⇛",
            race: "∽̱",
            racute: "ŕ",
            Racute: "Ŕ",
            radic: "√",
            raemptyv: "⦳",
            rang: "⟩",
            Rang: "⟫",
            rangd: "⦒",
            range: "⦥",
            rangle: "⟩",
            raquo: "»",
            rarr: "→",
            rArr: "⇒",
            Rarr: "↠",
            rarrap: "⥵",
            rarrb: "⇥",
            rarrbfs: "⤠",
            rarrc: "⤳",
            rarrfs: "⤞",
            rarrhk: "↪",
            rarrlp: "↬",
            rarrpl: "⥅",
            rarrsim: "⥴",
            rarrtl: "↣",
            Rarrtl: "⤖",
            rarrw: "↝",
            ratail: "⤚",
            rAtail: "⤜",
            ratio: "∶",
            rationals: "ℚ",
            rbarr: "⤍",
            rBarr: "⤏",
            RBarr: "⤐",
            rbbrk: "❳",
            rbrace: "}",
            rbrack: "]",
            rbrke: "⦌",
            rbrksld: "⦎",
            rbrkslu: "⦐",
            rcaron: "ř",
            Rcaron: "Ř",
            rcedil: "ŗ",
            Rcedil: "Ŗ",
            rceil: "⌉",
            rcub: "}",
            rcy: "р",
            Rcy: "Р",
            rdca: "⤷",
            rdldhar: "⥩",
            rdquo: "”",
            rdquor: "”",
            rdsh: "↳",
            Re: "ℜ",
            real: "ℜ",
            realine: "ℛ",
            realpart: "ℜ",
            reals: "ℝ",
            rect: "▭",
            reg: "®",
            REG: "®",
            ReverseElement: "∋",
            ReverseEquilibrium: "⇋",
            ReverseUpEquilibrium: "⥯",
            rfisht: "⥽",
            rfloor: "⌋",
            rfr: "𝔯",
            Rfr: "ℜ",
            rHar: "⥤",
            rhard: "⇁",
            rharu: "⇀",
            rharul: "⥬",
            rho: "ρ",
            Rho: "Ρ",
            rhov: "ϱ",
            RightAngleBracket: "⟩",
            rightarrow: "→",
            Rightarrow: "⇒",
            RightArrow: "→",
            RightArrowBar: "⇥",
            RightArrowLeftArrow: "⇄",
            rightarrowtail: "↣",
            RightCeiling: "⌉",
            RightDoubleBracket: "⟧",
            RightDownTeeVector: "⥝",
            RightDownVector: "⇂",
            RightDownVectorBar: "⥕",
            RightFloor: "⌋",
            rightharpoondown: "⇁",
            rightharpoonup: "⇀",
            rightleftarrows: "⇄",
            rightleftharpoons: "⇌",
            rightrightarrows: "⇉",
            rightsquigarrow: "↝",
            RightTee: "⊢",
            RightTeeArrow: "↦",
            RightTeeVector: "⥛",
            rightthreetimes: "⋌",
            RightTriangle: "⊳",
            RightTriangleBar: "⧐",
            RightTriangleEqual: "⊵",
            RightUpDownVector: "⥏",
            RightUpTeeVector: "⥜",
            RightUpVector: "↾",
            RightUpVectorBar: "⥔",
            RightVector: "⇀",
            RightVectorBar: "⥓",
            ring: "˚",
            risingdotseq: "≓",
            rlarr: "⇄",
            rlhar: "⇌",
            rlm: "‏",
            rmoust: "⎱",
            rmoustache: "⎱",
            rnmid: "⫮",
            roang: "⟭",
            roarr: "⇾",
            robrk: "⟧",
            ropar: "⦆",
            ropf: "𝕣",
            Ropf: "ℝ",
            roplus: "⨮",
            rotimes: "⨵",
            RoundImplies: "⥰",
            rpar: ")",
            rpargt: "⦔",
            rppolint: "⨒",
            rrarr: "⇉",
            Rrightarrow: "⇛",
            rsaquo: "›",
            rscr: "𝓇",
            Rscr: "ℛ",
            rsh: "↱",
            Rsh: "↱",
            rsqb: "]",
            rsquo: "’",
            rsquor: "’",
            rthree: "⋌",
            rtimes: "⋊",
            rtri: "▹",
            rtrie: "⊵",
            rtrif: "▸",
            rtriltri: "⧎",
            RuleDelayed: "⧴",
            ruluhar: "⥨",
            rx: "℞",
            sacute: "ś",
            Sacute: "Ś",
            sbquo: "‚",
            sc: "≻",
            Sc: "⪼",
            scap: "⪸",
            scaron: "š",
            Scaron: "Š",
            sccue: "≽",
            sce: "⪰",
            scE: "⪴",
            scedil: "ş",
            Scedil: "Ş",
            scirc: "ŝ",
            Scirc: "Ŝ",
            scnap: "⪺",
            scnE: "⪶",
            scnsim: "⋩",
            scpolint: "⨓",
            scsim: "≿",
            scy: "с",
            Scy: "С",
            sdot: "⋅",
            sdotb: "⊡",
            sdote: "⩦",
            searhk: "⤥",
            searr: "↘",
            seArr: "⇘",
            searrow: "↘",
            sect: "§",
            semi: ";",
            seswar: "⤩",
            setminus: "∖",
            setmn: "∖",
            sext: "✶",
            sfr: "𝔰",
            Sfr: "𝔖",
            sfrown: "⌢",
            sharp: "♯",
            shchcy: "щ",
            SHCHcy: "Щ",
            shcy: "ш",
            SHcy: "Ш",
            ShortDownArrow: "↓",
            ShortLeftArrow: "←",
            shortmid: "∣",
            shortparallel: "∥",
            ShortRightArrow: "→",
            ShortUpArrow: "↑",
            shy: "­",
            sigma: "σ",
            Sigma: "Σ",
            sigmaf: "ς",
            sigmav: "ς",
            sim: "∼",
            simdot: "⩪",
            sime: "≃",
            simeq: "≃",
            simg: "⪞",
            simgE: "⪠",
            siml: "⪝",
            simlE: "⪟",
            simne: "≆",
            simplus: "⨤",
            simrarr: "⥲",
            slarr: "←",
            SmallCircle: "∘",
            smallsetminus: "∖",
            smashp: "⨳",
            smeparsl: "⧤",
            smid: "∣",
            smile: "⌣",
            smt: "⪪",
            smte: "⪬",
            smtes: "⪬︀",
            softcy: "ь",
            SOFTcy: "Ь",
            sol: "/",
            solb: "⧄",
            solbar: "⌿",
            sopf: "𝕤",
            Sopf: "𝕊",
            spades: "♠",
            spadesuit: "♠",
            spar: "∥",
            sqcap: "⊓",
            sqcaps: "⊓︀",
            sqcup: "⊔",
            sqcups: "⊔︀",
            Sqrt: "√",
            sqsub: "⊏",
            sqsube: "⊑",
            sqsubset: "⊏",
            sqsubseteq: "⊑",
            sqsup: "⊐",
            sqsupe: "⊒",
            sqsupset: "⊐",
            sqsupseteq: "⊒",
            squ: "□",
            square: "□",
            Square: "□",
            SquareIntersection: "⊓",
            SquareSubset: "⊏",
            SquareSubsetEqual: "⊑",
            SquareSuperset: "⊐",
            SquareSupersetEqual: "⊒",
            SquareUnion: "⊔",
            squarf: "▪",
            squf: "▪",
            srarr: "→",
            sscr: "𝓈",
            Sscr: "𝒮",
            ssetmn: "∖",
            ssmile: "⌣",
            sstarf: "⋆",
            star: "☆",
            Star: "⋆",
            starf: "★",
            straightepsilon: "ϵ",
            straightphi: "ϕ",
            strns: "¯",
            sub: "⊂",
            Sub: "⋐",
            subdot: "⪽",
            sube: "⊆",
            subE: "⫅",
            subedot: "⫃",
            submult: "⫁",
            subne: "⊊",
            subnE: "⫋",
            subplus: "⪿",
            subrarr: "⥹",
            subset: "⊂",
            Subset: "⋐",
            subseteq: "⊆",
            subseteqq: "⫅",
            SubsetEqual: "⊆",
            subsetneq: "⊊",
            subsetneqq: "⫋",
            subsim: "⫇",
            subsub: "⫕",
            subsup: "⫓",
            succ: "≻",
            succapprox: "⪸",
            succcurlyeq: "≽",
            Succeeds: "≻",
            SucceedsEqual: "⪰",
            SucceedsSlantEqual: "≽",
            SucceedsTilde: "≿",
            succeq: "⪰",
            succnapprox: "⪺",
            succneqq: "⪶",
            succnsim: "⋩",
            succsim: "≿",
            SuchThat: "∋",
            sum: "∑",
            Sum: "∑",
            sung: "♪",
            sup: "⊃",
            Sup: "⋑",
            sup1: "¹",
            sup2: "²",
            sup3: "³",
            supdot: "⪾",
            supdsub: "⫘",
            supe: "⊇",
            supE: "⫆",
            supedot: "⫄",
            Superset: "⊃",
            SupersetEqual: "⊇",
            suphsol: "⟉",
            suphsub: "⫗",
            suplarr: "⥻",
            supmult: "⫂",
            supne: "⊋",
            supnE: "⫌",
            supplus: "⫀",
            supset: "⊃",
            Supset: "⋑",
            supseteq: "⊇",
            supseteqq: "⫆",
            supsetneq: "⊋",
            supsetneqq: "⫌",
            supsim: "⫈",
            supsub: "⫔",
            supsup: "⫖",
            swarhk: "⤦",
            swarr: "↙",
            swArr: "⇙",
            swarrow: "↙",
            swnwar: "⤪",
            szlig: "ß",
            Tab: "\t",
            target: "⌖",
            tau: "τ",
            Tau: "Τ",
            tbrk: "⎴",
            tcaron: "ť",
            Tcaron: "Ť",
            tcedil: "ţ",
            Tcedil: "Ţ",
            tcy: "т",
            Tcy: "Т",
            tdot: "⃛",
            telrec: "⌕",
            tfr: "𝔱",
            Tfr: "𝔗",
            there4: "∴",
            therefore: "∴",
            Therefore: "∴",
            theta: "θ",
            Theta: "Θ",
            thetasym: "ϑ",
            thetav: "ϑ",
            thickapprox: "≈",
            thicksim: "∼",
            ThickSpace: "  ",
            thinsp: " ",
            ThinSpace: " ",
            thkap: "≈",
            thksim: "∼",
            thorn: "þ",
            THORN: "Þ",
            tilde: "˜",
            Tilde: "∼",
            TildeEqual: "≃",
            TildeFullEqual: "≅",
            TildeTilde: "≈",
            times: "×",
            timesb: "⊠",
            timesbar: "⨱",
            timesd: "⨰",
            tint: "∭",
            toea: "⤨",
            top: "⊤",
            topbot: "⌶",
            topcir: "⫱",
            topf: "𝕥",
            Topf: "𝕋",
            topfork: "⫚",
            tosa: "⤩",
            tprime: "‴",
            trade: "™",
            TRADE: "™",
            triangle: "▵",
            triangledown: "▿",
            triangleleft: "◃",
            trianglelefteq: "⊴",
            triangleq: "≜",
            triangleright: "▹",
            trianglerighteq: "⊵",
            tridot: "◬",
            trie: "≜",
            triminus: "⨺",
            TripleDot: "⃛",
            triplus: "⨹",
            trisb: "⧍",
            tritime: "⨻",
            trpezium: "⏢",
            tscr: "𝓉",
            Tscr: "𝒯",
            tscy: "ц",
            TScy: "Ц",
            tshcy: "ћ",
            TSHcy: "Ћ",
            tstrok: "ŧ",
            Tstrok: "Ŧ",
            twixt: "≬",
            twoheadleftarrow: "↞",
            twoheadrightarrow: "↠",
            uacute: "ú",
            Uacute: "Ú",
            uarr: "↑",
            uArr: "⇑",
            Uarr: "↟",
            Uarrocir: "⥉",
            ubrcy: "ў",
            Ubrcy: "Ў",
            ubreve: "ŭ",
            Ubreve: "Ŭ",
            ucirc: "û",
            Ucirc: "Û",
            ucy: "у",
            Ucy: "У",
            udarr: "⇅",
            udblac: "ű",
            Udblac: "Ű",
            udhar: "⥮",
            ufisht: "⥾",
            ufr: "𝔲",
            Ufr: "𝔘",
            ugrave: "ù",
            Ugrave: "Ù",
            uHar: "⥣",
            uharl: "↿",
            uharr: "↾",
            uhblk: "▀",
            ulcorn: "⌜",
            ulcorner: "⌜",
            ulcrop: "⌏",
            ultri: "◸",
            umacr: "ū",
            Umacr: "Ū",
            uml: "¨",
            UnderBar: "_",
            UnderBrace: "⏟",
            UnderBracket: "⎵",
            UnderParenthesis: "⏝",
            Union: "⋃",
            UnionPlus: "⊎",
            uogon: "ų",
            Uogon: "Ų",
            uopf: "𝕦",
            Uopf: "𝕌",
            uparrow: "↑",
            Uparrow: "⇑",
            UpArrow: "↑",
            UpArrowBar: "⤒",
            UpArrowDownArrow: "⇅",
            updownarrow: "↕",
            Updownarrow: "⇕",
            UpDownArrow: "↕",
            UpEquilibrium: "⥮",
            upharpoonleft: "↿",
            upharpoonright: "↾",
            uplus: "⊎",
            UpperLeftArrow: "↖",
            UpperRightArrow: "↗",
            upsi: "υ",
            Upsi: "ϒ",
            upsih: "ϒ",
            upsilon: "υ",
            Upsilon: "Υ",
            UpTee: "⊥",
            UpTeeArrow: "↥",
            upuparrows: "⇈",
            urcorn: "⌝",
            urcorner: "⌝",
            urcrop: "⌎",
            uring: "ů",
            Uring: "Ů",
            urtri: "◹",
            uscr: "𝓊",
            Uscr: "𝒰",
            utdot: "⋰",
            utilde: "ũ",
            Utilde: "Ũ",
            utri: "▵",
            utrif: "▴",
            uuarr: "⇈",
            uuml: "ü",
            Uuml: "Ü",
            uwangle: "⦧",
            vangrt: "⦜",
            varepsilon: "ϵ",
            varkappa: "ϰ",
            varnothing: "∅",
            varphi: "ϕ",
            varpi: "ϖ",
            varpropto: "∝",
            varr: "↕",
            vArr: "⇕",
            varrho: "ϱ",
            varsigma: "ς",
            varsubsetneq: "⊊︀",
            varsubsetneqq: "⫋︀",
            varsupsetneq: "⊋︀",
            varsupsetneqq: "⫌︀",
            vartheta: "ϑ",
            vartriangleleft: "⊲",
            vartriangleright: "⊳",
            vBar: "⫨",
            Vbar: "⫫",
            vBarv: "⫩",
            vcy: "в",
            Vcy: "В",
            vdash: "⊢",
            vDash: "⊨",
            Vdash: "⊩",
            VDash: "⊫",
            Vdashl: "⫦",
            vee: "∨",
            Vee: "⋁",
            veebar: "⊻",
            veeeq: "≚",
            vellip: "⋮",
            verbar: "|",
            Verbar: "‖",
            vert: "|",
            Vert: "‖",
            VerticalBar: "∣",
            VerticalLine: "|",
            VerticalSeparator: "❘",
            VerticalTilde: "≀",
            VeryThinSpace: " ",
            vfr: "𝔳",
            Vfr: "𝔙",
            vltri: "⊲",
            vnsub: "⊂⃒",
            vnsup: "⊃⃒",
            vopf: "𝕧",
            Vopf: "𝕍",
            vprop: "∝",
            vrtri: "⊳",
            vscr: "𝓋",
            Vscr: "𝒱",
            vsubne: "⊊︀",
            vsubnE: "⫋︀",
            vsupne: "⊋︀",
            vsupnE: "⫌︀",
            Vvdash: "⊪",
            vzigzag: "⦚",
            wcirc: "ŵ",
            Wcirc: "Ŵ",
            wedbar: "⩟",
            wedge: "∧",
            Wedge: "⋀",
            wedgeq: "≙",
            weierp: "℘",
            wfr: "𝔴",
            Wfr: "𝔚",
            wopf: "𝕨",
            Wopf: "𝕎",
            wp: "℘",
            wr: "≀",
            wreath: "≀",
            wscr: "𝓌",
            Wscr: "𝒲",
            xcap: "⋂",
            xcirc: "◯",
            xcup: "⋃",
            xdtri: "▽",
            xfr: "𝔵",
            Xfr: "𝔛",
            xharr: "⟷",
            xhArr: "⟺",
            xi: "ξ",
            Xi: "Ξ",
            xlarr: "⟵",
            xlArr: "⟸",
            xmap: "⟼",
            xnis: "⋻",
            xodot: "⨀",
            xopf: "𝕩",
            Xopf: "𝕏",
            xoplus: "⨁",
            xotime: "⨂",
            xrarr: "⟶",
            xrArr: "⟹",
            xscr: "𝓍",
            Xscr: "𝒳",
            xsqcup: "⨆",
            xuplus: "⨄",
            xutri: "△",
            xvee: "⋁",
            xwedge: "⋀",
            yacute: "ý",
            Yacute: "Ý",
            yacy: "я",
            YAcy: "Я",
            ycirc: "ŷ",
            Ycirc: "Ŷ",
            ycy: "ы",
            Ycy: "Ы",
            yen: "¥",
            yfr: "𝔶",
            Yfr: "𝔜",
            yicy: "ї",
            YIcy: "Ї",
            yopf: "𝕪",
            Yopf: "𝕐",
            yscr: "𝓎",
            Yscr: "𝒴",
            yucy: "ю",
            YUcy: "Ю",
            yuml: "ÿ",
            Yuml: "Ÿ",
            zacute: "ź",
            Zacute: "Ź",
            zcaron: "ž",
            Zcaron: "Ž",
            zcy: "з",
            Zcy: "З",
            zdot: "ż",
            Zdot: "Ż",
            zeetrf: "ℨ",
            ZeroWidthSpace: "​",
            zeta: "ζ",
            Zeta: "Ζ",
            zfr: "𝔷",
            Zfr: "ℨ",
            zhcy: "ж",
            ZHcy: "Ж",
            zigrarr: "⇝",
            zopf: "𝕫",
            Zopf: "ℤ",
            zscr: "𝓏",
            Zscr: "𝒵",
            zwj: "‍",
            zwnj: "‌",
          },
          f = {
            aacute: "á",
            Aacute: "Á",
            acirc: "â",
            Acirc: "Â",
            acute: "´",
            aelig: "æ",
            AElig: "Æ",
            agrave: "à",
            Agrave: "À",
            amp: "&",
            AMP: "&",
            aring: "å",
            Aring: "Å",
            atilde: "ã",
            Atilde: "Ã",
            auml: "ä",
            Auml: "Ä",
            brvbar: "¦",
            ccedil: "ç",
            Ccedil: "Ç",
            cedil: "¸",
            cent: "¢",
            copy: "©",
            COPY: "©",
            curren: "¤",
            deg: "°",
            divide: "÷",
            eacute: "é",
            Eacute: "É",
            ecirc: "ê",
            Ecirc: "Ê",
            egrave: "è",
            Egrave: "È",
            eth: "ð",
            ETH: "Ð",
            euml: "ë",
            Euml: "Ë",
            frac12: "½",
            frac14: "¼",
            frac34: "¾",
            gt: ">",
            GT: ">",
            iacute: "í",
            Iacute: "Í",
            icirc: "î",
            Icirc: "Î",
            iexcl: "¡",
            igrave: "ì",
            Igrave: "Ì",
            iquest: "¿",
            iuml: "ï",
            Iuml: "Ï",
            laquo: "«",
            lt: "<",
            LT: "<",
            macr: "¯",
            micro: "µ",
            middot: "·",
            nbsp: " ",
            not: "¬",
            ntilde: "ñ",
            Ntilde: "Ñ",
            oacute: "ó",
            Oacute: "Ó",
            ocirc: "ô",
            Ocirc: "Ô",
            ograve: "ò",
            Ograve: "Ò",
            ordf: "ª",
            ordm: "º",
            oslash: "ø",
            Oslash: "Ø",
            otilde: "õ",
            Otilde: "Õ",
            ouml: "ö",
            Ouml: "Ö",
            para: "¶",
            plusmn: "±",
            pound: "£",
            quot: '"',
            QUOT: '"',
            raquo: "»",
            reg: "®",
            REG: "®",
            sect: "§",
            shy: "­",
            sup1: "¹",
            sup2: "²",
            sup3: "³",
            szlig: "ß",
            thorn: "þ",
            THORN: "Þ",
            times: "×",
            uacute: "ú",
            Uacute: "Ú",
            ucirc: "û",
            Ucirc: "Û",
            ugrave: "ù",
            Ugrave: "Ù",
            uml: "¨",
            uuml: "ü",
            Uuml: "Ü",
            yacute: "ý",
            Yacute: "Ý",
            yen: "¥",
            yuml: "ÿ",
          },
          b = {
            0: "�",
            128: "€",
            130: "‚",
            131: "ƒ",
            132: "„",
            133: "…",
            134: "†",
            135: "‡",
            136: "ˆ",
            137: "‰",
            138: "Š",
            139: "‹",
            140: "Œ",
            142: "Ž",
            145: "‘",
            146: "’",
            147: "“",
            148: "”",
            149: "•",
            150: "–",
            151: "—",
            152: "˜",
            153: "™",
            154: "š",
            155: "›",
            156: "œ",
            158: "ž",
            159: "Ÿ",
          },
          h = [
            1, 2, 3, 4, 5, 6, 7, 8, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22,
            23, 24, 25, 26, 27, 28, 29, 30, 31, 127, 128, 129, 130, 131, 132,
            133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145,
            146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158,
            159, 64976, 64977, 64978, 64979, 64980, 64981, 64982, 64983, 64984,
            64985, 64986, 64987, 64988, 64989, 64990, 64991, 64992, 64993,
            64994, 64995, 64996, 64997, 64998, 64999, 65e3, 65001, 65002, 65003,
            65004, 65005, 65006, 65007, 65534, 65535, 131070, 131071, 196606,
            196607, 262142, 262143, 327678, 327679, 393214, 393215, 458750,
            458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894,
            720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038,
            983039, 1048574, 1048575, 1114110, 1114111,
          ],
          D = String.fromCharCode,
          v = {}.hasOwnProperty,
          y = function (r, e) {
            return v.call(r, e);
          },
          q = function (r, e) {
            if (!r) return e;
            var a,
              u = {};
            for (a in e) u[a] = y(r, a) ? r[a] : e[a];
            return u;
          },
          A = function (r, e) {
            var a = "";
            return (r >= 55296 && r <= 57343) || r > 1114111
              ? (e &&
                  x(
                    "character reference outside the permissible Unicode range"
                  ),
                "�")
              : y(b, r)
              ? (e && x("disallowed character reference"), b[r])
              : (e &&
                  (function (r, e) {
                    for (var a = -1, u = r.length; ++a < u; )
                      if (r[a] == e) return !0;
                    return !1;
                  })(h, r) &&
                  x("disallowed character reference"),
                r > 65535 &&
                  ((a += D((((r -= 65536) >>> 10) & 1023) | 55296)),
                  (r = 56320 | (1023 & r))),
                (a += D(r)));
          },
          w = function (r) {
            return "&#x" + r.toString(16).toUpperCase() + ";";
          },
          E = function (r) {
            return "&#" + r + ";";
          },
          x = function (r) {
            throw Error("Parse error: " + r);
          },
          k = function (r, e) {
            (e = q(e, k.options)).strict &&
              d.test(r) &&
              x("forbidden code point");
            var a = e.encodeEverything,
              u = e.useNamedReferences,
              n = e.allowUnsafeSymbols,
              p = e.decimal ? E : w,
              g = function (r) {
                return p(r.charCodeAt(0));
              };
            return (
              a
                ? ((r = r.replace(o, function (r) {
                    return u && y(l, r) ? "&" + l[r] + ";" : g(r);
                  })),
                  u &&
                    (r = r
                      .replace(/&gt;\u20D2/g, "&nvgt;")
                      .replace(/&lt;\u20D2/g, "&nvlt;")
                      .replace(/&#x66;&#x6A;/g, "&fjlig;")),
                  u &&
                    (r = r.replace(s, function (r) {
                      return "&" + l[r] + ";";
                    })))
                : u
                ? (n ||
                    (r = r.replace(i, function (r) {
                      return "&" + l[r] + ";";
                    })),
                  (r = (r = r
                    .replace(/&gt;\u20D2/g, "&nvgt;")
                    .replace(/&lt;\u20D2/g, "&nvlt;")).replace(s, function (r) {
                    return "&" + l[r] + ";";
                  })))
                : n || (r = r.replace(i, g)),
              r
                .replace(t, function (r) {
                  var e = r.charCodeAt(0),
                    a = r.charCodeAt(1);
                  return p(1024 * (e - 55296) + a - 56320 + 65536);
                })
                .replace(c, g)
            );
          };
        k.options = {
          allowUnsafeSymbols: !1,
          encodeEverything: !1,
          strict: !1,
          useNamedReferences: !1,
          decimal: !1,
        };
        var C = function (r, e) {
          var a = (e = q(e, C.options)).strict;
          return (
            a && p.test(r) && x("malformed character reference"),
            r.replace(g, function (r, u, t, o, c, s, l, i) {
              var n, p, d, g, b, h;
              return u
                ? ((d = u),
                  (p = t),
                  a &&
                    !p &&
                    x("character reference was not terminated by a semicolon"),
                  (n = parseInt(d, 10)),
                  A(n, a))
                : o
                ? ((g = o),
                  (p = c),
                  a &&
                    !p &&
                    x("character reference was not terminated by a semicolon"),
                  (n = parseInt(g, 16)),
                  A(n, a))
                : s
                ? y(m, (b = s))
                  ? m[b]
                  : (a &&
                      x(
                        "named character reference was not terminated by a semicolon"
                      ),
                    r)
                : ((b = l),
                  (h = i) && e.isAttributeValue
                    ? (a &&
                        "=" == h &&
                        x("`&` did not start a character reference"),
                      r)
                    : (a &&
                        x(
                          "named character reference was not terminated by a semicolon"
                        ),
                      f[b] + (h || "")));
            })
          );
        };
        C.options = { isAttributeValue: !1, strict: !1 };
        var B = {
          version: "1.1.1",
          encode: k,
          decode: C,
          escape: function (r) {
            return r.replace(i, function (r) {
              return n[r];
            });
          },
          unescape: C,
        };
        if (
          "function" == typeof define &&
          "object" == typeof define.amd &&
          define.amd
        )
          define(function () {
            return B;
          });
        else if (e && !e.nodeType)
          if (a) a.exports = B;
          else for (var L in B) y(B, L) && (e[L] = B[L]);
        else r.he = B;
      })(this);
    </script>
    <script type="text/javascript">
      (window.assertions = window.assertions || {}),
        (window.assertions.assertFunction =
          window.assertions.assertFunction ||
          function (o) {
            for (
              var n = arguments.length, s = new Array(n > 1 ? n - 1 : 0), e = 1;
              e < n;
              e++
            )
              s[e - 1] = arguments[e];
            if (!o) {
              (s = s.filter((o) => !!s)),
                window.navigator &&
                  "Microsoft Internet Explorer" === window.navigator.appName &&
                  s.push("stack=\n" + new Error().stack);
              const o =
                s.length > 0 ? "Assertion failed: " : "Assertion failed";
              throw (
                (console && console.log && console.log(o, ...s),
                window.phet &&
                  phet.chipper &&
                  phet.chipper.queryParameters &&
                  phet.chipper.queryParameters.debugger,
                new Error(o + s.join("\n ")))
              );
            }
          }),
        (window.assert = window.assert || null),
        (window.assertSlow = window.assertSlow || null),
        (window.assertions.enableAssert = function () {
          (window.assert = window.assertions.assertFunction),
            window.console &&
              window.console.log &&
              window.console.log("enabling assert");
        }),
        (window.assertions.disableAssert = function () {
          (window.assert = null),
            window.console &&
              window.console.log &&
              window.console.log("disabling assert");
        }),
        (window.assertions.enableAssertSlow = function () {
          (window.assertSlow = window.assertions.assertFunction),
            window.console &&
              window.console.log &&
              window.console.log("enabling assertSlow");
        }),
        (window.assertions.disableAssertSlow = function () {
          (window.assertSlow = null),
            window.console &&
              window.console.log &&
              window.console.log("disabling assertSlow");
        });
    </script>
    <script type="text/javascript">
      !(function (e, t) {
        "function" == typeof window.define && window.define.amd
          ? window.define([], t)
          : "object" == typeof module && module.exports
          ? (module.exports = t())
          : (e.QueryStringMachine = t());
      })(this, () => {
        const e = (e) => 0 === e.length || 0 === e.indexOf("?");
        return (function () {
          const t = (e, t, a, n, i) => {
              if (!e)
                if (n.public)
                  if ((r.addWarning(t, a, i), n.hasOwnProperty("defaultValue")))
                    a = n.defaultValue;
                  else {
                    const e = s[n.type];
                    o(
                      e.hasOwnProperty("defaultValue"),
                      "Type must have a default value if the provided schema does not have one."
                    ),
                      (a = e.defaultValue);
                  }
                else o(e, i);
              return a;
            },
            r = {
              warnings: [],
              get: function (e, t) {
                return this.getForString(e, t, window.location.search);
              },
              getAll: function (e) {
                return this.getAllForString(e, window.location.search);
              },
              getForString: function (r, i, o) {
                if (!e(o))
                  throw new Error(
                    'Query strings should be either the empty string or start with a "?": ' +
                      o
                  );
                const p =
                  i.private &&
                  !(() => {
                    try {
                      return "true" === localStorage.getItem("phetTeamMember");
                    } catch (e) {
                      return !1;
                    }
                  })()
                    ? []
                    : a(r, o);
                n(r, i);
                let d = l(r, i, p);
                i.hasOwnProperty("validValues")
                  ? (d = t(
                      u(d, i.validValues),
                      r,
                      d,
                      i,
                      `Invalid value supplied for key "${r}": ${d} is not a member of valid values: ${i.validValues.join(
                        ", "
                      )}`
                    ))
                  : i.hasOwnProperty("isValidValue") &&
                    (d = t(
                      i.isValidValue(d),
                      r,
                      d,
                      i,
                      `Invalid value supplied for key "${r}": ${d}`
                    ));
                let f = s[i.type].isValidValue(d);
                if ("array" === i.type && Array.isArray(d)) {
                  let e = !0;
                  for (let t = 0; t < d.length; t++) {
                    const r = d[t];
                    if (!s[i.elementSchema.type].isValidValue(r)) {
                      e = !1;
                      break;
                    }
                    if (
                      i.elementSchema.hasOwnProperty("isValidValue") &&
                      !i.elementSchema.isValidValue(r)
                    ) {
                      e = !1;
                      break;
                    }
                    if (
                      i.elementSchema.hasOwnProperty("validValues") &&
                      !u(r, i.elementSchema.validValues)
                    ) {
                      e = !1;
                      break;
                    }
                  }
                  f = f && e;
                }
                return (
                  (d = t(f, r, d, i, "Invalid value for type, key: " + r)), d
                );
              },
              getAllForString: function (e, t) {
                const r = {};
                for (const a in e)
                  e.hasOwnProperty(a) && (r[a] = this.getForString(a, e[a], t));
                return r;
              },
              containsKey: function (e) {
                return this.containsKeyForString(e, window.location.search);
              },
              containsKeyForString: function (t, r) {
                if (!e(r))
                  throw new Error(
                    'Query strings should be either the empty string or start with a "?": ' +
                      r
                  );
                return a(t, r).length > 0;
              },
              deepEquals: function (e, t) {
                if (typeof e != typeof t) return !1;
                if (
                  "string" == typeof e ||
                  "number" == typeof e ||
                  "boolean" == typeof e
                )
                  return e === t;
                if (null === e && null === t) return !0;
                if (void 0 === e && void 0 === t) return !0;
                if (null === e && void 0 === t) return !1;
                if (void 0 === e && null === t) return !1;
                const a = Object.keys(e),
                  n = Object.keys(t);
                if (a.length !== n.length) return !1;
                if (0 === a.length) return e === t;
                for (let i = 0; i < a.length; i++) {
                  if (a[i] !== n[i]) return !1;
                  const l = e[a[i]],
                    u = t[a[i]];
                  if (!r.deepEquals(l, u)) return !1;
                }
                return !0;
              },
              removeKeyValuePair: function (e, t) {
                if (0 === e.indexOf("?")) {
                  const r = [],
                    a = e.substring(1).split("&");
                  for (let e = 0; e < a.length; e++) {
                    const n = a[e],
                      i = n.split("=");
                    decodeURIComponent(i[0]) !== t && r.push(n);
                  }
                  return r.length > 0 ? "?" + r.join("&") : "";
                }
                return e;
              },
              removeKeyValuePairs: function (e, t) {
                for (let r = 0; r < t.length; r++)
                  e = this.removeKeyValuePair(e, t[r]);
                return e;
              },
              appendQueryString: function (e, t) {
                if (
                  ((0 !== t.indexOf("?") && 0 !== t.indexOf("&")) ||
                    (t = t.substring(1)),
                  0 === t.length)
                )
                  return e;
                const r = e.indexOf("?") >= 0 ? "&" : "?";
                return e + r + t;
              },
              appendQueryStringArray: function (e, t) {
                for (let r = 0; r < t.length; r++)
                  e = this.appendQueryString(e, t[r]);
                return e;
              },
              getQueryString: function (e) {
                const t = e.indexOf("?");
                return t >= 0 ? e.substring(t) : "?";
              },
              addWarning: function (e, t, r) {
                console.warn(r),
                  this.warnings.push({ key: e, value: t, message: r });
              },
              hasWarning: function (e) {
                let t = !1;
                for (let r = 0; r < this.warnings.length && !t; r++)
                  t = this.warnings[r].key === e;
                return t;
              },
              getQueryParametersFromString: function (e) {
                if (0 === e.indexOf("?")) {
                  return e.substring(1).split("&");
                }
                return [];
              },
              getSingleQueryParameterString: function (e, t) {
                const r = this.getQueryString(t),
                  a = this.getQueryParametersFromString(r);
                for (let n = 0; n < a.length; n++) {
                  const t = a[n],
                    r = t.split("=");
                  if (decodeURIComponent(r[0]) === e) return t;
                }
                return null;
              },
            },
            a = function (e, t) {
              const r = [],
                a = t.slice(1).split("&");
              for (let n = 0; n < a.length; n++) {
                const t = a[n].split("="),
                  i = t[0],
                  l = t.slice(1).join("=");
                i === e && (l ? r.push(decodeURIComponent(l)) : r.push(null));
              }
              return r;
            },
            n = function (e, t) {
              o(
                t.hasOwnProperty("type"),
                "type field is required for key: " + e
              ),
                o(
                  s.hasOwnProperty(t.type),
                  `invalid type: ${t.type} for key: ${e}`
                ),
                t.hasOwnProperty("parse") &&
                  o(
                    "function" == typeof t.parse,
                    "parse must be a function for key: " + e
                  ),
                o(
                  !(
                    t.hasOwnProperty("validValues") &&
                    t.hasOwnProperty("isValidValue")
                  ),
                  t,
                  e,
                  "validValues and isValidValue are mutually exclusive for key: " +
                    e
                ),
                t.hasOwnProperty("validValues") &&
                  o(
                    Array.isArray(t.validValues),
                    "isValidValue must be an array for key: " + e
                  ),
                t.hasOwnProperty("isValidValue") &&
                  o(
                    "function" == typeof t.isValidValue,
                    "isValidValue must be a function for key: " + e
                  ),
                t.hasOwnProperty("defaultValue") &&
                  o(
                    s[t.type].isValidValue(t.defaultValue),
                    "defaultValue incorrect type: " + e
                  ),
                t.hasOwnProperty("validValues") &&
                  t.validValues.forEach((r) =>
                    o(
                      s[t.type].isValidValue(r),
                      "validValue incorrect type for key: " + e
                    )
                  ),
                t.hasOwnProperty("defaultValue") &&
                  t.hasOwnProperty("validValues") &&
                  o(
                    u(t.defaultValue, t.validValues),
                    t,
                    e,
                    "defaultValue must be a member of validValues, for key: " +
                      e
                  ),
                t.hasOwnProperty("public") &&
                  t.public &&
                  "flag" !== t.type &&
                  o(
                    t.hasOwnProperty("defaultValue"),
                    "defaultValue is required when public: true for key: " + e
                  ),
                i(e, t, s[t.type].required, s[t.type].optional),
                s[t.type].validateSchema && s[t.type].validateSchema(e, t);
            },
            i = function (e, t, r, a) {
              const n = Object.getOwnPropertyNames(t);
              r.forEach((t) => {
                o(
                  -1 !== n.indexOf(t),
                  `missing required property: ${t} for key: ${e}`
                );
              });
              const i = r.concat(a);
              n.forEach((t) => {
                o(
                  "type" === t || -1 !== i.indexOf(t),
                  `unsupported property: ${t} for key: ${e}`
                );
              });
            },
            l = function (e, t, r) {
              let a;
              return (
                o(
                  r.length <= 1,
                  "query parameter cannot occur multiple times: " + e
                ),
                "flag" === t.type
                  ? (a = s[t.type].parse(e, t, r[0]))
                  : (o(
                      void 0 !== r[0] || t.hasOwnProperty("defaultValue"),
                      "missing required query parameter: " + e
                    ),
                    (a =
                      void 0 === r[0]
                        ? t.defaultValue
                        : s[t.type].parse(e, t, r[0]))),
                a
              );
            },
            u = function (e, t) {
              let a = !1;
              for (let n = 0; n < t.length && !a; n++)
                a = r.deepEquals(t[n], e);
              return a;
            },
            o = function (e, t) {
              if (!e)
                throw (
                  (console && console.log && console.log(t),
                  new Error("Query String Machine Assertion failed: " + t))
                );
            },
            s = {
              flag: {
                required: [],
                optional: ["private", "public"],
                validateSchema: null,
                parse: function (e, t, r) {
                  return null === r || (void 0 !== r && r);
                },
                isValidValue: (e) => !0 === e || !1 === e,
                defaultValue: !0,
              },
              boolean: {
                required: [],
                optional: ["defaultValue", "private", "public"],
                validateSchema: null,
                parse: function (e, t, r) {
                  return "true" === r || ("false" !== r && r);
                },
                isValidValue: (e) => !0 === e || !1 === e,
              },
              number: {
                required: [],
                optional: [
                  "defaultValue",
                  "validValues",
                  "isValidValue",
                  "private",
                  "public",
                ],
                validateSchema: null,
                parse: function (e, t, r) {
                  const a = Number(r);
                  return null === r || isNaN(a) ? r : a;
                },
                isValidValue: (e) => "number" == typeof e && !isNaN(e),
              },
              string: {
                required: [],
                optional: [
                  "defaultValue",
                  "validValues",
                  "isValidValue",
                  "private",
                  "public",
                ],
                validateSchema: null,
                parse: function (e, t, r) {
                  return r;
                },
                isValidValue: (e) => null === e || "string" == typeof e,
              },
              array: {
                required: ["elementSchema"],
                optional: [
                  "defaultValue",
                  "validValues",
                  "isValidValue",
                  "separator",
                  "validValues",
                  "private",
                  "public",
                ],
                validateSchema: function (e, t) {
                  t.hasOwnProperty("separator") &&
                    o(
                      "string" == typeof t.separator &&
                        1 === t.separator.length,
                      `invalid separator: ${t.separator}, for key: ${e}`
                    ),
                    o(
                      !t.elementSchema.hasOwnProperty("public"),
                      "Array elements should not declare public; it comes from the array schema itself."
                    ),
                    n(e + ".element", t.elementSchema);
                },
                parse: function (e, t, r) {
                  let a;
                  return (
                    (a =
                      null === r
                        ? []
                        : r
                            .split(t.separator || ",")
                            .map((r) => l(e, t.elementSchema, [r]))),
                    a
                  );
                },
                isValidValue: (e) => Array.isArray(e) || null === e,
              },
              custom: {
                required: ["parse"],
                optional: [
                  "defaultValue",
                  "validValues",
                  "isValidValue",
                  "private",
                  "public",
                ],
                validateSchema: null,
                parse: function (e, t, r) {
                  return t.parse(r);
                },
                isValidValue: (e) => !0,
              },
            };
          return r;
        })();
      });
    </script>
    <script type="text/javascript">
      !(function () {
        const e =
            (
              (_.hasIn(window, "phet.chipper.packageObject")
                ? phet.chipper.packageObject
                : {}
              ).phet || {}
            ).simFeatures || {},
          t = e.colorProfiles || ["default"],
          a = {
            allowLinks: { type: "boolean", defaultValue: !0, public: !0 },
            audio: {
              type: "string",
              defaultValue: "enabled",
              validValues: ["enabled", "disabled", "muted"],
              public: !0,
            },
            binder: { type: "flag" },
            brand: { type: "string", defaultValue: "adapted-from-phet" },
            buildCompatible: { type: "flag" },
            continuousTest: { type: "string", defaultValue: "" },
            colorProfile: {
              type: "string",
              defaultValue: t[0],
              validValues: t,
              public: !0,
            },
            debugger: { type: "flag" },
            deprecationWarnings: { type: "flag" },
            dev: { type: "flag" },
            ea: { type: "flag" },
            eall: { type: "flag" },
            extraSoundInitiallyEnabled: { type: "flag", public: !0 },
            fuzz: { type: "flag" },
            fuzzBoard: { type: "flag" },
            fuzzMouse: { type: "flag" },
            fuzzPointers: { type: "number", defaultValue: 1 },
            fuzzTouch: { type: "flag" },
            fuzzRate: {
              type: "number",
              defaultValue: 100,
              isValidValue: function (e) {
                return e > 0;
              },
            },
            ga: { type: "string", defaultValue: null },
            ga4: { type: "string", defaultValue: null },
            gameUp: { type: "flag" },
            gameUpTestHarness: { type: "flag" },
            gameUpLogging: { type: "flag" },
            gaPage: { type: "string", defaultValue: null },
            homeScreen: { type: "boolean", defaultValue: !0, public: !0 },
            initialScreen: { type: "number", defaultValue: 0, public: !0 },
            legendsOfLearning: { type: "flag" },
            listenerLimit: {
              type: "number",
              defaultValue: Number.POSITIVE_INFINITY,
              public: !1,
            },
            locale: { type: "string", defaultValue: "en" },
            locales: {
              type: "array",
              elementSchema: { type: "string" },
              defaultValue: [],
            },
            log: { type: "flag" },
            memoryLimit: { type: "number", defaultValue: 0 },
            mobileA11yTest: { type: "flag" },
            "phet-android-app": { type: "flag" },
            "phet-app": { type: "flag" },
            playbackMode: { type: "boolean", defaultValue: !1 },
            postMessageOnBeforeUnload: { type: "flag" },
            postMessageOnError: { type: "flag" },
            postMessageOnLoad: { type: "flag" },
            postMessageOnReady: { type: "flag" },
            preserveDrawingBuffer: { type: "flag" },
            preventFullScreen: { type: "flag" },
            profiler: { type: "flag" },
            qrCode: { type: "flag" },
            randomSeed: { type: "number", defaultValue: Math.random() },
            rootRenderer: {
              type: "string",
              defaultValue: null,
              validValues: [null, "canvas", "svg", "dom", "webgl"],
            },
            sceneryLog: {
              type: "array",
              elementSchema: { type: "string" },
              defaultValue: null,
            },
            sceneryStringLog: { type: "flag" },
            screens: {
              type: "array",
              elementSchema: { type: "number", isValidValue: Number.isInteger },
              defaultValue: null,
              isValidValue: function (e) {
                return (
                  null === e || (e.length === _.uniq(e).length && e.length > 0)
                );
              },
              public: !0,
            },
            showAnswers: { type: "flag", private: !0 },
            showCanvasNodeBounds: { type: "flag" },
            showFittedBlockBounds: { type: "flag" },
            showHitAreas: { type: "flag" },
            showPointerAreas: { type: "flag" },
            showPointers: { type: "flag" },
            showVisibleBounds: { type: "flag" },
            shuffleListeners: { type: "flag" },
            speechSynthesisFromParent: { type: "flag" },
            speed: {
              type: "number",
              defaultValue: 1,
              isValidValue: function (e) {
                return e > 0;
              },
            },
            strings: { type: "string", defaultValue: null },
            stringTest: { type: "string", defaultValue: null },
            keyboardLocaleSwitcher: { type: "flag" },
            supportsInteractiveDescription: {
              type: "boolean",
              defaultValue: !!e.supportsInteractiveDescription,
            },
            supportsInteractiveHighlights: {
              type: "boolean",
              defaultValue: e.hasOwnProperty("supportsInteractiveHighlights")
                ? !!e.supportsInteractiveHighlights
                : !!e.supportsInteractiveDescription,
            },
            interactiveHighlightsInitiallyEnabled: { type: "flag", public: !0 },
            supportsGestureControl: {
              type: "boolean",
              defaultValue: !!e.supportsGestureControl,
            },
            supportsVoicing: {
              type: "boolean",
              defaultValue: !!e.supportsVoicing,
            },
            voicingInitiallyEnabled: { type: "flag" },
            preferencesStorage: { type: "flag" },
            printVoicingResponses: { type: "flag" },
            supportsPanAndZoom: {
              type: "boolean",
              public: !0,
              defaultValue:
                !e.hasOwnProperty("supportsPanAndZoom") || e.supportsPanAndZoom,
            },
            supportsSound: { type: "boolean", defaultValue: !!e.supportsSound },
            supportsExtraSound: {
              type: "boolean",
              defaultValue: !!e.supportsExtraSound,
            },
            vibrationParadigm: { type: "string", defaultValue: null },
            webgl: { type: "boolean", defaultValue: !0 },
          };
        function r(e) {
          const t = new Date();
          let a;
          do {
            a = new Date();
          } while (a - t < e);
        }
        !(function () {
          (window.phet = window.phet || {}),
            (window.phet.chipper = window.phet.chipper || {}),
            (window.phet.chipper.queryParameters =
              QueryStringMachine.getAll(a)),
            (window.phet.chipper.colorProfiles = t),
            (window.phet.chipper.isFuzzEnabled = () =>
              window.phet.chipper.queryParameters.fuzz ||
              window.phet.chipper.queryParameters.fuzzMouse ||
              window.phet.chipper.queryParameters.fuzzTouch ||
              window.phet.chipper.queryParameters.fuzzBoard),
            window.phet.chipper.queryParameters.log &&
              (window.phet.log = function (e, t) {
                (t = _.assignIn({ color: "#009900" }, t)),
                  console.log("%c" + e, "color: " + t.color);
              }),
            (window.phet.chipper.brand =
              window.phet.chipper.brand ||
              phet.chipper.queryParameters.brand ||
              "adapted-from-phet");
          const e =
            "undefined" != typeof window &&
            phet.chipper.queryParameters.stringTest
              ? phet.chipper.queryParameters.stringTest
              : null;
          (window.phet.chipper.mapString = function (t) {
            return null === e
              ? t
              : "double" === e
              ? `${t}:${t}`
              : "long" === e
              ? "12345678901234567890123456789012345678901234567890"
              : "rtl" === e
              ? "‫تست (زبان)‬"
              : "xss" === e
              ? t +
                '<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2NkYGD4DwABCQEBtxmN7wAAAABJRU5ErkJggg==" onload="window.location.href=atob(\'aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1kUXc0dzlXZ1hjUQ==\')" />'
              : "none" === e || "dynamic" === e
              ? t
              : e;
          }),
            QueryStringMachine.containsKey("locale")
              ? (window.phet.chipper.locale =
                  phet.chipper.queryParameters.locale)
              : window.phet.chipper.locale ||
                (window.phet.chipper.locale = "en");
          const r = JSON.parse(phet.chipper.queryParameters.strings || "{}");
          phet.chipper.getStringForBuiltSim = (e) => {
            if (r[e]) return r[e];
            let t = phet.chipper.strings[phet.chipper.locale];
            return (
              t ||
                ((t = phet.chipper.strings[phet.chipper.locale.slice(0, 2)]),
                t || (t = phet.chipper.strings.en)),
              phet.chipper.mapString(t[e])
            );
          };
        })(),
          (window.phet.chipper.makeEverythingSlow = function () {
            window.setInterval(() => {
              r(64);
            }, 16);
          }),
          (window.phet.chipper.makeRandomSlowness = function () {
            window.setInterval(() => {
              r(Math.ceil(100 + 200 * Math.random()));
            }, Math.ceil(100 + 200 * Math.random()));
          }),
          (window.phet.chipper.isProduction =
            "production" === $("meta[name=phet-sim-level]").attr("content")),
          (window.phet.chipper.isApp =
            phet.chipper.queryParameters["phet-app"] ||
            phet.chipper.queryParameters["phet-android-app"]),
          (function () {
            const e =
              !phet.chipper.isProduction && phet.chipper.queryParameters.eall;
            (e ||
              (!phet.chipper.isProduction && phet.chipper.queryParameters.ea) ||
              phet.chipper.isDebugBuild) &&
              window.assertions.enableAssert(),
              e && window.assertions.enableAssertSlow(),
              (window.phet.chipper.reportContinuousTestResult = (e) => {
                window.parent &&
                  window.parent.postMessage(
                    JSON.stringify(
                      _.assignIn(
                        {
                          continuousTest: JSON.parse(
                            phet.chipper.queryParameters.continuousTest
                          ),
                          url: window.location.href,
                        },
                        e
                      )
                    ),
                    "*"
                  );
              }),
              phet.chipper.queryParameters.continuousTest &&
                (window.addEventListener("error", (e) => {
                  let t = "",
                    a = "";
                  e && e.message && (t = e.message),
                    e && e.error && e.error.stack && (a = e.error.stack),
                    phet.chipper.reportContinuousTestResult({
                      type: "continuous-test-error",
                      message: t,
                      stack: a,
                    });
                }),
                window.addEventListener("beforeunload", (e) => {
                  phet.chipper.reportContinuousTestResult({
                    type: "continuous-test-unload",
                  });
                }),
                (window.open = () => ({ focus: () => {}, blur: () => {} }))),
              phet.chipper.queryParameters.postMessageOnError &&
                window.addEventListener("error", (e) => {
                  let t = "",
                    a = "";
                  e && e.message && (t = e.message),
                    e && e.error && e.error.stack && (a = e.error.stack),
                    window.parent &&
                      window.parent.postMessage(
                        JSON.stringify({
                          type: "error",
                          url: window.location.href,
                          message: t,
                          stack: a,
                        }),
                        "*"
                      );
                }),
              phet.chipper.queryParameters.postMessageOnBeforeUnload &&
                window.addEventListener("beforeunload", (e) => {
                  window.parent &&
                    window.parent.postMessage(
                      JSON.stringify({ type: "beforeUnload" }),
                      "*"
                    );
                });
          })();
      })();
    </script>
    <script type="text/javascript">
      !(function () {
        const e = navigator.userAgent,
          t = !!(e.match(/MSIE/) || e.match(/Trident\//) || e.match(/Edge\//));
        if ("file:" === window.location.protocol && t) return;
        if ("phet" !== phet.chipper.brand && "phet-io" !== phet.chipper.brand)
          return;
        let n;
        function a() {
          let e = !1;
          window.addEventListener(
            "error",
            (t) => {
              t &&
                t.target &&
                t.target.src &&
                t.target.src.indexOf &&
                t.target.src.indexOf("google-analytics") >= 0 &&
                (e = !0);
            },
            !0
          );
          const t =
            `pingver=3&project=${encodeURIComponent(
              phet.chipper.project
            )}&brand=${encodeURIComponent(
              phet.chipper.brand
            )}&version=${encodeURIComponent(
              phet.chipper.version
            )}&locale=${encodeURIComponent(
              phet.chipper.locale
            )}&buildTimestamp=${encodeURIComponent(
              phet.chipper.buildTimestamp
            )}&domain=${encodeURIComponent(
              document.domain
            )}&href=${encodeURIComponent(
              window.location.href
            )}&type=html&timestamp=${encodeURIComponent(
              Date.now()
            )}&loadType=${encodeURIComponent(n)}&ref=` +
            encodeURIComponent(document.referrer);
          function a(e) {
            document.createElement("img").src = e;
          }
          if (
            (a("https://phet.colorado.edu/yotta/immediate.gif?" + t),
            window.addEventListener(
              "load",
              (n) => {
                a(
                  `https://phet.colorado.edu/yotta/sanity.gif?${t}&gaError=${encodeURIComponent(
                    e
                  )}&gaLoaded=` + encodeURIComponent(!1)
                );
              },
              !1
            ),
            phet.chipper.queryParameters.ga)
          ) {
            (o = window),
              (r = document),
              (p = "script"),
              (i =
                ("https:" === document.location.protocol ? "https:" : "http:") +
                "//www.google-analytics.com/analytics.js"),
              (c = "googleAnalytics"),
              (o.GoogleAnalyticsObject = c),
              (o[c] =
                o[c] ||
                function () {
                  (o[c].q = o[c].q || []).push(arguments);
                }),
              (o[c].l = 1 * new Date()),
              (d = r.createElement(p)),
              (s = r.getElementsByTagName(p)[0]),
              (d.async = 1),
              (d.src = i),
              s.parentNode.insertBefore(d, s);
            const e = {};
            phet.chipper.project && (e.dimension1 = phet.chipper.project),
              phet.chipper.version && (e.dimension2 = phet.chipper.version),
              phet.chipper.locale && (e.dimension3 = phet.chipper.locale),
              phet.chipper.buildTimestamp &&
                (e.dimension4 = phet.chipper.buildTimestamp),
              (e.dimension5 = n),
              (e.dimension6 = document.referrer),
              window.googleAnalytics("create", {
                trackingId: phet.chipper.queryParameters.ga,
                storage: "none",
                cookieDomain: "none",
                name: "external",
              }),
              window.googleAnalytics("external.set", "anonymizeIp", !0),
              window.googleAnalytics(
                "external.send",
                "pageview",
                phet.chipper.queryParameters.gaPage || void 0
              );
          }
          var o, r, p, i, c, d, s;
          if (phet.chipper.queryParameters.ga4) {
            function m() {
              ga4DataLayer.push(arguments);
            }
            (window.ga4DataLayer = window.ga4DataLayer || []),
              m("js", new Date()),
              m("consent", "default", {
                ad_storage: "denied",
                analytics_storage: "granted",
              }),
              m("consent", "default", {
                ad_storage: "denied",
                analytics_storage: "denied",
                region: [
                  "BE",
                  "BG",
                  "CZ",
                  "DK",
                  "CY",
                  "LV",
                  "LT",
                  "LU",
                  "ES",
                  "FR",
                  "HR",
                  "IT",
                  "PL",
                  "PT",
                  "RO",
                  "SI",
                  "HU",
                  "MT",
                  "NL",
                  "AT",
                  "IS",
                  "LI",
                  "NO",
                  "SK",
                  "FI",
                  "SE",
                  "DE",
                  "EE",
                  "IE",
                  "EL",
                ],
              }),
              m("config", phet.chipper.queryParameters.ga4);
            const e = document.getElementsByTagName("script")[0],
              t = document.createElement("script");
            (t.async = !0),
              (t.src = `https://www.googletagmanager.com/gtag/js?id=${phet.chipper.queryParameters.ga4}&l=ga4DataLayer`),
              e.parentNode.insertBefore(t, e);
          }
          function h() {
            window.dataLayer.push(arguments);
          }
          (window.dataLayer = window.dataLayer || []),
            h("consent", "default", {
              ad_storage: "denied",
              analytics_storage: "granted",
            }),
            h("consent", "default", {
              ad_storage: "denied",
              analytics_storage: "denied",
              region: [
                "BE",
                "BG",
                "CZ",
                "DK",
                "CY",
                "LV",
                "LT",
                "LU",
                "ES",
                "FR",
                "HR",
                "IT",
                "PL",
                "PT",
                "RO",
                "SI",
                "HU",
                "MT",
                "NL",
                "AT",
                "IS",
                "LI",
                "NO",
                "SK",
                "FI",
                "SE",
                "DE",
                "EE",
                "IE",
                "EL",
              ],
            }),
            window.dataLayer.push({
              simBrand: phet.chipper.brand,
              simName: phet.chipper.project,
              simVersion: phet.chipper.version,
              simLocale: phet.chipper.locale,
              simBuildTimestamp: phet.chipper.buildTimestamp,
              simLoadType: n,
              documentReferrer: document.referrer,
            }),
            (function (e, t, n, a, o) {
              (e[a] = e[a] || []),
                e[a].push({
                  "gtm.start": new Date().getTime(),
                  event: "gtm.js",
                });
              var r = t.getElementsByTagName(n)[0],
                p = t.createElement(n);
              (p.async = !0),
                (p.src =
                  "https://www.googletagmanager.com/gtm.js?id=GTM-WLNGBXD"),
                r.parentNode.insertBefore(p, r);
            })(window, document, "script", "dataLayer");
        }
        (n = phet.chipper.queryParameters["phet-app"]
          ? "phet-app"
          : phet.chipper.queryParameters["phet-android-app"]
          ? "phet-android-app"
          : top !== self
          ? "embedded"
          : "default"),
          "phet-app" === n
            ? window.addEventListener(
                "load",
                () => {
                  setTimeout(a, 0);
                },
                !1
              )
            : a();
      })();
    </script>
    <script type="text/javascript">
      !(function (n, r) {
        var t,
          e = this,
          o = r.pow(256, 6),
          i = r.pow(2, 52),
          u = 2 * i;
        function f(f, p, d) {
          var g = [],
            y = s(
              (function n(r, t) {
                var e,
                  o = [],
                  i = typeof r;
                if (t && "object" == i)
                  for (e in r)
                    try {
                      o.push(n(r[e], t - 1));
                    } catch (u) {}
                return o.length ? o : "string" == i ? r : r + "\0";
              })(
                (p = 1 == p ? { entropy: !0 } : p || {}).entropy
                  ? [f, l(n)]
                  : null == f
                  ? (function () {
                      try {
                        if (t) return l(t.randomBytes(256));
                        var r = new Uint8Array(256);
                        return (
                          (e.crypto || e.msCrypto).getRandomValues(r), l(r)
                        );
                      } catch (u) {
                        var o = e.navigator,
                          i = o && o.plugins;
                        return [+new Date(), e, i, e.screen, l(n)];
                      }
                    })()
                  : f,
                3
              ),
              g
            ),
            h = new a(g),
            m = function () {
              for (var n = h.g(6), r = o, t = 0; n < i; )
                (n = 256 * (n + t)), (r *= 256), (t = h.g(1));
              for (; n >= u; ) (n /= 2), (r /= 2), (t >>>= 1);
              return (n + t) / r;
            };
          return (
            (m.int32 = function () {
              return 0 | h.g(4);
            }),
            (m.quick = function () {
              return h.g(4) / 4294967296;
            }),
            (m.double = m),
            s(l(h.S), n),
            (
              p.pass ||
              d ||
              function (n, t, e, o) {
                return (
                  o &&
                    (o.S && c(o, h),
                    (n.state = function () {
                      return c(h, {});
                    })),
                  e ? ((r.random = n), t) : n
                );
              }
            )(m, y, "global" in p ? p.global : this == r, p.state)
          );
        }
        function a(n) {
          var r,
            t = n.length,
            e = this,
            o = 0,
            i = (e.i = e.j = 0),
            u = (e.S = []);
          for (t || (n = [t++]); o < 256; ) u[o] = o++;
          for (o = 0; o < 256; o++)
            (u[o] = u[(i = 255 & (i + n[o % t] + (r = u[o])))]), (u[i] = r);
          (e.g = function (n) {
            for (var r, t = 0, o = e.i, i = e.j, u = e.S; n--; )
              (r = u[(o = 255 & (o + 1))]),
                (t =
                  256 * t +
                  u[255 & ((u[o] = u[(i = 255 & (i + r))]) + (u[i] = r))]);
            return (e.i = o), (e.j = i), t;
          })(256);
        }
        function c(n, r) {
          return (r.i = n.i), (r.j = n.j), (r.S = n.S.slice()), r;
        }
        function s(n, r) {
          for (var t, e = n + "", o = 0; o < e.length; )
            r[255 & o] = 255 & ((t ^= 19 * r[255 & o]) + e.charCodeAt(o++));
          return l(r);
        }
        function l(n) {
          return String.fromCharCode.apply(0, n);
        }
        if (
          ((r.seedrandom = f),
          s(r.random(), n),
          "object" == typeof module && module.exports)
        ) {
          module.exports = f;
          try {
            t = require("crypto");
          } catch (p) {}
        } else
          "function" == typeof define &&
            define.amd &&
            define(function () {
              return f;
            });
      })([], Math);
    </script>
    <script type="text/javascript">
      !(function () {
        "use strict";
        (window.byteLength = function (r) {
          return (3 * r.length) / 4 - h(r);
        }),
          (window.toByteArray = function (r) {
            var e,
              o,
              a,
              c,
              i,
              d,
              u = r.length;
            (i = h(r)), (d = new n((3 * u) / 4 - i)), (a = i > 0 ? u - 4 : u);
            var A = 0;
            for (e = 0, o = 0; e < a; e += 4, o += 3)
              (c =
                (t[r.charCodeAt(e)] << 18) |
                (t[r.charCodeAt(e + 1)] << 12) |
                (t[r.charCodeAt(e + 2)] << 6) |
                t[r.charCodeAt(e + 3)]),
                (d[A++] = (c >> 16) & 255),
                (d[A++] = (c >> 8) & 255),
                (d[A++] = 255 & c);
            2 === i
              ? ((c =
                  (t[r.charCodeAt(e)] << 2) | (t[r.charCodeAt(e + 1)] >> 4)),
                (d[A++] = 255 & c))
              : 1 === i &&
                ((c =
                  (t[r.charCodeAt(e)] << 10) |
                  (t[r.charCodeAt(e + 1)] << 4) |
                  (t[r.charCodeAt(e + 2)] >> 2)),
                (d[A++] = (c >> 8) & 255),
                (d[A++] = 255 & c));
            return d;
          }),
          (window.fromByteArray = function (t) {
            for (
              var n, e = t.length, o = e % 3, a = "", h = [], i = 0, d = e - o;
              i < d;
              i += 16383
            )
              h.push(c(t, i, i + 16383 > d ? d : i + 16383));
            1 === o
              ? ((n = t[e - 1]),
                (a += r[n >> 2]),
                (a += r[(n << 4) & 63]),
                (a += "=="))
              : 2 === o &&
                ((n = (t[e - 2] << 8) + t[e - 1]),
                (a += r[n >> 10]),
                (a += r[(n >> 4) & 63]),
                (a += r[(n << 2) & 63]),
                (a += "="));
            return h.push(a), h.join("");
          });
        for (
          var r = [],
            t = [],
            n = "undefined" != typeof Uint8Array ? Uint8Array : Array,
            e =
              "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            o = 0,
            a = e.length;
          o < a;
          ++o
        )
          (r[o] = e[o]), (t[e.charCodeAt(o)] = o);
        function h(r) {
          var t = r.length;
          if (t % 4 > 0)
            throw new Error("Invalid string. Length must be a multiple of 4");
          return "=" === r[t - 2] ? 2 : "=" === r[t - 1] ? 1 : 0;
        }
        function c(t, n, e) {
          for (var o, a, h = [], c = n; c < e; c += 3)
            (o = (t[c] << 16) + (t[c + 1] << 8) + t[c + 2]),
              h.push(
                r[((a = o) >> 18) & 63] +
                  r[(a >> 12) & 63] +
                  r[(a >> 6) & 63] +
                  r[63 & a]
              );
          return h.join("");
        }
        (t["-".charCodeAt(0)] = 62), (t["_".charCodeAt(0)] = 63);
      })();
    </script>
    <script type="text/javascript">
      function TextEncoderLite() {}
      function TextDecoderLite() {}
      !(function () {
        "use strict";
        function e(e, n) {
          var t;
          n = n || 1 / 0;
          for (var r = e.length, i = null, o = [], u = 0; u < r; u++) {
            if ((t = e.charCodeAt(u)) > 55295 && t < 57344) {
              if (!i) {
                if (t > 56319) {
                  (n -= 3) > -1 && o.push(239, 191, 189);
                  continue;
                }
                if (u + 1 === r) {
                  (n -= 3) > -1 && o.push(239, 191, 189);
                  continue;
                }
                i = t;
                continue;
              }
              if (t < 56320) {
                (n -= 3) > -1 && o.push(239, 191, 189), (i = t);
                continue;
              }
              (t = ((i - 55296) << 10) | (t - 56320) | 65536), (i = null);
            } else i && ((n -= 3) > -1 && o.push(239, 191, 189), (i = null));
            if (t < 128) {
              if ((n -= 1) < 0) break;
              o.push(t);
            } else if (t < 2048) {
              if ((n -= 2) < 0) break;
              o.push((t >> 6) | 192, (63 & t) | 128);
            } else if (t < 65536) {
              if ((n -= 3) < 0) break;
              o.push((t >> 12) | 224, ((t >> 6) & 63) | 128, (63 & t) | 128);
            } else {
              if (!(t < 2097152)) throw new Error("Invalid code point");
              if ((n -= 4) < 0) break;
              o.push(
                (t >> 18) | 240,
                ((t >> 12) & 63) | 128,
                ((t >> 6) & 63) | 128,
                (63 & t) | 128
              );
            }
          }
          return o;
        }
        function n(e) {
          try {
            return decodeURIComponent(e);
          } catch (n) {
            return String.fromCharCode(65533);
          }
        }
        (TextEncoderLite.prototype.encode = function (n) {
          return "undefined" == typeof Uint8Array ? e(n) : new Uint8Array(e(n));
        }),
          (TextDecoderLite.prototype.decode = function (e) {
            return (function (e, t, r) {
              var i = "",
                o = "";
              r = Math.min(e.length, r || 1 / 0);
              for (var u = (t = t || 0); u < r; u++)
                e[u] <= 127
                  ? ((i += n(o) + String.fromCharCode(e[u])), (o = ""))
                  : (o += "%" + e[u].toString(16));
              return i + n(o);
            })(e, 0, e.length);
          });
      })();
    </script>
    <script type="text/javascript">
      !(function () {
        window.phetio = window.phetio || {};
        window.phetio.PhetioIDUtils = {
          append: function (n) {
            for (
              var t = arguments.length, e = new Array(t > 1 ? t - 1 : 0), o = 1;
              o < t;
              o++
            )
              e[o - 1] = arguments[o];
            return (
              e.forEach((t) => {
                n += "." + t;
              }),
              n
            );
          },
          getComponentName: function (n) {
            const t = n.lastIndexOf(".");
            return -1 === t ? n : n.substring(t + 1, n.length);
          },
          getParentID: function (n) {
            const t = n.lastIndexOf(".");
            return -1 === t ? null : n.substring(0, t);
          },
          getDOMElementID: function (n) {
            return "phetioID:" + n;
          },
          getScreenID: function (n) {
            const t = [],
              e = n.split(".");
            for (let o = 0; o < e.length; o++) {
              const n = e[o];
              t.push(n);
              const r = n.indexOf("Screen");
              if (r > 0 && r + "Screen".length === n.length) return t.join(".");
            }
            return null;
          },
          getGroupElementIndex: function (n) {
            return Number(
              n.split(window.phetio.PhetioIDUtils.GROUP_SEPARATOR)[1]
            );
          },
          isAncestor: function (n, t) {
            const e = n.split("."),
              o = t.split(".");
            for (let r = 0; r < e.length; r++) if (e[r] !== o[r]) return !1;
            return t !== n;
          },
          SEPARATOR: ".",
          GROUP_SEPARATOR: "_",
          INTER_TERM_SEPARATOR: "-",
          GENERAL_COMPONENT_NAME: "general",
          GLOBAL_COMPONENT_NAME: "global",
          HOME_SCREEN_COMPONENT_NAME: "homeScreen",
          MODEL_COMPONENT_NAME: "model",
          VIEW_COMPONENT_NAME: "view",
          CONTROLLER_COMPONENT_NAME: "controller",
          COLORS_COMPONENT_NAME: "colors",
        };
      })();
    </script>
    <script type="text/javascript">
      !(function (e) {
        const t =
            "undefined" != typeof module ? require("assert") : e && e.assert,
          r = class {
            constructor(e, r, i, n) {
              const {
                buildTimestamp: s = null,
                testType: o = null,
                testNumber: a = null,
              } = n || {};
              t &&
                t(
                  "number" == typeof e && e >= 0 && e % 1 == 0,
                  "major version should be a non-negative integer"
                ),
                t &&
                  t(
                    "number" == typeof r && r >= 0 && r % 1 == 0,
                    "minor version should be a non-negative integer"
                  ),
                t &&
                  t(
                    "number" == typeof i && i >= 0 && i % 1 == 0,
                    "maintenance version should be a non-negative integer"
                  ),
                t &&
                  t(
                    "string" != typeof o || "number" == typeof a,
                    "if testType is provided, testNumber should be a number"
                  ),
                (this.major = e),
                (this.minor = r),
                (this.maintenance = i),
                (this.testType = o),
                (this.testNumber = a),
                (this.buildTimestamp = s);
            }
            serialize() {
              return {
                major: this.major,
                minor: this.minor,
                maintenance: this.maintenance,
                testType: this.testType,
                testNumber: this.testNumber,
                buildTimestamp: this.buildTimestamp,
              };
            }
            get isSimNotPublished() {
              return (
                this.major < 1 ||
                (1 === this.major &&
                  0 === this.minor &&
                  0 === this.maintenance &&
                  this.testType)
              );
            }
            get isSimPublished() {
              return !this.isSimNotPublished;
            }
            static deserialize(e) {
              let {
                major: t,
                minor: i,
                maintenance: n,
                testType: s,
                testNumber: o,
                buildTimestamp: a,
              } = e;
              return new r(t, i, n, {
                testType: s,
                testNumber: o,
                buildTimestamp: a,
              });
            }
            compareNumber(e) {
              return this.major < e.major
                ? -1
                : this.major > e.major
                ? 1
                : this.minor < e.minor
                ? -1
                : this.minor > e.minor
                ? 1
                : this.maintenance < e.maintenance
                ? -1
                : this.maintenance > e.maintenance
                ? 1
                : 0;
            }
            isAfter(e) {
              return 1 === this.compareNumber(e);
            }
            isBeforeOrEqualTo(e) {
              return this.compareNumber(e) <= 0;
            }
            toString() {
              let e = `${this.major}.${this.minor}.${this.maintenance}`;
              return (
                "string" == typeof this.testType &&
                  (e += `-${this.testType}.${this.testNumber}`),
                e
              );
            }
            static parse(e, t) {
              const i = e.match(
                /^(\d+)\.(\d+)\.(\d+)(-(([^.-]+)\.(\d+)))?(-([^.-]+))?$/
              );
              if (!i) throw new Error("could not parse version: " + e);
              const n = Number(i[1]),
                s = Number(i[2]),
                o = Number(i[3]),
                a = i[6],
                m = void 0 === i[7] ? i[7] : Number(i[7]);
              return new r(n, s, o, {
                testType: a,
                testNumber: m,
                buildTimestamp: t,
              });
            }
            static fromBranch(e) {
              const i = e.split(".");
              t &&
                t(
                  2 === i.length,
                  "Bad branch, should be {{MAJOR}}.{{MINOR}}, had: " + e
                );
              const n = Number(e.split(".")[0]),
                s = Number(e.split(".")[1]);
              return new r(n, s, 0);
            }
            static ensureReleaseBranch(e) {
              const i = r.fromBranch(e.split("-")[0]);
              t &&
                t(
                  i.major > 0,
                  "Major version for a branch should be greater than zero"
                ),
                t &&
                  t(
                    i.minor >= 0,
                    "Minor version for a branch should be greater than (or equal) to zero"
                  );
            }
          };
        "undefined" != typeof module
          ? (module.exports = r)
          : ((window.phet = window.phet || {}),
            (window.phet.preloads = window.phet.preloads || {}),
            (window.phet.preloads.chipper = window.phet.preloads.chipper || {}),
            (window.phet.preloads.chipper.SimVersion = r));
      })((0, eval)("this"));
    </script>
    <script type="text/javascript">
      "use strict";
      var numeric = "undefined" == typeof exports ? function () {} : exports;
      "undefined" != typeof global && (global.numeric = numeric),
        (numeric.version = "1.2.6"),
        (numeric.bench = function (r, n) {
          var e, i, t;
          for (void 0 === n && (n = 15), i = 0.5, e = new Date(); ; ) {
            for (t = i *= 2; t > 3; t -= 4) r(), r(), r(), r();
            for (; t > 0; ) r(), t--;
            if (new Date() - e > n) break;
          }
          for (t = i; t > 3; t -= 4) r(), r(), r(), r();
          for (; t > 0; ) r(), t--;
          return (1e3 * (3 * i - 1)) / (new Date() - e);
        }),
        (numeric._myIndexOf = function (r) {
          var n,
            e = this.length;
          for (n = 0; n < e; ++n) if (this[n] === r) return n;
          return -1;
        }),
        (numeric.myIndexOf = Array.prototype.indexOf
          ? Array.prototype.indexOf
          : numeric._myIndexOf),
        (numeric.Function = Function),
        (numeric.precision = 4),
        (numeric.largeArray = 50),
        (numeric.prettyPrint = function (r) {
          var n = [];
          return (
            (function r(e) {
              var i;
              if (void 0 === e)
                return n.push(Array(numeric.precision + 8).join(" ")), !1;
              if ("string" == typeof e) return n.push('"' + e + '"'), !1;
              if ("boolean" == typeof e) return n.push(e.toString()), !1;
              if ("number" == typeof e) {
                var t = (function r(n) {
                    if (0 === n) return "0";
                    if (isNaN(n)) return "NaN";
                    if (n < 0) return "-" + r(-n);
                    if (isFinite(n)) {
                      var e = Math.floor(Math.log(n) / Math.log(10)),
                        i = n / Math.pow(10, e),
                        t = i.toPrecision(numeric.precision);
                      return (
                        10 === parseFloat(t) &&
                          (e++, (t = (i = 1).toPrecision(numeric.precision))),
                        parseFloat(t).toString() + "e" + e.toString()
                      );
                    }
                    return "Infinity";
                  })(e),
                  u = e.toPrecision(numeric.precision),
                  o = parseFloat(e.toString()).toString(),
                  c = [
                    t,
                    u,
                    o,
                    parseFloat(u).toString(),
                    parseFloat(o).toString(),
                  ];
                for (i = 1; i < c.length; i++)
                  c[i].length < t.length && (t = c[i]);
                return (
                  n.push(Array(numeric.precision + 8 - t.length).join(" ") + t),
                  !1
                );
              }
              if (null === e) return n.push("null"), !1;
              if ("function" == typeof e) {
                n.push(e.toString());
                var a = !1;
                for (i in e)
                  e.hasOwnProperty(i) &&
                    (a ? n.push(",\n") : n.push("\n{"),
                    (a = !0),
                    n.push(i),
                    n.push(": \n"),
                    r(e[i]));
                return a && n.push("}\n"), !0;
              }
              if (e instanceof Array) {
                if (e.length > numeric.largeArray)
                  return n.push("...Large Array..."), !0;
                a = !1;
                for (n.push("["), i = 0; i < e.length; i++)
                  i > 0 && (n.push(","), a && n.push("\n ")), (a = r(e[i]));
                return n.push("]"), !0;
              }
              for (i in (n.push("{"), (a = !1), e))
                e.hasOwnProperty(i) &&
                  (a && n.push(",\n"),
                  (a = !0),
                  n.push(i),
                  n.push(": \n"),
                  r(e[i]));
              return n.push("}"), !0;
            })(r),
            n.join("")
          );
        }),
        (numeric.parseDate = function (r) {
          return (function r(n) {
            if ("string" == typeof n) return Date.parse(n.replace(/-/g, "/"));
            if (!(n instanceof Array))
              throw new Error("parseDate: parameter must be arrays of strings");
            var e,
              i = [];
            for (e = 0; e < n.length; e++) i[e] = r(n[e]);
            return i;
          })(r);
        }),
        (numeric.parseFloat = function (r) {
          return (function r(n) {
            if ("string" == typeof n) return parseFloat(n);
            if (!(n instanceof Array))
              throw new Error(
                "parseFloat: parameter must be arrays of strings"
              );
            var e,
              i = [];
            for (e = 0; e < n.length; e++) i[e] = r(n[e]);
            return i;
          })(r);
        }),
        (numeric.parseCSV = function (r) {
          var n,
            e,
            i,
            t = r.split("\n"),
            u = [],
            o = /(([^'",]*)|('[^']*')|("[^"]*")),/g,
            c =
              /^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,
            a = 0;
          for (e = 0; e < t.length; e++) {
            var f,
              m = (t[e] + ",").match(o);
            if (m.length > 0) {
              for (u[a] = [], n = 0; n < m.length; n++)
                (f = (i = m[n]).substr(0, i.length - 1)),
                  c.test(f) ? (u[a][n] = parseFloat(f)) : (u[a][n] = f);
              a++;
            }
          }
          return u;
        }),
        (numeric.toCSV = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o = numeric.dim(r);
          for (i = o[0], o[1], u = [], n = 0; n < i; n++) {
            for (t = [], e = 0; e < i; e++) t[e] = r[n][e].toString();
            u[n] = t.join(", ");
          }
          return u.join("\n") + "\n";
        }),
        (numeric.getURL = function (r) {
          var n = new XMLHttpRequest();
          return n.open("GET", r, !1), n.send(), n;
        }),
        (numeric.imageURL = function (r) {
          function n(r, n, e) {
            void 0 === n && (n = 0), void 0 === e && (e = r.length);
            var i,
              t = [
                0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615,
                3915621685, 2657392035, 249268274, 2044508324, 3772115230,
                2547177864, 162941995, 2125561021, 3887607047, 2428444049,
                498536548, 1789927666, 4089016648, 2227061214, 450548861,
                1843258603, 4107580753, 2211677639, 325883990, 1684777152,
                4251122042, 2321926636, 335633487, 1661365465, 4195302755,
                2366115317, 997073096, 1281953886, 3579855332, 2724688242,
                1006888145, 1258607687, 3524101629, 2768942443, 901097722,
                1119000684, 3686517206, 2898065728, 853044451, 1172266101,
                3705015759, 2882616665, 651767980, 1373503546, 3369554304,
                3218104598, 565507253, 1454621731, 3485111705, 3099436303,
                671266974, 1594198024, 3322730930, 2970347812, 795835527,
                1483230225, 3244367275, 3060149565, 1994146192, 31158534,
                2563907772, 4023717930, 1907459465, 112637215, 2680153253,
                3904427059, 2013776290, 251722036, 2517215374, 3775830040,
                2137656763, 141376813, 2439277719, 3865271297, 1802195444,
                476864866, 2238001368, 4066508878, 1812370925, 453092731,
                2181625025, 4111451223, 1706088902, 314042704, 2344532202,
                4240017532, 1658658271, 366619977, 2362670323, 4224994405,
                1303535960, 984961486, 2747007092, 3569037538, 1256170817,
                1037604311, 2765210733, 3554079995, 1131014506, 879679996,
                2909243462, 3663771856, 1141124467, 855842277, 2852801631,
                3708648649, 1342533948, 654459306, 3188396048, 3373015174,
                1466479909, 544179635, 3110523913, 3462522015, 1591671054,
                702138776, 2966460450, 3352799412, 1504918807, 783551873,
                3082640443, 3233442989, 3988292384, 2596254646, 62317068,
                1957810842, 3939845945, 2647816111, 81470997, 1943803523,
                3814918930, 2489596804, 225274430, 2053790376, 3826175755,
                2466906013, 167816743, 2097651377, 4027552580, 2265490386,
                503444072, 1762050814, 4150417245, 2154129355, 426522225,
                1852507879, 4275313526, 2312317920, 282753626, 1742555852,
                4189708143, 2394877945, 397917763, 1622183637, 3604390888,
                2714866558, 953729732, 1340076626, 3518719985, 2797360999,
                1068828381, 1219638859, 3624741850, 2936675148, 906185462,
                1090812512, 3747672003, 2825379669, 829329135, 1181335161,
                3412177804, 3160834842, 628085408, 1382605366, 3423369109,
                3138078467, 570562233, 1426400815, 3317316542, 2998733608,
                733239954, 1555261956, 3268935591, 3050360625, 752459403,
                1541320221, 2607071920, 3965973030, 1969922972, 40735498,
                2617837225, 3943577151, 1913087877, 83908371, 2512341634,
                3803740692, 2075208622, 213261112, 2463272603, 3855990285,
                2094854071, 198958881, 2262029012, 4057260610, 1759359992,
                534414190, 2176718541, 4139329115, 1873836001, 414664567,
                2282248934, 4279200368, 1711684554, 285281116, 2405801727,
                4167216745, 1634467795, 376229701, 2685067896, 3608007406,
                1308918612, 956543938, 2808555105, 3495958263, 1231636301,
                1047427035, 2932959818, 3654703836, 1088359270, 936918e3,
                2847714899, 3736837829, 1202900863, 817233897, 3183342108,
                3401237130, 1404277552, 615818150, 3134207493, 3453421203,
                1423857449, 601450431, 3009837614, 3294710456, 1567103746,
                711928724, 3020668471, 3272380065, 1510334235, 755167117,
              ],
              u = -1;
            r.length;
            for (i = n; i < e; i++) u = (u >>> 8) ^ t[255 & (u ^ r[i])];
            return -1 ^ u;
          }
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h = r[0].length,
            l = r[0][0].length,
            p = [
              137,
              80,
              78,
              71,
              13,
              10,
              26,
              10,
              0,
              0,
              0,
              13,
              73,
              72,
              68,
              82,
              (l >> 24) & 255,
              (l >> 16) & 255,
              (l >> 8) & 255,
              255 & l,
              (h >> 24) & 255,
              (h >> 16) & 255,
              (h >> 8) & 255,
              255 & h,
              8,
              2,
              0,
              0,
              0,
              -1,
              -2,
              -3,
              -4,
              -5,
              -6,
              -7,
              -8,
              73,
              68,
              65,
              84,
              8,
              29,
            ];
          for (
            s = n(p, 12, 29),
              p[29] = (s >> 24) & 255,
              p[30] = (s >> 16) & 255,
              p[31] = (s >> 8) & 255,
              p[32] = 255 & s,
              e = 1,
              i = 0,
              a = 0;
            a < h;
            a++
          ) {
            for (
              a < h - 1 ? p.push(0) : p.push(1),
                o = (3 * l + 1 + (0 === a)) & 255,
                c = ((3 * l + 1 + (0 === a)) >> 8) & 255,
                p.push(o),
                p.push(c),
                p.push(255 & ~o),
                p.push(255 & ~c),
                0 === a && p.push(0),
                f = 0;
              f < l;
              f++
            )
              for (t = 0; t < 3; t++)
                (i =
                  (i +
                    (e =
                      (e +
                        (o =
                          (o = r[t][a][f]) > 255
                            ? 255
                            : o < 0
                            ? 0
                            : Math.round(o))) %
                      65521)) %
                  65521),
                  p.push(o);
            p.push(0);
          }
          return (
            (m = (i << 16) + e),
            p.push((m >> 24) & 255),
            p.push((m >> 16) & 255),
            p.push((m >> 8) & 255),
            p.push(255 & m),
            (u = p.length - 41),
            (p[33] = (u >> 24) & 255),
            (p[34] = (u >> 16) & 255),
            (p[35] = (u >> 8) & 255),
            (p[36] = 255 & u),
            (s = n(p, 37)),
            p.push((s >> 24) & 255),
            p.push((s >> 16) & 255),
            p.push((s >> 8) & 255),
            p.push(255 & s),
            p.push(0),
            p.push(0),
            p.push(0),
            p.push(0),
            p.push(73),
            p.push(69),
            p.push(78),
            p.push(68),
            p.push(174),
            p.push(66),
            p.push(96),
            p.push(130),
            "data:image/png;base64," +
              (function (r) {
                var n,
                  e,
                  i,
                  t,
                  u,
                  o,
                  c,
                  a = r.length,
                  f =
                    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
                  m = "";
                for (n = 0; n < a; n += 3)
                  (u = ((3 & (e = r[n])) << 4) + ((i = r[n + 1]) >> 4)),
                    (o = ((15 & i) << 2) + ((t = r[n + 2]) >> 6)),
                    (c = 63 & t),
                    n + 1 >= a ? (o = c = 64) : n + 2 >= a && (c = 64),
                    (m +=
                      f.charAt(e >> 2) +
                      f.charAt(u) +
                      f.charAt(o) +
                      f.charAt(c));
                return m;
              })(p)
          );
        }),
        (numeric._dim = function (r) {
          for (var n = []; "object" == typeof r; ) n.push(r.length), (r = r[0]);
          return n;
        }),
        (numeric.dim = function (r) {
          var n;
          return "object" == typeof r
            ? "object" == typeof (n = r[0])
              ? "object" == typeof n[0]
                ? numeric._dim(r)
                : [r.length, n.length]
              : [r.length]
            : [];
        }),
        (numeric.mapreduce = function (r, n) {
          return Function(
            "x",
            "accum",
            "_s",
            "_k",
            'if(typeof accum === "undefined") accum = ' +
              n +
              ';\nif(typeof x === "number") { var xi = x; ' +
              r +
              '; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    ' +
              r +
              ";\n    xi = x[i-1];\n    " +
              r +
              ";\n}\nif(i === 0) {\n    xi = x[i];\n    " +
              r +
              "\n}\nreturn accum;"
          );
        }),
        (numeric.mapreduce2 = function (r, n) {
          return Function(
            "x",
            "var n = x.length;\nvar i,xi;\n" +
              n +
              ";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    " +
              r +
              ";\n}\nreturn accum;"
          );
        }),
        (numeric.same = function r(n, e) {
          var i, t;
          if (!(n instanceof Array && e instanceof Array)) return !1;
          if ((t = n.length) !== e.length) return !1;
          for (i = 0; i < t; i++)
            if (n[i] !== e[i]) {
              if ("object" != typeof n[i]) return !1;
              if (!r(n[i], e[i])) return !1;
            }
          return !0;
        }),
        (numeric.rep = function (r, n, e) {
          void 0 === e && (e = 0);
          var i,
            t = r[e],
            u = Array(t);
          if (e === r.length - 1) {
            for (i = t - 2; i >= 0; i -= 2) (u[i + 1] = n), (u[i] = n);
            return -1 === i && (u[0] = n), u;
          }
          for (i = t - 1; i >= 0; i--) u[i] = numeric.rep(r, n, e + 1);
          return u;
        }),
        (numeric.dotMMsmall = function (r, n) {
          var e, i, t, u, o, c, a, f, m, s, h;
          for (
            u = r.length,
              o = n.length,
              c = n[0].length,
              a = Array(u),
              e = u - 1;
            e >= 0;
            e--
          ) {
            for (f = Array(c), m = r[e], t = c - 1; t >= 0; t--) {
              for (s = m[o - 1] * n[o - 1][t], i = o - 2; i >= 1; i -= 2)
                (h = i - 1), (s += m[i] * n[i][t] + m[h] * n[h][t]);
              0 === i && (s += m[0] * n[0][t]), (f[t] = s);
            }
            a[e] = f;
          }
          return a;
        }),
        (numeric._getCol = function (r, n, e) {
          var i;
          for (i = r.length - 1; i > 0; --i)
            (e[i] = r[i][n]), (e[--i] = r[i][n]);
          0 === i && (e[0] = r[0][n]);
        }),
        (numeric.dotMMbig = function (r, n) {
          var e,
            i,
            t,
            u = numeric._getCol,
            o = n.length,
            c = Array(o),
            a = r.length,
            f = n[0].length,
            m = new Array(a),
            s = numeric.dotVV;
          for (--o, i = --a; -1 !== i; --i) m[i] = Array(f);
          for (i = --f; -1 !== i; --i)
            for (u(n, i, c), t = a; -1 !== t; --t)
              0, (e = r[t]), (m[t][i] = s(e, c));
          return m;
        }),
        (numeric.dotMV = function (r, n) {
          var e,
            i = r.length,
            t = (n.length, Array(i)),
            u = numeric.dotVV;
          for (e = i - 1; e >= 0; e--) t[e] = u(r[e], n);
          return t;
        }),
        (numeric.dotVM = function (r, n) {
          var e, i, t, u, o, c, a;
          for (
            t = r.length, u = n[0].length, o = Array(u), i = u - 1;
            i >= 0;
            i--
          ) {
            for (c = r[t - 1] * n[t - 1][i], e = t - 2; e >= 1; e -= 2)
              (a = e - 1), (c += r[e] * n[e][i] + r[a] * n[a][i]);
            0 === e && (c += r[0] * n[0][i]), (o[i] = c);
          }
          return o;
        }),
        (numeric.dotVV = function (r, n) {
          var e,
            i,
            t = r.length,
            u = r[t - 1] * n[t - 1];
          for (e = t - 2; e >= 1; e -= 2)
            (i = e - 1), (u += r[e] * n[e] + r[i] * n[i]);
          return 0 === e && (u += r[0] * n[0]), u;
        }),
        (numeric.dot = function (r, n) {
          var e = numeric.dim;
          switch (1e3 * e(r).length + e(n).length) {
            case 2002:
              return n.length < 10
                ? numeric.dotMMsmall(r, n)
                : numeric.dotMMbig(r, n);
            case 2001:
              return numeric.dotMV(r, n);
            case 1002:
              return numeric.dotVM(r, n);
            case 1001:
              return numeric.dotVV(r, n);
            case 1e3:
              return numeric.mulVS(r, n);
            case 1:
              return numeric.mulSV(r, n);
            case 0:
              return r * n;
            default:
              throw new Error("numeric.dot only works on vectors and matrices");
          }
        }),
        (numeric.diag = function (r) {
          var n,
            e,
            i,
            t,
            u = r.length,
            o = Array(u);
          for (n = u - 1; n >= 0; n--) {
            for (t = Array(u), e = n + 2, i = u - 1; i >= e; i -= 2)
              (t[i] = 0), (t[i - 1] = 0);
            for (i > n && (t[i] = 0), t[n] = r[n], i = n - 1; i >= 1; i -= 2)
              (t[i] = 0), (t[i - 1] = 0);
            0 === i && (t[0] = 0), (o[n] = t);
          }
          return o;
        }),
        (numeric.getDiag = function (r) {
          var n,
            e = Math.min(r.length, r[0].length),
            i = Array(e);
          for (n = e - 1; n >= 1; --n) (i[n] = r[n][n]), (i[--n] = r[n][n]);
          return 0 === n && (i[0] = r[0][0]), i;
        }),
        (numeric.identity = function (r) {
          return numeric.diag(numeric.rep([r], 1));
        }),
        (numeric.pointwise = function (r, n, e) {
          void 0 === e && (e = "");
          var i,
            t,
            u = [],
            o = /\[i\]$/,
            c = "",
            a = !1;
          for (i = 0; i < r.length; i++)
            o.test(r[i])
              ? (c = t = r[i].substring(0, r[i].length - 3))
              : (t = r[i]),
              "ret" === t && (a = !0),
              u.push(t);
          return (
            (u[r.length] = "_s"),
            (u[r.length + 1] = "_k"),
            (u[r.length + 2] =
              'if(typeof _s === "undefined") _s = numeric.dim(' +
              c +
              ');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i' +
              (a ? "" : ", ret = Array(_n)") +
              ";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(" +
              r.join(",") +
              ",_s,_k+1);\n    return ret;\n}\n" +
              e +
              "\nfor(i=_n-1;i!==-1;--i) {\n    " +
              n +
              "\n}\nreturn ret;"),
            Function.apply(null, u)
          );
        }),
        (numeric.pointwise2 = function (r, n, e) {
          void 0 === e && (e = "");
          var i,
            t,
            u = [],
            o = /\[i\]$/,
            c = "",
            a = !1;
          for (i = 0; i < r.length; i++)
            o.test(r[i])
              ? (c = t = r[i].substring(0, r[i].length - 3))
              : (t = r[i]),
              "ret" === t && (a = !0),
              u.push(t);
          return (
            (u[r.length] =
              "var _n = " +
              c +
              ".length;\nvar i" +
              (a ? "" : ", ret = Array(_n)") +
              ";\n" +
              e +
              "\nfor(i=_n-1;i!==-1;--i) {\n" +
              n +
              "\n}\nreturn ret;"),
            Function.apply(null, u)
          );
        }),
        (numeric._biforeach = function r(n, e, i, t, u) {
          var o;
          if (t !== i.length - 1)
            for (o = i[t] - 1; o >= 0; o--)
              r(
                "object" == typeof n ? n[o] : n,
                "object" == typeof e ? e[o] : e,
                i,
                t + 1,
                u
              );
          else u(n, e);
        }),
        (numeric._biforeach2 = function r(n, e, i, t, u) {
          if (t === i.length - 1) return u(n, e);
          var o,
            c = i[t],
            a = Array(c);
          for (o = c - 1; o >= 0; --o)
            a[o] = r(
              "object" == typeof n ? n[o] : n,
              "object" == typeof e ? e[o] : e,
              i,
              t + 1,
              u
            );
          return a;
        }),
        (numeric._foreach = function r(n, e, i, t) {
          var u;
          if (i !== e.length - 1)
            for (u = e[i] - 1; u >= 0; u--) r(n[u], e, i + 1, t);
          else t(n);
        }),
        (numeric._foreach2 = function r(n, e, i, t) {
          if (i === e.length - 1) return t(n);
          var u,
            o = e[i],
            c = Array(o);
          for (u = o - 1; u >= 0; u--) c[u] = r(n[u], e, i + 1, t);
          return c;
        }),
        (numeric.ops2 = {
          add: "+",
          sub: "-",
          mul: "*",
          div: "/",
          mod: "%",
          and: "&&",
          or: "||",
          eq: "===",
          neq: "!==",
          lt: "<",
          gt: ">",
          leq: "<=",
          geq: ">=",
          band: "&",
          bor: "|",
          bxor: "^",
          lshift: "<<",
          rshift: ">>",
          rrshift: ">>>",
        }),
        (numeric.opseq = {
          addeq: "+=",
          subeq: "-=",
          muleq: "*=",
          diveq: "/=",
          modeq: "%=",
          lshifteq: "<<=",
          rshifteq: ">>=",
          rrshifteq: ">>>=",
          bandeq: "&=",
          boreq: "|=",
          bxoreq: "^=",
        }),
        (numeric.mathfuns = [
          "abs",
          "acos",
          "asin",
          "atan",
          "ceil",
          "cos",
          "exp",
          "floor",
          "log",
          "round",
          "sin",
          "sqrt",
          "tan",
          "isNaN",
          "isFinite",
        ]),
        (numeric.mathfuns2 = ["atan2", "pow", "max", "min"]),
        (numeric.ops1 = { neg: "-", not: "!", bnot: "~", clone: "" }),
        (numeric.mapreducers = {
          any: ["if(xi) return true;", "var accum = false;"],
          all: ["if(!xi) return false;", "var accum = true;"],
          sum: ["accum += xi;", "var accum = 0;"],
          prod: ["accum *= xi;", "var accum = 1;"],
          norm2Squared: ["accum += xi*xi;", "var accum = 0;"],
          norminf: [
            "accum = max(accum,abs(xi));",
            "var accum = 0, max = Math.max, abs = Math.abs;",
          ],
          norm1: ["accum += abs(xi)", "var accum = 0, abs = Math.abs;"],
          sup: [
            "accum = max(accum,xi);",
            "var accum = -Infinity, max = Math.max;",
          ],
          inf: [
            "accum = min(accum,xi);",
            "var accum = Infinity, min = Math.min;",
          ],
        }),
        (function () {
          var r, n;
          for (r = 0; r < numeric.mathfuns2.length; ++r)
            (n = numeric.mathfuns2[r]), (numeric.ops2[n] = n);
          for (r in numeric.ops2)
            if (numeric.ops2.hasOwnProperty(r)) {
              n = numeric.ops2[r];
              var e,
                i,
                t = "";
              -1 !== numeric.myIndexOf.call(numeric.mathfuns2, r)
                ? ((t = "var " + n + " = Math." + n + ";\n"),
                  (e = function (r, e, i) {
                    return r + " = " + n + "(" + e + "," + i + ")";
                  }),
                  (i = function (r, e) {
                    return r + " = " + n + "(" + r + "," + e + ")";
                  }))
                : ((e = function (r, e, i) {
                    return r + " = " + e + " " + n + " " + i;
                  }),
                  (i = numeric.opseq.hasOwnProperty(r + "eq")
                    ? function (r, e) {
                        return r + " " + n + "= " + e;
                      }
                    : function (r, e) {
                        return r + " = " + r + " " + n + " " + e;
                      })),
                (numeric[r + "VV"] = numeric.pointwise2(
                  ["x[i]", "y[i]"],
                  e("ret[i]", "x[i]", "y[i]"),
                  t
                )),
                (numeric[r + "SV"] = numeric.pointwise2(
                  ["x", "y[i]"],
                  e("ret[i]", "x", "y[i]"),
                  t
                )),
                (numeric[r + "VS"] = numeric.pointwise2(
                  ["x[i]", "y"],
                  e("ret[i]", "x[i]", "y"),
                  t
                )),
                (numeric[r] = Function(
                  "var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric." +
                    r +
                    "VV, VS = numeric." +
                    r +
                    "VS, SV = numeric." +
                    r +
                    'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else ' +
                    i("x", "y") +
                    "\n}\nreturn x;\n"
                )),
                (numeric[n] = numeric[r]),
                (numeric[r + "eqV"] = numeric.pointwise2(
                  ["ret[i]", "x[i]"],
                  i("ret[i]", "x[i]"),
                  t
                )),
                (numeric[r + "eqS"] = numeric.pointwise2(
                  ["ret[i]", "x"],
                  i("ret[i]", "x"),
                  t
                )),
                (numeric[r + "eq"] = Function(
                  "var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric." +
                    r +
                    "eqV, S = numeric." +
                    r +
                    'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n'
                ));
            }
          for (r = 0; r < numeric.mathfuns2.length; ++r)
            (n = numeric.mathfuns2[r]), delete numeric.ops2[n];
          for (r = 0; r < numeric.mathfuns.length; ++r)
            (n = numeric.mathfuns[r]), (numeric.ops1[n] = n);
          for (r in numeric.ops1)
            numeric.ops1.hasOwnProperty(r) &&
              ((t = ""),
              (n = numeric.ops1[r]),
              -1 !== numeric.myIndexOf.call(numeric.mathfuns, r) &&
                Math.hasOwnProperty(n) &&
                (t = "var " + n + " = Math." + n + ";\n"),
              (numeric[r + "eqV"] = numeric.pointwise2(
                ["ret[i]"],
                "ret[i] = " + n + "(ret[i]);",
                t
              )),
              (numeric[r + "eq"] = Function(
                "x",
                'if(typeof x !== "object") return ' +
                  n +
                  "x\nvar i;\nvar V = numeric." +
                  r +
                  "eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"
              )),
              (numeric[r + "V"] = numeric.pointwise2(
                ["x[i]"],
                "ret[i] = " + n + "(x[i]);",
                t
              )),
              (numeric[r] = Function(
                "x",
                'if(typeof x !== "object") return ' +
                  n +
                  "(x)\nvar i;\nvar V = numeric." +
                  r +
                  "V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"
              )));
          for (r = 0; r < numeric.mathfuns.length; ++r)
            (n = numeric.mathfuns[r]), delete numeric.ops1[n];
          for (r in numeric.mapreducers)
            numeric.mapreducers.hasOwnProperty(r) &&
              ((n = numeric.mapreducers[r]),
              (numeric[r + "V"] = numeric.mapreduce2(n[0], n[1])),
              (numeric[r] = Function(
                "x",
                "s",
                "k",
                n[1] +
                  'if(typeof x !== "object") {    xi = x;\n' +
                  n[0] +
                  ';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.' +
                  r +
                  "V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n" +
                  n[0] +
                  ";\n}\nreturn accum;\n"
              )));
        })(),
        (numeric.truncVV = numeric.pointwise(
          ["x[i]", "y[i]"],
          "ret[i] = round(x[i]/y[i])*y[i];",
          "var round = Math.round;"
        )),
        (numeric.truncVS = numeric.pointwise(
          ["x[i]", "y"],
          "ret[i] = round(x[i]/y)*y;",
          "var round = Math.round;"
        )),
        (numeric.truncSV = numeric.pointwise(
          ["x", "y[i]"],
          "ret[i] = round(x/y[i])*y[i];",
          "var round = Math.round;"
        )),
        (numeric.trunc = function (r, n) {
          return "object" == typeof r
            ? "object" == typeof n
              ? numeric.truncVV(r, n)
              : numeric.truncVS(r, n)
            : "object" == typeof n
            ? numeric.truncSV(r, n)
            : Math.round(r / n) * n;
        }),
        (numeric.inv = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o,
            c,
            a = numeric.dim(r),
            f = Math.abs,
            m = a[0],
            s = a[1],
            h = numeric.clone(r),
            l = numeric.identity(m);
          for (o = 0; o < s; ++o) {
            var p = -1,
              y = -1;
            for (u = o; u !== m; ++u)
              (c = f(h[u][o])) > y && ((p = u), (y = c));
            for (
              e = h[p],
                h[p] = h[o],
                h[o] = e,
                t = l[p],
                l[p] = l[o],
                l[o] = t,
                r = e[o],
                c = o;
              c !== s;
              ++c
            )
              e[c] /= r;
            for (c = s - 1; -1 !== c; --c) t[c] /= r;
            for (u = m - 1; -1 !== u; --u)
              if (u !== o) {
                for (n = h[u], i = l[u], r = n[o], c = o + 1; c !== s; ++c)
                  n[c] -= e[c] * r;
                for (c = s - 1; c > 0; --c)
                  (i[c] -= t[c] * r), (i[--c] -= t[c] * r);
                0 === c && (i[0] -= t[0] * r);
              }
          }
          return l;
        }),
        (numeric.det = function (r) {
          var n = numeric.dim(r);
          if (2 !== n.length || n[0] !== n[1])
            throw new Error("numeric: det() only works on square matrices");
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m = n[0],
            s = 1,
            h = numeric.clone(r);
          for (i = 0; i < m - 1; i++) {
            for (t = i, e = i + 1; e < m; e++)
              Math.abs(h[e][i]) > Math.abs(h[t][i]) && (t = e);
            for (
              t !== i && ((a = h[t]), (h[t] = h[i]), (h[i] = a), (s *= -1)),
                u = h[i],
                e = i + 1;
              e < m;
              e++
            ) {
              for (c = (o = h[e])[i] / u[i], t = i + 1; t < m - 1; t += 2)
                (f = t + 1), (o[t] -= u[t] * c), (o[f] -= u[f] * c);
              t !== m && (o[t] -= u[t] * c);
            }
            if (0 === u[i]) return 0;
            s *= u[i];
          }
          return s * h[i][i];
        }),
        (numeric.transpose = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o = r.length,
            c = r[0].length,
            a = Array(c);
          for (e = 0; e < c; e++) a[e] = Array(o);
          for (n = o - 1; n >= 1; n -= 2) {
            for (t = r[n], i = r[n - 1], e = c - 1; e >= 1; --e)
              ((u = a[e])[n] = t[e]),
                (u[n - 1] = i[e]),
                ((u = a[--e])[n] = t[e]),
                (u[n - 1] = i[e]);
            0 === e && (((u = a[0])[n] = t[0]), (u[n - 1] = i[0]));
          }
          if (0 === n) {
            for (i = r[0], e = c - 1; e >= 1; --e)
              (a[e][0] = i[e]), (a[--e][0] = i[e]);
            0 === e && (a[0][0] = i[0]);
          }
          return a;
        }),
        (numeric.negtranspose = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o = r.length,
            c = r[0].length,
            a = Array(c);
          for (e = 0; e < c; e++) a[e] = Array(o);
          for (n = o - 1; n >= 1; n -= 2) {
            for (t = r[n], i = r[n - 1], e = c - 1; e >= 1; --e)
              ((u = a[e])[n] = -t[e]),
                (u[n - 1] = -i[e]),
                ((u = a[--e])[n] = -t[e]),
                (u[n - 1] = -i[e]);
            0 === e && (((u = a[0])[n] = -t[0]), (u[n - 1] = -i[0]));
          }
          if (0 === n) {
            for (i = r[0], e = c - 1; e >= 1; --e)
              (a[e][0] = -i[e]), (a[--e][0] = -i[e]);
            0 === e && (a[0][0] = -i[0]);
          }
          return a;
        }),
        (numeric._random = function r(n, e) {
          var i,
            t,
            u = n[e],
            o = Array(u);
          if (e === n.length - 1) {
            for (t = Math.random, i = u - 1; i >= 1; i -= 2)
              (o[i] = t()), (o[i - 1] = t());
            return 0 === i && (o[0] = t()), o;
          }
          for (i = u - 1; i >= 0; i--) o[i] = r(n, e + 1);
          return o;
        }),
        (numeric.random = function (r) {
          return numeric._random(r, 0);
        }),
        (numeric.norm2 = function (r) {
          return Math.sqrt(numeric.norm2Squared(r));
        }),
        (numeric.linspace = function (r, n, e) {
          if ((void 0 === e && (e = Math.max(Math.round(n - r) + 1, 1)), e < 2))
            return 1 === e ? [r] : [];
          var i,
            t = Array(e);
          for (i = --e; i >= 0; i--) t[i] = (i * n + (e - i) * r) / e;
          return t;
        }),
        (numeric.getBlock = function (r, n, e) {
          var i = numeric.dim(r);
          return (function r(t, u) {
            var o,
              c = n[u],
              a = e[u] - c,
              f = Array(a);
            if (u === i.length - 1) {
              for (o = a; o >= 0; o--) f[o] = t[o + c];
              return f;
            }
            for (o = a; o >= 0; o--) f[o] = r(t[o + c], u + 1);
            return f;
          })(r, 0);
        }),
        (numeric.setBlock = function (r, n, e, i) {
          var t = numeric.dim(r);
          return (
            (function r(i, u, o) {
              var c,
                a = n[o],
                f = e[o] - a;
              if (o === t.length - 1) for (c = f; c >= 0; c--) i[c + a] = u[c];
              for (c = f; c >= 0; c--) r(i[c + a], u[c], o + 1);
            })(r, i, 0),
            r
          );
        }),
        (numeric.getRange = function (r, n, e) {
          var i,
            t,
            u,
            o,
            c = n.length,
            a = e.length,
            f = Array(c);
          for (i = c - 1; -1 !== i; --i)
            for (
              f[i] = Array(a), u = f[i], o = r[n[i]], t = a - 1;
              -1 !== t;
              --t
            )
              u[t] = o[e[t]];
          return f;
        }),
        (numeric.blockMatrix = function (r) {
          var n = numeric.dim(r);
          if (n.length < 4) return numeric.blockMatrix([r]);
          var e,
            i,
            t,
            u,
            o,
            c = n[0],
            a = n[1];
          for (e = 0, i = 0, t = 0; t < c; ++t) e += r[t][0].length;
          for (u = 0; u < a; ++u) i += r[0][u][0].length;
          var f = Array(e);
          for (t = 0; t < e; ++t) f[t] = Array(i);
          var m,
            s,
            h,
            l,
            p,
            y = 0;
          for (t = 0; t < c; ++t) {
            for (m = i, u = a - 1; -1 !== u; --u)
              for (
                m -= (o = r[t][u])[0].length, h = o.length - 1;
                -1 !== h;
                --h
              )
                for (p = o[h], s = f[y + h], l = p.length - 1; -1 !== l; --l)
                  s[m + l] = p[l];
            y += r[t][0].length;
          }
          return f;
        }),
        (numeric.tensor = function (r, n) {
          if ("number" == typeof r || "number" == typeof n)
            return numeric.mul(r, n);
          var e = numeric.dim(r),
            i = numeric.dim(n);
          if (1 !== e.length || 1 !== i.length)
            throw new Error(
              "numeric: tensor product is only defined for vectors"
            );
          var t,
            u,
            o,
            c,
            a = e[0],
            f = i[0],
            m = Array(a);
          for (u = a - 1; u >= 0; u--) {
            for (t = Array(f), c = r[u], o = f - 1; o >= 3; --o)
              (t[o] = c * n[o]),
                (t[--o] = c * n[o]),
                (t[--o] = c * n[o]),
                (t[--o] = c * n[o]);
            for (; o >= 0; ) (t[o] = c * n[o]), --o;
            m[u] = t;
          }
          return m;
        }),
        (numeric.T = function (r, n) {
          (this.x = r), (this.y = n);
        }),
        (numeric.t = function (r, n) {
          return new numeric.T(r, n);
        }),
        (numeric.Tbinop = function (r, n, e, i, t) {
          var u;
          numeric.indexOf;
          if ("string" != typeof t)
            for (u in ((t = ""), numeric))
              numeric.hasOwnProperty(u) &&
                (r.indexOf(u) >= 0 ||
                  n.indexOf(u) >= 0 ||
                  e.indexOf(u) >= 0 ||
                  i.indexOf(u) >= 0) &&
                u.length > 1 &&
                (t += "var " + u + " = numeric." + u + ";\n");
          return Function(
            ["y"],
            "var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n" +
              t +
              "\nif(x.y) {  if(y.y) {    return new numeric.T(" +
              i +
              ");\n  }\n  return new numeric.T(" +
              e +
              ");\n}\nif(y.y) {\n  return new numeric.T(" +
              n +
              ");\n}\nreturn new numeric.T(" +
              r +
              ");\n"
          );
        }),
        (numeric.T.prototype.add = numeric.Tbinop(
          "add(x.x,y.x)",
          "add(x.x,y.x),y.y",
          "add(x.x,y.x),x.y",
          "add(x.x,y.x),add(x.y,y.y)"
        )),
        (numeric.T.prototype.sub = numeric.Tbinop(
          "sub(x.x,y.x)",
          "sub(x.x,y.x),neg(y.y)",
          "sub(x.x,y.x),x.y",
          "sub(x.x,y.x),sub(x.y,y.y)"
        )),
        (numeric.T.prototype.mul = numeric.Tbinop(
          "mul(x.x,y.x)",
          "mul(x.x,y.x),mul(x.x,y.y)",
          "mul(x.x,y.x),mul(x.y,y.x)",
          "sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"
        )),
        (numeric.T.prototype.reciprocal = function () {
          var r = numeric.mul,
            n = numeric.div;
          if (this.y) {
            var e = numeric.add(r(this.x, this.x), r(this.y, this.y));
            return new numeric.T(n(this.x, e), n(numeric.neg(this.y), e));
          }
          return new T(n(1, this.x));
        }),
        (numeric.T.prototype.div = function (r) {
          if ((r instanceof numeric.T || (r = new numeric.T(r)), r.y))
            return this.mul(r.reciprocal());
          var n = numeric.div;
          return this.y
            ? new numeric.T(n(this.x, r.x), n(this.y, r.x))
            : new numeric.T(n(this.x, r.x));
        }),
        (numeric.T.prototype.dot = numeric.Tbinop(
          "dot(x.x,y.x)",
          "dot(x.x,y.x),dot(x.x,y.y)",
          "dot(x.x,y.x),dot(x.y,y.x)",
          "sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"
        )),
        (numeric.T.prototype.transpose = function () {
          var r = numeric.transpose,
            n = this.x,
            e = this.y;
          return e ? new numeric.T(r(n), r(e)) : new numeric.T(r(n));
        }),
        (numeric.T.prototype.transjugate = function () {
          var r = numeric.transpose,
            n = this.x,
            e = this.y;
          return e
            ? new numeric.T(r(n), numeric.negtranspose(e))
            : new numeric.T(r(n));
        }),
        (numeric.Tunop = function (r, n, e) {
          return (
            "string" != typeof e && (e = ""),
            Function(
              "var x = this;\n" + e + "\nif(x.y) {  " + n + ";\n}\n" + r + ";\n"
            )
          );
        }),
        (numeric.T.prototype.exp = numeric.Tunop(
          "return new numeric.T(ex)",
          "return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))",
          "var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"
        )),
        (numeric.T.prototype.conj = numeric.Tunop(
          "return new numeric.T(x.x);",
          "return new numeric.T(x.x,numeric.neg(x.y));"
        )),
        (numeric.T.prototype.neg = numeric.Tunop(
          "return new numeric.T(neg(x.x));",
          "return new numeric.T(neg(x.x),neg(x.y));",
          "var neg = numeric.neg;"
        )),
        (numeric.T.prototype.sin = numeric.Tunop(
          "return new numeric.T(numeric.sin(x.x))",
          "return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"
        )),
        (numeric.T.prototype.cos = numeric.Tunop(
          "return new numeric.T(numeric.cos(x.x))",
          "return x.exp().add(x.neg().exp()).div(2);"
        )),
        (numeric.T.prototype.abs = numeric.Tunop(
          "return new numeric.T(numeric.abs(x.x));",
          "return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));",
          "var mul = numeric.mul;"
        )),
        (numeric.T.prototype.log = numeric.Tunop(
          "return new numeric.T(numeric.log(x.x));",
          "var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"
        )),
        (numeric.T.prototype.norm2 = numeric.Tunop(
          "return numeric.norm2(x.x);",
          "var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"
        )),
        (numeric.T.prototype.inv = function () {
          var r = this;
          if (void 0 === r.y) return new numeric.T(numeric.inv(r.x));
          var n,
            e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d,
            v,
            x = r.x.length,
            b = numeric.identity(x),
            w = numeric.rep([x, x], 0),
            M = numeric.clone(r.x),
            k = numeric.clone(r.y);
          for (f = 0; f < x; f++) {
            for (
              h = (p = M[f][f]) * p + (y = k[f][f]) * y, s = f, m = f + 1;
              m < x;
              m++
            )
              (l = (p = M[m][f]) * p + (y = k[m][f]) * y) > h &&
                ((s = m), (h = l));
            for (
              s !== f &&
                ((v = M[f]),
                (M[f] = M[s]),
                (M[s] = v),
                (v = k[f]),
                (k[f] = k[s]),
                (k[s] = v),
                (v = b[f]),
                (b[f] = b[s]),
                (b[s] = v),
                (v = w[f]),
                (w[f] = w[s]),
                (w[s] = v)),
                n = M[f],
                e = k[f],
                u = b[f],
                o = w[f],
                p = n[f],
                y = e[f],
                m = f + 1;
              m < x;
              m++
            )
              (g = n[m]),
                (d = e[m]),
                (n[m] = (g * p + d * y) / h),
                (e[m] = (d * p - g * y) / h);
            for (m = 0; m < x; m++)
              (g = u[m]),
                (d = o[m]),
                (u[m] = (g * p + d * y) / h),
                (o[m] = (d * p - g * y) / h);
            for (m = f + 1; m < x; m++) {
              for (
                i = M[m],
                  t = k[m],
                  c = b[m],
                  a = w[m],
                  p = i[f],
                  y = t[f],
                  s = f + 1;
                s < x;
                s++
              )
                (g = n[s]),
                  (d = e[s]),
                  (i[s] -= g * p - d * y),
                  (t[s] -= d * p + g * y);
              for (s = 0; s < x; s++)
                (g = u[s]),
                  (d = o[s]),
                  (c[s] -= g * p - d * y),
                  (a[s] -= d * p + g * y);
            }
          }
          for (f = x - 1; f > 0; f--)
            for (u = b[f], o = w[f], m = f - 1; m >= 0; m--)
              for (
                c = b[m], a = w[m], p = M[m][f], y = k[m][f], s = x - 1;
                s >= 0;
                s--
              )
                (g = u[s]),
                  (d = o[s]),
                  (c[s] -= p * g - y * d),
                  (a[s] -= p * d + y * g);
          return new numeric.T(b, w);
        }),
        (numeric.T.prototype.get = function (r) {
          var n,
            e = this.x,
            i = this.y,
            t = 0,
            u = r.length;
          if (i) {
            for (; t < u; ) (e = e[(n = r[t])]), (i = i[n]), t++;
            return new numeric.T(e, i);
          }
          for (; t < u; ) (e = e[(n = r[t])]), t++;
          return new numeric.T(e);
        }),
        (numeric.T.prototype.set = function (r, n) {
          var e,
            i = this.x,
            t = this.y,
            u = 0,
            o = r.length,
            c = n.x,
            a = n.y;
          if (0 === o)
            return (
              a ? (this.y = a) : t && (this.y = void 0), (this.x = i), this
            );
          if (a) {
            for (
              t || ((t = numeric.rep(numeric.dim(i), 0)), (this.y = t));
              u < o - 1;

            )
              (i = i[(e = r[u])]), (t = t[e]), u++;
            return (i[(e = r[u])] = c), (t[e] = a), this;
          }
          if (t) {
            for (; u < o - 1; ) (i = i[(e = r[u])]), (t = t[e]), u++;
            return (
              (i[(e = r[u])] = c),
              (t[e] = c instanceof Array ? numeric.rep(numeric.dim(c), 0) : 0),
              this
            );
          }
          for (; u < o - 1; ) (i = i[(e = r[u])]), u++;
          return (i[(e = r[u])] = c), this;
        }),
        (numeric.T.prototype.getRows = function (r, n) {
          var e,
            i,
            t = n - r + 1,
            u = Array(t),
            o = this.x,
            c = this.y;
          for (e = r; e <= n; e++) u[e - r] = o[e];
          if (c) {
            for (i = Array(t), e = r; e <= n; e++) i[e - r] = c[e];
            return new numeric.T(u, i);
          }
          return new numeric.T(u);
        }),
        (numeric.T.prototype.setRows = function (r, n, e) {
          var i,
            t = this.x,
            u = this.y,
            o = e.x,
            c = e.y;
          for (i = r; i <= n; i++) t[i] = o[i - r];
          if (c)
            for (
              u || ((u = numeric.rep(numeric.dim(t), 0)), (this.y = u)), i = r;
              i <= n;
              i++
            )
              u[i] = c[i - r];
          else if (u)
            for (i = r; i <= n; i++) u[i] = numeric.rep([o[i - r].length], 0);
          return this;
        }),
        (numeric.T.prototype.getRow = function (r) {
          var n = this.x,
            e = this.y;
          return e ? new numeric.T(n[r], e[r]) : new numeric.T(n[r]);
        }),
        (numeric.T.prototype.setRow = function (r, n) {
          var e = this.x,
            i = this.y,
            t = n.x,
            u = n.y;
          return (
            (e[r] = t),
            u
              ? (i || ((i = numeric.rep(numeric.dim(e), 0)), (this.y = i)),
                (i[r] = u))
              : i && (i = numeric.rep([t.length], 0)),
            this
          );
        }),
        (numeric.T.prototype.getBlock = function (r, n) {
          var e = this.x,
            i = this.y,
            t = numeric.getBlock;
          return i
            ? new numeric.T(t(e, r, n), t(i, r, n))
            : new numeric.T(t(e, r, n));
        }),
        (numeric.T.prototype.setBlock = function (r, n, e) {
          e instanceof numeric.T || (e = new numeric.T(e));
          var i = this.x,
            t = this.y,
            u = numeric.setBlock,
            o = e.x,
            c = e.y;
          if (c)
            return (
              t || ((this.y = numeric.rep(numeric.dim(this), 0)), (t = this.y)),
              u(i, r, n, o),
              u(t, r, n, c),
              this
            );
          u(i, r, n, o), t && u(t, r, n, numeric.rep(numeric.dim(o), 0));
        }),
        (numeric.T.rep = function (r, n) {
          var e = numeric.T;
          n instanceof e || (n = new e(n));
          var i = n.x,
            t = n.y,
            u = numeric.rep;
          return t ? new e(u(r, i), u(r, t)) : new e(u(r, i));
        }),
        (numeric.T.diag = function (r) {
          r instanceof numeric.T || (r = new numeric.T(r));
          var n = r.x,
            e = r.y,
            i = numeric.diag;
          return e ? new numeric.T(i(n), i(e)) : new numeric.T(i(n));
        }),
        (numeric.T.eig = function () {
          if (this.y)
            throw new Error("eig: not implemented for complex matrices.");
          return numeric.eig(this.x);
        }),
        (numeric.T.identity = function (r) {
          return new numeric.T(numeric.identity(r));
        }),
        (numeric.T.prototype.getDiag = function () {
          var r = numeric,
            n = this.x,
            e = this.y;
          return e
            ? new r.T(r.getDiag(n), r.getDiag(e))
            : new r.T(r.getDiag(n));
        }),
        (numeric.house = function (r) {
          var n = numeric.clone(r),
            e = (r[0] >= 0 ? 1 : -1) * numeric.norm2(r);
          n[0] += e;
          var i = numeric.norm2(n);
          if (0 === i) throw new Error("eig: internal error");
          return numeric.div(n, i);
        }),
        (numeric.toUpperHessenberg = function (r) {
          var n = numeric.dim(r);
          if (2 !== n.length || n[0] !== n[1])
            throw new Error(
              "numeric: toUpperHessenberg() only works on square matrices"
            );
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h = n[0],
            l = numeric.clone(r),
            p = numeric.identity(h);
          for (i = 0; i < h - 2; i++) {
            for (u = Array(h - i - 1), e = i + 1; e < h; e++)
              u[e - i - 1] = l[e][i];
            if (numeric.norm2(u) > 0) {
              for (
                o = numeric.house(u),
                  c = numeric.getBlock(l, [i + 1, i], [h - 1, h - 1]),
                  a = numeric.tensor(o, numeric.dot(o, c)),
                  e = i + 1;
                e < h;
                e++
              )
                for (f = l[e], m = a[e - i - 1], t = i; t < h; t++)
                  f[t] -= 2 * m[t - i];
              for (
                c = numeric.getBlock(l, [0, i + 1], [h - 1, h - 1]),
                  a = numeric.tensor(numeric.dot(c, o), o),
                  e = 0;
                e < h;
                e++
              )
                for (f = l[e], m = a[e], t = i + 1; t < h; t++)
                  f[t] -= 2 * m[t - i - 1];
              for (c = Array(h - i - 1), e = i + 1; e < h; e++)
                c[e - i - 1] = p[e];
              for (
                a = numeric.tensor(o, numeric.dot(o, c)), e = i + 1;
                e < h;
                e++
              )
                for (s = p[e], m = a[e - i - 1], t = 0; t < h; t++)
                  s[t] -= 2 * m[t];
            }
          }
          return { H: l, Q: p };
        }),
        (numeric.epsilon = 2220446049250313e-31),
        (numeric.QRFrancis = function (r, n) {
          void 0 === n && (n = 1e4), (r = numeric.clone(r));
          numeric.clone(r);
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d,
            v,
            x,
            b = numeric.dim(r)[0],
            w = numeric.identity(b);
          if (b < 3) return { Q: w, B: [[0, b - 1]] };
          var M = numeric.epsilon;
          for (x = 0; x < n; x++) {
            for (d = 0; d < b - 1; d++)
              if (
                Math.abs(r[d + 1][d]) <
                M * (Math.abs(r[d][d]) + Math.abs(r[d + 1][d + 1]))
              ) {
                var k = numeric.QRFrancis(
                    numeric.getBlock(r, [0, 0], [d, d]),
                    n
                  ),
                  A = numeric.QRFrancis(
                    numeric.getBlock(r, [d + 1, d + 1], [b - 1, b - 1]),
                    n
                  );
                for (l = Array(d + 1), g = 0; g <= d; g++) l[g] = w[g];
                for (p = numeric.dot(k.Q, l), g = 0; g <= d; g++) w[g] = p[g];
                for (l = Array(b - d - 1), g = d + 1; g < b; g++)
                  l[g - d - 1] = w[g];
                for (p = numeric.dot(A.Q, l), g = d + 1; g < b; g++)
                  w[g] = p[g - d - 1];
                return { Q: w, B: k.B.concat(numeric.add(A.B, d + 1)) };
              }
            var T, j, S;
            if (
              ((t = r[b - 2][b - 2]),
              (u = r[b - 2][b - 1]),
              (o = r[b - 1][b - 2]),
              (f = t + (c = r[b - 1][b - 1])),
              (a = t * c - u * o),
              (m = numeric.getBlock(r, [0, 0], [2, 2])),
              f * f >= 4 * a)
            )
              (T = 0.5 * (f + Math.sqrt(f * f - 4 * a))),
                (j = 0.5 * (f - Math.sqrt(f * f - 4 * a))),
                (m = numeric.add(
                  numeric.sub(numeric.dot(m, m), numeric.mul(m, T + j)),
                  numeric.diag(numeric.rep([3], T * j))
                ));
            else
              m = numeric.add(
                numeric.sub(numeric.dot(m, m), numeric.mul(m, f)),
                numeric.diag(numeric.rep([3], a))
              );
            for (
              e = [m[0][0], m[1][0], m[2][0]],
                i = numeric.house(e),
                l = [r[0], r[1], r[2]],
                p = numeric.tensor(i, numeric.dot(i, l)),
                g = 0;
              g < 3;
              g++
            )
              for (h = r[g], y = p[g], v = 0; v < b; v++) h[v] -= 2 * y[v];
            for (
              l = numeric.getBlock(r, [0, 0], [b - 1, 2]),
                p = numeric.tensor(numeric.dot(l, i), i),
                g = 0;
              g < b;
              g++
            )
              for (h = r[g], y = p[g], v = 0; v < 3; v++) h[v] -= 2 * y[v];
            for (
              l = [w[0], w[1], w[2]],
                p = numeric.tensor(i, numeric.dot(i, l)),
                g = 0;
              g < 3;
              g++
            )
              for (s = w[g], y = p[g], v = 0; v < b; v++) s[v] -= 2 * y[v];
            for (d = 0; d < b - 2; d++) {
              for (v = d; v <= d + 1; v++)
                if (
                  Math.abs(r[v + 1][v]) <
                  M * (Math.abs(r[v][v]) + Math.abs(r[v + 1][v + 1]))
                ) {
                  (k = numeric.QRFrancis(
                    numeric.getBlock(r, [0, 0], [v, v]),
                    n
                  )),
                    (A = numeric.QRFrancis(
                      numeric.getBlock(r, [v + 1, v + 1], [b - 1, b - 1]),
                      n
                    ));
                  for (l = Array(v + 1), g = 0; g <= v; g++) l[g] = w[g];
                  for (p = numeric.dot(k.Q, l), g = 0; g <= v; g++) w[g] = p[g];
                  for (l = Array(b - v - 1), g = v + 1; g < b; g++)
                    l[g - v - 1] = w[g];
                  for (p = numeric.dot(A.Q, l), g = v + 1; g < b; g++)
                    w[g] = p[g - v - 1];
                  return { Q: w, B: k.B.concat(numeric.add(A.B, v + 1)) };
                }
              for (
                S = Math.min(b - 1, d + 3), e = Array(S - d), g = d + 1;
                g <= S;
                g++
              )
                e[g - d - 1] = r[g][d];
              for (
                i = numeric.house(e),
                  l = numeric.getBlock(r, [d + 1, d], [S, b - 1]),
                  p = numeric.tensor(i, numeric.dot(i, l)),
                  g = d + 1;
                g <= S;
                g++
              )
                for (h = r[g], y = p[g - d - 1], v = d; v < b; v++)
                  h[v] -= 2 * y[v - d];
              for (
                l = numeric.getBlock(r, [0, d + 1], [b - 1, S]),
                  p = numeric.tensor(numeric.dot(l, i), i),
                  g = 0;
                g < b;
                g++
              )
                for (h = r[g], y = p[g], v = d + 1; v <= S; v++)
                  h[v] -= 2 * y[v - d - 1];
              for (l = Array(S - d), g = d + 1; g <= S; g++)
                l[g - d - 1] = w[g];
              for (
                p = numeric.tensor(i, numeric.dot(i, l)), g = d + 1;
                g <= S;
                g++
              )
                for (s = w[g], y = p[g - d - 1], v = 0; v < b; v++)
                  s[v] -= 2 * y[v];
            }
          }
          throw new Error(
            "numeric: eigenvalue iteration does not converge -- increase maxiter?"
          );
        }),
        (numeric.eig = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d,
            v = numeric.toUpperHessenberg(r),
            x = numeric.QRFrancis(v.H, n),
            b = numeric.T,
            w = r.length,
            M = x.B,
            k = numeric.dot(x.Q, numeric.dot(v.H, numeric.transpose(x.Q))),
            A = new b(numeric.dot(x.Q, v.Q)),
            T = M.length,
            j = Math.sqrt;
          for (i = 0; i < T; i++)
            if ((e = M[i][0]) === M[i][1]);
            else {
              if (
                ((u = e + 1),
                (o = k[e][e]),
                (c = k[e][u]),
                (a = k[u][e]),
                (f = k[u][u]),
                0 === c && 0 === a)
              )
                continue;
              (s = (m = -o - f) * m - 4 * (o * f - c * a)) >= 0
                ? ((g =
                    (o - (h = m < 0 ? -0.5 * (m - j(s)) : -0.5 * (m + j(s)))) *
                      (o - h) +
                    c * c) > (d = a * a + (f - h) * (f - h))
                    ? ((p = (o - h) / (g = j(g))), (y = c / g))
                    : ((p = a / (d = j(d))), (y = (f - h) / d)),
                  (t = new b([
                    [y, -p],
                    [p, y],
                  ])),
                  A.setRows(e, u, t.dot(A.getRows(e, u))))
                : ((h = -0.5 * m),
                  (l = 0.5 * j(-s)),
                  (g = (o - h) * (o - h) + c * c) >
                  (d = a * a + (f - h) * (f - h))
                    ? ((p = (o - h) / (g = j(g + l * l))),
                      (y = c / g),
                      (h = 0),
                      (l /= g))
                    : ((p = a / (d = j(d + l * l))),
                      (y = (f - h) / d),
                      (h = l / d),
                      (l = 0)),
                  (t = new b(
                    [
                      [y, -p],
                      [p, y],
                    ],
                    [
                      [h, l],
                      [l, -h],
                    ]
                  )),
                  A.setRows(e, u, t.dot(A.getRows(e, u))));
            }
          var S = A.dot(r).dot(A.transjugate()),
            _ = ((w = r.length), numeric.T.identity(w));
          for (u = 0; u < w; u++)
            if (u > 0)
              for (i = u - 1; i >= 0; i--) {
                var V = S.get([i, i]),
                  P = S.get([u, u]);
                numeric.neq(V.x, P.x) || numeric.neq(V.y, P.y)
                  ? ((h = S.getRow(i).getBlock([i], [u - 1])),
                    (l = _.getRow(u).getBlock([i], [u - 1])),
                    _.set(
                      [u, i],
                      S.get([i, u]).neg().sub(h.dot(l)).div(V.sub(P))
                    ))
                  : _.setRow(u, _.getRow(i));
              }
          for (u = 0; u < w; u++)
            (h = _.getRow(u)), _.setRow(u, h.div(h.norm2()));
          return (
            (_ = _.transpose()),
            (_ = A.transjugate().dot(_)),
            { lambda: S.getDiag(), E: _ }
          );
        }),
        (numeric.ccsSparse = function (r) {
          var n,
            e,
            i,
            t = r.length,
            u = [];
          for (e = t - 1; -1 !== e; --e)
            for (i in (n = r[e])) {
              for (i = parseInt(i); i >= u.length; ) u[u.length] = 0;
              0 !== n[i] && u[i]++;
            }
          var o = u.length,
            c = Array(o + 1);
          for (c[0] = 0, e = 0; e < o; ++e) c[e + 1] = c[e] + u[e];
          var a = Array(c[o]),
            f = Array(c[o]);
          for (e = t - 1; -1 !== e; --e)
            for (i in (n = r[e]))
              0 !== n[i] &&
                (u[i]--, (a[c[i] + u[i]] = e), (f[c[i] + u[i]] = n[i]));
          return [c, a, f];
        }),
        (numeric.ccsFull = function (r) {
          var n,
            e,
            i,
            t,
            u = r[0],
            o = r[1],
            c = r[2],
            a = numeric.ccsDim(r),
            f = a[0],
            m = a[1],
            s = numeric.rep([f, m], 0);
          for (n = 0; n < m; n++)
            for (i = u[n], t = u[n + 1], e = i; e < t; ++e) s[o[e]][n] = c[e];
          return s;
        }),
        (numeric.ccsTSolve = function (r, n, e, i, t) {
          var u,
            o,
            c,
            a,
            f,
            m,
            s,
            h = r[0],
            l = r[1],
            p = r[2],
            y = h.length - 1,
            g = Math.max,
            d = 0;
          function v(r) {
            var n;
            if (0 === e[r]) {
              for (e[r] = 1, n = h[r]; n < h[r + 1]; ++n) v(l[n]);
              (t[d] = r), ++d;
            }
          }
          for (
            void 0 === i && (e = numeric.rep([y], 0)),
              void 0 === i && (i = numeric.linspace(0, e.length - 1)),
              void 0 === t && (t = []),
              u = i.length - 1;
            -1 !== u;
            --u
          )
            v(i[u]);
          for (t.length = d, u = t.length - 1; -1 !== u; --u) e[t[u]] = 0;
          for (u = i.length - 1; -1 !== u; --u) (o = i[u]), (e[o] = n[o]);
          for (u = t.length - 1; -1 !== u; --u) {
            for (o = t[u], c = h[o], a = g(h[o + 1], c), f = c; f !== a; ++f)
              if (l[f] === o) {
                e[o] /= p[f];
                break;
              }
            for (s = e[o], f = c; f !== a; ++f)
              (m = l[f]) !== o && (e[m] -= s * p[f]);
          }
          return e;
        }),
        (numeric.ccsDFS = function (r) {
          (this.k = Array(r)), (this.k1 = Array(r)), (this.j = Array(r));
        }),
        (numeric.ccsDFS.prototype.dfs = function (r, n, e, i, t, u) {
          var o,
            c,
            a,
            f = 0,
            m = t.length,
            s = this.k,
            h = this.k1,
            l = this.j;
          if (0 === i[r])
            for (i[r] = 1, l[0] = r, s[0] = c = n[r], h[0] = a = n[r + 1]; ; )
              if (c >= a) {
                if (((t[m] = l[f]), 0 === f)) return;
                ++m, (c = s[--f]), (a = h[f]);
              } else
                0 === i[(o = u[e[c]])]
                  ? ((i[o] = 1),
                    (s[f] = c),
                    (l[++f] = o),
                    (c = n[o]),
                    (h[f] = a = n[o + 1]))
                  : ++c;
        }),
        (numeric.ccsLPSolve = function (r, n, e, i, t, u, o) {
          var c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g = r[0],
            d = r[1],
            v = r[2],
            x = (g.length, n[0]),
            b = n[1],
            w = n[2];
          for (a = x[t], f = x[t + 1], i.length = 0, c = a; c < f; ++c)
            o.dfs(u[b[c]], g, d, e, i, u);
          for (c = i.length - 1; -1 !== c; --c) e[i[c]] = 0;
          for (c = a; c !== f; ++c) e[(m = u[b[c]])] = w[c];
          for (c = i.length - 1; -1 !== c; --c) {
            for (s = g[(m = i[c])], h = g[m + 1], l = s; l < h; ++l)
              if (u[d[l]] === m) {
                e[m] /= v[l];
                break;
              }
            for (y = e[m], l = s; l < h; ++l)
              (p = u[d[l]]) !== m && (e[p] -= y * v[l]);
          }
          return e;
        }),
        (numeric.ccsLUP1 = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f = r[0].length - 1,
            m = [numeric.rep([f + 1], 0), [], []],
            s = [numeric.rep([f + 1], 0), [], []],
            h = m[0],
            l = m[1],
            p = m[2],
            y = s[0],
            g = s[1],
            d = s[2],
            v = numeric.rep([f], 0),
            x = numeric.rep([f], 0),
            b = numeric.ccsLPSolve,
            w = (Math.max, Math.abs),
            M = numeric.linspace(0, f - 1),
            k = numeric.linspace(0, f - 1),
            A = new numeric.ccsDFS(f);
          for (void 0 === n && (n = 1), e = 0; e < f; ++e) {
            for (
              b(m, r, v, x, e, k, A), u = -1, o = -1, i = x.length - 1;
              -1 !== i;
              --i
            )
              (t = x[i]) <= e || ((c = w(v[t])) > u && ((o = t), (u = c)));
            for (
              w(v[e]) < n * u &&
                ((i = M[e]),
                (u = M[o]),
                (M[e] = u),
                (k[u] = e),
                (M[o] = i),
                (k[i] = o),
                (u = v[e]),
                (v[e] = v[o]),
                (v[o] = u)),
                u = h[e],
                o = y[e],
                a = v[e],
                l[u] = M[e],
                p[u] = 1,
                ++u,
                i = x.length - 1;
              -1 !== i;
              --i
            )
              (c = v[(t = x[i])]),
                (x[i] = 0),
                (v[t] = 0),
                t <= e
                  ? ((g[o] = t), (d[o] = c), ++o)
                  : ((l[u] = M[t]), (p[u] = c / a), ++u);
            (h[e + 1] = u), (y[e + 1] = o);
          }
          for (i = l.length - 1; -1 !== i; --i) l[i] = k[l[i]];
          return { L: m, U: s, P: M, Pinv: k };
        }),
        (numeric.ccsDFS0 = function (r) {
          (this.k = Array(r)), (this.k1 = Array(r)), (this.j = Array(r));
        }),
        (numeric.ccsDFS0.prototype.dfs = function (r, n, e, i, t, u, o) {
          var c,
            a,
            f,
            m = 0,
            s = t.length,
            h = this.k,
            l = this.k1,
            p = this.j;
          if (0 === i[r])
            for (
              i[r] = 1, p[0] = r, h[0] = a = n[u[r]], l[0] = f = n[u[r] + 1];
              ;

            ) {
              if (isNaN(a)) throw new Error("Ow!");
              if (a >= f) {
                if (((t[s] = u[p[m]]), 0 === m)) return;
                ++s, (a = h[--m]), (f = l[m]);
              } else
                0 === i[(c = e[a])]
                  ? ((i[c] = 1),
                    (h[m] = a),
                    (p[++m] = c),
                    (a = n[(c = u[c])]),
                    (l[m] = f = n[c + 1]))
                  : ++a;
            }
        }),
        (numeric.ccsLPSolve0 = function (r, n, e, i, t, u, o, c) {
          var a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d = r[0],
            v = r[1],
            x = r[2],
            b = (d.length, n[0]),
            w = n[1],
            M = n[2];
          for (f = b[t], m = b[t + 1], i.length = 0, a = f; a < m; ++a)
            c.dfs(w[a], d, v, e, i, u, o);
          for (a = i.length - 1; -1 !== a; --a) e[o[(s = i[a])]] = 0;
          for (a = f; a !== m; ++a) e[(s = w[a])] = M[a];
          for (a = i.length - 1; -1 !== a; --a) {
            for (y = o[(s = i[a])], h = d[s], l = d[s + 1], p = h; p < l; ++p)
              if (v[p] === y) {
                e[y] /= x[p];
                break;
              }
            for (g = e[y], p = h; p < l; ++p) e[v[p]] -= g * x[p];
            e[y] = g;
          }
        }),
        (numeric.ccsLUP0 = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f = r[0].length - 1,
            m = [numeric.rep([f + 1], 0), [], []],
            s = [numeric.rep([f + 1], 0), [], []],
            h = m[0],
            l = m[1],
            p = m[2],
            y = s[0],
            g = s[1],
            d = s[2],
            v = numeric.rep([f], 0),
            x = numeric.rep([f], 0),
            b = numeric.ccsLPSolve0,
            w = (Math.max, Math.abs),
            M = numeric.linspace(0, f - 1),
            k = numeric.linspace(0, f - 1),
            A = new numeric.ccsDFS0(f);
          for (void 0 === n && (n = 1), e = 0; e < f; ++e) {
            for (
              b(m, r, v, x, e, k, M, A), u = -1, o = -1, i = x.length - 1;
              -1 !== i;
              --i
            )
              (t = x[i]) <= e || ((c = w(v[M[t]])) > u && ((o = t), (u = c)));
            for (
              w(v[M[e]]) < n * u &&
                ((i = M[e]),
                (u = M[o]),
                (M[e] = u),
                (k[u] = e),
                (M[o] = i),
                (k[i] = o)),
                u = h[e],
                o = y[e],
                a = v[M[e]],
                l[u] = M[e],
                p[u] = 1,
                ++u,
                i = x.length - 1;
              -1 !== i;
              --i
            )
              (c = v[M[(t = x[i])]]),
                (x[i] = 0),
                (v[M[t]] = 0),
                t <= e
                  ? ((g[o] = t), (d[o] = c), ++o)
                  : ((l[u] = M[t]), (p[u] = c / a), ++u);
            (h[e + 1] = u), (y[e + 1] = o);
          }
          for (i = l.length - 1; -1 !== i; --i) l[i] = k[l[i]];
          return { L: m, U: s, P: M, Pinv: k };
        }),
        (numeric.ccsLUP = numeric.ccsLUP0),
        (numeric.ccsDim = function (r) {
          return [numeric.sup(r[1]) + 1, r[0].length - 1];
        }),
        (numeric.ccsGetBlock = function (r, n, e) {
          var i = numeric.ccsDim(r),
            t = i[0],
            u = i[1];
          void 0 === n
            ? (n = numeric.linspace(0, t - 1))
            : "number" == typeof n && (n = [n]),
            void 0 === e
              ? (e = numeric.linspace(0, u - 1))
              : "number" == typeof e && (e = [e]);
          var o,
            c,
            a,
            f,
            m = n.length,
            s = e.length,
            h = numeric.rep([u], 0),
            l = [],
            p = [],
            y = [h, l, p],
            g = r[0],
            d = r[1],
            v = r[2],
            x = numeric.rep([t], 0),
            b = 0,
            w = numeric.rep([t], 0);
          for (c = 0; c < s; ++c) {
            var M = g[(f = e[c])],
              k = g[f + 1];
            for (o = M; o < k; ++o) (w[(a = d[o])] = 1), (x[a] = v[o]);
            for (o = 0; o < m; ++o)
              w[n[o]] && ((l[b] = o), (p[b] = x[n[o]]), ++b);
            for (o = M; o < k; ++o) w[(a = d[o])] = 0;
            h[c + 1] = b;
          }
          return y;
        }),
        (numeric.ccsDot = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h,
            l = r[0],
            p = r[1],
            y = r[2],
            g = n[0],
            d = n[1],
            v = n[2],
            x = numeric.ccsDim(r),
            b = numeric.ccsDim(n),
            w = x[0],
            M = (x[1], b[1]),
            k = numeric.rep([w], 0),
            A = numeric.rep([w], 0),
            T = Array(w),
            j = numeric.rep([M], 0),
            S = [],
            _ = [],
            V = [j, S, _];
          for (t = 0; t !== M; ++t) {
            for (u = g[t], o = g[t + 1], m = 0, i = u; i < o; ++i)
              for (
                s = d[i], h = v[i], c = l[s], a = l[s + 1], e = c;
                e < a;
                ++e
              )
                0 === A[(f = p[e])] && ((T[m] = f), (A[f] = 1), (m += 1)),
                  (k[f] = k[f] + y[e] * h);
            for (o = (u = j[t]) + m, j[t + 1] = o, i = m - 1; -1 !== i; --i)
              (h = u + i),
                (e = T[i]),
                (S[h] = e),
                (_[h] = k[e]),
                (A[e] = 0),
                (k[e] = 0);
            j[t + 1] = j[t] + m;
          }
          return V;
        }),
        (numeric.ccsLUPSolve = function (r, n) {
          var e = r.L,
            i = r.U,
            t = (r.P, n[0]),
            u = !1;
          "object" != typeof t &&
            ((t = (n = [
              [0, n.length],
              numeric.linspace(0, n.length - 1),
              n,
            ])[0]),
            (u = !0));
          var o,
            c,
            a,
            f,
            m,
            s,
            h = n[1],
            l = n[2],
            p = e[0].length - 1,
            y = t.length - 1,
            g = numeric.rep([p], 0),
            d = Array(p),
            v = numeric.rep([p], 0),
            x = Array(p),
            b = numeric.rep([y + 1], 0),
            w = [],
            M = [],
            k = numeric.ccsTSolve,
            A = 0;
          for (o = 0; o < y; ++o) {
            for (m = 0, a = t[o], f = t[o + 1], c = a; c < f; ++c)
              (s = r.Pinv[h[c]]), (x[m] = s), (v[s] = l[c]), ++m;
            for (
              x.length = m, k(e, v, g, x, d), c = x.length - 1;
              -1 !== c;
              --c
            )
              v[x[c]] = 0;
            if ((k(i, g, v, d, x), u)) return v;
            for (c = d.length - 1; -1 !== c; --c) g[d[c]] = 0;
            for (c = x.length - 1; -1 !== c; --c)
              (s = x[c]), (w[A] = s), (M[A] = v[s]), (v[s] = 0), ++A;
            b[o + 1] = A;
          }
          return [b, w, M];
        }),
        (numeric.ccsbinop = function (r, n) {
          return (
            void 0 === n && (n = ""),
            Function(
              "X",
              "Y",
              "var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n" +
                n +
                "for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n" +
                r +
                "\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];"
            )
          );
        }),
        (function () {
          var k, A, B, C;
          for (k in numeric.ops2)
            (A = isFinite(eval("1" + numeric.ops2[k] + "0"))
              ? "[Y[0],Y[1],numeric." + k + "(X,Y[2])]"
              : "NaN"),
              (B = isFinite(eval("0" + numeric.ops2[k] + "1"))
                ? "[X[0],X[1],numeric." + k + "(X[2],Y)]"
                : "NaN"),
              (C =
                isFinite(eval("1" + numeric.ops2[k] + "0")) &&
                isFinite(eval("0" + numeric.ops2[k] + "1"))
                  ? "numeric.ccs" + k + "MM(X,Y)"
                  : "NaN"),
              (numeric["ccs" + k + "MM"] = numeric.ccsbinop(
                "zk = xk " + numeric.ops2[k] + "yk;"
              )),
              (numeric["ccs" + k] = Function(
                "X",
                "Y",
                'if(typeof X === "number") return ' +
                  A +
                  ';\nif(typeof Y === "number") return ' +
                  B +
                  ";\nreturn " +
                  C +
                  ";\n"
              ));
        })(),
        (numeric.ccsScatter = function (r) {
          var n,
            e = r[0],
            i = r[1],
            t = r[2],
            u = numeric.sup(i) + 1,
            o = e.length,
            c = numeric.rep([u], 0),
            a = Array(o),
            f = Array(o),
            m = numeric.rep([u], 0);
          for (n = 0; n < o; ++n) m[i[n]]++;
          for (n = 0; n < u; ++n) c[n + 1] = c[n] + m[n];
          var s,
            h,
            l = c.slice(0);
          for (n = 0; n < o; ++n)
            (a[(s = l[(h = i[n])])] = e[n]), (f[s] = t[n]), (l[h] = l[h] + 1);
          return [c, a, f];
        }),
        (numeric.ccsGather = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o = r[0],
            c = r[1],
            a = r[2],
            f = o.length - 1,
            m = c.length,
            s = Array(m),
            h = Array(m),
            l = Array(m);
          for (u = 0, n = 0; n < f; ++n)
            for (i = o[n], t = o[n + 1], e = i; e !== t; ++e)
              (h[u] = n), (s[u] = c[e]), (l[u] = a[e]), ++u;
          return [s, h, l];
        }),
        (numeric.sdim = function r(n, e, i) {
          if ((void 0 === e && (e = []), "object" != typeof n)) return e;
          var t;
          for (t in (void 0 === i && (i = 0),
          i in e || (e[i] = 0),
          n.length > e[i] && (e[i] = n.length),
          n))
            n.hasOwnProperty(t) && r(n[t], e, i + 1);
          return e;
        }),
        (numeric.sclone = function r(n, e, i) {
          void 0 === e && (e = 0), void 0 === i && (i = numeric.sdim(n).length);
          var t,
            u = Array(n.length);
          if (e === i - 1) {
            for (t in n) n.hasOwnProperty(t) && (u[t] = n[t]);
            return u;
          }
          for (t in n) n.hasOwnProperty(t) && (u[t] = r(n[t], e + 1, i));
          return u;
        }),
        (numeric.sdiag = function (r) {
          var n,
            e,
            i = r.length,
            t = Array(i);
          for (n = i - 1; n >= 1; n -= 2)
            (e = n - 1),
              (t[n] = []),
              (t[n][n] = r[n]),
              (t[e] = []),
              (t[e][e] = r[e]);
          return 0 === n && ((t[0] = []), (t[0][0] = r[n])), t;
        }),
        (numeric.sidentity = function (r) {
          return numeric.sdiag(numeric.rep([r], 1));
        }),
        (numeric.stranspose = function (r) {
          var n,
            e,
            i,
            t = [];
          r.length;
          for (n in r)
            if (r.hasOwnProperty(n))
              for (e in (i = r[n]))
                i.hasOwnProperty(e) &&
                  ("object" != typeof t[e] && (t[e] = []), (t[e][n] = i[e]));
          return t;
        }),
        (numeric.sLUP = function (r, n) {
          throw new Error(
            "The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead."
          );
        }),
        (numeric.sdotMM = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f = r.length,
            m = (n.length, numeric.stranspose(n)),
            s = m.length,
            h = Array(f);
          for (t = f - 1; t >= 0; t--) {
            for (a = [], e = r[t], o = s - 1; o >= 0; o--) {
              for (u in ((c = 0), (i = m[o]), e))
                e.hasOwnProperty(u) && u in i && (c += e[u] * i[u]);
              c && (a[o] = c);
            }
            h[t] = a;
          }
          return h;
        }),
        (numeric.sdotMV = function (r, n) {
          var e,
            i,
            t,
            u,
            o = r.length,
            c = Array(o);
          for (i = o - 1; i >= 0; i--) {
            for (t in ((u = 0), (e = r[i])))
              e.hasOwnProperty(t) && n[t] && (u += e[t] * n[t]);
            u && (c[i] = u);
          }
          return c;
        }),
        (numeric.sdotVM = function (r, n) {
          var e,
            i,
            t,
            u,
            o = [];
          for (e in r)
            if (r.hasOwnProperty(e))
              for (i in ((t = n[e]), (u = r[e]), t))
                t.hasOwnProperty(i) && (o[i] || (o[i] = 0), (o[i] += u * t[i]));
          return o;
        }),
        (numeric.sdotVV = function (r, n) {
          var e,
            i = 0;
          for (e in r) r[e] && n[e] && (i += r[e] * n[e]);
          return i;
        }),
        (numeric.sdot = function (r, n) {
          var e = numeric.sdim(r).length,
            i = numeric.sdim(n).length;
          switch (1e3 * e + i) {
            case 0:
              return r * n;
            case 1001:
              return numeric.sdotVV(r, n);
            case 2001:
              return numeric.sdotMV(r, n);
            case 1002:
              return numeric.sdotVM(r, n);
            case 2002:
              return numeric.sdotMM(r, n);
            default:
              throw new Error(
                "numeric.sdot not implemented for tensors of order " +
                  e +
                  " and " +
                  i
              );
          }
        }),
        (numeric.sscatter = function (r) {
          var n,
            e,
            i,
            t,
            u = r[0].length,
            o = r.length,
            c = [];
          for (e = u - 1; e >= 0; --e)
            if (r[o - 1][e]) {
              for (t = c, i = 0; i < o - 2; i++)
                t[(n = r[i][e])] || (t[n] = []), (t = t[n]);
              t[r[i][e]] = r[i + 1][e];
            }
          return c;
        }),
        (numeric.sgather = function r(n, e, i) {
          var t, u, o;
          for (u in (void 0 === e && (e = []),
          void 0 === i && (i = []),
          (t = i.length),
          n))
            if (n.hasOwnProperty(u))
              if (((i[t] = parseInt(u)), "number" == typeof (o = n[u]))) {
                if (o) {
                  if (0 === e.length) for (u = t + 1; u >= 0; --u) e[u] = [];
                  for (u = t; u >= 0; --u) e[u].push(i[u]);
                  e[t + 1].push(o);
                }
              } else r(o, e, i);
          return i.length > t && i.pop(), e;
        }),
        (numeric.cLU = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o,
            c = r[0],
            a = r[1],
            f = r[2],
            m = c.length,
            s = 0;
          for (n = 0; n < m; n++) c[n] > s && (s = c[n]);
          s++;
          var h,
            l = Array(s),
            p = Array(s),
            y = numeric.rep([s], 1 / 0),
            g = numeric.rep([s], -1 / 0);
          for (i = 0; i < m; i++)
            (n = c[i]), (e = a[i]) < y[n] && (y[n] = e), e > g[n] && (g[n] = e);
          for (n = 0; n < s - 1; n++) g[n] > g[n + 1] && (g[n + 1] = g[n]);
          for (n = s - 1; n >= 1; n--) y[n] < y[n - 1] && (y[n - 1] = y[n]);
          for (n = 0; n < s; n++)
            (p[n] = numeric.rep([g[n] - y[n] + 1], 0)),
              (l[n] = numeric.rep([n - y[n]], 0)),
              n - y[n] + 1,
              g[n] - n + 1;
          for (i = 0; i < m; i++) p[(n = c[i])][a[i] - y[n]] = f[i];
          for (n = 0; n < s - 1; n++)
            for (t = n - y[n], x = p[n], e = n + 1; y[e] <= n && e < s; e++)
              if (
                ((u = n - y[e]), (o = g[n] - n), (h = (b = p[e])[u] / x[t]))
              ) {
                for (i = 1; i <= o; i++) b[i + u] -= h * x[i + t];
                l[e][n - y[e]] = h;
              }
          var d,
            v,
            x = [],
            b = [],
            w = [],
            M = [],
            k = [],
            A = [];
          for (m = 0, d = 0, n = 0; n < s; n++) {
            for (t = y[n], u = g[n], v = p[n], e = n; e <= u; e++)
              v[e - t] && ((x[m] = n), (b[m] = e), (w[m] = v[e - t]), m++);
            for (v = l[n], e = t; e < n; e++)
              v[e - t] && ((M[d] = n), (k[d] = e), (A[d] = v[e - t]), d++);
            (M[d] = n), (k[d] = n), (A[d] = 1), d++;
          }
          return { U: [x, b, w], L: [M, k, A] };
        }),
        (numeric.cLUsolve = function (r, n) {
          var e,
            i,
            t = r.L,
            u = r.U,
            o = numeric.clone(n),
            c = t[0],
            a = t[1],
            f = t[2],
            m = u[0],
            s = u[1],
            h = u[2],
            l = m.length,
            p = (c.length, o.length);
          for (i = 0, e = 0; e < p; e++) {
            for (; a[i] < e; ) (o[e] -= f[i] * o[a[i]]), i++;
            i++;
          }
          for (i = l - 1, e = p - 1; e >= 0; e--) {
            for (; s[i] > e; ) (o[e] -= h[i] * o[s[i]]), i--;
            (o[e] /= h[i]), i--;
          }
          return o;
        }),
        (numeric.cgrid = function (r, n) {
          "number" == typeof r && (r = [r, r]);
          var e,
            i,
            t,
            u = numeric.rep(r, -1);
          if ("function" != typeof n)
            switch (n) {
              case "L":
                n = function (n, e) {
                  return n >= r[0] / 2 || e < r[1] / 2;
                };
                break;
              default:
                n = function (r, n) {
                  return !0;
                };
            }
          for (t = 0, e = 1; e < r[0] - 1; e++)
            for (i = 1; i < r[1] - 1; i++) n(e, i) && ((u[e][i] = t), t++);
          return u;
        }),
        (numeric.cdelsq = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o = [
              [-1, 0],
              [0, -1],
              [0, 1],
              [1, 0],
            ],
            c = numeric.dim(r),
            a = c[0],
            f = c[1],
            m = [],
            s = [],
            h = [];
          for (n = 1; n < a - 1; n++)
            for (e = 1; e < f - 1; e++)
              if (!(r[n][e] < 0)) {
                for (i = 0; i < 4; i++)
                  (t = n + o[i][0]),
                    (u = e + o[i][1]),
                    r[t][u] < 0 ||
                      (m.push(r[n][e]), s.push(r[t][u]), h.push(-1));
                m.push(r[n][e]), s.push(r[n][e]), h.push(4);
              }
          return [m, s, h];
        }),
        (numeric.cdotMV = function (r, n) {
          var e,
            i,
            t,
            u = r[0],
            o = r[1],
            c = r[2],
            a = u.length;
          for (t = 0, i = 0; i < a; i++) u[i] > t && (t = u[i]);
          for (t++, e = numeric.rep([t], 0), i = 0; i < a; i++)
            e[u[i]] += c[i] * n[o[i]];
          return e;
        }),
        (numeric.Spline = function (r, n, e, i, t) {
          (this.x = r),
            (this.yl = n),
            (this.yr = e),
            (this.kl = i),
            (this.kr = t);
        }),
        (numeric.Spline.prototype._at = function (r, n) {
          var e,
            i,
            t,
            u = this.x,
            o = this.yl,
            c = this.yr,
            a = this.kl,
            f = this.kr,
            m = numeric.add,
            s = numeric.sub,
            h = numeric.mul;
          (e = s(h(a[n], u[n + 1] - u[n]), s(c[n + 1], o[n]))),
            (i = m(h(f[n + 1], u[n] - u[n + 1]), s(c[n + 1], o[n])));
          var l = (t = (r - u[n]) / (u[n + 1] - u[n])) * (1 - t);
          return m(
            m(m(h(1 - t, o[n]), h(t, c[n + 1])), h(e, l * (1 - t))),
            h(i, l * t)
          );
        }),
        (numeric.Spline.prototype.at = function (r) {
          if ("number" == typeof r) {
            var n,
              e,
              i,
              t = this.x,
              u = t.length,
              o = Math.floor;
            for (n = 0, e = u - 1; e - n > 1; )
              t[(i = o((n + e) / 2))] <= r ? (n = i) : (e = i);
            return this._at(r, n);
          }
          u = r.length;
          var c,
            a = Array(u);
          for (c = u - 1; -1 !== c; --c) a[c] = this.at(r[c]);
          return a;
        }),
        (numeric.Spline.prototype.diff = function () {
          var r,
            n,
            e,
            i = this.x,
            t = this.yl,
            u = this.yr,
            o = this.kl,
            c = this.kr,
            a = t.length,
            f = o,
            m = c,
            s = Array(a),
            h = Array(a),
            l = numeric.add,
            p = numeric.mul,
            y = numeric.div,
            g = numeric.sub;
          for (r = a - 1; -1 !== r; --r)
            (n = i[r + 1] - i[r]),
              (e = g(u[r + 1], t[r])),
              (s[r] = y(
                l(p(e, 6), p(o[r], -4 * n), p(c[r + 1], -2 * n)),
                n * n
              )),
              (h[r + 1] = y(
                l(p(e, -6), p(o[r], 2 * n), p(c[r + 1], 4 * n)),
                n * n
              ));
          return new numeric.Spline(i, f, m, s, h);
        }),
        (numeric.Spline.prototype.roots = function () {
          function r(r) {
            return r * r;
          }
          var n = [],
            e = this.x,
            i = this.yl,
            t = this.yr,
            u = this.kl,
            o = this.kr;
          "number" == typeof i[0] &&
            ((i = [i]), (t = [t]), (u = [u]), (o = [o]));
          var c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d,
            v,
            x,
            b,
            w,
            M,
            k,
            A,
            T,
            j,
            S,
            _,
            V,
            P = i.length,
            q = e.length - 1,
            F = ((n = Array(P)), Math.sqrt);
          for (c = 0; c !== P; ++c) {
            for (
              m = i[c], s = t[c], h = u[c], l = o[c], p = [], a = 0;
              a !== q;
              a++
            ) {
              for (
                a > 0 && s[a] * m[a] < 0 && p.push(e[a]),
                  M = e[a + 1] - e[a],
                  e[a],
                  d = m[a],
                  v = s[a + 1],
                  y = h[a] / M,
                  x = (g = l[a + 1] / M) + 3 * d + 2 * y - 3 * v,
                  b = 3 * (g + y + 2 * (d - v)),
                  (w = r(y - g + 3 * (d - v)) + 12 * g * d) <= 0
                    ? (k =
                        (A = x / b) > e[a] && A < e[a + 1]
                          ? [e[a], A, e[a + 1]]
                          : [e[a], e[a + 1]])
                    : ((A = (x - F(w)) / b),
                      (T = (x + F(w)) / b),
                      (k = [e[a]]),
                      A > e[a] && A < e[a + 1] && k.push(A),
                      T > e[a] && T < e[a + 1] && k.push(T),
                      k.push(e[a + 1])),
                  S = k[0],
                  A = this._at(S, a),
                  f = 0;
                f < k.length - 1;
                f++
              )
                if (((_ = k[f + 1]), (T = this._at(_, a)), 0 !== A))
                  if (0 === T || A * T > 0) (S = _), (A = T);
                  else {
                    for (
                      var L = 0;
                      !((V = (A * _ - T * S) / (A - T)) <= S || V >= _);

                    )
                      if ((j = this._at(V, a)) * T > 0)
                        (_ = V), (T = j), -1 === L && (A *= 0.5), (L = -1);
                      else {
                        if (!(j * A > 0)) break;
                        (S = V), (A = j), 1 === L && (T *= 0.5), (L = 1);
                      }
                    p.push(V), (S = k[f + 1]), (A = this._at(S, a));
                  }
                else p.push(S), (S = _), (A = T);
              0 === T && p.push(_);
            }
            n[c] = p;
          }
          return "number" == typeof this.yl[0] ? n[0] : n;
        }),
        (numeric.spline = function (r, n, e, i) {
          var t,
            u = r.length,
            o = [],
            c = [],
            a = [],
            f = numeric.sub,
            m = numeric.mul,
            s = numeric.add;
          for (t = u - 2; t >= 0; t--)
            (c[t] = r[t + 1] - r[t]), (a[t] = f(n[t + 1], n[t]));
          ("string" != typeof e && "string" != typeof i) ||
            (e = i = "periodic");
          var h = [[], [], []];
          switch (typeof e) {
            case "undefined":
              (o[0] = m(3 / (c[0] * c[0]), a[0])),
                h[0].push(0, 0),
                h[1].push(0, 1),
                h[2].push(2 / c[0], 1 / c[0]);
              break;
            case "string":
              (o[0] = s(
                m(3 / (c[u - 2] * c[u - 2]), a[u - 2]),
                m(3 / (c[0] * c[0]), a[0])
              )),
                h[0].push(0, 0, 0),
                h[1].push(u - 2, 0, 1),
                h[2].push(1 / c[u - 2], 2 / c[u - 2] + 2 / c[0], 1 / c[0]);
              break;
            default:
              (o[0] = e), h[0].push(0), h[1].push(0), h[2].push(1);
          }
          for (t = 1; t < u - 1; t++)
            (o[t] = s(
              m(3 / (c[t - 1] * c[t - 1]), a[t - 1]),
              m(3 / (c[t] * c[t]), a[t])
            )),
              h[0].push(t, t, t),
              h[1].push(t - 1, t, t + 1),
              h[2].push(1 / c[t - 1], 2 / c[t - 1] + 2 / c[t], 1 / c[t]);
          switch (typeof i) {
            case "undefined":
              (o[u - 1] = m(3 / (c[u - 2] * c[u - 2]), a[u - 2])),
                h[0].push(u - 1, u - 1),
                h[1].push(u - 2, u - 1),
                h[2].push(1 / c[u - 2], 2 / c[u - 2]);
              break;
            case "string":
              h[1][h[1].length - 1] = 0;
              break;
            default:
              (o[u - 1] = i), h[0].push(u - 1), h[1].push(u - 1), h[2].push(1);
          }
          o = "number" != typeof o[0] ? numeric.transpose(o) : [o];
          var l = Array(o.length);
          if ("string" == typeof e)
            for (t = l.length - 1; -1 !== t; --t)
              (l[t] = numeric.ccsLUPSolve(
                numeric.ccsLUP(numeric.ccsScatter(h)),
                o[t]
              )),
                (l[t][u - 1] = l[t][0]);
          else
            for (t = l.length - 1; -1 !== t; --t)
              l[t] = numeric.cLUsolve(numeric.cLU(h), o[t]);
          return (
            (l = "number" == typeof n[0] ? l[0] : numeric.transpose(l)),
            new numeric.Spline(r, n, n, l, l)
          );
        }),
        (numeric.fftpow2 = function r(n, e) {
          var i = n.length;
          if (1 !== i) {
            var t,
              u,
              o = Math.cos,
              c = Math.sin,
              a = Array(i / 2),
              f = Array(i / 2),
              m = Array(i / 2),
              s = Array(i / 2);
            for (u = i / 2, t = i - 1; -1 !== t; --t)
              (m[--u] = n[t]), (s[u] = e[t]), --t, (a[u] = n[t]), (f[u] = e[t]);
            r(a, f), r(m, s), (u = i / 2);
            var h,
              l,
              p,
              y = -6.283185307179586 / i;
            for (t = i - 1; -1 !== t; --t)
              -1 === --u && (u = i / 2 - 1),
                (l = o((h = y * t))),
                (p = c(h)),
                (n[t] = a[u] + l * m[u] - p * s[u]),
                (e[t] = f[u] + l * s[u] + p * m[u]);
          }
        }),
        (numeric._ifftpow2 = function r(n, e) {
          var i = n.length;
          if (1 !== i) {
            var t,
              u,
              o = Math.cos,
              c = Math.sin,
              a = Array(i / 2),
              f = Array(i / 2),
              m = Array(i / 2),
              s = Array(i / 2);
            for (u = i / 2, t = i - 1; -1 !== t; --t)
              (m[--u] = n[t]), (s[u] = e[t]), --t, (a[u] = n[t]), (f[u] = e[t]);
            r(a, f), r(m, s), (u = i / 2);
            var h,
              l,
              p,
              y = 6.283185307179586 / i;
            for (t = i - 1; -1 !== t; --t)
              -1 === --u && (u = i / 2 - 1),
                (l = o((h = y * t))),
                (p = c(h)),
                (n[t] = a[u] + l * m[u] - p * s[u]),
                (e[t] = f[u] + l * s[u] + p * m[u]);
          }
        }),
        (numeric.ifftpow2 = function (r, n) {
          numeric._ifftpow2(r, n),
            numeric.diveq(r, r.length),
            numeric.diveq(n, n.length);
        }),
        (numeric.convpow2 = function (r, n, e, i) {
          var t, u, o, c, a;
          for (
            numeric.fftpow2(r, n), numeric.fftpow2(e, i), t = r.length - 1;
            -1 !== t;
            --t
          )
            (u = r[t]),
              (c = n[t]),
              (o = e[t]),
              (a = i[t]),
              (r[t] = u * o - c * a),
              (n[t] = u * a + c * o);
          numeric.ifftpow2(r, n);
        }),
        (numeric.T.prototype.fft = function () {
          var r,
            n,
            e = this.x,
            i = this.y,
            t = e.length,
            u = Math.log,
            o = u(2),
            c = Math.ceil(u(2 * t - 1) / o),
            a = Math.pow(2, c),
            f = numeric.rep([a], 0),
            m = numeric.rep([a], 0),
            s = Math.cos,
            h = Math.sin,
            l = -3.141592653589793 / t,
            p = numeric.rep([a], 0),
            y = numeric.rep([a], 0);
          Math.floor(t / 2);
          for (r = 0; r < t; r++) p[r] = e[r];
          if (void 0 !== i) for (r = 0; r < t; r++) y[r] = i[r];
          for (f[0] = 1, r = 1; r <= a / 2; r++)
            (n = l * r * r),
              (f[r] = s(n)),
              (m[r] = h(n)),
              (f[a - r] = s(n)),
              (m[a - r] = h(n));
          var g = new numeric.T(p, y),
            d = new numeric.T(f, m);
          return (
            (g = g.mul(d)),
            numeric.convpow2(g.x, g.y, numeric.clone(d.x), numeric.neg(d.y)),
            ((g = g.mul(d)).x.length = t),
            (g.y.length = t),
            g
          );
        }),
        (numeric.T.prototype.ifft = function () {
          var r,
            n,
            e = this.x,
            i = this.y,
            t = e.length,
            u = Math.log,
            o = u(2),
            c = Math.ceil(u(2 * t - 1) / o),
            a = Math.pow(2, c),
            f = numeric.rep([a], 0),
            m = numeric.rep([a], 0),
            s = Math.cos,
            h = Math.sin,
            l = 3.141592653589793 / t,
            p = numeric.rep([a], 0),
            y = numeric.rep([a], 0);
          Math.floor(t / 2);
          for (r = 0; r < t; r++) p[r] = e[r];
          if (void 0 !== i) for (r = 0; r < t; r++) y[r] = i[r];
          for (f[0] = 1, r = 1; r <= a / 2; r++)
            (n = l * r * r),
              (f[r] = s(n)),
              (m[r] = h(n)),
              (f[a - r] = s(n)),
              (m[a - r] = h(n));
          var g = new numeric.T(p, y),
            d = new numeric.T(f, m);
          return (
            (g = g.mul(d)),
            numeric.convpow2(g.x, g.y, numeric.clone(d.x), numeric.neg(d.y)),
            ((g = g.mul(d)).x.length = t),
            (g.y.length = t),
            g.div(t)
          );
        }),
        (numeric.gradient = function (r, n) {
          var e = n.length,
            i = r(n);
          if (isNaN(i)) throw new Error("gradient: f(x) is a NaN!");
          var t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h,
            l = Math.max,
            p = numeric.clone(n),
            y = Array(e),
            g = (numeric.div, numeric.sub, (l = Math.max), Math.abs),
            d = Math.min,
            v = 0;
          for (t = 0; t < e; t++)
            for (var x = l(1e-6 * i, 1e-8); ; ) {
              if (++v > 20) throw new Error("Numerical gradient fails");
              if (
                ((p[t] = n[t] + x),
                (u = r(p)),
                (p[t] = n[t] - x),
                (o = r(p)),
                (p[t] = n[t]),
                isNaN(u) || isNaN(o))
              )
                x /= 16;
              else {
                if (
                  ((y[t] = (u - o) / (2 * x)),
                  (c = n[t] - x),
                  (a = n[t]),
                  (f = n[t] + x),
                  (m = (u - i) / x),
                  (s = (i - o) / x),
                  (h = l(g(y[t]), g(i), g(u), g(o), g(c), g(a), g(f), 1e-8)),
                  !(
                    d(l(g(m - y[t]), g(s - y[t]), g(m - s)) / h, x / h) > 0.001
                  ))
                )
                  break;
                x /= 16;
              }
            }
          return y;
        }),
        (numeric.uncmin = function (r, n, e, i, t, u, o) {
          var c = numeric.gradient;
          void 0 === o && (o = {}),
            void 0 === e && (e = 1e-8),
            void 0 === i &&
              (i = function (n) {
                return c(r, n);
              }),
            void 0 === t && (t = 1e3);
          var a,
            f,
            m = (n = numeric.clone(n)).length,
            s = r(n);
          if (isNaN(s)) throw new Error("uncmin: f(x0) is a NaN!");
          var h = Math.max,
            l = numeric.norm2;
          e = h(e, numeric.epsilon);
          var p,
            y,
            g,
            d,
            v,
            x,
            b,
            w,
            M,
            k,
            A = o.Hinv || numeric.identity(m),
            T = numeric.dot,
            j = (numeric.inv, numeric.sub),
            S = numeric.add,
            _ = numeric.tensor,
            V = numeric.div,
            P = numeric.mul,
            q = numeric.all,
            F = numeric.isFinite,
            L = numeric.neg,
            N = 0,
            O = "";
          for (y = i(n); N < t; ) {
            if ("function" == typeof u && u(N, n, s, y, A)) {
              O = "Callback returned true";
              break;
            }
            if (!q(F(y))) {
              O = "Gradient has Infinity or NaN";
              break;
            }
            if (!q(F((p = L(T(A, y)))))) {
              O = "Search direction has Infinity or NaN";
              break;
            }
            if ((k = l(p)) < e) {
              O = "Newton step smaller than tol";
              break;
            }
            for (
              M = 1, f = T(y, p), v = n;
              N < t &&
              !(M * k < e) &&
              ((v = S(n, (d = P(p, M)))),
              (a = r(v)) - s >= 0.1 * M * f || isNaN(a));

            )
              (M *= 0.5), ++N;
            if (M * k < e) {
              O = "Line search step size smaller than tol";
              break;
            }
            if (N === t) {
              O = "maxit reached during line search";
              break;
            }
            (w = T((x = j((g = i(v)), y)), d)),
              (b = T(A, x)),
              (A = j(
                S(A, P((w + T(x, b)) / (w * w), _(d, d))),
                V(S(_(b, d), _(d, b)), w)
              )),
              (n = v),
              (s = a),
              (y = g),
              ++N;
          }
          return {
            solution: n,
            f: s,
            gradient: y,
            invHessian: A,
            iterations: N,
            message: O,
          };
        }),
        (numeric.Dopri = function (r, n, e, i, t, u, o) {
          (this.x = r),
            (this.y = n),
            (this.f = e),
            (this.ymid = i),
            (this.iterations = t),
            (this.events = o),
            (this.message = u);
        }),
        (numeric.Dopri.prototype._at = function (r, n) {
          function e(r) {
            return r * r;
          }
          var i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s,
            h = this.x,
            l = this.y,
            p = this.f,
            y = this.ymid,
            g = (h.length, Math.floor, numeric.add),
            d = numeric.mul,
            v = numeric.sub;
          return (
            (i = h[n]),
            (t = h[n + 1]),
            (o = l[n]),
            (c = l[n + 1]),
            (u = i + 0.5 * (t - i)),
            (a = y[n]),
            (f = v(p[n], d(o, 1 / (i - u) + 2 / (i - t)))),
            (m = v(p[n + 1], d(c, 1 / (t - u) + 2 / (t - i)))),
            g(
              g(
                g(
                  g(
                    d(
                      o,
                      (s = [
                        (e(r - t) * (r - u)) / e(i - t) / (i - u),
                        (e(r - i) * e(r - t)) / e(i - u) / e(t - u),
                        (e(r - i) * (r - u)) / e(t - i) / (t - u),
                        ((r - i) * e(r - t) * (r - u)) / e(i - t) / (i - u),
                        ((r - t) * e(r - i) * (r - u)) / e(i - t) / (t - u),
                      ])[0]
                    ),
                    d(a, s[1])
                  ),
                  d(c, s[2])
                ),
                d(f, s[3])
              ),
              d(m, s[4])
            )
          );
        }),
        (numeric.Dopri.prototype.at = function (r) {
          var n,
            e,
            i,
            t = Math.floor;
          if ("number" != typeof r) {
            var u = r.length,
              o = Array(u);
            for (n = u - 1; -1 !== n; --n) o[n] = this.at(r[n]);
            return o;
          }
          var c = this.x;
          for (n = 0, e = c.length - 1; e - n > 1; )
            c[(i = t(0.5 * (n + e)))] <= r ? (n = i) : (e = i);
          return this._at(r, n);
        }),
        (numeric.dopri = function (r, n, e, i, t, u, o) {
          void 0 === t && (t = 1e-6), void 0 === u && (u = 1e3);
          var c,
            a,
            f,
            m,
            s,
            h,
            l,
            p,
            y,
            g,
            d,
            v,
            x,
            b = [r],
            w = [e],
            M = [i(r, e)],
            k = [],
            A = [3 / 40, 9 / 40],
            T = [44 / 45, -56 / 15, 32 / 9],
            j = [19372 / 6561, -25360 / 2187, 64448 / 6561, -212 / 729],
            S = [9017 / 3168, -355 / 33, 46732 / 5247, 49 / 176, -5103 / 18656],
            _ = [35 / 384, 0, 500 / 1113, 125 / 192, -2187 / 6784, 11 / 84],
            V = [
              0.10013431883002395,
              0,
              0.3918321794184259,
              -0.02982460176594817,
              0.05893268337240795,
              -0.04497888809104361,
              5618549.5 / 235043384,
            ],
            P = [0.2, 0.3, 0.8, 8 / 9, 1, 1],
            q = [
              -71 / 57600,
              0,
              71 / 16695,
              -71 / 1920,
              17253 / 339200,
              -22 / 525,
              1 / 40,
            ],
            F = 0,
            L = (n - r) / 10,
            N = 0,
            O = numeric.add,
            U = numeric.mul,
            D = (Math.max, Math.min),
            B = Math.abs,
            R = numeric.norminf,
            X = Math.pow,
            E = numeric.any,
            Y = numeric.lt,
            I = numeric.and,
            Q = (numeric.sub, new numeric.Dopri(b, w, M, k, -1, ""));
          for ("function" == typeof o && (d = o(r, e)); r < n && N < u; )
            if (
              (++N,
              r + L > n && (L = n - r),
              (c = i(r + P[0] * L, O(e, U(0.2 * L, M[F])))),
              (a = i(r + P[1] * L, O(O(e, U(A[0] * L, M[F])), U(A[1] * L, c)))),
              (f = i(
                r + P[2] * L,
                O(O(O(e, U(T[0] * L, M[F])), U(T[1] * L, c)), U(T[2] * L, a))
              )),
              (m = i(
                r + P[3] * L,
                O(
                  O(O(O(e, U(j[0] * L, M[F])), U(j[1] * L, c)), U(j[2] * L, a)),
                  U(j[3] * L, f)
                )
              )),
              (s = i(
                r + P[4] * L,
                O(
                  O(
                    O(
                      O(O(e, U(S[0] * L, M[F])), U(S[1] * L, c)),
                      U(S[2] * L, a)
                    ),
                    U(S[3] * L, f)
                  ),
                  U(S[4] * L, m)
                )
              )),
              (h = i(
                r + L,
                (y = O(
                  O(
                    O(
                      O(O(e, U(M[F], L * _[0])), U(a, L * _[2])),
                      U(f, L * _[3])
                    ),
                    U(m, L * _[4])
                  ),
                  U(s, L * _[5])
                ))
              )),
              (g =
                "number" ==
                typeof (l = O(
                  O(
                    O(
                      O(O(U(M[F], L * q[0]), U(a, L * q[2])), U(f, L * q[3])),
                      U(m, L * q[4])
                    ),
                    U(s, L * q[5])
                  ),
                  U(h, L * q[6])
                ))
                  ? B(l)
                  : R(l)) > t)
            ) {
              if (r + (L = 0.2 * L * X(t / g, 0.25)) === r) {
                Q.msg = "Step size became too small";
                break;
              }
            } else {
              if (
                ((k[F] = O(
                  O(
                    O(
                      O(
                        O(O(e, U(M[F], L * V[0])), U(a, L * V[2])),
                        U(f, L * V[3])
                      ),
                      U(m, L * V[4])
                    ),
                    U(s, L * V[5])
                  ),
                  U(h, L * V[6])
                )),
                (b[++F] = r + L),
                (w[F] = y),
                (M[F] = h),
                "function" == typeof o)
              ) {
                var C,
                  Z,
                  H = r,
                  z = r + 0.5 * L;
                if (
                  ((v = o(z, k[F - 1])),
                  E((x = I(Y(d, 0), Y(0, v)))) ||
                    ((H = z),
                    (d = v),
                    (v = o((z = r + L), y)),
                    (x = I(Y(d, 0), Y(0, v)))),
                  E(x))
                ) {
                  for (var G, $, W = 0, J = 1, K = 1; ; ) {
                    if ("number" == typeof d)
                      Z = (K * v * H - J * d * z) / (K * v - J * d);
                    else
                      for (Z = z, p = d.length - 1; -1 !== p; --p)
                        d[p] < 0 &&
                          v[p] > 0 &&
                          (Z = D(
                            Z,
                            (K * v[p] * H - J * d[p] * z) /
                              (K * v[p] - J * d[p])
                          ));
                    if (Z <= H || Z >= z) break;
                    ($ = o(Z, (C = Q._at(Z, F - 1)))),
                      E((G = I(Y(d, 0), Y(0, $))))
                        ? ((z = Z),
                          (v = $),
                          (x = G),
                          (K = 1),
                          -1 === W ? (J *= 0.5) : (J = 1),
                          (W = -1))
                        : ((H = Z),
                          (d = $),
                          (J = 1),
                          1 === W ? (K *= 0.5) : (K = 1),
                          (W = 1));
                  }
                  return (
                    (y = Q._at(0.5 * (r + Z), F - 1)),
                    (Q.f[F] = i(Z, C)),
                    (Q.x[F] = Z),
                    (Q.y[F] = C),
                    (Q.ymid[F - 1] = y),
                    (Q.events = x),
                    (Q.iterations = N),
                    Q
                  );
                }
              }
              (r += L),
                (e = y),
                (d = v),
                (L = D(0.8 * L * X(t / g, 0.25), 4 * L));
            }
          return (Q.iterations = N), Q;
        }),
        (numeric.LU = function (r, n) {
          n = n || !1;
          var e,
            i,
            t,
            u,
            o,
            c,
            a,
            f,
            m,
            s = Math.abs,
            h = r.length,
            l = h - 1,
            p = new Array(h);
          for (n || (r = numeric.clone(r)), t = 0; t < h; ++t) {
            for (a = t, m = s((c = r[t])[t]), i = t + 1; i < h; ++i)
              m < (u = s(r[i][t])) && ((m = u), (a = i));
            for (
              p[t] = a,
                a != t && ((r[t] = r[a]), (r[a] = c), (c = r[t])),
                o = c[t],
                e = t + 1;
              e < h;
              ++e
            )
              r[e][t] /= o;
            for (e = t + 1; e < h; ++e) {
              for (f = r[e], i = t + 1; i < l; ++i)
                (f[i] -= f[t] * c[i]), (f[++i] -= f[t] * c[i]);
              i === l && (f[i] -= f[t] * c[i]);
            }
          }
          return { LU: r, P: p };
        }),
        (numeric.LUsolve = function (r, n) {
          var e,
            i,
            t,
            u,
            o,
            c = r.LU,
            a = c.length,
            f = numeric.clone(n),
            m = r.P;
          for (e = a - 1; -1 !== e; --e) f[e] = n[e];
          for (e = 0; e < a; ++e)
            for (
              t = m[e],
                m[e] !== e && ((o = f[e]), (f[e] = f[t]), (f[t] = o)),
                u = c[e],
                i = 0;
              i < e;
              ++i
            )
              f[e] -= f[i] * u[i];
          for (e = a - 1; e >= 0; --e) {
            for (u = c[e], i = e + 1; i < a; ++i) f[e] -= f[i] * u[i];
            f[e] /= u[e];
          }
          return f;
        }),
        (numeric.solve = function (r, n, e) {
          return numeric.LUsolve(numeric.LU(r, e), n);
        }),
        (numeric.echelonize = function (r) {
          var n,
            e,
            i,
            t,
            u,
            o,
            c,
            a,
            f = numeric.dim(r),
            m = f[0],
            s = f[1],
            h = numeric.identity(m),
            l = Array(m),
            p = Math.abs,
            y = numeric.diveq;
          for (r = numeric.clone(r), n = 0; n < m; ++n) {
            for (i = 0, u = r[n], o = h[n], e = 1; e < s; ++e)
              p(u[i]) < p(u[e]) && (i = e);
            for (l[n] = i, y(o, u[i]), y(u, u[i]), e = 0; e < m; ++e)
              if (e !== n) {
                for (a = (c = r[e])[i], t = s - 1; -1 !== t; --t)
                  c[t] -= u[t] * a;
                for (c = h[e], t = m - 1; -1 !== t; --t) c[t] -= o[t] * a;
              }
          }
          return { I: h, A: r, P: l };
        }),
        (numeric.__solveLP = function (r, n, e, i, t, u, o) {
          var c,
            a,
            f,
            m,
            s = numeric.sum,
            h = (numeric.log, numeric.mul),
            l = numeric.sub,
            p = numeric.dot,
            y = numeric.div,
            g = numeric.add,
            d = r.length,
            v = e.length,
            x = !1,
            b = 1,
            w = (numeric.transpose(n), numeric.svd, numeric.transpose),
            M = (numeric.leq, Math.sqrt),
            k = Math.abs,
            A = (numeric.muleq, numeric.norminf, numeric.any, Math.min),
            T = numeric.all,
            j = numeric.gt,
            S = Array(d),
            _ = Array(v),
            V = (numeric.rep([v], 1), numeric.solve),
            P = l(e, p(n, u)),
            q = p(r, r);
          for (f = 0; f < t; ++f) {
            var F, L;
            for (F = v - 1; -1 !== F; --F) _[F] = y(n[F], P[F]);
            var N = w(_);
            for (F = d - 1; -1 !== F; --F) S[F] = s(N[F]);
            b = 0.25 * k(q / p(r, S));
            var O = 100 * M(q / p(S, S));
            for (
              (!isFinite(b) || b > O) && (b = O),
                m = g(r, h(b, S)),
                a = p(N, _),
                F = d - 1;
              -1 !== F;
              --F
            )
              a[F][F] += 1;
            L = V(a, y(m, b), !0);
            var U = y(P, p(n, L)),
              D = 1;
            for (F = v - 1; -1 !== F; --F)
              U[F] < 0 && (D = A(D, -0.999 * U[F]));
            if (((c = l(u, h(L, D))), !T(j((P = l(e, p(n, c))), 0))))
              return { solution: u, message: "", iterations: f };
            if (((u = c), b < i))
              return { solution: c, message: "", iterations: f };
            if (o) {
              var B = p(r, m),
                R = p(n, m);
              for (x = !0, F = v - 1; -1 !== F; --F)
                if (B * R[F] < 0) {
                  x = !1;
                  break;
                }
            } else x = !(u[d - 1] >= 0);
            if (x) return { solution: c, message: "Unbounded", iterations: f };
          }
          return {
            solution: u,
            message: "maximum iteration count exceeded",
            iterations: f,
          };
        }),
        (numeric._solveLP = function (r, n, e, i, t) {
          var u = r.length,
            o = e.length,
            c = (numeric.sum, numeric.log, numeric.mul, numeric.sub),
            a = numeric.dot,
            f = (numeric.div, numeric.add, numeric.rep([u], 0).concat([1])),
            m = numeric.rep([o, 1], -1),
            s = numeric.blockMatrix([[n, m]]),
            h = e,
            l = numeric
              .rep([u], 0)
              .concat(Math.max(0, numeric.sup(numeric.neg(e))) + 1),
            p = numeric.__solveLP(f, s, h, i, t, l, !1),
            y = numeric.clone(p.solution);
          if (((y.length = u), numeric.inf(c(e, a(n, y))) < 0))
            return {
              solution: NaN,
              message: "Infeasible",
              iterations: p.iterations,
            };
          var g = numeric.__solveLP(r, n, e, i, t - p.iterations, y, !0);
          return (g.iterations += p.iterations), g;
        }),
        (numeric.solveLP = function (r, n, e, i, t, u, o) {
          if (
            (void 0 === o && (o = 1e3),
            void 0 === u && (u = numeric.epsilon),
            void 0 === i)
          )
            return numeric._solveLP(r, n, e, u, o);
          var c,
            a = i.length,
            f = i[0].length,
            m = n.length,
            s = numeric.echelonize(i),
            h = numeric.rep([f], 0),
            l = s.P,
            p = [];
          for (c = l.length - 1; -1 !== c; --c) h[l[c]] = 1;
          for (c = f - 1; -1 !== c; --c) 0 === h[c] && p.push(c);
          var y = numeric.getRange,
            g = numeric.linspace(0, a - 1),
            d = numeric.linspace(0, m - 1),
            v = y(i, g, p),
            x = y(n, d, l),
            b = y(n, d, p),
            w = numeric.dot,
            M = numeric.sub,
            k = w(x, s.I),
            A = M(b, w(k, v)),
            T = M(e, w(k, t)),
            j = Array(l.length),
            S = Array(p.length);
          for (c = l.length - 1; -1 !== c; --c) j[c] = r[l[c]];
          for (c = p.length - 1; -1 !== c; --c) S[c] = r[p[c]];
          var _ = M(S, w(j, w(s.I, v))),
            V = numeric._solveLP(_, A, T, u, o),
            P = V.solution;
          if (P != P) return V;
          var q = w(s.I, M(t, w(v, P))),
            F = Array(r.length);
          for (c = l.length - 1; -1 !== c; --c) F[l[c]] = q[c];
          for (c = p.length - 1; -1 !== c; --c) F[p[c]] = P[c];
          return { solution: F, message: V.message, iterations: V.iterations };
        }),
        (numeric.MPStoLP = function (r) {
          r instanceof String && r.split("\n");
          var n,
            e,
            i,
            t,
            u = 0,
            o = [
              "Initial state",
              "NAME",
              "ROWS",
              "COLUMNS",
              "RHS",
              "BOUNDS",
              "ENDATA",
            ],
            c = r.length,
            a = 0,
            f = {},
            m = [],
            s = 0,
            h = {},
            l = 0,
            p = [],
            y = [],
            g = [];
          function d(e) {
            throw new Error(
              "MPStoLP: " +
                e +
                "\nLine " +
                n +
                ": " +
                r[n] +
                "\nCurrent state: " +
                o[u] +
                "\n"
            );
          }
          for (n = 0; n < c; ++n) {
            var v = (i = r[n]).match(/\S*/g),
              x = [];
            for (e = 0; e < v.length; ++e) "" !== v[e] && x.push(v[e]);
            if (0 !== x.length) {
              for (
                e = 0;
                e < o.length && i.substr(0, o[e].length) !== o[e];
                ++e
              );
              if (e < o.length) {
                if (((u = e), 1 === e && (t = x[1]), 6 === e))
                  return {
                    name: t,
                    c: p,
                    A: numeric.transpose(y),
                    b: g,
                    rows: f,
                    vars: h,
                  };
              } else
                switch (u) {
                  case 0:
                  case 1:
                    d("Unexpected line");
                  case 2:
                    switch (x[0]) {
                      case "N":
                        0 === a ? (a = x[1]) : d("Two or more N rows");
                        break;
                      case "L":
                        (f[x[1]] = s), (m[s] = 1), (g[s] = 0), ++s;
                        break;
                      case "G":
                        (f[x[1]] = s), (m[s] = -1), (g[s] = 0), ++s;
                        break;
                      case "E":
                        (f[x[1]] = s), (m[s] = 0), (g[s] = 0), ++s;
                        break;
                      default:
                        d("Parse error " + numeric.prettyPrint(x));
                    }
                    break;
                  case 3:
                    h.hasOwnProperty(x[0]) ||
                      ((h[x[0]] = l),
                      (p[l] = 0),
                      (y[l] = numeric.rep([s], 0)),
                      ++l);
                    var b = h[x[0]];
                    for (e = 1; e < x.length; e += 2)
                      if (x[e] !== a) {
                        var w = f[x[e]];
                        y[b][w] = (m[w] < 0 ? -1 : 1) * parseFloat(x[e + 1]);
                      } else p[b] = parseFloat(x[e + 1]);
                    break;
                  case 4:
                    for (e = 1; e < x.length; e += 2)
                      g[f[x[e]]] =
                        (m[f[x[e]]] < 0 ? -1 : 1) * parseFloat(x[e + 1]);
                    break;
                  case 5:
                    break;
                  case 6:
                    d("Internal error");
                }
            }
          }
          d("Reached end of file without ENDATA");
        }),
        (numeric.seedrandom = { pow: Math.pow, random: Math.random }),
        (function (r, n, e, i, t, u, o) {
          function c(r) {
            var n,
              e,
              i = this,
              t = r.length,
              u = 0,
              o = (i.i = i.j = i.m = 0);
            for (i.S = [], i.c = [], t || (r = [t++]); u < 256; ) i.S[u] = u++;
            for (u = 0; u < 256; u++)
              (o = m(o + (n = i.S[u]) + r[u % t])),
                (e = i.S[o]),
                (i.S[u] = e),
                (i.S[o] = n);
            (i.g = function (r) {
              var n = i.S,
                e = m(i.i + 1),
                t = n[e],
                u = m(i.j + t),
                o = n[u];
              (n[e] = o), (n[u] = t);
              for (var c = n[m(t + o)]; --r; )
                (e = m(e + 1)),
                  (o = n[(u = m(u + (t = n[e])))]),
                  (n[e] = o),
                  (n[u] = t),
                  (c = 256 * c + n[m(t + o)]);
              return (i.i = e), (i.j = u), c;
            }),
              i.g(256);
          }
          function a(r, n, e, i, t) {
            if (((e = []), (t = typeof r), n && "object" == t))
              for (i in r)
                if (i.indexOf("S") < 5)
                  try {
                    e.push(a(r[i], n - 1));
                  } catch (u) {}
            return e.length ? e : r + ("string" != t ? "\0" : "");
          }
          function f(r, n, e, i) {
            for (r += "", e = 0, i = 0; i < r.length; i++)
              n[m(i)] = m((e ^= 19 * n[m(i)]) + r.charCodeAt(i));
            for (i in ((r = ""), n)) r += String.fromCharCode(n[i]);
            return r;
          }
          function m(r) {
            return 255 & r;
          }
          (n.seedrandom = function (e, i) {
            var m,
              s = [];
            return (
              (e = f(
                a(
                  i
                    ? [e, r]
                    : arguments.length
                    ? e
                    : [new Date().getTime(), r, window],
                  3
                ),
                s
              )),
              f((m = new c(s)).S, r),
              (n.random = function () {
                for (var r = m.g(6), n = o, e = 0; r < t; )
                  (r = 256 * (r + e)), (n *= 256), (e = m.g(1));
                for (; r >= u; ) (r /= 2), (n /= 2), (e >>>= 1);
                return (r + e) / n;
              }),
              e
            );
          }),
            (o = n.pow(256, 6)),
            (t = n.pow(2, t)),
            (u = 2 * t),
            f(n.random(), r);
        })([], numeric.seedrandom, 0, 0, 52),
        (function (r) {
          function n(r) {
            if ("object" != typeof r) return r;
            var e,
              i = [],
              t = r.length;
            for (e = 0; e < t; e++) i[e + 1] = n(r[e]);
            return i;
          }
          function e(r) {
            if ("object" != typeof r) return r;
            var n,
              i = [],
              t = r.length;
            for (n = 1; n < t; n++) i[n - 1] = e(r[n]);
            return i;
          }
          function i(r, n, e, i, t, u, o, c, a, f, m, s, h, l, p, y) {
            var g,
              d,
              v,
              x,
              b,
              w,
              M,
              k,
              A,
              T,
              j,
              S,
              _,
              V,
              P,
              q,
              F,
              L,
              N,
              O,
              U,
              D,
              B,
              R,
              X,
              E,
              Y;
            (_ = Math.min(i, f)),
              (v = 2 * i + (_ * (_ + 5)) / 2 + 2 * f + 1),
              (R = 1e-60);
            do {
              (X = 1 + 0.1 * (R += R)), (E = 1 + 0.2 * R);
            } while (X <= 1 || E <= 1);
            for (g = 1; g <= i; g += 1) p[g] = n[g];
            for (g = i + 1; g <= v; g += 1) p[g] = 0;
            for (g = 1; g <= f; g += 1) s[g] = 0;
            if (((b = []), 0 === y[1])) {
              if (
                ((function (r, n, e, i) {
                  var t, u, o, c, a, f;
                  for (u = 1; u <= e; u += 1) {
                    if (((i[1] = u), (f = 0), (o = u - 1) < 1)) {
                      if ((f = r[u][u] - f) <= 0) break;
                      r[u][u] = Math.sqrt(f);
                    } else {
                      for (c = 1; c <= o; c += 1) {
                        for (a = r[c][u], t = 1; t < c; t += 1)
                          a -= r[t][u] * r[t][c];
                        (a /= r[c][c]), (r[c][u] = a), (f += a * a);
                      }
                      if ((f = r[u][u] - f) <= 0) break;
                      r[u][u] = Math.sqrt(f);
                    }
                    i[1] = 0;
                  }
                })(r, 0, i, b),
                0 !== b[1])
              )
                return void (y[1] = 2);
              !(function (r, n, e, i) {
                var t, u, o, c;
                for (u = 1; u <= e; u += 1) {
                  for (c = 0, t = 1; t < u; t += 1) c += r[t][u] * i[t];
                  i[u] = (i[u] - c) / r[u][u];
                }
                for (o = 1; o <= e; o += 1)
                  for (
                    i[(u = e + 1 - o)] = i[u] / r[u][u], c = -i[u], t = 1;
                    t < u;
                    t += 1
                  )
                    i[t] = i[t] + c * r[t][u];
              })(r, 0, i, n),
                (function (r, n, e) {
                  var i, t, u, o, c;
                  for (u = 1; u <= e; u += 1) {
                    for (
                      r[u][u] = 1 / r[u][u], c = -r[u][u], i = 1;
                      i < u;
                      i += 1
                    )
                      r[i][u] = c * r[i][u];
                    if (e < (o = u + 1)) break;
                    for (t = o; t <= e; t += 1)
                      for (c = r[u][t], r[u][t] = 0, i = 1; i <= u; i += 1)
                        r[i][t] = r[i][t] + c * r[i][u];
                  }
                })(r, 0, i);
            } else {
              for (d = 1; d <= i; d += 1)
                for (t[d] = 0, g = 1; g <= d; g += 1)
                  t[d] = t[d] + r[g][d] * n[g];
              for (d = 1; d <= i; d += 1)
                for (n[d] = 0, g = d; g <= i; g += 1)
                  n[d] = n[d] + r[d][g] * t[g];
            }
            for (u[1] = 0, d = 1; d <= i; d += 1)
              for (
                t[d] = n[d], u[1] = u[1] + p[d] * t[d], p[d] = 0, g = d + 1;
                g <= i;
                g += 1
              )
                r[g][d] = 0;
            for (
              u[1] = -u[1] / 2,
                y[1] = 0,
                V =
                  (T =
                    (A = (j = (k = (M = i) + i) + _) + _ + 1) +
                    (_ * (_ + 1)) / 2) + f,
                g = 1;
              g <= f;
              g += 1
            ) {
              for (q = 0, d = 1; d <= i; d += 1) q += o[d][g] * o[d][g];
              p[V + g] = Math.sqrt(q);
            }
            function I() {
              for (l[1] = l[1] + 1, v = T, g = 1; g <= f; g += 1) {
                for (v += 1, q = -c[g], d = 1; d <= i; d += 1)
                  q += o[d][g] * t[d];
                if ((Math.abs(q) < R && (q = 0), g > m)) p[v] = q;
                else if (((p[v] = -Math.abs(q)), q > 0)) {
                  for (d = 1; d <= i; d += 1) o[d][g] = -o[d][g];
                  c[g] = -c[g];
                }
              }
              for (g = 1; g <= h; g += 1) p[T + s[g]] = 0;
              for (S = 0, P = 0, g = 1; g <= f; g += 1)
                p[T + g] < P * p[V + g] && ((S = g), (P = p[T + g] / p[V + g]));
              return 0 === S ? 999 : 0;
            }
            function Q() {
              for (g = 1; g <= i; g += 1) {
                for (q = 0, d = 1; d <= i; d += 1) q += r[d][g] * o[d][S];
                p[g] = q;
              }
              for (x = M, g = 1; g <= i; g += 1) p[x + g] = 0;
              for (d = h + 1; d <= i; d += 1)
                for (g = 1; g <= i; g += 1)
                  p[x + g] = p[x + g] + r[g][d] * p[d];
              for (D = !0, g = h; g >= 1; g -= 1) {
                for (
                  q = p[g], x = (v = A + (g * (g + 3)) / 2) - g, d = g + 1;
                  d <= h;
                  d += 1
                )
                  (q -= p[v] * p[k + d]), (v += d);
                if (((q /= p[x]), (p[k + g] = q), s[g] < m)) break;
                if (q < 0) break;
                (D = !1), (w = g);
              }
              if (!D)
                for (
                  F = p[j + w] / p[k + w], g = 1;
                  g <= h && !(s[g] < m) && !(p[k + g] < 0);
                  g += 1
                )
                  (P = p[j + g] / p[k + g]) < F && ((F = P), (w = g));
              for (q = 0, g = M + 1; g <= M + i; g += 1) q += p[g] * p[g];
              if (Math.abs(q) <= R) {
                if (D) return (y[1] = 1), 999;
                for (g = 1; g <= h; g += 1) p[j + g] = p[j + g] - F * p[k + g];
                return (p[j + h + 1] = p[j + h + 1] + F), 700;
              }
              for (q = 0, g = 1; g <= i; g += 1) q += p[M + g] * o[g][S];
              for (
                L = -p[T + S] / q,
                  B = !0,
                  D || (F < L && ((L = F), (B = !1))),
                  g = 1;
                g <= i;
                g += 1
              )
                (t[g] = t[g] + L * p[M + g]), Math.abs(t[g]) < R && (t[g] = 0);
              for (
                u[1] = u[1] + L * q * (L / 2 + p[j + h + 1]), g = 1;
                g <= h;
                g += 1
              )
                p[j + g] = p[j + g] - L * p[k + g];
              if (((p[j + h + 1] = p[j + h + 1] + L), !B)) {
                for (q = -c[S], d = 1; d <= i; d += 1) q += t[d] * o[d][S];
                if (S > m) p[T + S] = q;
                else if (((p[T + S] = -Math.abs(q)), q > 0)) {
                  for (d = 1; d <= i; d += 1) o[d][S] = -o[d][S];
                  c[S] = -c[S];
                }
                return 700;
              }
              for (
                s[(h += 1)] = S, v = A + ((h - 1) * h) / 2 + 1, g = 1;
                g <= h - 1;
                g += 1
              )
                (p[v] = p[g]), (v += 1);
              if (h === i) p[v] = p[i];
              else {
                for (
                  g = i;
                  g >= h + 1 &&
                  0 !== p[g] &&
                  ((N = Math.max(Math.abs(p[g - 1]), Math.abs(p[g]))),
                  (O = Math.min(Math.abs(p[g - 1]), Math.abs(p[g]))),
                  (P =
                    p[g - 1] >= 0
                      ? Math.abs(N * Math.sqrt(1 + (O * O) / (N * N)))
                      : -Math.abs(N * Math.sqrt(1 + (O * O) / (N * N)))),
                  (N = p[g - 1] / P),
                  (O = p[g] / P),
                  1 !== N);
                  g -= 1
                )
                  if (0 === N)
                    for (p[g - 1] = O * P, d = 1; d <= i; d += 1)
                      (P = r[d][g - 1]), (r[d][g - 1] = r[d][g]), (r[d][g] = P);
                  else
                    for (p[g - 1] = P, U = O / (1 + N), d = 1; d <= i; d += 1)
                      (P = N * r[d][g - 1] + O * r[d][g]),
                        (r[d][g] = U * (r[d][g - 1] + P) - r[d][g]),
                        (r[d][g - 1] = P);
                p[v] = p[h];
              }
              return 0;
            }
            function C() {
              if (0 === p[(x = (v = A + (w * (w + 1)) / 2 + 1) + w)])
                return 798;
              if (
                ((N = Math.max(Math.abs(p[x - 1]), Math.abs(p[x]))),
                (O = Math.min(Math.abs(p[x - 1]), Math.abs(p[x]))),
                (P =
                  p[x - 1] >= 0
                    ? Math.abs(N * Math.sqrt(1 + (O * O) / (N * N)))
                    : -Math.abs(N * Math.sqrt(1 + (O * O) / (N * N)))),
                (N = p[x - 1] / P),
                (O = p[x] / P),
                1 === N)
              )
                return 798;
              if (0 === N) {
                for (g = w + 1; g <= h; g += 1)
                  (P = p[x - 1]), (p[x - 1] = p[x]), (p[x] = P), (x += g);
                for (g = 1; g <= i; g += 1)
                  (P = r[g][w]), (r[g][w] = r[g][w + 1]), (r[g][w + 1] = P);
              } else {
                for (U = O / (1 + N), g = w + 1; g <= h; g += 1)
                  (P = N * p[x - 1] + O * p[x]),
                    (p[x] = U * (p[x - 1] + P) - p[x]),
                    (p[x - 1] = P),
                    (x += g);
                for (g = 1; g <= i; g += 1)
                  (P = N * r[g][w] + O * r[g][w + 1]),
                    (r[g][w + 1] = U * (r[g][w] + P) - r[g][w + 1]),
                    (r[g][w] = P);
              }
              return 0;
            }
            function Z() {
              for (x = v - w, g = 1; g <= w; g += 1)
                (p[x] = p[v]), (v += 1), (x += 1);
              return (
                (p[j + w] = p[j + w + 1]),
                (s[w] = s[w + 1]),
                (w += 1) < h ? 797 : 0
              );
            }
            function H() {
              return (
                (p[j + h] = p[j + h + 1]),
                (p[j + h + 1] = 0),
                (s[h] = 0),
                (h -= 1),
                (l[2] = l[2] + 1),
                0
              );
            }
            for (h = 0, l[1] = 0, l[2] = 0, Y = 0; ; ) {
              if (999 === (Y = I())) return;
              for (; 0 !== (Y = Q()); ) {
                if (999 === Y) return;
                if (700 === Y)
                  if (w === h) H();
                  else {
                    for (; C(), 797 === (Y = Z()); );
                    H();
                  }
              }
            }
          }
          numeric.solveQP = function (r, t, u, o, c, a) {
            (r = n(r)), (t = n(t)), (u = n(u));
            var f,
              m,
              s,
              h,
              l,
              p = [],
              y = [],
              g = [],
              d = [],
              v = [];
            if (
              ((c = c || 0),
              (a = a ? n(a) : [void 0, 0]),
              (o = o ? n(o) : []),
              (m = r.length - 1),
              (s = u[1].length - 1),
              !o)
            )
              for (f = 1; f <= s; f += 1) o[f] = 0;
            for (f = 1; f <= s; f += 1) y[f] = 0;
            for (0, h = Math.min(m, s), f = 1; f <= m; f += 1) g[f] = 0;
            for (
              p[1] = 0, f = 1;
              f <= 2 * m + (h * (h + 5)) / 2 + 2 * s + 1;
              f += 1
            )
              d[f] = 0;
            for (f = 1; f <= 2; f += 1) v[f] = 0;
            return (
              i(r, t, 0, m, g, p, u, o, 0, s, c, y, 0, v, d, a),
              (l = ""),
              1 === a[1] && (l = "constraints are inconsistent, no solution!"),
              2 === a[1] &&
                (l =
                  "matrix D in quadratic function is not positive definite!"),
              {
                solution: e(g),
                value: e(p),
                unconstrained_solution: e(t),
                iterations: e(v),
                iact: e(y),
                message: l,
              }
            );
          };
        })(),
        (numeric.svd = function (r) {
          var n,
            e = numeric.epsilon,
            i = 1e-64 / e,
            t = 0,
            u = 0,
            o = 0,
            c = 0,
            a = 0,
            f = numeric.clone(r),
            m = f.length,
            s = f[0].length;
          if (m < s) throw "Need more rows than columns";
          var h = new Array(s),
            l = new Array(s);
          for (u = 0; u < s; u++) h[u] = l[u] = 0;
          var p = numeric.rep([s, s], 0);
          function y(r, n) {
            return (r = Math.abs(r)) > (n = Math.abs(n))
              ? r * Math.sqrt(1 + (n * n) / r / r)
              : 0 == n
              ? r
              : n * Math.sqrt(1 + (r * r) / n / n);
          }
          var g = 0,
            d = 0,
            v = 0,
            x = 0,
            b = 0,
            w = 0,
            M = 0;
          for (u = 0; u < s; u++) {
            for (h[u] = d, M = 0, a = u + 1, o = u; o < m; o++)
              M += f[o][u] * f[o][u];
            if (M <= i) d = 0;
            else
              for (
                g = f[u][u],
                  d = Math.sqrt(M),
                  g >= 0 && (d = -d),
                  v = g * d - M,
                  f[u][u] = g - d,
                  o = a;
                o < s;
                o++
              ) {
                for (M = 0, c = u; c < m; c++) M += f[c][u] * f[c][o];
                for (g = M / v, c = u; c < m; c++) f[c][o] += g * f[c][u];
              }
            for (l[u] = d, M = 0, o = a; o < s; o++) M += f[u][o] * f[u][o];
            if (M <= i) d = 0;
            else {
              for (
                g = f[u][u + 1],
                  d = Math.sqrt(M),
                  g >= 0 && (d = -d),
                  v = g * d - M,
                  f[u][u + 1] = g - d,
                  o = a;
                o < s;
                o++
              )
                h[o] = f[u][o] / v;
              for (o = a; o < m; o++) {
                for (M = 0, c = a; c < s; c++) M += f[o][c] * f[u][c];
                for (c = a; c < s; c++) f[o][c] += M * h[c];
              }
            }
            (b = Math.abs(l[u]) + Math.abs(h[u])) > x && (x = b);
          }
          for (u = s - 1; -1 != u; u += -1) {
            if (0 != d) {
              for (v = d * f[u][u + 1], o = a; o < s; o++)
                p[o][u] = f[u][o] / v;
              for (o = a; o < s; o++) {
                for (M = 0, c = a; c < s; c++) M += f[u][c] * p[c][o];
                for (c = a; c < s; c++) p[c][o] += M * p[c][u];
              }
            }
            for (o = a; o < s; o++) (p[u][o] = 0), (p[o][u] = 0);
            (p[u][u] = 1), (d = h[u]), (a = u);
          }
          for (u = s - 1; -1 != u; u += -1) {
            for (a = u + 1, d = l[u], o = a; o < s; o++) f[u][o] = 0;
            if (0 != d) {
              for (v = f[u][u] * d, o = a; o < s; o++) {
                for (M = 0, c = a; c < m; c++) M += f[c][u] * f[c][o];
                for (g = M / v, c = u; c < m; c++) f[c][o] += g * f[c][u];
              }
              for (o = u; o < m; o++) f[o][u] = f[o][u] / d;
            } else for (o = u; o < m; o++) f[o][u] = 0;
            f[u][u] += 1;
          }
          for (e *= x, c = s - 1; -1 != c; c += -1)
            for (var k = 0; k < 50; k++) {
              var A = !1;
              for (a = c; -1 != a; a += -1) {
                if (Math.abs(h[a]) <= e) {
                  A = !0;
                  break;
                }
                if (Math.abs(l[a - 1]) <= e) break;
              }
              if (!A) {
                (t = 0), (M = 1);
                var T = a - 1;
                for (
                  u = a;
                  u < c + 1 &&
                  ((g = M * h[u]), (h[u] = t * h[u]), !(Math.abs(g) <= e));
                  u++
                )
                  for (
                    v = y(g, (d = l[u])),
                      l[u] = v,
                      t = d / v,
                      M = -g / v,
                      o = 0;
                    o < m;
                    o++
                  )
                    (b = f[o][T]),
                      (w = f[o][u]),
                      (f[o][T] = b * t + w * M),
                      (f[o][u] = -b * M + w * t);
              }
              if (((w = l[c]), a == c)) {
                if (w < 0)
                  for (l[c] = -w, o = 0; o < s; o++) p[o][c] = -p[o][c];
                break;
              }
              if (k >= 49) throw "Error: no convergence.";
              for (
                x = l[a],
                  d = y(
                    (g =
                      (((b = l[c - 1]) - w) * (b + w) +
                        ((d = h[c - 1]) - (v = h[c])) * (d + v)) /
                      (2 * v * b)),
                    1
                  ),
                  g =
                    g < 0
                      ? ((x - w) * (x + w) + v * (b / (g - d) - v)) / x
                      : ((x - w) * (x + w) + v * (b / (g + d) - v)) / x,
                  t = 1,
                  M = 1,
                  u = a + 1;
                u < c + 1;
                u++
              ) {
                for (
                  d = h[u],
                    b = l[u],
                    v = M * d,
                    d *= t,
                    w = y(g, v),
                    h[u - 1] = w,
                    g = x * (t = g / w) + d * (M = v / w),
                    d = -x * M + d * t,
                    v = b * M,
                    b *= t,
                    o = 0;
                  o < s;
                  o++
                )
                  (x = p[o][u - 1]),
                    (w = p[o][u]),
                    (p[o][u - 1] = x * t + w * M),
                    (p[o][u] = -x * M + w * t);
                for (
                  w = y(g, v),
                    l[u - 1] = w,
                    g = (t = g / w) * d + (M = v / w) * b,
                    x = -M * d + t * b,
                    o = 0;
                  o < m;
                  o++
                )
                  (b = f[o][u - 1]),
                    (w = f[o][u]),
                    (f[o][u - 1] = b * t + w * M),
                    (f[o][u] = -b * M + w * t);
              }
              (h[a] = 0), (h[c] = g), (l[c] = x);
            }
          for (u = 0; u < l.length; u++) l[u] < e && (l[u] = 0);
          for (u = 0; u < s; u++)
            for (o = u - 1; o >= 0; o--)
              if (l[o] < l[u]) {
                for (t = l[o], l[o] = l[u], l[u] = t, c = 0; c < f.length; c++)
                  (n = f[c][u]), (f[c][u] = f[c][o]), (f[c][o] = n);
                for (c = 0; c < p.length; c++)
                  (n = p[c][u]), (p[c][u] = p[c][o]), (p[c][o] = n);
                u = o;
              }
          return { U: f, S: l, V: p };
        });
    </script>
    <script type="text/javascript">
      function _defineProperty(e, t, i) {
        return (
          (t = _toPropertyKey(t)) in e
            ? Object.defineProperty(e, t, {
                value: i,
                enumerable: !0,
                configurable: !0,
                writable: !0,
              })
            : (e[t] = i),
          e
        );
      }
      function _toPropertyKey(e) {
        var t = _toPrimitive(e, "string");
        return "symbol" == typeof t ? t : String(t);
      }
      function _toPrimitive(e, t) {
        if ("object" != typeof e || null === e) return e;
        var i = e[Symbol.toPrimitive];
        if (void 0 !== i) {
          var s = i.call(e, t || "default");
          if ("object" != typeof s) return s;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === t ? String : Number)(e);
      }
      phet.chipper.runWebpack = function () {
        (() => {
          var e = {
              9806: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a });
                var s = i(2550),
                  n = i(5602),
                  r = i(7922),
                  o = i(592);
                class a extends o.Z {
                  constructor(e, t) {
                    super(
                      e,
                      (0, s.ZP)()(
                        { valueType: "boolean", phetioValueType: n.Z },
                        t
                      )
                    );
                  }
                  toggle() {
                    this.value = !this.value;
                  }
                }
                r.Z.register("BooleanProperty", a);
              },
              2558: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(2550),
                  n = i(7922),
                  r = i(2221);
                class o {
                  constructor(e) {
                    const t = (0, s.ZP)()({ delay: 400, interval: 100 }, e);
                    (this.delay = t.delay),
                      (this.interval = t.interval),
                      (this.callbacks = []),
                      t.callback && this.callbacks.push(t.callback),
                      (this.delayID = null),
                      (this.intervalID = null),
                      (this.fired = !1);
                  }
                  isRunning() {
                    return null !== this.delayID || null !== this.intervalID;
                  }
                  start() {
                    this.isRunning() ||
                      ((this.fired = !1),
                      (this.delayID = r.Z.setTimeout(() => {
                        (this.delayID = null),
                          (this.intervalID = r.Z.setInterval(
                            () => this.fire(),
                            this.interval
                          )),
                          this.fire();
                      }, this.delay)));
                  }
                  stop(e) {
                    this.isRunning() &&
                      (this.delayID &&
                        (r.Z.clearTimeout(this.delayID), (this.delayID = null)),
                      this.intervalID &&
                        (r.Z.clearInterval(this.intervalID),
                        (this.intervalID = null)),
                      e && !this.fired && this.fire());
                  }
                  addCallback(e) {
                    this.callbacks.includes(e) || this.callbacks.push(e);
                  }
                  removeCallback(e) {
                    const t = this.callbacks.indexOf(e);
                    -1 !== t && this.callbacks.splice(t, 1);
                  }
                  fire() {
                    const e = this.callbacks.slice(0);
                    for (let t = 0; t < e.length; t++) e[t]();
                    this.fired = !0;
                  }
                  dispose() {
                    this.stop(!1), (this.callbacks.length = 0);
                  }
                }
                n.Z.register("CallbackTimer", o);
              },
              4075: (e, t, i) => {
                "use strict";
                i.d(t, {
                  Fo: () => b,
                  Nt: () => P,
                  WZ: () => f,
                  ZP: () => p,
                  oL: () => y,
                });
                var s = i(1005),
                  n = i(6846),
                  r = i(538),
                  o = i(7922),
                  a = i(4869),
                  h = i(6596),
                  l = i(2550),
                  d = i(5264),
                  c = i(1617);
                function u(e, t) {
                  return e(...t.map((e) => e.get()));
                }
                class p extends d.Z {
                  constructor(e, t, i) {
                    const n = (0, l.ZP)()(
                      {
                        tandem: s.Z.OPTIONAL,
                        phetioReadOnly: !0,
                        phetioOuterType: p.DerivedPropertyIO,
                        phetioLinkDependencies: !0,
                      },
                      i
                    );
                    super(u(t, e), n),
                      s.Z.VALIDATION && this.isPhetioInstrumented(),
                      (this.dependencies = e),
                      (this.derivation = t),
                      (this.derivedPropertyListener =
                        this.getDerivedPropertyListener.bind(this)),
                      e.forEach((e) => {
                        if (
                          (e.lazyLink(this.derivedPropertyListener),
                          this.isPhetioInstrumented() &&
                            e instanceof c.Z &&
                            e.isPhetioInstrumented() &&
                            (e instanceof d.Z &&
                              a.Z.registerPhetioOrderDependency(
                                e,
                                h.Z.UNDEFER,
                                this,
                                h.Z.UNDEFER
                              ),
                            n.phetioLinkDependencies))
                        ) {
                          const t = n.tandem.createTandem("dependencies");
                          this.addLinkedElement(e, {
                            tandem: t.createTandemFromPhetioID(
                              e.tandem.phetioID
                            ),
                          });
                        }
                      });
                  }
                  hasDependency(e) {
                    return this.definedDependencies.includes(e);
                  }
                  get definedDependencies() {
                    return this.dependencies;
                  }
                  getDerivedPropertyListener() {
                    this.isDeferred
                      ? (this.hasDeferredValue = !0)
                      : super.set(u(this.derivation, this.definedDependencies));
                  }
                  recomputeDerivation() {
                    this.getDerivedPropertyListener();
                  }
                  dispose() {
                    const e = this.definedDependencies;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      i.hasListener(this.derivedPropertyListener) &&
                        i.unlink(this.derivedPropertyListener);
                    }
                    (this.dependencies = null), super.dispose();
                  }
                  setDeferred(e) {
                    return (
                      this.isDeferred &&
                        !e &&
                        (this.deferredValue = u(
                          this.derivation,
                          this.definedDependencies
                        )),
                      super.setDeferred(e)
                    );
                  }
                  static valueEquals(e, t, i) {
                    return new p([e, t], (e, t) => e === t, i);
                  }
                  static and(e, t) {
                    return p.deriveAny(e, () => _.reduce(e, g, !0), t);
                  }
                  static or(e, t) {
                    return p.deriveAny(e, () => _.reduce(e, m, !1), t);
                  }
                  static not(e, t) {
                    return new p([e], (e) => !e, t);
                  }
                  static deriveAny(e, t, i) {
                    return new p(e, t, i);
                  }
                }
                const g = (e, t) => e && t.value,
                  m = (e, t) => e || t.value,
                  A = new Map();
                p.DerivedPropertyIO = (e) => (
                  A.has(e) ||
                    A.set(
                      e,
                      new n.Z(`DerivedPropertyIO<${e.typeName}>`, {
                        valueType: p,
                        parameterTypes: [e],
                        supertype: (0, d.f)(e),
                        documentation:
                          "Like PropertyIO, but not settable.  Instead it is derived from other DerivedPropertyIO or PropertyIO instances",
                        applyState: _.noop,
                        methods: {
                          setValue: {
                            returnType: r.Z,
                            parameterTypes: [e],
                            implementation: p.prototype.set,
                            documentation:
                              "Errors out when you try to set a derived property.",
                            invocableForReadOnlyElements: !1,
                          },
                        },
                      })
                    ),
                  A.get(e)
                );
                class y extends p {}
                class f extends p {}
                class P extends p {}
                class b extends p {}
                o.Z.register("DerivedProperty", p);
              },
              1731: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a, t: () => r });
                var s = i(7922),
                  n = i(1685);
                const r = ["disposer", "disposeEmitter"];
                class o {
                  constructor(e) {
                    _defineProperty(this, "_disposeEmitter", new n.Z()),
                      _defineProperty(this, "isDisposed", !1),
                      _defineProperty(this, "_disposer", null),
                      _defineProperty(this, "boundOnDisposer", null),
                      e && e.disposer && (this.disposer = e.disposer),
                      e &&
                        e.disposeEmitter &&
                        (this.disposeEmitter = e.disposeEmitter);
                  }
                  onDisposer() {
                    !this.isDisposed && this.dispose(), this.clearDisposer();
                  }
                  getDisposer() {
                    return this._disposer;
                  }
                  get disposer() {
                    return this.getDisposer();
                  }
                  set disposer(e) {
                    this.setDisposer(e);
                  }
                  setDisposer(e) {
                    e !== this._disposer &&
                      (this.ensureBoundOnDisposer(),
                      this.clearDisposer(),
                      (this._disposer = e),
                      this._disposer &&
                        this.getDisposerEmitter().addListener(
                          this.boundOnDisposer
                        ));
                  }
                  getDisposeEmitter() {
                    return this._disposeEmitter;
                  }
                  get disposeEmitter() {
                    return this.getDisposeEmitter();
                  }
                  set disposeEmitter(e) {
                    this.setDisposeEmitter(e);
                  }
                  setDisposeEmitter(e) {
                    this._disposeEmitter.addListener(e.emit.bind(e));
                  }
                  ensureBoundOnDisposer() {
                    this.boundOnDisposer =
                      this.boundOnDisposer || this.onDisposer.bind(this);
                  }
                  getDisposerEmitter() {
                    return this._disposer instanceof o
                      ? this._disposer._disposeEmitter
                      : this._disposer;
                  }
                  clearDisposer() {
                    this._disposer &&
                      (this.ensureBoundOnDisposer(),
                      this.getDisposerEmitter().removeListener(
                        this.boundOnDisposer
                      ),
                      (this._disposer = null));
                  }
                  dispose() {
                    this._disposeEmitter.emit(), (this.isDisposed = !0);
                  }
                }
                s.Z.register("Disposable", o);
                const a = o;
              },
              1383: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(7922),
                  n = i(5264),
                  r = i(2550);
                class o extends n.Z {
                  constructor(e, t) {
                    const i = (0, r.ZP)()(
                        {
                          bidirectional: !1,
                          defaultValue: null,
                          derive: _.identity,
                          map: _.identity,
                          inverseMap: _.identity,
                        },
                        t
                      ),
                      s = i.derive,
                      n = i.map,
                      o = i.inverseMap,
                      a = "function" == typeof s ? s : (e) => e[s],
                      h = "function" == typeof n ? n : (e) => e[n],
                      l = "function" == typeof o ? o : (e) => e[o];
                    super(
                      null === e.value
                        ? h(i.defaultValue)
                        : h(a(e.value).value),
                      i
                    ),
                      (this.defaultValue = i.defaultValue),
                      (this.derive = a),
                      (this.map = h),
                      (this.inverseMap = l),
                      (this.bidirectional = i.bidirectional),
                      (this.valuePropertyProperty = e),
                      (this.isExternallyChanging = !1),
                      (this.propertyPropertyListener =
                        this.onPropertyPropertyChange.bind(this)),
                      (this.propertyListener =
                        this.onPropertyChange.bind(this)),
                      e.link(this.propertyListener),
                      i.bidirectional &&
                        this.lazyLink(this.onSelfChange.bind(this));
                  }
                  onPropertyPropertyChange(e, t, i) {
                    if (
                      this.bidirectional &&
                      null !== this.valuePropertyProperty.value &&
                      i
                    ) {
                      if (
                        this.derive(this.valuePropertyProperty.value) === i &&
                        i.areValuesEqual(this.inverseMap(this.value), i.get())
                      )
                        return;
                    }
                    super.set(this.map(e));
                  }
                  onPropertyChange(e, t) {
                    t && this.derive(t).unlink(this.propertyPropertyListener),
                      e
                        ? this.derive(e).link(this.propertyPropertyListener)
                        : this.onPropertyPropertyChange(
                            this.defaultValue,
                            null,
                            null
                          );
                  }
                  onSelfChange(e) {
                    if (null !== this.valuePropertyProperty.value) {
                      const t = this.derive(this.valuePropertyProperty.value);
                      this.areValuesEqual(e, this.map(t.value)) ||
                        (t.value = this.inverseMap(e));
                    }
                  }
                  dispose() {
                    this.valuePropertyProperty.unlink(this.propertyListener),
                      null !== this.valuePropertyProperty.value &&
                        this.derive(this.valuePropertyProperty.value).unlink(
                          this.propertyPropertyListener
                        ),
                      super.dispose();
                  }
                  reset() {
                    if (null !== this.valuePropertyProperty.value) {
                      this.derive(this.valuePropertyProperty.value).reset();
                    }
                  }
                  set(e) {
                    (this.isExternallyChanging = !0),
                      super.set(e),
                      (this.isExternallyChanging = !1);
                  }
                  get value() {
                    return super.value;
                  }
                  set value(e) {
                    this.set(e);
                  }
                  isSettable() {
                    return super.isSettable() || this.bidirectional;
                  }
                }
                s.Z.register("DynamicProperty", o);
              },
              3061: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => u });
                var n = i(2550),
                  r = i(6292),
                  o = i(6846),
                  a = i(538),
                  h = i(516),
                  l = i(7922),
                  d = i(1685),
                  c = i(1005);
                class u extends h.Z {
                  constructor(e) {
                    super(
                      (0, n.ZP)()(
                        { phetioOuterType: u.EmitterIO, phetioState: !1 },
                        e
                      )
                    ),
                      (this.tinyEmitter = new d.Z());
                  }
                  emit() {
                    c.Z.PHET_IO_ENABLED &&
                      this.isPhetioInstrumented() &&
                      this.phetioStartEvent("emitted", {
                        data: this.getPhetioData(...arguments),
                      }),
                      this.tinyEmitter.emit(...arguments),
                      c.Z.PHET_IO_ENABLED &&
                        this.isPhetioInstrumented() &&
                        this.phetioEndEvent();
                  }
                  dispose() {
                    this.tinyEmitter.dispose(), super.dispose();
                  }
                  addListener(e) {
                    this.tinyEmitter.addListener(e);
                  }
                  removeListener(e) {
                    this.tinyEmitter.removeListener(e);
                  }
                  removeAllListeners() {
                    this.tinyEmitter.removeAllListeners();
                  }
                  hasListener(e) {
                    return this.tinyEmitter.hasListener(e);
                  }
                  hasListeners() {
                    return this.tinyEmitter.hasListeners();
                  }
                  getListenerCount() {
                    return this.tinyEmitter.getListenerCount();
                  }
                  debug(e) {
                    const t = function () {
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      return console.log(e, ...i);
                    };
                    return this.addListener(t), t;
                  }
                }
                (s = u),
                  _defineProperty(u, "EmitterIO", (e) => {
                    const t = e.map(p).join(",");
                    return (
                      g.has(t) ||
                        g.set(
                          t,
                          new o.Z(`EmitterIO<${e.map(p).join(", ")}>`, {
                            valueType: s,
                            documentation:
                              "Emits when an event occurs and calls added listeners.",
                            parameterTypes: e,
                            events: ["emitted"],
                            metadataDefaults: { phetioState: !1 },
                            methods: {
                              addListener: {
                                returnType: a.Z,
                                parameterTypes: [(0, r.Z)(a.Z, e)],
                                implementation: s.prototype.addListener,
                                documentation:
                                  "Adds a listener which will be called when the emitter emits.",
                              },
                              removeListener: {
                                returnType: a.Z,
                                parameterTypes: [(0, r.Z)(a.Z, e)],
                                implementation: s.prototype.removeListener,
                                documentation: "Remove a listener.",
                              },
                              emit: {
                                returnType: a.Z,
                                parameterTypes: e,
                                implementation: function () {
                                  for (
                                    var e = arguments.length,
                                      t = new Array(e),
                                      i = 0;
                                    i < e;
                                    i++
                                  )
                                    t[i] = arguments[i];
                                  const s = this.getValidationErrors(...t);
                                  if (s.length > 0)
                                    throw new Error(
                                      "Validation errors: " + s.join(", ")
                                    );
                                  this.emit(t);
                                },
                                documentation:
                                  "Emits a single event to all listeners.",
                                invocableForReadOnlyElements: !1,
                              },
                            },
                          })
                        ),
                      g.get(t)
                    );
                  });
                const p = (e) => e.typeName,
                  g = new Map();
                l.Z.register("Emitter", u);
              },
              4317: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => l });
                var s = i(6871),
                  n = i(831),
                  r = i(2550),
                  o = i(1005),
                  a = i(7922);
                const h = {
                  enabledProperty: null,
                  enabled: !0,
                  enabledPropertyOptions: null,
                  phetioEnabledPropertyInstrumented: !0,
                  tandem: o.Z.OPTIONAL,
                };
                class l {
                  constructor(e) {
                    const t = (0, r.lB)()({}, h, e),
                      i = !t.enabledProperty;
                    (this.enabledProperty =
                      t.enabledProperty ||
                      new s.Z(
                        t.enabled,
                        (0, n.Z)(
                          {
                            tandem: t.phetioEnabledPropertyInstrumented
                              ? t.tandem.createTandem(s.Z.TANDEM_NAME)
                              : o.Z.OPT_OUT,
                          },
                          t.enabledPropertyOptions
                        )
                      )),
                      (this.disposeEnabledComponent = () => {
                        i && this.enabledProperty.dispose();
                      });
                  }
                  setEnabled(e) {
                    this.enabledProperty.value = e;
                  }
                  set enabled(e) {
                    this.setEnabled(e);
                  }
                  get enabled() {
                    return this.isEnabled();
                  }
                  isEnabled() {
                    return this.enabledProperty.value;
                  }
                  dispose() {
                    this.disposeEnabledComponent();
                  }
                }
                a.Z.register("EnabledComponent", l);
              },
              6871: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(2550),
                  n = i(7922),
                  r = i(9806);
                class o extends r.Z {
                  constructor(e, t) {
                    const i = (0, s.ZP)()(
                      {
                        phetioDocumentation:
                          "Determines whether the element is enabled (true) or disabled (false).",
                        phetioFeatured: !0,
                        checkTandemName: !0,
                      },
                      t
                    );
                    super(e, i);
                  }
                  static get TANDEM_NAME() {
                    return "enabledProperty";
                  }
                }
                n.Z.register("EnabledProperty", o);
              },
              9969: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                var s = i(7922);
                class n {
                  constructor(e, t, i) {
                    if (
                      ((this.dependencies = e),
                      (this.dependencyListeners = new Map()),
                      e.forEach((i) => {
                        const s = () => {
                          if (!this.isDisposed) {
                            const i = e.map((e) => e.get());
                            t(...i);
                          }
                        };
                        this.dependencyListeners.set(i, s),
                          i.lazyLink(s, {
                            phetioDependencies: _.without(e, i),
                          });
                      }),
                      !i)
                    ) {
                      const i = e.map((e) => e.get());
                      t(...i);
                    }
                    this.isDisposed = !1;
                  }
                  get definedDependencies() {
                    return this.dependencies;
                  }
                  dispose() {
                    const e = this.definedDependencies;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t],
                        s = this.dependencyListeners.get(i);
                      i.hasListener(s) && i.unlink(s);
                    }
                    (this.dependencies = null),
                      this.dependencyListeners.clear(),
                      (this.isDisposed = !0);
                  }
                  static multilink(e, t) {
                    return new n(e, t, !1);
                  }
                  static multilinkAny(e, t) {
                    return new n(e, t);
                  }
                  static lazyMultilink(e, t) {
                    return new n(e, t, !0);
                  }
                  static unmultilink(e) {
                    e.dispose();
                  }
                }
                s.Z.register("Multilink", n);
              },
              8036: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => f });
                var n = i(5428),
                  r = i(2550),
                  o = i(1005),
                  a = i(6846),
                  h = i(2306),
                  l = i(8585),
                  d = i(2643),
                  c = i(7922),
                  u = i(5264),
                  p = i(592);
                i(7959);
                const g = {
                    valueType: "number",
                    isValidValue: (e) => e % 1 == 0,
                    validationMessage: "Should be a valid integer",
                  },
                  m = {
                    isValidValue: (e) => !isNaN(e),
                    validationMessage: "Should not be NaN",
                  },
                  A = n.Z.EVERYTHING,
                  y = (0, u.f)(l.Z);
                class f extends p.Z {
                  constructor(e, t) {
                    const i = (0, r.ZP)()(
                      {
                        numberType: "FloatingPoint",
                        range: A,
                        validators: [],
                        tandem: o.Z.OPTIONAL,
                      },
                      t
                    );
                    (i.rangePropertyOptions = (0, r.ZP)()(
                      {
                        phetioDocumentation:
                          "provides the range of possible values for the parent NumberProperty",
                        phetioValueType: n.Z.RangeIO,
                        phetioReadOnly: !0,
                        tandem:
                          i.range !== A
                            ? i.tandem.createTandem("rangeProperty")
                            : o.Z.OPT_OUT,
                      },
                      i.rangePropertyOptions
                    )),
                      (i.valueType = "number"),
                      (i.phetioOuterType = () => f.NumberPropertyIO),
                      (i.phetioValueType = l.Z);
                    const s = !(i.range && i.range instanceof u.Z),
                      a =
                        i.range instanceof u.Z
                          ? i.range
                          : new p.Z(i.range, i.rangePropertyOptions);
                    i.validators.push(m),
                      "Integer" === i.numberType && i.validators.push(g),
                      i.validators.push({
                        isValidValue: (e) => a.value.contains(e),
                        validationMessage:
                          "Number must be within rangeProperty value.",
                      }),
                      super(e, i),
                      (this.numberType = i.numberType),
                      (this.rangeProperty = a);
                    if (
                      (this.rangeProperty.addPhetioStateDependencies([this]),
                      this.addPhetioStateDependencies([this.rangeProperty]),
                      i.validValues && this.validateNumberAndRangeProperty)
                    )
                      for (let n = 0; n < i.validValues.length; n++) {
                        const e = i.validValues[n];
                        this.validateNumberAndRangeProperty(e);
                      }
                    (this.disposeNumberProperty = () => {
                      s && this.rangeProperty.dispose();
                    }),
                      (this.resetNumberProperty = () => {
                        s && this.rangeProperty.reset();
                      });
                  }
                  get range() {
                    return this.rangeProperty.value;
                  }
                  set range(e) {
                    this.rangeProperty.value = e;
                  }
                  reset() {
                    this.resetValueAndRange(), super.reset();
                  }
                  dispose() {
                    this.disposeNumberProperty(), super.dispose();
                  }
                  setValueAndRange(e, t) {
                    this.setDeferred(!0),
                      this.rangeProperty.setDeferred(!0),
                      this.set(e),
                      this.rangeProperty.set(t);
                    const i = this.setDeferred(!1),
                      s = this.rangeProperty.setDeferred(!1);
                    i && i(), s && s();
                  }
                  resetValueAndRange() {
                    this.setValueAndRange(
                      this.initialValue,
                      this.rangeProperty.initialValue
                    );
                  }
                  toStateObject() {
                    const e = y.toStateObject(this);
                    (e.numberType = this.numberType),
                      (e.range = n.Z.RangeIO.toStateObject(
                        this.rangeProperty.value
                      ));
                    const t =
                      this.rangeProperty &&
                      this.rangeProperty.isPhetioInstrumented();
                    return (
                      (e.rangePhetioID = t
                        ? this.rangeProperty.tandem.phetioID
                        : null),
                      e
                    );
                  }
                }
                (s = f),
                  _defineProperty(
                    f,
                    "NumberPropertyIO",
                    new a.Z("NumberPropertyIO", {
                      valueType: s,
                      supertype: y,
                      parameterTypes: [l.Z],
                      documentation: `Extends PropertyIO to add values for the numeric range ( min, max ) and numberType ( '${[
                        "FloatingPoint",
                        "Integer",
                      ].join("' | '")}' )`,
                      toStateObject: (e) => e.toStateObject(),
                      applyState: (e, t) => {
                        y.applyState(e, t);
                      },
                      stateSchema: {
                        numberType: d.Z,
                        range: n.Z.RangeIO,
                        rangePhetioID: (0, h.Z)(d.Z),
                        value: l.Z,
                      },
                    })
                  ),
                  c.Z.register("NumberProperty", f);
              },
              592: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(5264),
                  n = i(7922);
                class r extends s.Z {
                  constructor(e, t) {
                    super(e, t), (this._initialValue = e);
                  }
                  getInitialValue() {
                    return this._initialValue;
                  }
                  get initialValue() {
                    return this.getInitialValue();
                  }
                  setInitialValue(e) {
                    this._initialValue = e;
                  }
                  get value() {
                    return super.value;
                  }
                  set value(e) {
                    super.set(e);
                  }
                  reset() {
                    this.set(this._initialValue);
                  }
                  set(e) {
                    super.set(e);
                  }
                  isSettable() {
                    return !0;
                  }
                }
                n.Z.register("Property", r);
              },
              6596: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => h });
                var n = i(2956),
                  r = i(4676),
                  o = i(7922);
                class a extends r.Z {}
                _defineProperty(a, "UNDEFER", new (s = a)()),
                  _defineProperty(a, "NOTIFY", new s()),
                  _defineProperty(a, "enumeration", new n.Z(s)),
                  o.Z.register("PropertyStatePhase", a);
                const h = a;
              },
              5264: (e, t, i) => {
                "use strict";
                i.d(t, { f: () => V, Z: () => v });
                var s = i(1617),
                  n = i(1005),
                  r = i(0),
                  o = i(6292),
                  a = i(6846),
                  h = i(2306),
                  l = i(2643),
                  d = i(538),
                  c = i(4869),
                  u = i(6596),
                  p = i(8292),
                  g = i(7922);
                const m = {
                  values: [
                    "1/(cm*M)",
                    "%",
                    "A",
                    "AMU",
                    "atm",
                    "cm",
                    "cm^2",
                    "C",
                    "°",
                    "°C",
                    "F",
                    "g",
                    "Hz",
                    "J",
                    "K",
                    "kg",
                    "kg/m^3",
                    "kg·m/s",
                    "kPa",
                    "L",
                    "L/s",
                    "m",
                    "m^3",
                    "m/s",
                    "m/s/s",
                    "m/s^2",
                    "mA",
                    "mm",
                    "mol",
                    "mol/L",
                    "mol/s",
                    "M",
                    "N",
                    "N/m",
                    "nm",
                    "nm/ps",
                    "N·s/m",
                    "Ω",
                    "Ω·cm",
                    "Pa·s",
                    "particles/ps",
                    "pm",
                    "pm/ps",
                    "pm/s",
                    "pm/s^2",
                    "pm^3",
                    "ps",
                    "radians",
                    "radians/s",
                    "s",
                    "V",
                    "view-coordinates/s",
                    "W",
                  ],
                  isValidUnits: function (e) {
                    return _.includes(m.values, e);
                  },
                };
                g.Z.register("units", m);
                i(7959);
                var A = i(2550),
                  y = i(4865);
                const f = { validateValidator: !1 };
                let P = 0;
                const b = new Map();
                class v extends s.Z {
                  constructor(e, t) {
                    const i = (0, A.ZP)()(
                      {
                        useDeepEquality: !1,
                        units: null,
                        reentrant: !1,
                        tandem: n.Z.OPTIONAL,
                        phetioOuterType: V,
                        phetioValueType: a.Z.ObjectIO,
                      },
                      t
                    );
                    y.Z.containsValidatorKey(i) || (i.isValidValue = () => !0),
                      i.units &&
                        ((i.phetioEventMetadata = i.phetioEventMetadata || {}),
                        (i.phetioEventMetadata.units = i.units)),
                      i.phetioOuterType &&
                        i.phetioValueType &&
                        (i.phetioType = i.phetioOuterType(i.phetioValueType)),
                      super(i),
                      (this.id = P++),
                      (this.units = i.units),
                      n.Z.VALIDATION && this.isPhetioInstrumented(),
                      (this.validValues = i.validValues),
                      (this.tinyProperty = new p.Z(e)),
                      (this.tinyProperty.useDeepEquality = i.useDeepEquality),
                      (this.notifying = !1),
                      (this.reentrant = i.reentrant),
                      (this.isDeferred = !1),
                      (this.deferredValue = null),
                      (this.hasDeferredValue = !1),
                      (this.valueValidator = _.pick(i, y.Z.VALIDATOR_KEYS)),
                      (this.valueValidator.validationMessage =
                        this.valueValidator.validationMessage ||
                        "Property value not valid"),
                      this.valueValidator.phetioType &&
                        (this.valueValidator.phetioType =
                          this.valueValidator.phetioType.parameterTypes[0]);
                  }
                  isSettable() {
                    return !1;
                  }
                  get() {
                    return this.tinyProperty.get();
                  }
                  set(e) {
                    (_.hasIn(
                      window,
                      "phet.joist.sim.isSettingPhetioStateProperty"
                    ) &&
                      phet.joist.sim.isSettingPhetioStateProperty.value &&
                      this.isPhetioInstrumented() &&
                      this.phetioState &&
                      this.isSettable()) ||
                      this.unguardedSet(e);
                  }
                  unguardedSet(e) {
                    if (!this.isDisposed)
                      if (this.isDeferred)
                        (this.deferredValue = e), (this.hasDeferredValue = !0);
                      else if (!this.equalsValue(e)) {
                        const t = this.get();
                        this.setPropertyValue(e), this._notifyListeners(t);
                      }
                  }
                  setPropertyValue(e) {
                    this.tinyProperty.setPropertyValue(e);
                  }
                  equalsValue(e) {
                    return this.areValuesEqual(e, this.get());
                  }
                  areValuesEqual(e, t) {
                    return this.tinyProperty.areValuesEqual(e, t);
                  }
                  _notifyListeners(e) {
                    const t = this.get();
                    n.Z.PHET_IO_ENABLED &&
                      this.isPhetioInstrumented() &&
                      this.phetioStartEvent(v.CHANGED_EVENT_NAME, {
                        getData: () => {
                          const i = this.phetioType.parameterTypes[0];
                          return {
                            oldValue: (0, h.Z)(i).toStateObject(e),
                            newValue: i.toStateObject(t),
                          };
                        },
                      }),
                      (this.notifying = !0),
                      this.tinyProperty.emit(t, e, this),
                      (this.notifying = !1),
                      n.Z.PHET_IO_ENABLED &&
                        this.isPhetioInstrumented() &&
                        this.phetioEndEvent();
                  }
                  notifyListenersStatic() {
                    this._notifyListeners(null);
                  }
                  setDeferred(e) {
                    if (e) this.isDeferred = !0;
                    else {
                      this.isDeferred = !1;
                      const e = this.get();
                      if (
                        (this.hasDeferredValue &&
                          (this.setPropertyValue(this.deferredValue),
                          (this.hasDeferredValue = !1),
                          (this.deferredValue = null)),
                        !this.equalsValue(e))
                      )
                        return () =>
                          !this.isDisposed && this._notifyListeners(e);
                    }
                    return null;
                  }
                  get value() {
                    return this.get();
                  }
                  set value(e) {
                    this.set(e);
                  }
                  addPhetioStateDependencies(e) {
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      i instanceof v &&
                        i.isPhetioInstrumented() &&
                        this.isPhetioInstrumented() &&
                        c.Z.registerPhetioOrderDependency(
                          i,
                          u.Z.UNDEFER,
                          this,
                          u.Z.NOTIFY
                        );
                    }
                  }
                  link(e, t) {
                    t &&
                      t.phetioDependencies &&
                      this.addPhetioStateDependencies(t.phetioDependencies),
                      this.tinyProperty.addListener(e),
                      e(this.get(), null, this);
                  }
                  lazyLink(e, t) {
                    t &&
                      t.phetioDependencies &&
                      this.addPhetioStateDependencies(t.phetioDependencies),
                      this.tinyProperty.lazyLink(e);
                  }
                  unlink(e) {
                    this.tinyProperty.unlink(e);
                  }
                  unlinkAll() {
                    this.tinyProperty.unlinkAll();
                  }
                  linkAttribute(e, t) {
                    this.link((i) => {
                      e[t] = i;
                    });
                  }
                  toString() {
                    return `Property#${this.id}{${this.get()}}`;
                  }
                  debug(e) {
                    const t = (t) => console.log(e, t);
                    return this.link(t), t;
                  }
                  isValueValid(e) {
                    return null === this.getValidationError(e);
                  }
                  getValidationError(e) {
                    return y.Z.getValidationError(e, this.valueValidator, f);
                  }
                  dispose() {
                    this.isPhetioInstrumented() &&
                      c.Z.unregisterOrderDependenciesForProperty(this),
                      super.dispose(),
                      this.tinyProperty.dispose();
                  }
                  hasListener(e) {
                    return this.tinyProperty.hasListener(e);
                  }
                  getListenerCount() {
                    return this.tinyProperty.getListenerCount();
                  }
                  forEachListener(e) {
                    this.tinyProperty.forEachListener(e);
                  }
                  hasListeners() {
                    return this.tinyProperty.hasListeners();
                  }
                  static PropertyIO(e) {
                    return (
                      b.has(e) ||
                        b.set(
                          e,
                          new a.Z(`PropertyIO<${e.typeName}>`, {
                            valueType: v,
                            documentation:
                              "Observable values that send out notifications when the value changes. This differs from the traditional listener pattern in that added listeners also receive a callback with the current value when the listeners are registered. This is a widely-used pattern in PhET-iO simulations.",
                            methodOrder: ["link", "lazyLink"],
                            events: [v.CHANGED_EVENT_NAME],
                            parameterTypes: [e],
                            toStateObject: (t) => ({
                              value: e.toStateObject(t.value),
                              validValues: t.validValues
                                ? t.validValues.map((t) => e.toStateObject(t))
                                : null,
                              units: (0, h.Z)(l.Z).toStateObject(t.units),
                            }),
                            applyState: (t, i) => {
                              (0, h.Z)(l.Z).fromStateObject(i.units);
                              t.unguardedSet(e.fromStateObject(i.value)),
                                i.validValues &&
                                  (t.validValues = i.validValues.map((t) =>
                                    e.fromStateObject(t)
                                  ));
                            },
                            stateSchema: {
                              value: e,
                              validValues: (0, h.Z)((0, r.Z)(e)),
                              units: (0, h.Z)(l.Z),
                            },
                            methods: {
                              getValue: {
                                returnType: e,
                                parameterTypes: [],
                                implementation: v.prototype.get,
                                documentation: "Gets the current value.",
                              },
                              getValidationError: {
                                returnType: (0, h.Z)(l.Z),
                                parameterTypes: [e],
                                implementation: v.prototype.getValidationError,
                                documentation:
                                  "Checks to see if a proposed value is valid. Returns the first validation error, or null if the value is valid.",
                              },
                              setValue: {
                                returnType: d.Z,
                                parameterTypes: [e],
                                implementation: function (e) {
                                  const t = y.Z.getValidationError(
                                    e,
                                    this.valueValidator,
                                    f
                                  );
                                  if (t)
                                    throw new Error("Validation error: " + t);
                                  this.set(e);
                                },
                                documentation:
                                  "Sets the value of the Property. If the value differs from the previous value, listeners are notified with the new value.",
                                invocableForReadOnlyElements: !1,
                              },
                              link: {
                                returnType: d.Z,
                                parameterTypes: [
                                  (0, o.Z)(d.Z, [e, (0, h.Z)(e)]),
                                ],
                                implementation: v.prototype.link,
                                documentation:
                                  "Adds a listener which will be called when the value changes. On registration, the listener is also called with the current value. The listener takes two arguments, the new value and the previous value.",
                              },
                              lazyLink: {
                                returnType: d.Z,
                                parameterTypes: [
                                  (0, o.Z)(d.Z, [e, (0, h.Z)(e)]),
                                ],
                                implementation: v.prototype.lazyLink,
                                documentation:
                                  'Adds a listener which will be called when the value changes. This method is like "link", but without the current-value callback on registration. The listener takes two arguments, the new value and the previous value.',
                              },
                              unlink: {
                                returnType: d.Z,
                                parameterTypes: [(0, o.Z)(d.Z, [e])],
                                implementation: v.prototype.unlink,
                                documentation: "Removes a listener.",
                              },
                            },
                          })
                        ),
                      b.get(e)
                    );
                  }
                }
                _defineProperty(v, "TANDEM_NAME_SUFFIX", "Property"),
                  _defineProperty(v, "CHANGED_EVENT_NAME", "changed");
                const V = v.PropertyIO;
                g.Z.register("ReadOnlyProperty", v);
              },
              8311: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a });
                var s = i(2550),
                  n = i(2643),
                  r = i(7922),
                  o = i(592);
                class a extends o.Z {
                  constructor(e, t) {
                    super(
                      e,
                      (0, s.ZP)()(
                        { valueType: "string", phetioValueType: n.Z },
                        t
                      )
                    );
                  }
                }
                r.Z.register("StringProperty", a);
              },
              7857: (e, t, i) => {
                "use strict";
                i.d(t, { i: () => r });
                var s = i(5264),
                  n = i(8292);
                function r(e) {
                  return e instanceof s.Z || e instanceof n.Z;
                }
              },
              5891: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7922),
                  n = i(1685);
                class r extends n.Z {
                  setTimeout(e, t) {
                    let i = 0;
                    const s = (n) => {
                      (i += n),
                        1e3 * i >= t &&
                          this.hasListener(s) &&
                          (e(), this.removeListener(s));
                    };
                    return this.addListener(s), s;
                  }
                  clearTimeout(e) {
                    this.hasListener(e) && this.removeListener(e);
                  }
                  setInterval(e, t) {
                    let i = 0;
                    const s = (n) => {
                      for (i += n; 1e3 * i >= t && this.hasListener(s); )
                        e(), (i -= t / 1e3);
                    };
                    return this.addListener(s), s;
                  }
                  clearInterval(e) {
                    this.hasListener(e) && this.removeListener(e);
                  }
                  runOnNextTick(e) {
                    this.setTimeout(e, 0);
                  }
                }
                s.Z.register("Timer", r);
              },
              1685: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                var s = i(7922);
                _.hasIn(window, "phet.chipper.queryParameters") &&
                  phet.chipper.queryParameters.shuffleListeners;
                class n {
                  constructor(e) {
                    e && (this.onBeforeNotify = e),
                      (this.listeners = new Set()),
                      (this.emitContexts = []);
                  }
                  dispose() {
                    this.removeAllListeners();
                  }
                  emit() {
                    for (
                      var e = arguments.length, t = new Array(e), i = 0;
                      i < e;
                      i++
                    )
                      t[i] = arguments[i];
                    if (
                      (this.onBeforeNotify &&
                        this.onBeforeNotify.apply(null, t),
                      this.listeners.size > 0)
                    ) {
                      const e = { index: 0 };
                      this.emitContexts.push(e);
                      for (const i of this.listeners)
                        if ((i(...t), e.index++, e.listenerArray)) break;
                      if (e.listenerArray)
                        for (let i = e.index; i < e.listenerArray.length; i++)
                          e.listenerArray[i](...t);
                      this.emitContexts.pop();
                    }
                  }
                  addListener(e) {
                    this.guardListeners(),
                      this.listeners.add(e),
                      this.changeCount && this.changeCount(1);
                  }
                  removeListener(e) {
                    this.guardListeners(),
                      this.listeners.delete(e),
                      this.changeCount && this.changeCount(-1);
                  }
                  removeAllListeners() {
                    const e = this.listeners.size;
                    this.guardListeners(),
                      this.listeners.clear(),
                      this.changeCount && this.changeCount(-e);
                  }
                  guardListeners() {
                    for (
                      let e = this.emitContexts.length - 1;
                      e >= 0 && !this.emitContexts[e].listenerArray;
                      e--
                    )
                      this.emitContexts[e].listenerArray = Array.from(
                        this.listeners
                      );
                  }
                  hasListener(e) {
                    return this.listeners.has(e);
                  }
                  hasListeners() {
                    return this.listeners.size > 0;
                  }
                  getListenerCount() {
                    return this.listeners.size;
                  }
                  forEachListener(e) {
                    this.listeners.forEach(e);
                  }
                }
                s.Z.register("TinyEmitter", n);
              },
              8292: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7922),
                  n = i(1685);
                class r extends n.Z {
                  constructor(e, t) {
                    super(t), (this._value = e);
                  }
                  get() {
                    return this._value;
                  }
                  get value() {
                    return this.get();
                  }
                  set value(e) {
                    this.set(e);
                  }
                  set(e) {
                    if (!this.equalsValue(e)) {
                      const t = this._value;
                      this.setPropertyValue(e), this.notifyListeners(t);
                    }
                  }
                  setPropertyValue(e) {
                    this._value = e;
                  }
                  equalsValue(e) {
                    return this.areValuesEqual(e, this._value);
                  }
                  areValuesEqual(e, t) {
                    if (this.useDeepEquality) {
                      const i = e,
                        s = t;
                      if (i && s && i.constructor === s.constructor)
                        return i.equals(s);
                    }
                    return e === t;
                  }
                  notifyListeners(e) {
                    this.emit(this._value, e, this);
                  }
                  link(e) {
                    this.addListener(e), e(this._value, null, this);
                  }
                  lazyLink(e) {
                    this.addListener(e);
                  }
                  unlink(e) {
                    this.removeListener(e);
                  }
                  unlinkAll() {
                    this.removeAllListeners();
                  }
                  linkAttribute(e, t) {
                    this.link((i) => {
                      e[t] = i;
                    });
                  }
                  isSettable() {
                    return !0;
                  }
                  dispose() {
                    this.unlinkAll(), super.dispose();
                  }
                }
                s.Z.register("TinyProperty", r);
              },
              4865: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => h });
                var s = i(5076),
                  n = i(2550),
                  r = i(7922);
                const o = ["string", "number", "boolean", "function"],
                  a = [
                    "valueType",
                    "validValues",
                    "isValidValue",
                    "phetioType",
                    "validators",
                  ];
                class h {
                  static getValidatorValidationError(e) {
                    if (!(e instanceof Object))
                      return "validator must be an Object";
                    if (
                      !(
                        e.hasOwnProperty("isValidValue") ||
                        e.hasOwnProperty("valueType") ||
                        e.hasOwnProperty("validValues") ||
                        e.hasOwnProperty("phetioType") ||
                        e.hasOwnProperty("validators")
                      )
                    )
                      return this.combineErrorMessages(
                        "validator must have at least one of: " + a.join(","),
                        e.validationMessage
                      );
                    if (e.hasOwnProperty("valueType")) {
                      const t = h.getValueOrElementTypeValidationError(
                        e.valueType
                      );
                      if (t)
                        return this.combineErrorMessages(
                          `Invalid valueType: ${e.valueType}, error: ${t}`,
                          e.validationMessage
                        );
                    }
                    if (
                      e.hasOwnProperty("isValidValue") &&
                      "function" != typeof e.isValidValue &&
                      null !== e.isValidValue &&
                      void 0 !== e.isValidValue
                    )
                      return this.combineErrorMessages(
                        "isValidValue must be a function: " + e.isValidValue,
                        e.validationMessage
                      );
                    if (void 0 !== e.validValues && null !== e.validValues) {
                      if (!Array.isArray(e.validValues))
                        return this.combineErrorMessages(
                          "validValues must be an array: " + e.validValues,
                          e.validationMessage
                        );
                      const t = _.omit(e, "validValues");
                      if (h.containsValidatorKey(t))
                        for (let i = 0; i < e.validValues.length; i++) {
                          const s = e.validValues[i],
                            n = h.getValidationError(s, t);
                          if (n)
                            return this.combineErrorMessages(
                              `Item not valid in validValues: ${s}, error: ${n}`,
                              e.validationMessage
                            );
                        }
                    }
                    if (e.hasOwnProperty("phetioType")) {
                      if (!e.phetioType)
                        return this.combineErrorMessages(
                          "falsey phetioType provided",
                          e.validationMessage
                        );
                      if (!e.phetioType.validator)
                        return this.combineErrorMessages(
                          "validator needed for phetioType: " +
                            e.phetioType.typeName,
                          e.validationMessage
                        );
                      const t = h.getValidatorValidationError(
                        e.phetioType.validator
                      );
                      if (t)
                        return this.combineErrorMessages(
                          t,
                          e.validationMessage
                        );
                    }
                    if (e.hasOwnProperty("validators")) {
                      const t = e.validators;
                      for (let i = 0; i < t.length; i++) {
                        const s = t[i],
                          n = h.getValidatorValidationError(s);
                        if (n)
                          return this.combineErrorMessages(
                            `validators[${i}] invalid: ${n}`,
                            e.validationMessage
                          );
                      }
                    }
                    return null;
                  }
                  static getValueTypeValidatorValidationError(e) {
                    return "function" == typeof e ||
                      "string" == typeof e ||
                      e instanceof s.Z ||
                      null == e
                      ? "string" != typeof e || _.includes(o, e)
                        ? null
                        : "valueType not a supported primitive types: " + e
                      : "valueType must be {function|string|EnumerationDeprecated|null|undefined}, valueType=" +
                          e;
                  }
                  static validateValidator(e) {
                    0;
                  }
                  static containsValidatorKey(e) {
                    if (!(e instanceof Object)) return !1;
                    for (let t = 0; t < a.length; t++)
                      if (e.hasOwnProperty(a[t])) return !0;
                    return !1;
                  }
                  static combineErrorMessages(e, t) {
                    return t && (e = `${t}: ${e}`), e;
                  }
                  static isValueValid(e, t, i) {
                    return null === this.getValidationError(e, t, i);
                  }
                  static getValidationError(e, t, i) {
                    const s = (0, n.ZP)()({ validateValidator: !0 }, i);
                    if (s.validateValidator) {
                      const e = h.getValidatorValidationError(t);
                      if (e) return e;
                    }
                    if (t.hasOwnProperty("valueType")) {
                      const i = t.valueType;
                      if (Array.isArray(i)) {
                        if (
                          !_.some(
                            i.map(
                              (i) =>
                                !h.getValueTypeValidationError(
                                  e,
                                  i,
                                  t.validationMessage
                                )
                            )
                          )
                        )
                          return this.combineErrorMessages(
                            `value not valid for any valueType in ${i
                              .toString()
                              .substring(0, 100)}, value: ${e}`,
                            t.validationMessage
                          );
                      } else if (i) {
                        const s = h.getValueTypeValidationError(
                          e,
                          i,
                          t.validationMessage
                        );
                        if (s) return s;
                      }
                    }
                    if (
                      t.hasOwnProperty("validValues") &&
                      !t.validValues.includes(e)
                    )
                      return this.combineErrorMessages(
                        "value not in validValues: " + e,
                        t.validationMessage
                      );
                    if (t.hasOwnProperty("isValidValue") && !t.isValidValue(e))
                      return this.combineErrorMessages(
                        "value failed isValidValue: " + e,
                        t.validationMessage
                      );
                    if (t.hasOwnProperty("phetioType")) {
                      const i = h.getValidationError(
                        e,
                        t.phetioType.validator,
                        s
                      );
                      if (i)
                        return this.combineErrorMessages(
                          `value failed phetioType validator: ${e}, error: ${i}`,
                          t.validationMessage
                        );
                    }
                    if (t.hasOwnProperty("validators")) {
                      const i = t.validators;
                      for (let n = 0; n < i.length; n++) {
                        const r = i[n],
                          o = h.getValidationError(e, r, s);
                        if (o)
                          return this.combineErrorMessages(
                            `Failed validation for validators[${n}]: ${o}`,
                            t.validationMessage
                          );
                      }
                    }
                    return null;
                  }
                  static getValueTypeValidationError(e, t, i) {
                    return "string" == typeof t && typeof e !== t
                      ? this.combineErrorMessages(
                          `value should have typeof ${t}, value=${e}`,
                          i
                        )
                      : t !== Array || Array.isArray(e)
                      ? t instanceof s.Z && !t.includes(e)
                        ? this.combineErrorMessages(
                            "value is not a member of EnumerationDeprecated " +
                              t,
                            i
                          )
                        : "function" != typeof t || e instanceof t
                        ? null === t && null !== e
                          ? this.combineErrorMessages(
                              "value should be null, value=" + e,
                              i
                            )
                          : null
                        : this.combineErrorMessages(
                            `value should be instanceof ${t.name}, value=${e}`,
                            i
                          )
                      : this.combineErrorMessages(
                          "value should have been an array, value=" + e,
                          i
                        );
                  }
                  static getValueOrElementTypeValidationError(e) {
                    if (Array.isArray(e))
                      for (let t = 0; t < e.length; t++) {
                        const i = e[t],
                          s = h.getValueTypeValidatorValidationError(i);
                        if (s) return "Array value invalid: " + s;
                      }
                    else if (e) {
                      const t = h.getValueTypeValidatorValidationError(e);
                      if (t) return "Value type invalid: " + t;
                    }
                    return null;
                  }
                }
                _defineProperty(h, "VALIDATOR_KEYS", a),
                  _defineProperty(h, "STRING_WITHOUT_TEMPLATE_VARS_VALIDATOR", {
                    valueType: "string",
                    isValidValue: (e) => !/\{\{\w*\}\}/.test(e),
                  }),
                  r.Z.register("Validation", h);
              },
              732: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7922);
                const n = new (i(5891).Z)();
                s.Z.register("animationFrameTimer", n);
                const r = n;
              },
              7922: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => s });
                const s = new (i(2492).Z)("axon");
              },
              1453: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => b });
                var s = i(9059),
                  n = i(6212),
                  r = i(831),
                  o = i(2550),
                  a = i(1617),
                  h = i(1005),
                  l = i(0),
                  d = i(6846),
                  c = i(7922),
                  u = i(3061),
                  p = i(8036),
                  g = i(4865);
                const m = (e) => {
                  (0, n.Z)(e, ["length"], ["elements"]);
                  const t = (0, o.ZP)()(
                    { length: 0, elements: [], tandem: h.Z.OPTIONAL },
                    e
                  );
                  let i = null;
                  if (t.phetioType)
                    i = {
                      name: "value",
                      phetioType: t.phetioType.parameterTypes[0],
                    };
                  else if (g.Z.getValidatorValidationError(t))
                    i = (0, r.Z)(
                      { name: "value" },
                      { isValidValue: _.stubTrue }
                    );
                  else {
                    const e = _.pick(t, g.Z.VALIDATOR_KEYS);
                    i = (0, r.Z)({ name: "value" }, e);
                  }
                  const s = new u.Z({
                      tandem: t.tandem.createTandem("elementAddedEmitter"),
                      parameters: [i],
                      phetioReadOnly: !0,
                    }),
                    a = new u.Z({
                      tandem: t.tandem.createTandem("elementRemovedEmitter"),
                      parameters: [i],
                      phetioReadOnly: !0,
                    }),
                    l = new p.Z(0, {
                      numberType: "Integer",
                      tandem: t.tandem.createTandem("lengthProperty"),
                      phetioReadOnly: !0,
                    }),
                    d = [],
                    c = new Proxy(d, {
                      get: function (e, t, i) {
                        return y.hasOwnProperty(t)
                          ? y[t]
                          : Reflect.get(e, t, i);
                      },
                      set: function (e, t, i) {
                        const n = e[t];
                        let r = null;
                        "length" === t && (r = e.slice(i));
                        const o = Reflect.set(e, t, i),
                          h = Number(t);
                        return (
                          Number.isInteger(h) && h >= 0 && n !== i
                            ? ((l.value = e.length),
                              void 0 !== n && a.emit(e[t]),
                              void 0 !== i && s.emit(i))
                            : "length" === t &&
                              ((l.value = i), r && r.forEach((e) => a.emit(e))),
                          o
                        );
                      },
                      deleteProperty: function (e, t) {
                        const i = Number(t);
                        let s;
                        Number.isInteger(i) && i >= 0 && (s = e[t]);
                        const n = Reflect.deleteProperty(e, t);
                        return void 0 !== s && a.emit(s), n;
                      },
                    });
                  (c.targetArray = d),
                    (c.elementAddedEmitter = s),
                    (c.elementRemovedEmitter = a),
                    (c.lengthProperty = l);
                  const m = () => {
                    t.length >= 0 && (c.length = t.length),
                      t.elements.length > 0 &&
                        Array.prototype.push.apply(c, t.elements);
                  };
                  return (
                    m(),
                    (c.reset = () => {
                      (c.length = 0), m();
                    }),
                    t.tandem.supplied &&
                      ((c.phetioElementType = t.phetioType.parameterTypes[0]),
                      (c._observableArrayPhetioObject = new A(c, t))),
                    c
                  );
                };
                class A extends a.Z {
                  constructor(e, t) {
                    super(t), (this.observableArray = e);
                  }
                }
                const y = {
                    pop() {
                      const e = this.targetArray.length;
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.pop.apply(this.targetArray, i);
                      return (
                        (this.lengthProperty.value = this.length),
                        e > 0 && this.elementRemovedEmitter.emit(n),
                        n
                      );
                    },
                    shift() {
                      const e = this.targetArray.length;
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.shift.apply(
                        this.targetArray,
                        i
                      );
                      return (
                        (this.lengthProperty.value = this.length),
                        e > 0 && this.elementRemovedEmitter.emit(n),
                        n
                      );
                    },
                    push() {
                      for (
                        var e = arguments.length, t = new Array(e), i = 0;
                        i < e;
                        i++
                      )
                        t[i] = arguments[i];
                      const s = this,
                        n = Array.prototype.push.apply(s.targetArray, t);
                      s.lengthProperty.value = s.length;
                      for (let r = 0; r < arguments.length; r++)
                        s.elementAddedEmitter.emit(t[r]);
                      return n;
                    },
                    unshift() {
                      const e = this;
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.unshift.apply(e.targetArray, i);
                      e.lengthProperty.value = e.length;
                      for (let r = 0; r < i.length; r++)
                        e.elementAddedEmitter.emit(i[r]);
                      return n;
                    },
                    splice() {
                      const e = this;
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.splice.apply(e.targetArray, i);
                      e.lengthProperty.value = e.length;
                      const r = n;
                      for (let o = 2; o < i.length; o++)
                        e.elementAddedEmitter.emit(i[o]);
                      return (
                        r.forEach((t) => e.elementRemovedEmitter.emit(t)), n
                      );
                    },
                    copyWithin() {
                      const e = this.targetArray.slice();
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.copyWithin.apply(
                        this.targetArray,
                        i
                      );
                      return f(e, this), n;
                    },
                    fill() {
                      const e = this.targetArray.slice();
                      for (
                        var t = arguments.length, i = new Array(t), s = 0;
                        s < t;
                        s++
                      )
                        i[s] = arguments[s];
                      const n = Array.prototype.fill.apply(this.targetArray, i);
                      return f(e, this), n;
                    },
                    get: function (e) {
                      return this[e];
                    },
                    addItemAddedListener: function (e) {
                      this.elementAddedEmitter.addListener(e);
                    },
                    removeItemAddedListener: function (e) {
                      this.elementAddedEmitter.removeListener(e);
                    },
                    addItemRemovedListener: function (e) {
                      this.elementRemovedEmitter.addListener(e);
                    },
                    removeItemRemovedListener: function (e) {
                      this.elementRemovedEmitter.removeListener(e);
                    },
                    add: function (e) {
                      this.push(e);
                    },
                    addAll: function (e) {
                      this.push(...e);
                    },
                    remove: function (e) {
                      (0, s.Z)(this, e);
                    },
                    removeAll: function (e) {
                      e.forEach((e) => (0, s.Z)(this, e));
                    },
                    clear: function () {
                      for (; this.length > 0; ) this.pop();
                    },
                    count: function (e) {
                      let t = 0;
                      for (let i = 0; i < this.length; i++) e(this[i]) && t++;
                      return t;
                    },
                    find: function (e, t) {
                      return _.find(this, e, t);
                    },
                    shuffle: function (e) {
                      const t = e.shuffle(this);
                      (this.targetArray.length = 0),
                        Array.prototype.push.apply(this.targetArray, t);
                    },
                    getArrayCopy: function () {
                      return this.slice();
                    },
                    dispose: function () {
                      this.elementAddedEmitter.dispose(),
                        this.elementRemovedEmitter.dispose(),
                        this.lengthProperty.dispose(),
                        this._observableArrayPhetioObject &&
                          this._observableArrayPhetioObject.dispose();
                    },
                    toStateObject: function () {
                      return {
                        array: this.map((e) =>
                          this.phetioElementType.toStateObject(e)
                        ),
                      };
                    },
                    applyState: function (e) {
                      this.length = 0;
                      const t = e.array.map((e) =>
                        this.phetioElementType.fromStateObject(e)
                      );
                      this.push(...t);
                    },
                  },
                  f = (e, t) => {
                    const i = e,
                      s = t.targetArray.slice();
                    for (let n = 0; n < i.length; n++) {
                      const e = i[n],
                        t = s.indexOf(e);
                      t >= 0 && (i.splice(n, 1), s.splice(t, 1), n--);
                    }
                    i.forEach((e) => t.elementRemovedEmitter.emit(e)),
                      s.forEach((e) => t.elementAddedEmitter.emit(e));
                  },
                  P = new Map();
                (m.ObservableArrayIO = (e) => (
                  P.has(e) ||
                    P.set(
                      e,
                      new d.Z(`ObservableArrayIO<${e.typeName}>`, {
                        valueType: A,
                        parameterTypes: [e],
                        toStateObject: (e) => e.observableArray.toStateObject(),
                        applyState: (e, t) => e.observableArray.applyState(t),
                        stateSchema: { array: (0, l.Z)(e) },
                      })
                    ),
                  P.get(e)
                )),
                  c.Z.register("createObservableArray", m);
                const b = m;
              },
              4869: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => u });
                var s = i(7922),
                  n = i(1005),
                  r = i(6596),
                  o = i(5264);
                class a {
                  constructor(e) {
                    (this.phaseCallbackSets = new d()),
                      (this.undeferBeforeUndeferMapPair = new l(
                        r.Z.UNDEFER,
                        r.Z.UNDEFER
                      )),
                      (this.undeferBeforeNotifyMapPair = new l(
                        r.Z.UNDEFER,
                        r.Z.NOTIFY
                      )),
                      (this.notifyBeforeUndeferMapPair = new l(
                        r.Z.NOTIFY,
                        r.Z.UNDEFER
                      )),
                      (this.notifyBeforeNotifyMapPair = new l(
                        r.Z.NOTIFY,
                        r.Z.NOTIFY
                      )),
                      (this.mapPairs = [
                        this.undeferBeforeUndeferMapPair,
                        this.undeferBeforeNotifyMapPair,
                        this.notifyBeforeUndeferMapPair,
                        this.notifyBeforeNotifyMapPair,
                      ]),
                      (this.initialized = !1);
                  }
                  initialize(e) {
                    e.onBeforeApplyStateEmitter.addListener((e) => {
                      if (e instanceof o.Z && !e.isDeferred) {
                        e.setDeferred(!0);
                        const t = e.tandem.phetioID,
                          i = () => {
                            const i = e.setDeferred(!1);
                            this.phaseCallbackSets.addNotifyPhaseCallback(
                              new h(t, i, r.Z.NOTIFY)
                            );
                          };
                        this.phaseCallbackSets.addUndeferPhaseCallback(
                          new h(t, i, r.Z.UNDEFER)
                        );
                      }
                    }),
                      e.stateSetEmitter.addListener((e) => {
                        this.undeferAndNotifyProperties(
                          new Set(Object.keys(e))
                        );
                      }),
                      e.isSettingStateProperty.lazyLink((e) => {}),
                      (this.initialized = !0);
                  }
                  static validateInstrumentedProperty(e) {}
                  validatePropertyPhasePair(e, t) {
                    a.validateInstrumentedProperty(e);
                  }
                  getMapPairFromPhases(e, t) {
                    const i = this.mapPairs.filter(
                      (i) => e === i.beforePhase && t === i.afterPhase
                    );
                    return i[0];
                  }
                  registerPhetioOrderDependency(e, t, i, s) {
                    if (n.Z.PHET_IO_ENABLED) {
                      this.validatePropertyPhasePair(e, t),
                        this.validatePropertyPhasePair(i, s),
                        this.getMapPairFromPhases(t, s).addOrderDependency(
                          e.tandem.phetioID,
                          i.tandem.phetioID
                        );
                    }
                  }
                  propertyInAnOrderDependency(e) {
                    return (
                      a.validateInstrumentedProperty(e),
                      _.some(this.mapPairs, (t) =>
                        t.usesPhetioID(e.tandem.phetioID)
                      )
                    );
                  }
                  unregisterOrderDependenciesForProperty(e) {
                    n.Z.PHET_IO_ENABLED &&
                      (a.validateInstrumentedProperty(e),
                      this.propertyInAnOrderDependency(e) &&
                        this.mapPairs.forEach((t) =>
                          t.unregisterOrderDependenciesForProperty(e)
                        ));
                  }
                  undeferAndNotifyProperties(e) {
                    const t = {};
                    let i = 0;
                    for (; this.phaseCallbackSets.size > 0; )
                      i++,
                        i > 5e3 && this.errorInUndeferAndNotifyStep(t),
                        this.attemptToApplyPhases(r.Z.UNDEFER, t, e),
                        this.attemptToApplyPhases(r.Z.NOTIFY, t, e);
                  }
                  errorInUndeferAndNotifyStep(e) {
                    const t = [];
                    this.phaseCallbackSets.forEach((e) => t.push(e.getTerm()));
                    const i = [];
                    this.mapPairs.forEach((e) => {
                      const s = e.beforeMap;
                      for (const [n, r] of s)
                        r.forEach((e) => {
                          const r = n + s.beforePhase,
                            o = e + s.afterPhase;
                          (t.includes(r) || t.includes(o)) &&
                            i.push({ beforeTerm: r, afterTerm: o });
                        });
                    });
                    let s = "";
                    console.log(
                      "still to be undeferred",
                      this.phaseCallbackSets.undeferSet
                    ),
                      console.log(
                        "still to be notified",
                        this.phaseCallbackSets.notifySet
                      ),
                      console.log(
                        "order dependencies that apply to the still todos",
                        i
                      ),
                      i.forEach((e) => {
                        s += `${e.beforeTerm}\t${e.afterTerm}\n`;
                      }),
                      console.log("\n\nin graphable form:\n\n", s);
                    const n =
                      "Impossible set state: from undeferAndNotifyProperties; ordering constraints cannot be satisfied";
                    throw new Error(n);
                  }
                  getNumberOfOrderDependencies() {
                    let e = 0;
                    return (
                      this.mapPairs.forEach((t) => {
                        t.afterMap.forEach((t) => {
                          e += t.size;
                        });
                      }),
                      e
                    );
                  }
                  attemptToApplyPhases(e, t, i) {
                    const s = this.phaseCallbackSets.getSetFromPhase(e);
                    for (const n of s)
                      this.phetioIDCanApplyPhase(n.phetioID, e, t, i) &&
                        (n.listener(), s.delete(n), (t[n.getTerm()] = !0));
                  }
                  phetioIDCanApplyPhase(e, t, i, s) {
                    if (t === r.Z.NOTIFY && !i[e + r.Z.UNDEFER]) return !1;
                    const n = [];
                    this.mapPairs.forEach((e) => {
                      e.afterPhase === t && n.push(e.afterMap);
                    });
                    for (let r = 0; r < n.length; r++) {
                      const t = n[r];
                      if (!t.has(e)) return !0;
                      const o = t.get(e);
                      for (const n of o)
                        if (!i[n + t.beforePhase] && s.has(n) && s.has(e))
                          return !1;
                    }
                    return !0;
                  }
                }
                class h {
                  constructor(e, t, i) {
                    (this.phetioID = e),
                      (this.phase = i),
                      (this.listener = t || _.noop);
                  }
                  getTerm() {
                    return this.phetioID + this.phase;
                  }
                }
                class l {
                  constructor(e, t) {
                    (this.beforeMap = new Map()),
                      (this.beforeMap.beforePhase = e),
                      (this.beforeMap.afterPhase = t),
                      (this.afterMap = new Map()),
                      (this.afterMap.beforePhase = e),
                      (this.afterMap.afterPhase = t),
                      (this.beforeMap.otherMap = this.afterMap),
                      (this.afterMap.otherMap = this.beforeMap),
                      (this.beforePhase = e),
                      (this.afterPhase = t);
                  }
                  addOrderDependency(e, t) {
                    this.beforeMap.has(e) || this.beforeMap.set(e, new Set()),
                      this.beforeMap.get(e).add(t),
                      this.afterMap.has(t) || this.afterMap.set(t, new Set()),
                      this.afterMap.get(t).add(e);
                  }
                  unregisterOrderDependenciesForProperty(e) {
                    const t = e.tandem.phetioID;
                    [this.beforeMap, this.afterMap].forEach((e) => {
                      e.has(t) &&
                        e.get(t).forEach((i) => {
                          const s = e.otherMap.get(i);
                          s && s.delete(t),
                            0 === s.size && e.otherMap.delete(i);
                        }),
                        e.delete(t);
                    });
                  }
                  usesPhetioID(e) {
                    return this.beforeMap.has(e) || this.afterMap.has(e);
                  }
                }
                class d {
                  constructor() {
                    (this.undeferSet = new Set()), (this.notifySet = new Set());
                  }
                  get size() {
                    return this.undeferSet.size + this.notifySet.size;
                  }
                  forEach(e) {
                    this.undeferSet.forEach(e), this.notifySet.forEach(e);
                  }
                  addUndeferPhaseCallback(e) {
                    this.undeferSet.add(e);
                  }
                  addNotifyPhaseCallback(e) {
                    this.notifySet.add(e);
                  }
                  getSetFromPhase(e) {
                    return e === r.Z.NOTIFY ? this.notifySet : this.undeferSet;
                  }
                }
                s.Z.register("PropertyStateHandler", a);
                const c = new a();
                s.Z.register("propertyStateHandlerSingleton", c);
                const u = c;
              },
              2221: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7922);
                const n = new (i(5891).Z)();
                s.Z.register("stepTimer", n);
                const r = n;
              },
              7959: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7922);
                i(4865);
                const n = (e, t, i) => {
                  0;
                };
                s.Z.register("validate", n);
                const r = n;
              },
              9599: (e, t, i) => {
                "use strict";
                i.r(t), i.d(t, { default: () => y });
                const s = new (i(2492).Z)("brand");
                var n = i(7055);
                const r = n.Z.termsPrivacyAndLicensingStringProperty,
                  o = n.Z.translation.credits.linkStringProperty,
                  a = n.Z.thirdParty.credits.linkStringProperty,
                  h = (e, t) => [
                    {
                      textStringProperty: r,
                      url: "https://phet.colorado.edu/en/licensing/html",
                      tandemName: "termsPrivacyAndLicensingLinkText",
                    },
                    {
                      textStringProperty: o,
                      url: `https://phet.colorado.edu/translation-credits?simName=${encodeURIComponent(
                        e
                      )}&locale=${encodeURIComponent(t)}`,
                      tandemName: "translationCreditsLinkText",
                    },
                    {
                      textStringProperty: a,
                      url: `https://phet.colorado.edu/third-party-credits?simName=${encodeURIComponent(
                        e
                      )}&locale=${encodeURIComponent(t)}#${e}`,
                      tandemName: "thirdPartyCreditsLinkText",
                    },
                  ];
                s.register("getLinks", h);
                const l = h;
                var d = i(2530);
                const c = new Image(),
                  u = d.Z.createLock(c);
                (c.onload = u),
                  (c.src =
                    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEwAAAIICAYAAAB0GHv6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADNFJREFUeNrs2DERACAQwDDAv+dn5KiGRELH7plZAAAAADxHAgAAAICfYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAXAEGAG8RBw2N9A6mAAAAAElFTkSuQmCC");
                const p = c,
                  g = new Image(),
                  m = d.Z.createLock(g);
                (g.onload = m),
                  (g.src =
                    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABEwAAAIICAYAAAB0GHv6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADNFJREFUeNrs2DERACAQwDDAv+dn5KiGRELH7plZAAAAADxHAgAAAICfYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAGCYAAAAAYZgAAAAAhGECAAAAEIYJAAAAQBgmAAAAAGGYAAAAAIRhAgAAABCGCQAAAEAYJgAAAABhmAAAAACEYQIAAAAQhgkAAABAXAEGAG8RBw2N9A6mAAAAAElFTkSuQmCC");
                const A = {
                  id: "phet",
                  name: "PhET™ Interactive Simulations",
                  copyright:
                    "Copyright © 2002-{{year}} University of Colorado Boulder",
                  getLinks: l,
                  logoOnBlackBackground: g,
                  logoOnWhiteBackground: p,
                };
                s.register("Brand", A);
                const y = A;
              },
              163: (e, t, i) => {
                var s = { "./phet/js/Brand.js": 9599 };
                function n(e) {
                  return r(e).then(i);
                }
                function r(e) {
                  return Promise.resolve().then(() => {
                    if (!i.o(s, e)) {
                      var t = new Error("Cannot find module '" + e + "'");
                      throw ((t.code = "MODULE_NOT_FOUND"), t);
                    }
                    return s[e];
                  });
                }
                (n.keys = () => Object.keys(s)),
                  (n.resolve = r),
                  (n.id = 163),
                  (e.exports = n);
              },
              9187: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => s });
                const s = {
                  aa: { name: "Afar", localizedName: "Afar", direction: "ltr" },
                  ab: {
                    name: "Abkhazian",
                    localizedName: "Abkhazian",
                    direction: "ltr",
                  },
                  ae: {
                    name: "Avestan",
                    localizedName: "Avestan",
                    direction: "rtl",
                  },
                  af: {
                    name: "Afrikaans",
                    localizedName: "Afrikaans",
                    direction: "ltr",
                  },
                  ak: { name: "Akan", localizedName: "Akan", direction: "ltr" },
                  am: {
                    name: "Amharic",
                    localizedName: "Amharic",
                    direction: "ltr",
                  },
                  an: {
                    name: "Aragonese",
                    localizedName: "Aragonese",
                    direction: "ltr",
                  },
                  ar: {
                    name: "Arabic",
                    localizedName: "العربية",
                    direction: "rtl",
                  },
                  ar_MA: {
                    name: "Arabic, Morocco",
                    localizedName: "العربية (المغرب)",
                    direction: "rtl",
                  },
                  ar_SA: {
                    name: "Arabic, Saudi Arabia",
                    localizedName: "العربية (السعودية)",
                    direction: "rtl",
                  },
                  as: {
                    name: "Assamese",
                    localizedName: "Assamese",
                    direction: "ltr",
                  },
                  av: {
                    name: "Avaric",
                    localizedName: "Avaric",
                    direction: "ltr",
                  },
                  ay: {
                    name: "Aymara",
                    localizedName: "Aymara",
                    direction: "ltr",
                  },
                  az: {
                    name: "Azerbaijani",
                    localizedName: "Azerbaijani",
                    direction: "ltr",
                  },
                  ba: {
                    name: "Bashkir",
                    localizedName: "Bashkir",
                    direction: "ltr",
                  },
                  be: {
                    name: "Belarusian",
                    localizedName: "беларускі",
                    direction: "ltr",
                  },
                  bg: {
                    name: "Bulgarian",
                    localizedName: "български",
                    direction: "ltr",
                  },
                  bh: {
                    name: "Bihari",
                    localizedName: "Bihari",
                    direction: "ltr",
                  },
                  bi: {
                    name: "Bislama",
                    localizedName: "Bislama",
                    direction: "ltr",
                  },
                  bm: {
                    name: "Bambara",
                    localizedName: "Bambara",
                    direction: "ltr",
                  },
                  bn: {
                    name: "Bengali",
                    localizedName: "Bengali",
                    direction: "ltr",
                  },
                  bo: {
                    name: "Tibetan",
                    localizedName: "Tibetan",
                    direction: "ltr",
                  },
                  br: {
                    name: "Breton",
                    localizedName: "Breton",
                    direction: "ltr",
                  },
                  bs: {
                    name: "Bosnian",
                    localizedName: "Bosnian",
                    direction: "ltr",
                  },
                  ca: {
                    name: "Catalan",
                    localizedName: "català",
                    direction: "ltr",
                  },
                  ce: {
                    name: "Chechen",
                    localizedName: "Chechen",
                    direction: "ltr",
                  },
                  ch: {
                    name: "Chamorro",
                    localizedName: "Chamorro",
                    direction: "ltr",
                  },
                  co: {
                    name: "Corsican",
                    localizedName: "Corsican",
                    direction: "ltr",
                  },
                  cr: { name: "Cree", localizedName: "Cree", direction: "ltr" },
                  cs: {
                    name: "Czech",
                    localizedName: "čeština",
                    direction: "ltr",
                  },
                  cu: {
                    name: "Church Slavic",
                    localizedName: "Church Slavic",
                    direction: "ltr",
                  },
                  cv: {
                    name: "Chuvash",
                    localizedName: "Chuvash",
                    direction: "ltr",
                  },
                  cy: {
                    name: "Welsh",
                    localizedName: "Welsh",
                    direction: "ltr",
                  },
                  da: {
                    name: "Danish",
                    localizedName: "Dansk",
                    direction: "ltr",
                  },
                  de: {
                    name: "German",
                    localizedName: "Deutsch",
                    direction: "ltr",
                  },
                  dv: {
                    name: "Divehi",
                    localizedName: "Divehi",
                    direction: "ltr",
                  },
                  dz: {
                    name: "Dzongkha",
                    localizedName: "Dzongkha",
                    direction: "ltr",
                  },
                  ee: { name: "Ewe", localizedName: "Ewe", direction: "ltr" },
                  el: {
                    name: "Greek",
                    localizedName: "Ελληνικά",
                    direction: "ltr",
                  },
                  en: {
                    name: "English",
                    localizedName: "English",
                    direction: "ltr",
                  },
                  en_CA: {
                    name: "English, Canada",
                    localizedName: "English (Canada)",
                    direction: "ltr",
                  },
                  en_GB: {
                    name: "English, United Kingdom",
                    localizedName: "English (United Kingdom)",
                    direction: "ltr",
                  },
                  eo: {
                    name: "Esperanto",
                    localizedName: "Esperanto",
                    direction: "ltr",
                  },
                  es: {
                    name: "Spanish",
                    localizedName: "español",
                    direction: "ltr",
                  },
                  es_CO: {
                    name: "Spanish, Colombia",
                    localizedName: "español (Colombia)",
                    direction: "ltr",
                  },
                  es_CR: {
                    name: "Spanish, Costa Rica",
                    localizedName: "español (Costa Rica)",
                    direction: "ltr",
                  },
                  es_ES: {
                    name: "Spanish, Spain",
                    localizedName: "español (España)",
                    direction: "ltr",
                  },
                  es_MX: {
                    name: "Spanish, Mexico",
                    localizedName: "español (México)",
                    direction: "ltr",
                  },
                  es_PE: {
                    name: "Spanish, Peru",
                    localizedName: "español (Perú)",
                    direction: "ltr",
                  },
                  et: {
                    name: "Estonian",
                    localizedName: "Eesti",
                    direction: "ltr",
                  },
                  eu: {
                    name: "Basque",
                    localizedName: "Basque",
                    direction: "ltr",
                  },
                  fa: {
                    name: "Persian",
                    localizedName: "Persian",
                    direction: "rtl",
                  },
                  ff: {
                    name: "Fulah",
                    localizedName: "Fulah",
                    direction: "ltr",
                  },
                  fi: {
                    name: "Finnish",
                    localizedName: "suomi",
                    direction: "ltr",
                  },
                  fj: {
                    name: "Fijian",
                    localizedName: "Fijian",
                    direction: "ltr",
                  },
                  fo: {
                    name: "Faroese",
                    localizedName: "Faroese",
                    direction: "ltr",
                  },
                  fr: {
                    name: "French",
                    localizedName: "français",
                    direction: "ltr",
                  },
                  fu: {
                    name: "Friulian",
                    localizedName: "fu",
                    direction: "ltr",
                  },
                  fy: {
                    name: "Western Frisian",
                    localizedName: "Frisian",
                    direction: "ltr",
                  },
                  ga: {
                    name: "Irish",
                    localizedName: "Gaeilge",
                    direction: "ltr",
                  },
                  gd: {
                    name: "Scottish Gaelic",
                    localizedName: "Scottish Gaelic",
                    direction: "ltr",
                  },
                  gl: {
                    name: "Galician",
                    localizedName: "Gallegan",
                    direction: "ltr",
                  },
                  gn: {
                    name: "Guarani",
                    localizedName: "Guarani",
                    direction: "ltr",
                  },
                  gu: {
                    name: "Gujarati",
                    localizedName: "Gujarati",
                    direction: "ltr",
                  },
                  gv: { name: "Manx", localizedName: "Manx", direction: "ltr" },
                  ha: {
                    name: "Hausa",
                    localizedName: "Hausa",
                    direction: "ltr",
                  },
                  hi: {
                    name: "Hindi",
                    localizedName: "हिंदी",
                    direction: "ltr",
                  },
                  ho: {
                    name: "Hiri Motu",
                    localizedName: "Hiri Motu",
                    direction: "ltr",
                  },
                  hr: {
                    name: "Croatian",
                    localizedName: "hrvatski",
                    direction: "ltr",
                  },
                  ht: {
                    name: "Haitian",
                    localizedName: "Haitian",
                    direction: "ltr",
                  },
                  hu: {
                    name: "Hungarian",
                    localizedName: "magyar",
                    direction: "ltr",
                  },
                  hy: {
                    name: "Armenian",
                    localizedName: "Armenian",
                    direction: "ltr",
                  },
                  hz: {
                    name: "Herero",
                    localizedName: "Herero",
                    direction: "ltr",
                  },
                  ia: {
                    name: "Interlingua",
                    localizedName: "Interlingua",
                    direction: "ltr",
                  },
                  ie: {
                    name: "Interlingue",
                    localizedName: "Interlingue",
                    direction: "ltr",
                  },
                  ig: { name: "Igbo", localizedName: "Igbo", direction: "ltr" },
                  ii: {
                    name: "Sichuan Yi",
                    localizedName: "Sichuan Yi",
                    direction: "ltr",
                  },
                  ik: {
                    name: "Inupiaq",
                    localizedName: "Inupiaq",
                    direction: "ltr",
                  },
                  in: {
                    name: "Indonesian",
                    localizedName: "Bahasa Indonesia",
                    direction: "ltr",
                  },
                  io: { name: "Ido", localizedName: "Ido", direction: "ltr" },
                  is: {
                    name: "Icelandic",
                    localizedName: "íslenska",
                    direction: "ltr",
                  },
                  it: {
                    name: "Italian",
                    localizedName: "italiano",
                    direction: "ltr",
                  },
                  iu: {
                    name: "Inuktitut",
                    localizedName: "Inuktitut",
                    direction: "ltr",
                  },
                  iw: {
                    name: "Hebrew",
                    localizedName: "עברית",
                    direction: "rtl",
                  },
                  ja: {
                    name: "Japanese",
                    localizedName: "日本語",
                    direction: "ltr",
                  },
                  ji: {
                    name: "Yiddish",
                    localizedName: "Yiddish",
                    direction: "ltr",
                  },
                  jv: {
                    name: "Javanese",
                    localizedName: "Javanese",
                    direction: "ltr",
                  },
                  ka: {
                    name: "Georgian",
                    localizedName: "Georgian",
                    direction: "ltr",
                  },
                  kg: {
                    name: "Kongo",
                    localizedName: "Kongo",
                    direction: "ltr",
                  },
                  ki: {
                    name: "Kikuyu",
                    localizedName: "Kikuyu",
                    direction: "ltr",
                  },
                  kj: {
                    name: "Kwanyama",
                    localizedName: "Kwanyama",
                    direction: "ltr",
                  },
                  kk: {
                    name: "Kazakh",
                    localizedName: "Kazakh",
                    direction: "ltr",
                  },
                  kl: {
                    name: "Kalaallisut",
                    localizedName: "Greenlandic",
                    direction: "ltr",
                  },
                  km: {
                    name: "Khmer",
                    localizedName: "Khmer",
                    direction: "ltr",
                  },
                  kn: {
                    name: "Kannada",
                    localizedName: "Kannada",
                    direction: "ltr",
                  },
                  ko: {
                    name: "Korean",
                    localizedName: "한국어",
                    direction: "ltr",
                  },
                  kr: {
                    name: "Kanuri",
                    localizedName: "Kanuri",
                    direction: "ltr",
                  },
                  ks: {
                    name: "Kashmiri",
                    localizedName: "Kashmiri",
                    direction: "ltr",
                  },
                  ku: {
                    name: "Kurdish",
                    localizedName: "Kurdish",
                    direction: "ltr",
                  },
                  ku_TR: {
                    name: "Kurdish, Turkey",
                    localizedName: "Kurdish (Turkey)",
                    direction: "ltr",
                  },
                  kv: { name: "Komi", localizedName: "Komi", direction: "ltr" },
                  kw: {
                    name: "Cornish",
                    localizedName: "Cornish",
                    direction: "ltr",
                  },
                  ky: {
                    name: "Kirghiz",
                    localizedName: "Kirghiz",
                    direction: "ltr",
                  },
                  la: {
                    name: "Latin",
                    localizedName: "Latin",
                    direction: "ltr",
                  },
                  lb: {
                    name: "Luxembourgish",
                    localizedName: "Luxembourgish",
                    direction: "ltr",
                  },
                  lg: {
                    name: "Ganda",
                    localizedName: "Ganda",
                    direction: "ltr",
                  },
                  li: {
                    name: "Limburgish",
                    localizedName: "Limburgish",
                    direction: "ltr",
                  },
                  lk: {
                    name: "Lakota",
                    localizedName: "Lakota",
                    direction: "ltr",
                  },
                  ln: {
                    name: "Lingala",
                    localizedName: "Lingala",
                    direction: "ltr",
                  },
                  lo: { name: "Lao", localizedName: "Lao", direction: "ltr" },
                  lt: {
                    name: "Lithuanian",
                    localizedName: "Lietuvių",
                    direction: "ltr",
                  },
                  lu: {
                    name: "Luba-Katanga",
                    localizedName: "Luba-Katanga",
                    direction: "ltr",
                  },
                  lv: {
                    name: "Latvian",
                    localizedName: "Latviešu",
                    direction: "ltr",
                  },
                  mg: {
                    name: "Malagasy",
                    localizedName: "Malagasy",
                    direction: "ltr",
                  },
                  mh: {
                    name: "Marshallese",
                    localizedName: "Marshallese",
                    direction: "ltr",
                  },
                  mi: {
                    name: "Maori",
                    localizedName: "Maori",
                    direction: "ltr",
                  },
                  mk: {
                    name: "Macedonian",
                    localizedName: "македонски",
                    direction: "ltr",
                  },
                  ml: {
                    name: "Malayalam",
                    localizedName: "Malayalam",
                    direction: "ltr",
                  },
                  mn: {
                    name: "Mongolian",
                    localizedName: "Mongolian",
                    direction: "ltr",
                  },
                  mo: {
                    name: "Moldavian",
                    localizedName: "Moldavian",
                    direction: "ltr",
                  },
                  mr: {
                    name: "Marathi",
                    localizedName: "Marathi",
                    direction: "ltr",
                  },
                  ms: {
                    name: "Malay",
                    localizedName: "Bahasa Melayu",
                    direction: "ltr",
                  },
                  mt: {
                    name: "Maltese",
                    localizedName: "Malti",
                    direction: "ltr",
                  },
                  my: {
                    name: "Burmese",
                    localizedName: "Burmese",
                    direction: "ltr",
                  },
                  na: {
                    name: "Nauru",
                    localizedName: "Nauru",
                    direction: "ltr",
                  },
                  nb: {
                    name: "Norwegian Bokmal",
                    localizedName: "Norwegian Bokmål",
                    direction: "ltr",
                  },
                  nd: {
                    name: "North Ndebele",
                    localizedName: "North Ndebele",
                    direction: "ltr",
                  },
                  ne: {
                    name: "Nepali",
                    localizedName: "Nepali",
                    direction: "ltr",
                  },
                  ng: {
                    name: "Ndonga",
                    localizedName: "Ndonga",
                    direction: "ltr",
                  },
                  nl: {
                    name: "Dutch",
                    localizedName: "Nederlands",
                    direction: "ltr",
                  },
                  nn: {
                    name: "Norwegian Nynorsk",
                    localizedName: "Norwegian Nynorsk",
                    direction: "ltr",
                  },
                  nr: {
                    name: "South Ndebele",
                    localizedName: "South Ndebele",
                    direction: "ltr",
                  },
                  nv: {
                    name: "Navajo",
                    localizedName: "Navajo",
                    direction: "ltr",
                  },
                  ny: {
                    name: "Chichewa",
                    localizedName: "Nyanja",
                    direction: "ltr",
                  },
                  oc: {
                    name: "Occitan",
                    localizedName: "Occitan",
                    direction: "ltr",
                  },
                  oj: {
                    name: "Ojibwa",
                    localizedName: "Ojibwa",
                    direction: "ltr",
                  },
                  om: {
                    name: "Oromo",
                    localizedName: "Oromo",
                    direction: "ltr",
                  },
                  or: {
                    name: "Oriya",
                    localizedName: "Oriya",
                    direction: "ltr",
                  },
                  os: {
                    name: "Ossetian",
                    localizedName: "Ossetian",
                    direction: "ltr",
                  },
                  pa: {
                    name: "Panjabi",
                    localizedName: "Panjabi",
                    direction: "ltr",
                  },
                  pi: { name: "Pali", localizedName: "Pali", direction: "ltr" },
                  pl: {
                    name: "Polish",
                    localizedName: "polski",
                    direction: "ltr",
                  },
                  ps: {
                    name: "Pashto",
                    localizedName: "Pushto",
                    direction: "ltr",
                  },
                  pt: {
                    name: "Portuguese",
                    localizedName: "português",
                    direction: "ltr",
                  },
                  pt_BR: {
                    name: "Portuguese, Brazil",
                    localizedName: "português (Brasil)",
                    direction: "ltr",
                  },
                  qu: {
                    name: "Quechua",
                    localizedName: "Quechua",
                    direction: "ltr",
                  },
                  rm: {
                    name: "Raeto-Romance",
                    localizedName: "Raeto-Romance",
                    direction: "ltr",
                  },
                  rn: {
                    name: "Kirundi",
                    localizedName: "Rundi",
                    direction: "ltr",
                  },
                  ro: {
                    name: "Romanian",
                    localizedName: "română",
                    direction: "ltr",
                  },
                  ru: {
                    name: "Russian",
                    localizedName: "русский",
                    direction: "ltr",
                  },
                  rw: {
                    name: "Kinyarwanda",
                    localizedName: "Kinyarwanda",
                    direction: "ltr",
                  },
                  ry: { name: "Rusyn", localizedName: "ry", direction: "ltr" },
                  sa: {
                    name: "Sanskrit",
                    localizedName: "Sanskrit",
                    direction: "ltr",
                  },
                  sc: {
                    name: "Sardinian",
                    localizedName: "Sardinian",
                    direction: "ltr",
                  },
                  sd: {
                    name: "Sindhi",
                    localizedName: "Sindhi",
                    direction: "ltr",
                  },
                  se: {
                    name: "Northern Sami",
                    localizedName: "Northern Sami",
                    direction: "ltr",
                  },
                  sg: {
                    name: "Sango",
                    localizedName: "Sango",
                    direction: "ltr",
                  },
                  sh: {
                    name: "Serbo-Croatian",
                    localizedName: "sh",
                    direction: "ltr",
                  },
                  si: {
                    name: "Sinhalese",
                    localizedName: "Sinhalese",
                    direction: "ltr",
                  },
                  sk: {
                    name: "Slovak",
                    localizedName: "Slovenčina",
                    direction: "ltr",
                  },
                  sl: {
                    name: "Slovenian",
                    localizedName: "Slovenščina",
                    direction: "ltr",
                  },
                  sm: {
                    name: "Samoan",
                    localizedName: "Samoan",
                    direction: "ltr",
                  },
                  sn: {
                    name: "Shona",
                    localizedName: "Shona",
                    direction: "ltr",
                  },
                  so: {
                    name: "Somali",
                    localizedName: "Somali",
                    direction: "ltr",
                  },
                  sq: {
                    name: "Albanian",
                    localizedName: "shqipe",
                    direction: "ltr",
                  },
                  sr: {
                    name: "Serbian",
                    localizedName: "Српски",
                    direction: "ltr",
                  },
                  ss: {
                    name: "Swati",
                    localizedName: "Swati",
                    direction: "ltr",
                  },
                  st: {
                    name: "Sotho",
                    localizedName: "Southern Sotho",
                    direction: "ltr",
                  },
                  su: {
                    name: "Sundanese",
                    localizedName: "Sundanese",
                    direction: "ltr",
                  },
                  sv: {
                    name: "Swedish",
                    localizedName: "svenska",
                    direction: "ltr",
                  },
                  sw: {
                    name: "Swahili",
                    localizedName: "Swahili",
                    direction: "ltr",
                  },
                  ta: {
                    name: "Tamil",
                    localizedName: "Tamil",
                    direction: "ltr",
                  },
                  te: {
                    name: "Telugu",
                    localizedName: "Telugu",
                    direction: "ltr",
                  },
                  tg: {
                    name: "Tajik",
                    localizedName: "Tajik",
                    direction: "ltr",
                  },
                  th: { name: "Thai", localizedName: "ไทย", direction: "ltr" },
                  ti: {
                    name: "Tigrinya",
                    localizedName: "Tigrinya",
                    direction: "ltr",
                  },
                  tk: {
                    name: "Turkmen",
                    localizedName: "Turkmen",
                    direction: "ltr",
                  },
                  tl: {
                    name: "Tagalog",
                    localizedName: "Tagalog",
                    direction: "ltr",
                  },
                  tn: {
                    name: "Tswana",
                    localizedName: "Tswana",
                    direction: "ltr",
                  },
                  to: {
                    name: "Tonga",
                    localizedName: "Tonga",
                    direction: "ltr",
                  },
                  tr: {
                    name: "Turkish",
                    localizedName: "Türkçe",
                    direction: "ltr",
                  },
                  ts: {
                    name: "Tsonga",
                    localizedName: "Tsonga",
                    direction: "ltr",
                  },
                  tt: {
                    name: "Tatar",
                    localizedName: "Tatar",
                    direction: "ltr",
                  },
                  tw: { name: "Twi", localizedName: "Twi", direction: "ltr" },
                  ty: {
                    name: "Tahitian",
                    localizedName: "Tahitian",
                    direction: "ltr",
                  },
                  ug: {
                    name: "Uighur",
                    localizedName: "Uighur",
                    direction: "ltr",
                  },
                  uk: {
                    name: "Ukrainian",
                    localizedName: "українська",
                    direction: "ltr",
                  },
                  ur: { name: "Urdu", localizedName: "Urdu", direction: "rtl" },
                  uz: {
                    name: "Uzbek",
                    localizedName: "Uzbek",
                    direction: "ltr",
                  },
                  ve: {
                    name: "Venda",
                    localizedName: "Venda",
                    direction: "ltr",
                  },
                  vi: {
                    name: "Vietnamese",
                    localizedName: "Tiếng Việt",
                    direction: "ltr",
                  },
                  vo: {
                    name: "Volapuk",
                    localizedName: "Volapük",
                    direction: "ltr",
                  },
                  wa: {
                    name: "Walloon",
                    localizedName: "Walloon",
                    direction: "ltr",
                  },
                  wo: {
                    name: "Wolof",
                    localizedName: "Wolof",
                    direction: "ltr",
                  },
                  xh: {
                    name: "Xhosa",
                    localizedName: "Xhosa",
                    direction: "ltr",
                  },
                  yo: {
                    name: "Yoruba",
                    localizedName: "Yoruba",
                    direction: "ltr",
                  },
                  za: {
                    name: "Zhuang",
                    localizedName: "Zhuang",
                    direction: "ltr",
                  },
                  zh_CN: {
                    name: "Chinese, Simplified",
                    localizedName: "中文 (中国)",
                    direction: "ltr",
                  },
                  zh_HK: {
                    name: "Chinese, Hong Kong",
                    localizedName: "中文 (香港)",
                    direction: "ltr",
                  },
                  zh_TW: {
                    name: "Chinese, Traditional",
                    localizedName: "中文 (台灣)",
                    direction: "ltr",
                  },
                  zu: { name: "Zulu", localizedName: "Zulu", direction: "ltr" },
                };
              },
              2797: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => D, j: () => C });
                var s = i(1617),
                  n = i(1005),
                  r = i(7298),
                  o = i(6846),
                  a = i(170),
                  h = i(1383),
                  l = i(8292),
                  d = i(7922);
                class c extends l.Z {
                  constructor(e) {
                    super(e.value),
                      _defineProperty(this, "isOverridden", !1),
                      (this._targetProperty = e),
                      (this._targetListener =
                        this.onTargetPropertyChange.bind(this)),
                      this._targetProperty.lazyLink(this._targetListener);
                  }
                  set targetProperty(e) {
                    this.setTargetProperty(e);
                  }
                  setTargetProperty(e) {
                    if (this.targetProperty === e) return;
                    const t = this.value;
                    this.isOverridden ||
                      this._targetProperty.unlink(this._targetListener),
                      (this._targetProperty = e),
                      this.isOverridden ||
                        (this._targetProperty.lazyLink(this._targetListener),
                        this.equalsValue(t) || this.notifyListeners(t));
                  }
                  clearOverride() {
                    if (this.isOverridden) {
                      const e = this.value;
                      (this.isOverridden = !1),
                        this._targetProperty.lazyLink(this._targetListener),
                        this.equalsValue(e) || this.notifyListeners(e);
                    }
                  }
                  get() {
                    return this.isOverridden
                      ? this._value
                      : this._targetProperty.value;
                  }
                  set(e) {
                    this.isOverridden ||
                      (this._value = this._targetProperty.value),
                      super.set(e);
                  }
                  setPropertyValue(e) {
                    this.isOverridden ||
                      ((this.isOverridden = !0),
                      this._targetProperty.unlink(this._targetListener)),
                      super.setPropertyValue(e);
                  }
                  equalsValue(e) {
                    return this.areValuesEqual(e, this.value);
                  }
                  onTargetPropertyChange(e, t) {
                    this.isOverridden || this.notifyListeners(t);
                  }
                  notifyListeners(e) {
                    this.emit(this.value, e, this);
                  }
                  dispose() {
                    this.isOverridden ||
                      this._targetProperty.unlink(this._targetListener),
                      super.dispose();
                  }
                }
                d.Z.register("TinyOverrideProperty", c);
                var u = i(8588),
                  p = i(4075),
                  g = i(3600),
                  m = i(592),
                  A = i(9187),
                  y = i(0),
                  f = i(2643);
                const P = new m.Z([], {
                  tandem: n.Z.GENERAL_MODEL.createTandem(
                    "fallbackLocalesProperty"
                  ),
                  phetioDocumentation:
                    'An ordered list of locales to "fall back" on when a translation is missing for the selected locale, for example: ["es", "de" ]. "en" will always be added to the end of this, because it hasguaranteed full coverage of all translated keys.',
                  phetioFeatured: !0,
                  isValidValue: (e) => _.every(e, (e) => !!A.Z[e]),
                  phetioValueType: (0, y.Z)(f.Z),
                });
                g.Z.register("fallbackLocalesProperty", P);
                const b = P,
                  v = new p.ZP([u.Z, b], (e, t) => {
                    const i = [e],
                      s = e.slice(0, 2);
                    e === s || i.includes(s) || i.push(s);
                    for (let r = 0; r < t.length; r++) {
                      const e = t[r];
                      i.includes(e) || i.push(e);
                    }
                    i.includes("en") || i.push("en");
                    const n = i.indexOf("en");
                    return i.slice(0, n + 1);
                  });
                g.Z.register("localeOrderProperty", v);
                const V = v;
                const w = new (i(2492).Z)("chipper");
                var E = i(9059),
                  S = i(1091);
                class T {
                  constructor(e, t, i) {
                    _defineProperty(this, "localePropertyMap", new Map()),
                      _defineProperty(this, "initialValues", {});
                    const s =
                        i && "boolean" == typeof i.phetioReadOnly
                          ? i.phetioReadOnly
                          : S.Z.PHET_IO_OBJECT_METADATA_DEFAULTS.phetioReadOnly,
                      n =
                        !i ||
                        "boolean" != typeof i.phetioFeatured ||
                        i.phetioFeatured;
                    (this.englishProperty = new l.Z(e)),
                      (this.initialValues.en = e),
                      (this.localeOrderListener =
                        this.onLocaleOrderChange.bind(this)),
                      V.lazyLink(this.localeOrderListener),
                      (this.property = new h.Z(u.Z, {
                        derive: (e) => this.getLocaleSpecificProperty(e),
                        bidirectional: !0,
                        phetioValueType: f.Z,
                        phetioState: !1,
                        tandem: t,
                        phetioFeatured: n,
                        phetioReadOnly: s,
                      })),
                      C.push(this);
                  }
                  setInitialValue(e, t) {
                    (this.initialValues[e] = t),
                      (this.getLocaleSpecificProperty(e).value = t);
                  }
                  getStateDelta() {
                    const e = {};
                    return (
                      this.usedLocales.forEach((t) => {
                        const i = this.getRawStringValue(t);
                        null !== i && i !== this.initialValues[t] && (e[t] = i);
                      }),
                      e
                    );
                  }
                  setStateDelta(e) {
                    Object.keys(e).forEach((e) =>
                      this.getLocaleSpecificProperty(e)
                    ),
                      this.usedLocales.forEach((t) => {
                        const i = this.getLocaleSpecificProperty(t),
                          s =
                            void 0 !== this.initialValues[t]
                              ? this.initialValues[t]
                              : null,
                          n = void 0 !== e[t] ? e[t] : null;
                        null === n
                          ? null === s
                            ? i.clearOverride()
                            : (i.value = s)
                          : (i.value = n);
                      });
                  }
                  getRawStringValue(e) {
                    const t = this.getLocaleSpecificProperty(e);
                    return t instanceof c
                      ? t.isOverridden
                        ? t.value
                        : null
                      : t.value;
                  }
                  get usedLocales() {
                    return ["en", ...this.localePropertyMap.keys()];
                  }
                  onLocaleOrderChange(e) {
                    const t = [...this.usedLocales, ...e];
                    for (let i = t.length - 1; i >= 0; i--) {
                      const e = t[i],
                        s = this.getLocaleSpecificProperty(e);
                      s instanceof c &&
                        (s.targetProperty = this.getLocaleSpecificProperty(
                          T.getFallbackLocale(e)
                        ));
                    }
                  }
                  getLocaleSpecificProperty(e) {
                    return "en" === e
                      ? this.englishProperty
                      : (this.localePropertyMap.has(e) ||
                          this.localePropertyMap.set(
                            e,
                            new c(
                              this.getLocaleSpecificProperty(
                                T.getFallbackLocale(e)
                              )
                            )
                          ),
                        this.localePropertyMap.get(e));
                  }
                  static getFallbackLocale(e) {
                    if ("en" === e) return "en";
                    const t = V.value,
                      i = t.indexOf(e);
                    return i >= 0
                      ? t[i + 1]
                      : e.includes("_")
                      ? e.slice(0, 2)
                      : "en";
                  }
                  dispose() {
                    V.unlink(this.localeOrderListener),
                      this.property.dispose(),
                      (0, E.Z)(C, this);
                  }
                  restoreInitialValue(e) {
                    this.property.value = this.initialValues[e];
                  }
                }
                w.register("LocalizedString", T);
                const x = T,
                  C = [];
                window.phet.chipper.setAllStrings = (e) => {
                  C.forEach((t) => {
                    t.property.value = e;
                  });
                };
                const I = new o.Z("StringStateIO", {
                  isValidValue: () => !0,
                  toStateObject: () => {
                    const e = {};
                    return (
                      C.forEach((t) => {
                        const i = t.getStateDelta();
                        Object.keys(i).length > 0 &&
                          (e[t.property.tandem.phetioID] = i);
                      }),
                      { data: e }
                    );
                  },
                  stateSchema: { data: a.Z },
                  applyState: (e, t) => {
                    Object.keys(t.data).forEach((e) => {
                      if (!C.find((t) => t.property.tandem.phetioID === e))
                        throw new r.Z();
                    }),
                      C.forEach((e) => {
                        e.setStateDelta(
                          t.data[e.property.tandem.phetioID] || {}
                        );
                      });
                  },
                });
                s.Z.create({
                  phetioType: I,
                  tandem: n.Z.GENERAL_MODEL.createTandem("stringsState"),
                  phetioState: !0,
                });
                const D = (e) => {
                  const t = e + "/";
                  let i = Object.keys(phet.chipper.strings.en).filter((e) =>
                    e.startsWith(t)
                  );
                  phet.chipper.usedStringsEN &&
                    (i = i.filter((e) =>
                      phet.chipper.usedStringsEN.hasOwnProperty(e)
                    ));
                  const s = {},
                    r = {};
                  return (
                    i.forEach((i) => {
                      const o = i.slice(t.length).split("."),
                        a = o[o.length - 1],
                        h = o.slice(0, o.length - 1);
                      let l = r,
                        d = t;
                      if (
                        (h.forEach((e, t) => {
                          (d += `${t > 0 ? "." : ""}${e}`),
                            l[e] || (l[e] = {}),
                            (l = l[e]);
                        }),
                        "string" != typeof l)
                      ) {
                        let t = n.Z.GENERAL_MODEL.createTandem(
                          "strings"
                        ).createTandem(_.camelCase(e));
                        for (let e = 0; e < o.length; e++) {
                          let i = "a11y" === o[e] ? o[e] : _.camelCase(o[e]);
                          if (e === o.length - 1) {
                            let e = i,
                              s = 0,
                              n = !0;
                            for (; n; )
                              s++,
                                (e = `${i}${1 === s ? "" : s}StringProperty`),
                                (n = t.hasChild(e));
                            i = e;
                          }
                          t = t.createTandem(i);
                        }
                        t.phetioID.includes(".a11y.") && (t = n.Z.OPT_OUT);
                        const r = new x(
                          phet.chipper.mapString(phet.chipper.strings.en[i]),
                          t,
                          phet.chipper.stringMetadata[i]
                        );
                        (s[i] = r),
                          Object.keys(phet.chipper.strings).forEach((e) => {
                            const t = phet.chipper.strings[e][i];
                            "string" == typeof t &&
                              "" !== t &&
                              r.setInitialValue(e, phet.chipper.mapString(t));
                          }),
                          (l[a + "StringProperty"] = r.property),
                          r.property.link((e) => {
                            l[a] = e;
                          });
                      }
                    }),
                    r
                  );
                };
              },
              1603: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => u });
                var n = i(6846),
                  r = i(4792),
                  o = i(668),
                  a = i(7464),
                  h = i(5428),
                  l = i(7232),
                  d = i(2473);
                const c = new o.Z(0, 0);
                class u {
                  constructor(e, t, i, s) {
                    (this.minX = e),
                      (this.minY = t),
                      (this.maxX = i),
                      (this.maxY = s);
                  }
                  getWidth() {
                    return this.maxX - this.minX;
                  }
                  get width() {
                    return this.getWidth();
                  }
                  getHeight() {
                    return this.maxY - this.minY;
                  }
                  get height() {
                    return this.getHeight();
                  }
                  getX() {
                    return this.minX;
                  }
                  get x() {
                    return this.getX();
                  }
                  getY() {
                    return this.minY;
                  }
                  get y() {
                    return this.getY();
                  }
                  getMinX() {
                    return this.minX;
                  }
                  getMinY() {
                    return this.minY;
                  }
                  getMaxX() {
                    return this.maxX;
                  }
                  getMaxY() {
                    return this.maxY;
                  }
                  getLeft() {
                    return this.minX;
                  }
                  get left() {
                    return this.minX;
                  }
                  getTop() {
                    return this.minY;
                  }
                  get top() {
                    return this.minY;
                  }
                  getRight() {
                    return this.maxX;
                  }
                  get right() {
                    return this.maxX;
                  }
                  getBottom() {
                    return this.maxY;
                  }
                  get bottom() {
                    return this.maxY;
                  }
                  getCenterX() {
                    return (this.maxX + this.minX) / 2;
                  }
                  get centerX() {
                    return this.getCenterX();
                  }
                  getCenterY() {
                    return (this.maxY + this.minY) / 2;
                  }
                  get centerY() {
                    return this.getCenterY();
                  }
                  getLeftTop() {
                    return new o.Z(this.minX, this.minY);
                  }
                  get leftTop() {
                    return this.getLeftTop();
                  }
                  getCenterTop() {
                    return new o.Z(this.getCenterX(), this.minY);
                  }
                  get centerTop() {
                    return this.getCenterTop();
                  }
                  getRightTop() {
                    return new o.Z(this.maxX, this.minY);
                  }
                  get rightTop() {
                    return this.getRightTop();
                  }
                  getLeftCenter() {
                    return new o.Z(this.minX, this.getCenterY());
                  }
                  get leftCenter() {
                    return this.getLeftCenter();
                  }
                  getCenter() {
                    return new o.Z(this.getCenterX(), this.getCenterY());
                  }
                  get center() {
                    return this.getCenter();
                  }
                  getRightCenter() {
                    return new o.Z(this.maxX, this.getCenterY());
                  }
                  get rightCenter() {
                    return this.getRightCenter();
                  }
                  getLeftBottom() {
                    return new o.Z(this.minX, this.maxY);
                  }
                  get leftBottom() {
                    return this.getLeftBottom();
                  }
                  getCenterBottom() {
                    return new o.Z(this.getCenterX(), this.maxY);
                  }
                  get centerBottom() {
                    return this.getCenterBottom();
                  }
                  getRightBottom() {
                    return new o.Z(this.maxX, this.maxY);
                  }
                  get rightBottom() {
                    return this.getRightBottom();
                  }
                  isEmpty() {
                    return this.getWidth() < 0 || this.getHeight() < 0;
                  }
                  isFinite() {
                    return (
                      isFinite(this.minX) &&
                      isFinite(this.minY) &&
                      isFinite(this.maxX) &&
                      isFinite(this.maxY)
                    );
                  }
                  hasNonzeroArea() {
                    return this.getWidth() > 0 && this.getHeight() > 0;
                  }
                  isValid() {
                    return !this.isEmpty() && this.isFinite();
                  }
                  closestPointTo(e) {
                    if (this.containsCoordinates(e.x, e.y)) return e;
                    {
                      const t = Math.max(Math.min(e.x, this.maxX), this.x),
                        i = Math.max(Math.min(e.y, this.maxY), this.y);
                      return new o.Z(t, i);
                    }
                  }
                  containsCoordinates(e, t) {
                    return (
                      this.minX <= e &&
                      e <= this.maxX &&
                      this.minY <= t &&
                      t <= this.maxY
                    );
                  }
                  containsPoint(e) {
                    return this.containsCoordinates(e.x, e.y);
                  }
                  containsBounds(e) {
                    return (
                      this.minX <= e.minX &&
                      this.maxX >= e.maxX &&
                      this.minY <= e.minY &&
                      this.maxY >= e.maxY
                    );
                  }
                  intersectsBounds(e) {
                    const t = Math.max(this.minX, e.minX),
                      i = Math.max(this.minY, e.minY),
                      s = Math.min(this.maxX, e.maxX),
                      n = Math.min(this.maxY, e.maxY);
                    return s - t >= 0 && n - i >= 0;
                  }
                  minimumDistanceToPointSquared(e) {
                    const t =
                        e.x < this.minX
                          ? this.minX
                          : e.x > this.maxX
                          ? this.maxX
                          : null,
                      i =
                        e.y < this.minY
                          ? this.minY
                          : e.y > this.maxY
                          ? this.maxY
                          : null;
                    let s;
                    if (null === t && null === i) return 0;
                    if (null === t) return (s = i - e.y), s * s;
                    if (null === i) return (s = t - e.x), s * s;
                    {
                      const s = t - e.x,
                        n = i - e.y;
                      return s * s + n * n;
                    }
                  }
                  maximumDistanceToPointSquared(e) {
                    let t = e.x > this.getCenterX() ? this.minX : this.maxX,
                      i = e.y > this.getCenterY() ? this.minY : this.maxY;
                    return (t -= e.x), (i -= e.y), t * t + i * i;
                  }
                  toString() {
                    return `[x:(${this.minX},${this.maxX}),y:(${this.minY},${this.maxY})]`;
                  }
                  equals(e) {
                    return (
                      this.minX === e.minX &&
                      this.minY === e.minY &&
                      this.maxX === e.maxX &&
                      this.maxY === e.maxY
                    );
                  }
                  equalsEpsilon(e, t) {
                    t = void 0 !== t ? t : 0;
                    const i = this.isFinite(),
                      s = e.isFinite();
                    return i && s
                      ? Math.abs(this.minX - e.minX) < t &&
                          Math.abs(this.minY - e.minY) < t &&
                          Math.abs(this.maxX - e.maxX) < t &&
                          Math.abs(this.maxY - e.maxY) < t
                      : i === s &&
                          (this === e ||
                            ((isFinite(this.minX + e.minX)
                              ? Math.abs(this.minX - e.minX) < t
                              : this.minX === e.minX) &&
                              (isFinite(this.minY + e.minY)
                                ? Math.abs(this.minY - e.minY) < t
                                : this.minY === e.minY) &&
                              (isFinite(this.maxX + e.maxX)
                                ? Math.abs(this.maxX - e.maxX) < t
                                : this.maxX === e.maxX) &&
                              (isFinite(this.maxY + e.maxY)
                                ? Math.abs(this.maxY - e.maxY) < t
                                : this.maxY === e.maxY)));
                  }
                  copy(e) {
                    return e
                      ? e.set(this)
                      : p(this.minX, this.minY, this.maxX, this.maxY);
                  }
                  union(e) {
                    return p(
                      Math.min(this.minX, e.minX),
                      Math.min(this.minY, e.minY),
                      Math.max(this.maxX, e.maxX),
                      Math.max(this.maxY, e.maxY)
                    );
                  }
                  intersection(e) {
                    return p(
                      Math.max(this.minX, e.minX),
                      Math.max(this.minY, e.minY),
                      Math.min(this.maxX, e.maxX),
                      Math.min(this.maxY, e.maxY)
                    );
                  }
                  withCoordinates(e, t) {
                    return p(
                      Math.min(this.minX, e),
                      Math.min(this.minY, t),
                      Math.max(this.maxX, e),
                      Math.max(this.maxY, t)
                    );
                  }
                  withPoint(e) {
                    return this.withCoordinates(e.x, e.y);
                  }
                  withX(e) {
                    return this.copy().addX(e);
                  }
                  withY(e) {
                    return this.copy().addY(e);
                  }
                  withMinX(e) {
                    return p(e, this.minY, this.maxX, this.maxY);
                  }
                  withMinY(e) {
                    return p(this.minX, e, this.maxX, this.maxY);
                  }
                  withMaxX(e) {
                    return p(this.minX, this.minY, e, this.maxY);
                  }
                  withMaxY(e) {
                    return p(this.minX, this.minY, this.maxX, e);
                  }
                  roundedOut() {
                    return p(
                      Math.floor(this.minX),
                      Math.floor(this.minY),
                      Math.ceil(this.maxX),
                      Math.ceil(this.maxY)
                    );
                  }
                  roundedIn() {
                    return p(
                      Math.ceil(this.minX),
                      Math.ceil(this.minY),
                      Math.floor(this.maxX),
                      Math.floor(this.maxY)
                    );
                  }
                  transformed(e) {
                    return this.copy().transform(e);
                  }
                  dilated(e) {
                    return this.dilatedXY(e, e);
                  }
                  dilatedX(e) {
                    return p(
                      this.minX - e,
                      this.minY,
                      this.maxX + e,
                      this.maxY
                    );
                  }
                  dilatedY(e) {
                    return p(
                      this.minX,
                      this.minY - e,
                      this.maxX,
                      this.maxY + e
                    );
                  }
                  dilatedXY(e, t) {
                    return p(
                      this.minX - e,
                      this.minY - t,
                      this.maxX + e,
                      this.maxY + t
                    );
                  }
                  eroded(e) {
                    return this.dilated(-e);
                  }
                  erodedX(e) {
                    return this.dilatedX(-e);
                  }
                  erodedY(e) {
                    return this.dilatedY(-e);
                  }
                  erodedXY(e, t) {
                    return this.dilatedXY(-e, -t);
                  }
                  withOffsets(e, t, i, s) {
                    return p(
                      this.minX - e,
                      this.minY - t,
                      this.maxX + i,
                      this.maxY + s
                    );
                  }
                  shiftedX(e) {
                    return p(
                      this.minX + e,
                      this.minY,
                      this.maxX + e,
                      this.maxY
                    );
                  }
                  shiftedY(e) {
                    return p(
                      this.minX,
                      this.minY + e,
                      this.maxX,
                      this.maxY + e
                    );
                  }
                  shiftedXY(e, t) {
                    return p(
                      this.minX + e,
                      this.minY + t,
                      this.maxX + e,
                      this.maxY + t
                    );
                  }
                  shifted(e) {
                    return this.shiftedXY(e.x, e.y);
                  }
                  blend(e, t) {
                    const i = 1 - t;
                    return p(
                      i * this.minX + t * e.minX,
                      i * this.minY + t * e.minY,
                      i * this.maxX + t * e.maxX,
                      i * this.maxY + t * e.maxY
                    );
                  }
                  setMinMax(e, t, i, s) {
                    return (
                      (this.minX = e),
                      (this.minY = t),
                      (this.maxX = i),
                      (this.maxY = s),
                      this
                    );
                  }
                  setMinX(e) {
                    return (this.minX = e), this;
                  }
                  setMinY(e) {
                    return (this.minY = e), this;
                  }
                  setMaxX(e) {
                    return (this.maxX = e), this;
                  }
                  setMaxY(e) {
                    return (this.maxY = e), this;
                  }
                  set(e) {
                    return this.setMinMax(e.minX, e.minY, e.maxX, e.maxY);
                  }
                  includeBounds(e) {
                    return this.setMinMax(
                      Math.min(this.minX, e.minX),
                      Math.min(this.minY, e.minY),
                      Math.max(this.maxX, e.maxX),
                      Math.max(this.maxY, e.maxY)
                    );
                  }
                  constrainBounds(e) {
                    return this.setMinMax(
                      Math.max(this.minX, e.minX),
                      Math.max(this.minY, e.minY),
                      Math.min(this.maxX, e.maxX),
                      Math.min(this.maxY, e.maxY)
                    );
                  }
                  addCoordinates(e, t) {
                    return this.setMinMax(
                      Math.min(this.minX, e),
                      Math.min(this.minY, t),
                      Math.max(this.maxX, e),
                      Math.max(this.maxY, t)
                    );
                  }
                  addPoint(e) {
                    return this.addCoordinates(e.x, e.y);
                  }
                  addX(e) {
                    return (
                      (this.minX = Math.min(e, this.minX)),
                      (this.maxX = Math.max(e, this.maxX)),
                      this
                    );
                  }
                  addY(e) {
                    return (
                      (this.minY = Math.min(e, this.minY)),
                      (this.maxY = Math.max(e, this.maxY)),
                      this
                    );
                  }
                  roundOut() {
                    return this.setMinMax(
                      Math.floor(this.minX),
                      Math.floor(this.minY),
                      Math.ceil(this.maxX),
                      Math.ceil(this.maxY)
                    );
                  }
                  roundIn() {
                    return this.setMinMax(
                      Math.ceil(this.minX),
                      Math.ceil(this.minY),
                      Math.floor(this.maxX),
                      Math.floor(this.maxY)
                    );
                  }
                  transform(e) {
                    if (this.isEmpty()) return this;
                    if (e.isIdentity()) return this;
                    const t = this.minX,
                      i = this.minY,
                      s = this.maxX,
                      n = this.maxY;
                    return (
                      this.set(u.NOTHING),
                      this.addPoint(e.multiplyVector2(c.setXY(t, i))),
                      this.addPoint(e.multiplyVector2(c.setXY(t, n))),
                      this.addPoint(e.multiplyVector2(c.setXY(s, i))),
                      this.addPoint(e.multiplyVector2(c.setXY(s, n))),
                      this
                    );
                  }
                  dilate(e) {
                    return this.dilateXY(e, e);
                  }
                  dilateX(e) {
                    return this.setMinMax(
                      this.minX - e,
                      this.minY,
                      this.maxX + e,
                      this.maxY
                    );
                  }
                  dilateY(e) {
                    return this.setMinMax(
                      this.minX,
                      this.minY - e,
                      this.maxX,
                      this.maxY + e
                    );
                  }
                  dilateXY(e, t) {
                    return this.setMinMax(
                      this.minX - e,
                      this.minY - t,
                      this.maxX + e,
                      this.maxY + t
                    );
                  }
                  erode(e) {
                    return this.dilate(-e);
                  }
                  erodeX(e) {
                    return this.dilateX(-e);
                  }
                  erodeY(e) {
                    return this.dilateY(-e);
                  }
                  erodeXY(e, t) {
                    return this.dilateXY(-e, -t);
                  }
                  offset(e, t, i, s) {
                    return p(
                      this.minX - e,
                      this.minY - t,
                      this.maxX + i,
                      this.maxY + s
                    );
                  }
                  shiftX(e) {
                    return this.setMinMax(
                      this.minX + e,
                      this.minY,
                      this.maxX + e,
                      this.maxY
                    );
                  }
                  shiftY(e) {
                    return this.setMinMax(
                      this.minX,
                      this.minY + e,
                      this.maxX,
                      this.maxY + e
                    );
                  }
                  shiftXY(e, t) {
                    return this.setMinMax(
                      this.minX + e,
                      this.minY + t,
                      this.maxX + e,
                      this.maxY + t
                    );
                  }
                  shift(e) {
                    return this.shiftXY(e.x, e.y);
                  }
                  getXRange() {
                    return new h.Z(this.minX, this.maxX);
                  }
                  setXRange(e) {
                    return this.setMinMax(e.min, this.minY, e.max, this.maxY);
                  }
                  get xRange() {
                    return this.getXRange();
                  }
                  set xRange(e) {
                    this.setXRange(e);
                  }
                  getYRange() {
                    return new h.Z(this.minY, this.maxY);
                  }
                  setYRange(e) {
                    return this.setMinMax(this.minX, e.min, this.maxX, e.max);
                  }
                  get yRange() {
                    return this.getYRange();
                  }
                  set yRange(e) {
                    this.setYRange(e);
                  }
                  getClosestPoint(e, t, i) {
                    return (
                      i ? i.setXY(e, t) : (i = new o.Z(e, t)),
                      i.x < this.minX && (i.x = this.minX),
                      i.x > this.maxX && (i.x = this.maxX),
                      i.y < this.minY && (i.y = this.minY),
                      i.y > this.maxY && (i.y = this.maxY),
                      i
                    );
                  }
                  freeToPool() {
                    u.pool.freeToPool(this);
                  }
                  static rect(e, t, i, s) {
                    return p(e, t, e + i, t + s);
                  }
                  static oriented(e, t, i, s, n) {
                    return e === d.Z.HORIZONTAL
                      ? new u(t, i, s, n)
                      : new u(i, t, n, s);
                  }
                  static point(e, t) {
                    if (e instanceof o.Z) {
                      const t = e;
                      return p(t.x, t.y, t.x, t.y);
                    }
                    return p(e, t, e, t);
                  }
                }
                (s = u),
                  _defineProperty(
                    u,
                    "pool",
                    new l.Z(s, {
                      initialize: s.prototype.setMinMax,
                      defaultArguments: [
                        Number.POSITIVE_INFINITY,
                        Number.POSITIVE_INFINITY,
                        Number.NEGATIVE_INFINITY,
                        Number.NEGATIVE_INFINITY,
                      ],
                    })
                  ),
                  _defineProperty(
                    u,
                    "NOTHING",
                    new s(
                      Number.POSITIVE_INFINITY,
                      Number.POSITIVE_INFINITY,
                      Number.NEGATIVE_INFINITY,
                      Number.NEGATIVE_INFINITY
                    )
                  ),
                  _defineProperty(
                    u,
                    "EVERYTHING",
                    new s(
                      Number.NEGATIVE_INFINITY,
                      Number.NEGATIVE_INFINITY,
                      Number.POSITIVE_INFINITY,
                      Number.POSITIVE_INFINITY
                    )
                  ),
                  _defineProperty(
                    u,
                    "Bounds2IO",
                    new n.Z("Bounds2IO", {
                      valueType: s,
                      documentation: "a 2-dimensional bounds rectangle",
                      toStateObject: (e) => ({
                        minX: e.minX,
                        minY: e.minY,
                        maxX: e.maxX,
                        maxY: e.maxY,
                      }),
                      fromStateObject: (e) =>
                        new s(
                          r.Z.fromStateObject(e.minX),
                          r.Z.fromStateObject(e.minY),
                          r.Z.fromStateObject(e.maxX),
                          r.Z.fromStateObject(e.maxY)
                        ),
                      stateSchema: {
                        minX: r.Z,
                        maxX: r.Z,
                        minY: r.Z,
                        maxY: r.Z,
                      },
                    })
                  ),
                  a.Z.register("Bounds2", u);
                const p = u.pool.create.bind(u.pool);
                a.Z.register("b2", p),
                  (u.prototype.isBounds = !0),
                  (u.prototype.dimension = 2);
              },
              6243: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(1603),
                  n = i(7464);
                class r {
                  constructor(e, t) {
                    (this.width = e), (this.height = t);
                  }
                  toString() {
                    return `[${this.width}w, ${this.height}h]`;
                  }
                  set(e) {
                    return (
                      (this.width = e.width), (this.height = e.height), this
                    );
                  }
                  setWidth(e) {
                    return (this.width = e), this;
                  }
                  setHeight(e) {
                    return (this.height = e), this;
                  }
                  copy(e) {
                    return e ? e.set(this) : new r(this.width, this.height);
                  }
                  swapped() {
                    return new r(this.height, this.width);
                  }
                  toBounds(e, t) {
                    return (
                      (e = void 0 !== e ? e : 0),
                      (t = void 0 !== t ? t : 0),
                      new s.Z(e, t, this.width + e, this.height + t)
                    );
                  }
                  equals(e) {
                    return this.width === e.width && this.height === e.height;
                  }
                }
                n.Z.register("Dimension2", r);
                const o = r;
              },
              9972: (e, t, i) => {
                "use strict";
                var s, n;
                i.d(t, { h: () => V, Z: () => w });
                var r = i(3409),
                  o = i(0),
                  a = i(6846),
                  h = i(8585),
                  l = i(7464),
                  d = i(5076),
                  c = i(8002),
                  u = i(1319);
                const p = window.Float32Array || Array;
                class g {
                  constructor(
                    e,
                    t,
                    i,
                    s,
                    n,
                    r,
                    o,
                    a,
                    h,
                    l,
                    d,
                    c,
                    u,
                    g,
                    A,
                    y,
                    f
                  ) {
                    (this.entries = new p(16)),
                      (this.type = m.OTHER),
                      this.rowMajor(
                        void 0 !== e ? e : 1,
                        void 0 !== t ? t : 0,
                        void 0 !== i ? i : 0,
                        void 0 !== s ? s : 0,
                        void 0 !== n ? n : 0,
                        void 0 !== r ? r : 1,
                        void 0 !== o ? o : 0,
                        void 0 !== a ? a : 0,
                        void 0 !== h ? h : 0,
                        void 0 !== l ? l : 0,
                        void 0 !== d ? d : 1,
                        void 0 !== c ? c : 0,
                        void 0 !== u ? u : 0,
                        void 0 !== g ? g : 0,
                        void 0 !== A ? A : 0,
                        void 0 !== y ? y : 1,
                        f
                      );
                  }
                  rowMajor(e, t, i, s, n, r, o, a, h, l, d, c, u, p, g, A, y) {
                    return (
                      (this.entries[0] = e),
                      (this.entries[1] = n),
                      (this.entries[2] = h),
                      (this.entries[3] = u),
                      (this.entries[4] = t),
                      (this.entries[5] = r),
                      (this.entries[6] = l),
                      (this.entries[7] = p),
                      (this.entries[8] = i),
                      (this.entries[9] = o),
                      (this.entries[10] = d),
                      (this.entries[11] = g),
                      (this.entries[12] = s),
                      (this.entries[13] = a),
                      (this.entries[14] = c),
                      (this.entries[15] = A),
                      (this.type =
                        void 0 === y
                          ? 0 === u && 0 === p && 0 === g && 1 === A
                            ? m.AFFINE
                            : m.OTHER
                          : y),
                      this
                    );
                  }
                  columnMajor(
                    e,
                    t,
                    i,
                    s,
                    n,
                    r,
                    o,
                    a,
                    h,
                    l,
                    d,
                    c,
                    u,
                    p,
                    g,
                    m,
                    A
                  ) {
                    return this.rowMajor(
                      e,
                      n,
                      h,
                      u,
                      t,
                      r,
                      l,
                      p,
                      i,
                      o,
                      d,
                      g,
                      s,
                      a,
                      c,
                      m,
                      A
                    );
                  }
                  set(e) {
                    return this.rowMajor(
                      e.m00(),
                      e.m01(),
                      e.m02(),
                      e.m03(),
                      e.m10(),
                      e.m11(),
                      e.m12(),
                      e.m13(),
                      e.m20(),
                      e.m21(),
                      e.m22(),
                      e.m23(),
                      e.m30(),
                      e.m31(),
                      e.m32(),
                      e.m33(),
                      e.type
                    );
                  }
                  m00() {
                    return this.entries[0];
                  }
                  m01() {
                    return this.entries[4];
                  }
                  m02() {
                    return this.entries[8];
                  }
                  m03() {
                    return this.entries[12];
                  }
                  m10() {
                    return this.entries[1];
                  }
                  m11() {
                    return this.entries[5];
                  }
                  m12() {
                    return this.entries[9];
                  }
                  m13() {
                    return this.entries[13];
                  }
                  m20() {
                    return this.entries[2];
                  }
                  m21() {
                    return this.entries[6];
                  }
                  m22() {
                    return this.entries[10];
                  }
                  m23() {
                    return this.entries[14];
                  }
                  m30() {
                    return this.entries[3];
                  }
                  m31() {
                    return this.entries[7];
                  }
                  m32() {
                    return this.entries[11];
                  }
                  m33() {
                    return this.entries[15];
                  }
                  isFinite() {
                    return (
                      isFinite(this.m00()) &&
                      isFinite(this.m01()) &&
                      isFinite(this.m02()) &&
                      isFinite(this.m03()) &&
                      isFinite(this.m10()) &&
                      isFinite(this.m11()) &&
                      isFinite(this.m12()) &&
                      isFinite(this.m13()) &&
                      isFinite(this.m20()) &&
                      isFinite(this.m21()) &&
                      isFinite(this.m22()) &&
                      isFinite(this.m23()) &&
                      isFinite(this.m30()) &&
                      isFinite(this.m31()) &&
                      isFinite(this.m32()) &&
                      isFinite(this.m33())
                    );
                  }
                  getTranslation() {
                    return new c.Z(this.m03(), this.m13(), this.m23());
                  }
                  get translation() {
                    return this.getTranslation();
                  }
                  getScaleVector() {
                    const e = this.m00() + this.m03(),
                      t = this.m10() + this.m13(),
                      i = this.m20() + this.m23(),
                      s = this.m30() + this.m33(),
                      n = this.m01() + this.m03(),
                      r = this.m11() + this.m13(),
                      o = this.m21() + this.m23(),
                      a = this.m31() + this.m33(),
                      h = this.m02() + this.m03(),
                      l = this.m12() + this.m13(),
                      d = this.m22() + this.m23(),
                      u = this.m32() + this.m33();
                    return new c.Z(
                      Math.sqrt(e * e + t * t + i * i + s * s),
                      Math.sqrt(n * n + r * r + o * o + a * a),
                      Math.sqrt(h * h + l * l + d * d + u * u)
                    );
                  }
                  get scaleVector() {
                    return this.getScaleVector();
                  }
                  getCSSTransform() {
                    return `matrix3d(${this.entries[0].toFixed(
                      20
                    )},${this.entries[1].toFixed(20)},${this.entries[2].toFixed(
                      20
                    )},${this.entries[3].toFixed(20)},${this.entries[4].toFixed(
                      20
                    )},${this.entries[5].toFixed(20)},${this.entries[6].toFixed(
                      20
                    )},${this.entries[7].toFixed(20)},${this.entries[8].toFixed(
                      20
                    )},${this.entries[9].toFixed(
                      20
                    )},${this.entries[10].toFixed(
                      20
                    )},${this.entries[11].toFixed(
                      20
                    )},${this.entries[12].toFixed(
                      20
                    )},${this.entries[13].toFixed(
                      20
                    )},${this.entries[14].toFixed(
                      20
                    )},${this.entries[15].toFixed(20)})`;
                  }
                  get cssTransform() {
                    return this.getCSSTransform();
                  }
                  equals(e) {
                    return (
                      this.m00() === e.m00() &&
                      this.m01() === e.m01() &&
                      this.m02() === e.m02() &&
                      this.m03() === e.m03() &&
                      this.m10() === e.m10() &&
                      this.m11() === e.m11() &&
                      this.m12() === e.m12() &&
                      this.m13() === e.m13() &&
                      this.m20() === e.m20() &&
                      this.m21() === e.m21() &&
                      this.m22() === e.m22() &&
                      this.m23() === e.m23() &&
                      this.m30() === e.m30() &&
                      this.m31() === e.m31() &&
                      this.m32() === e.m32() &&
                      this.m33() === e.m33()
                    );
                  }
                  equalsEpsilon(e, t) {
                    return (
                      Math.abs(this.m00() - e.m00()) < t &&
                      Math.abs(this.m01() - e.m01()) < t &&
                      Math.abs(this.m02() - e.m02()) < t &&
                      Math.abs(this.m03() - e.m03()) < t &&
                      Math.abs(this.m10() - e.m10()) < t &&
                      Math.abs(this.m11() - e.m11()) < t &&
                      Math.abs(this.m12() - e.m12()) < t &&
                      Math.abs(this.m13() - e.m13()) < t &&
                      Math.abs(this.m20() - e.m20()) < t &&
                      Math.abs(this.m21() - e.m21()) < t &&
                      Math.abs(this.m22() - e.m22()) < t &&
                      Math.abs(this.m23() - e.m23()) < t &&
                      Math.abs(this.m30() - e.m30()) < t &&
                      Math.abs(this.m31() - e.m31()) < t &&
                      Math.abs(this.m32() - e.m32()) < t &&
                      Math.abs(this.m33() - e.m33()) < t
                    );
                  }
                  copy() {
                    return new g(
                      this.m00(),
                      this.m01(),
                      this.m02(),
                      this.m03(),
                      this.m10(),
                      this.m11(),
                      this.m12(),
                      this.m13(),
                      this.m20(),
                      this.m21(),
                      this.m22(),
                      this.m23(),
                      this.m30(),
                      this.m31(),
                      this.m32(),
                      this.m33(),
                      this.type
                    );
                  }
                  plus(e) {
                    return new g(
                      this.m00() + e.m00(),
                      this.m01() + e.m01(),
                      this.m02() + e.m02(),
                      this.m03() + e.m03(),
                      this.m10() + e.m10(),
                      this.m11() + e.m11(),
                      this.m12() + e.m12(),
                      this.m13() + e.m13(),
                      this.m20() + e.m20(),
                      this.m21() + e.m21(),
                      this.m22() + e.m22(),
                      this.m23() + e.m23(),
                      this.m30() + e.m30(),
                      this.m31() + e.m31(),
                      this.m32() + e.m32(),
                      this.m33() + e.m33()
                    );
                  }
                  minus(e) {
                    return new g(
                      this.m00() - e.m00(),
                      this.m01() - e.m01(),
                      this.m02() - e.m02(),
                      this.m03() - e.m03(),
                      this.m10() - e.m10(),
                      this.m11() - e.m11(),
                      this.m12() - e.m12(),
                      this.m13() - e.m13(),
                      this.m20() - e.m20(),
                      this.m21() - e.m21(),
                      this.m22() - e.m22(),
                      this.m23() - e.m23(),
                      this.m30() - e.m30(),
                      this.m31() - e.m31(),
                      this.m32() - e.m32(),
                      this.m33() - e.m33()
                    );
                  }
                  transposed() {
                    return new g(
                      this.m00(),
                      this.m10(),
                      this.m20(),
                      this.m30(),
                      this.m01(),
                      this.m11(),
                      this.m21(),
                      this.m31(),
                      this.m02(),
                      this.m12(),
                      this.m22(),
                      this.m32(),
                      this.m03(),
                      this.m13(),
                      this.m23(),
                      this.m33()
                    );
                  }
                  negated() {
                    return new g(
                      -this.m00(),
                      -this.m01(),
                      -this.m02(),
                      -this.m03(),
                      -this.m10(),
                      -this.m11(),
                      -this.m12(),
                      -this.m13(),
                      -this.m20(),
                      -this.m21(),
                      -this.m22(),
                      -this.m23(),
                      -this.m30(),
                      -this.m31(),
                      -this.m32(),
                      -this.m33()
                    );
                  }
                  inverted() {
                    let e;
                    switch (this.type) {
                      case m.IDENTITY:
                        return this;
                      case m.TRANSLATION_3D:
                        return new g(
                          1,
                          0,
                          0,
                          -this.m03(),
                          0,
                          1,
                          0,
                          -this.m13(),
                          0,
                          0,
                          1,
                          -this.m23(),
                          0,
                          0,
                          0,
                          1,
                          m.TRANSLATION_3D
                        );
                      case m.SCALING:
                        return new g(
                          1 / this.m00(),
                          0,
                          0,
                          0,
                          0,
                          1 / this.m11(),
                          0,
                          0,
                          0,
                          0,
                          1 / this.m22(),
                          0,
                          0,
                          0,
                          0,
                          1 / this.m33(),
                          m.SCALING
                        );
                      case m.AFFINE:
                      case m.OTHER:
                        if (((e = this.getDeterminant()), 0 !== e))
                          return new g(
                            (-this.m31() * this.m22() * this.m13() +
                              this.m21() * this.m32() * this.m13() +
                              this.m31() * this.m12() * this.m23() -
                              this.m11() * this.m32() * this.m23() -
                              this.m21() * this.m12() * this.m33() +
                              this.m11() * this.m22() * this.m33()) /
                              e,
                            (this.m31() * this.m22() * this.m03() -
                              this.m21() * this.m32() * this.m03() -
                              this.m31() * this.m02() * this.m23() +
                              this.m01() * this.m32() * this.m23() +
                              this.m21() * this.m02() * this.m33() -
                              this.m01() * this.m22() * this.m33()) /
                              e,
                            (-this.m31() * this.m12() * this.m03() +
                              this.m11() * this.m32() * this.m03() +
                              this.m31() * this.m02() * this.m13() -
                              this.m01() * this.m32() * this.m13() -
                              this.m11() * this.m02() * this.m33() +
                              this.m01() * this.m12() * this.m33()) /
                              e,
                            (this.m21() * this.m12() * this.m03() -
                              this.m11() * this.m22() * this.m03() -
                              this.m21() * this.m02() * this.m13() +
                              this.m01() * this.m22() * this.m13() +
                              this.m11() * this.m02() * this.m23() -
                              this.m01() * this.m12() * this.m23()) /
                              e,
                            (this.m30() * this.m22() * this.m13() -
                              this.m20() * this.m32() * this.m13() -
                              this.m30() * this.m12() * this.m23() +
                              this.m10() * this.m32() * this.m23() +
                              this.m20() * this.m12() * this.m33() -
                              this.m10() * this.m22() * this.m33()) /
                              e,
                            (-this.m30() * this.m22() * this.m03() +
                              this.m20() * this.m32() * this.m03() +
                              this.m30() * this.m02() * this.m23() -
                              this.m00() * this.m32() * this.m23() -
                              this.m20() * this.m02() * this.m33() +
                              this.m00() * this.m22() * this.m33()) /
                              e,
                            (this.m30() * this.m12() * this.m03() -
                              this.m10() * this.m32() * this.m03() -
                              this.m30() * this.m02() * this.m13() +
                              this.m00() * this.m32() * this.m13() +
                              this.m10() * this.m02() * this.m33() -
                              this.m00() * this.m12() * this.m33()) /
                              e,
                            (-this.m20() * this.m12() * this.m03() +
                              this.m10() * this.m22() * this.m03() +
                              this.m20() * this.m02() * this.m13() -
                              this.m00() * this.m22() * this.m13() -
                              this.m10() * this.m02() * this.m23() +
                              this.m00() * this.m12() * this.m23()) /
                              e,
                            (-this.m30() * this.m21() * this.m13() +
                              this.m20() * this.m31() * this.m13() +
                              this.m30() * this.m11() * this.m23() -
                              this.m10() * this.m31() * this.m23() -
                              this.m20() * this.m11() * this.m33() +
                              this.m10() * this.m21() * this.m33()) /
                              e,
                            (this.m30() * this.m21() * this.m03() -
                              this.m20() * this.m31() * this.m03() -
                              this.m30() * this.m01() * this.m23() +
                              this.m00() * this.m31() * this.m23() +
                              this.m20() * this.m01() * this.m33() -
                              this.m00() * this.m21() * this.m33()) /
                              e,
                            (-this.m30() * this.m11() * this.m03() +
                              this.m10() * this.m31() * this.m03() +
                              this.m30() * this.m01() * this.m13() -
                              this.m00() * this.m31() * this.m13() -
                              this.m10() * this.m01() * this.m33() +
                              this.m00() * this.m11() * this.m33()) /
                              e,
                            (this.m20() * this.m11() * this.m03() -
                              this.m10() * this.m21() * this.m03() -
                              this.m20() * this.m01() * this.m13() +
                              this.m00() * this.m21() * this.m13() +
                              this.m10() * this.m01() * this.m23() -
                              this.m00() * this.m11() * this.m23()) /
                              e,
                            (this.m30() * this.m21() * this.m12() -
                              this.m20() * this.m31() * this.m12() -
                              this.m30() * this.m11() * this.m22() +
                              this.m10() * this.m31() * this.m22() +
                              this.m20() * this.m11() * this.m32() -
                              this.m10() * this.m21() * this.m32()) /
                              e,
                            (-this.m30() * this.m21() * this.m02() +
                              this.m20() * this.m31() * this.m02() +
                              this.m30() * this.m01() * this.m22() -
                              this.m00() * this.m31() * this.m22() -
                              this.m20() * this.m01() * this.m32() +
                              this.m00() * this.m21() * this.m32()) /
                              e,
                            (this.m30() * this.m11() * this.m02() -
                              this.m10() * this.m31() * this.m02() -
                              this.m30() * this.m01() * this.m12() +
                              this.m00() * this.m31() * this.m12() +
                              this.m10() * this.m01() * this.m32() -
                              this.m00() * this.m11() * this.m32()) /
                              e,
                            (-this.m20() * this.m11() * this.m02() +
                              this.m10() * this.m21() * this.m02() +
                              this.m20() * this.m01() * this.m12() -
                              this.m00() * this.m21() * this.m12() -
                              this.m10() * this.m01() * this.m22() +
                              this.m00() * this.m11() * this.m22()) /
                              e
                          );
                        throw new Error(
                          "Matrix could not be inverted, determinant === 0"
                        );
                      default:
                        throw new Error(
                          "Matrix4.inverted with unknown type: " + this.type
                        );
                    }
                  }
                  timesMatrix(e) {
                    if (this.type === m.IDENTITY || e.type === m.IDENTITY)
                      return this.type === m.IDENTITY ? e : this;
                    if (this.type === e.type) {
                      if (this.type === m.TRANSLATION_3D)
                        return new g(
                          1,
                          0,
                          0,
                          this.m03() + e.m02(),
                          0,
                          1,
                          0,
                          this.m13() + e.m12(),
                          0,
                          0,
                          1,
                          this.m23() + e.m23(),
                          0,
                          0,
                          0,
                          1,
                          m.TRANSLATION_3D
                        );
                      if (this.type === m.SCALING)
                        return new g(
                          this.m00() * e.m00(),
                          0,
                          0,
                          0,
                          0,
                          this.m11() * e.m11(),
                          0,
                          0,
                          0,
                          0,
                          this.m22() * e.m22(),
                          0,
                          0,
                          0,
                          0,
                          1,
                          m.SCALING
                        );
                    }
                    return this.type !== m.OTHER && e.type !== m.OTHER
                      ? new g(
                          this.m00() * e.m00() +
                            this.m01() * e.m10() +
                            this.m02() * e.m20(),
                          this.m00() * e.m01() +
                            this.m01() * e.m11() +
                            this.m02() * e.m21(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02() * e.m22(),
                          this.m00() * e.m03() +
                            this.m01() * e.m13() +
                            this.m02() * e.m23() +
                            this.m03(),
                          this.m10() * e.m00() +
                            this.m11() * e.m10() +
                            this.m12() * e.m20(),
                          this.m10() * e.m01() +
                            this.m11() * e.m11() +
                            this.m12() * e.m21(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12() * e.m22(),
                          this.m10() * e.m03() +
                            this.m11() * e.m13() +
                            this.m12() * e.m23() +
                            this.m13(),
                          this.m20() * e.m00() +
                            this.m21() * e.m10() +
                            this.m22() * e.m20(),
                          this.m20() * e.m01() +
                            this.m21() * e.m11() +
                            this.m22() * e.m21(),
                          this.m20() * e.m02() +
                            this.m21() * e.m12() +
                            this.m22() * e.m22(),
                          this.m20() * e.m03() +
                            this.m21() * e.m13() +
                            this.m22() * e.m23() +
                            this.m23(),
                          0,
                          0,
                          0,
                          1,
                          m.AFFINE
                        )
                      : new g(
                          this.m00() * e.m00() +
                            this.m01() * e.m10() +
                            this.m02() * e.m20() +
                            this.m03() * e.m30(),
                          this.m00() * e.m01() +
                            this.m01() * e.m11() +
                            this.m02() * e.m21() +
                            this.m03() * e.m31(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02() * e.m22() +
                            this.m03() * e.m32(),
                          this.m00() * e.m03() +
                            this.m01() * e.m13() +
                            this.m02() * e.m23() +
                            this.m03() * e.m33(),
                          this.m10() * e.m00() +
                            this.m11() * e.m10() +
                            this.m12() * e.m20() +
                            this.m13() * e.m30(),
                          this.m10() * e.m01() +
                            this.m11() * e.m11() +
                            this.m12() * e.m21() +
                            this.m13() * e.m31(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12() * e.m22() +
                            this.m13() * e.m32(),
                          this.m10() * e.m03() +
                            this.m11() * e.m13() +
                            this.m12() * e.m23() +
                            this.m13() * e.m33(),
                          this.m20() * e.m00() +
                            this.m21() * e.m10() +
                            this.m22() * e.m20() +
                            this.m23() * e.m30(),
                          this.m20() * e.m01() +
                            this.m21() * e.m11() +
                            this.m22() * e.m21() +
                            this.m23() * e.m31(),
                          this.m20() * e.m02() +
                            this.m21() * e.m12() +
                            this.m22() * e.m22() +
                            this.m23() * e.m32(),
                          this.m20() * e.m03() +
                            this.m21() * e.m13() +
                            this.m22() * e.m23() +
                            this.m23() * e.m33(),
                          this.m30() * e.m00() +
                            this.m31() * e.m10() +
                            this.m32() * e.m20() +
                            this.m33() * e.m30(),
                          this.m30() * e.m01() +
                            this.m31() * e.m11() +
                            this.m32() * e.m21() +
                            this.m33() * e.m31(),
                          this.m30() * e.m02() +
                            this.m31() * e.m12() +
                            this.m32() * e.m22() +
                            this.m33() * e.m32(),
                          this.m30() * e.m03() +
                            this.m31() * e.m13() +
                            this.m32() * e.m23() +
                            this.m33() * e.m33()
                        );
                  }
                  timesVector4(e) {
                    const t =
                        this.m00() * e.x +
                        this.m01() * e.y +
                        this.m02() * e.z +
                        this.m03() * e.w,
                      i =
                        this.m10() * e.x +
                        this.m11() * e.y +
                        this.m12() * e.z +
                        this.m13() * e.w,
                      s =
                        this.m20() * e.x +
                        this.m21() * e.y +
                        this.m22() * e.z +
                        this.m23() * e.w,
                      n =
                        this.m30() * e.x +
                        this.m31() * e.y +
                        this.m32() * e.z +
                        this.m33() * e.w;
                    return new u.Z(t, i, s, n);
                  }
                  timesVector3(e) {
                    return this.timesVector4(e.toVector4()).toVector3();
                  }
                  timesTransposeVector4(e) {
                    const t =
                        this.m00() * e.x +
                        this.m10() * e.y +
                        this.m20() * e.z +
                        this.m30() * e.w,
                      i =
                        this.m01() * e.x +
                        this.m11() * e.y +
                        this.m21() * e.z +
                        this.m31() * e.w,
                      s =
                        this.m02() * e.x +
                        this.m12() * e.y +
                        this.m22() * e.z +
                        this.m32() * e.w,
                      n =
                        this.m03() * e.x +
                        this.m13() * e.y +
                        this.m23() * e.z +
                        this.m33() * e.w;
                    return new u.Z(t, i, s, n);
                  }
                  timesTransposeVector3(e) {
                    return this.timesTransposeVector4(
                      e.toVector4()
                    ).toVector3();
                  }
                  timesRelativeVector3(e) {
                    const t =
                        this.m00() * e.x + this.m10() * e.y + this.m20() * e.z,
                      i =
                        this.m01() * e.y + this.m11() * e.y + this.m21() * e.z,
                      s =
                        this.m02() * e.z + this.m12() * e.y + this.m22() * e.z;
                    return new c.Z(t, i, s);
                  }
                  getDeterminant() {
                    return (
                      this.m03() * this.m12() * this.m21() * this.m30() -
                      this.m02() * this.m13() * this.m21() * this.m30() -
                      this.m03() * this.m11() * this.m22() * this.m30() +
                      this.m01() * this.m13() * this.m22() * this.m30() +
                      this.m02() * this.m11() * this.m23() * this.m30() -
                      this.m01() * this.m12() * this.m23() * this.m30() -
                      this.m03() * this.m12() * this.m20() * this.m31() +
                      this.m02() * this.m13() * this.m20() * this.m31() +
                      this.m03() * this.m10() * this.m22() * this.m31() -
                      this.m00() * this.m13() * this.m22() * this.m31() -
                      this.m02() * this.m10() * this.m23() * this.m31() +
                      this.m00() * this.m12() * this.m23() * this.m31() +
                      this.m03() * this.m11() * this.m20() * this.m32() -
                      this.m01() * this.m13() * this.m20() * this.m32() -
                      this.m03() * this.m10() * this.m21() * this.m32() +
                      this.m00() * this.m13() * this.m21() * this.m32() +
                      this.m01() * this.m10() * this.m23() * this.m32() -
                      this.m00() * this.m11() * this.m23() * this.m32() -
                      this.m02() * this.m11() * this.m20() * this.m33() +
                      this.m01() * this.m12() * this.m20() * this.m33() +
                      this.m02() * this.m10() * this.m21() * this.m33() -
                      this.m00() * this.m12() * this.m21() * this.m33() -
                      this.m01() * this.m10() * this.m22() * this.m33() +
                      this.m00() * this.m11() * this.m22() * this.m33()
                    );
                  }
                  get determinant() {
                    return this.getDeterminant();
                  }
                  toString() {
                    return `${this.m00()} ${this.m01()} ${this.m02()} ${this.m03()}\n${this.m10()} ${this.m11()} ${this.m12()} ${this.m13()}\n${this.m20()} ${this.m21()} ${this.m22()} ${this.m23()}\n${this.m30()} ${this.m31()} ${this.m32()} ${this.m33()}`;
                  }
                  makeImmutable() {
                    return this;
                  }
                  copyToArray(e) {
                    return (
                      (e[0] = this.m00()),
                      (e[1] = this.m10()),
                      (e[2] = this.m20()),
                      (e[3] = this.m30()),
                      (e[4] = this.m01()),
                      (e[5] = this.m11()),
                      (e[6] = this.m21()),
                      (e[7] = this.m31()),
                      (e[8] = this.m02()),
                      (e[9] = this.m12()),
                      (e[10] = this.m22()),
                      (e[11] = this.m32()),
                      (e[12] = this.m03()),
                      (e[13] = this.m13()),
                      (e[14] = this.m23()),
                      (e[15] = this.m33()),
                      e
                    );
                  }
                  static identity() {
                    return new g(
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.IDENTITY
                    );
                  }
                  static translation(e, t, i) {
                    return new g(
                      1,
                      0,
                      0,
                      e,
                      0,
                      1,
                      0,
                      t,
                      0,
                      0,
                      1,
                      i,
                      0,
                      0,
                      0,
                      1,
                      m.TRANSLATION_3D
                    );
                  }
                  static translationFromVector(e) {
                    return g.translation(e.x, e.y, e.z);
                  }
                  static scaling(e, t, i) {
                    return new g(
                      e,
                      0,
                      0,
                      0,
                      0,
                      (t = void 0 === t ? e : t),
                      0,
                      0,
                      0,
                      0,
                      (i = void 0 === i ? e : i),
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.SCALING
                    );
                  }
                  static rotationAxisAngle(e, t) {
                    const i = Math.cos(t),
                      s = Math.sin(t),
                      n = 1 - i;
                    return new g(
                      e.x * e.x * n + i,
                      e.x * e.y * n - e.z * s,
                      e.x * e.z * n + e.y * s,
                      0,
                      e.y * e.x * n + e.z * s,
                      e.y * e.y * n + i,
                      e.y * e.z * n - e.x * s,
                      0,
                      e.z * e.x * n - e.y * s,
                      e.z * e.y * n + e.x * s,
                      e.z * e.z * n + i,
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.AFFINE
                    );
                  }
                  static rotationX(e) {
                    const t = Math.cos(e),
                      i = Math.sin(e);
                    return new g(
                      1,
                      0,
                      0,
                      0,
                      0,
                      t,
                      -i,
                      0,
                      0,
                      i,
                      t,
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.AFFINE
                    );
                  }
                  static rotationY(e) {
                    const t = Math.cos(e),
                      i = Math.sin(e);
                    return new g(
                      t,
                      0,
                      i,
                      0,
                      0,
                      1,
                      0,
                      0,
                      -i,
                      0,
                      t,
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.AFFINE
                    );
                  }
                  static rotationZ(e) {
                    const t = Math.cos(e),
                      i = Math.sin(e);
                    return new g(
                      t,
                      -i,
                      0,
                      0,
                      i,
                      t,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      1,
                      m.AFFINE
                    );
                  }
                  static gluPerspective(e, t, i, s) {
                    const n = Math.cos(e) / Math.sin(e);
                    return new g(
                      n / t,
                      0,
                      0,
                      0,
                      0,
                      n,
                      0,
                      0,
                      0,
                      0,
                      (s + i) / (i - s),
                      (2 * s * i) / (i - s),
                      0,
                      0,
                      -1,
                      0
                    );
                  }
                }
                l.Z.register("Matrix4", g);
                const m = d.Z.byKeys([
                  "OTHER",
                  "IDENTITY",
                  "TRANSLATION_3D",
                  "SCALING",
                  "AFFINE",
                ]);
                (g.Types = m), (g.IDENTITY = new g().makeImmutable());
                const A = g;
                var y = i(5870),
                  f = i(668),
                  P = i(4676),
                  b = i(2956),
                  v = i(7232);
                class V extends P.Z {}
                _defineProperty(V, "OTHER", new (s = V)()),
                  _defineProperty(V, "IDENTITY", new s()),
                  _defineProperty(V, "TRANSLATION_2D", new s()),
                  _defineProperty(V, "SCALING", new s()),
                  _defineProperty(V, "AFFINE", new s()),
                  _defineProperty(V, "enumeration", new b.Z(s));
                class w {
                  constructor() {
                    (this.entries = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                      (this.type = V.IDENTITY);
                  }
                  m00() {
                    return this.entries[0];
                  }
                  m01() {
                    return this.entries[3];
                  }
                  m02() {
                    return this.entries[6];
                  }
                  m10() {
                    return this.entries[1];
                  }
                  m11() {
                    return this.entries[4];
                  }
                  m12() {
                    return this.entries[7];
                  }
                  m20() {
                    return this.entries[2];
                  }
                  m21() {
                    return this.entries[5];
                  }
                  m22() {
                    return this.entries[8];
                  }
                  isIdentity() {
                    return this.type === V.IDENTITY || this.equals(w.IDENTITY);
                  }
                  isFastIdentity() {
                    return this.type === V.IDENTITY;
                  }
                  isTranslation() {
                    return (
                      this.type === V.TRANSLATION_2D ||
                      (1 === this.m00() &&
                        1 === this.m11() &&
                        1 === this.m22() &&
                        0 === this.m01() &&
                        0 === this.m10() &&
                        0 === this.m20() &&
                        0 === this.m21())
                    );
                  }
                  isAffine() {
                    return (
                      this.type === V.AFFINE ||
                      (0 === this.m20() && 0 === this.m21() && 1 === this.m22())
                    );
                  }
                  isAligned() {
                    return (
                      this.isAffine() && 0 === this.m01() && 0 === this.m10()
                    );
                  }
                  isAxisAligned() {
                    return (
                      this.isAffine() &&
                      ((0 === this.m01() && 0 === this.m10()) ||
                        (0 === this.m00() && 0 === this.m11()))
                    );
                  }
                  isFinite() {
                    return (
                      isFinite(this.m00()) &&
                      isFinite(this.m01()) &&
                      isFinite(this.m02()) &&
                      isFinite(this.m10()) &&
                      isFinite(this.m11()) &&
                      isFinite(this.m12()) &&
                      isFinite(this.m20()) &&
                      isFinite(this.m21()) &&
                      isFinite(this.m22())
                    );
                  }
                  getDeterminant() {
                    return (
                      this.m00() * this.m11() * this.m22() +
                      this.m01() * this.m12() * this.m20() +
                      this.m02() * this.m10() * this.m21() -
                      this.m02() * this.m11() * this.m20() -
                      this.m01() * this.m10() * this.m22() -
                      this.m00() * this.m12() * this.m21()
                    );
                  }
                  get determinant() {
                    return this.getDeterminant();
                  }
                  getTranslation() {
                    return new f.Z(this.m02(), this.m12());
                  }
                  get translation() {
                    return this.getTranslation();
                  }
                  getScaleVector() {
                    return new f.Z(
                      Math.sqrt(
                        this.m00() * this.m00() + this.m10() * this.m10()
                      ),
                      Math.sqrt(
                        this.m01() * this.m01() + this.m11() * this.m11()
                      )
                    );
                  }
                  get scaleVector() {
                    return this.getScaleVector();
                  }
                  getRotation() {
                    return Math.atan2(this.m10(), this.m00());
                  }
                  get rotation() {
                    return this.getRotation();
                  }
                  toMatrix4() {
                    return new A(
                      this.m00(),
                      this.m01(),
                      this.m02(),
                      0,
                      this.m10(),
                      this.m11(),
                      this.m12(),
                      0,
                      this.m20(),
                      this.m21(),
                      this.m22(),
                      0,
                      0,
                      0,
                      0,
                      1
                    );
                  }
                  toAffineMatrix4() {
                    return new A(
                      this.m00(),
                      this.m01(),
                      0,
                      this.m02(),
                      this.m10(),
                      this.m11(),
                      0,
                      this.m12(),
                      0,
                      0,
                      1,
                      0,
                      0,
                      0,
                      0,
                      1
                    );
                  }
                  toString() {
                    return `${this.m00()} ${this.m01()} ${this.m02()}\n${this.m10()} ${this.m11()} ${this.m12()}\n${this.m20()} ${this.m21()} ${this.m22()}`;
                  }
                  toSVGMatrix() {
                    const e = document
                      .createElementNS("http://www.w3.org/2000/svg", "svg")
                      .createSVGMatrix();
                    return (
                      (e.a = this.m00()),
                      (e.b = this.m10()),
                      (e.c = this.m01()),
                      (e.d = this.m11()),
                      (e.e = this.m02()),
                      (e.f = this.m12()),
                      e
                    );
                  }
                  getCSSTransform() {
                    return `matrix(${this.entries[0].toFixed(
                      20
                    )},${this.entries[1].toFixed(20)},${this.entries[3].toFixed(
                      20
                    )},${this.entries[4].toFixed(20)},${this.entries[6].toFixed(
                      20
                    )},${this.entries[7].toFixed(20)})`;
                  }
                  get cssTransform() {
                    return this.getCSSTransform();
                  }
                  getSVGTransform() {
                    switch (this.type) {
                      case V.IDENTITY:
                        return "";
                      case V.TRANSLATION_2D:
                        return `translate(${(0, y.Z)(this.entries[6])},${(0,
                        y.Z)(this.entries[7])})`;
                      case V.SCALING:
                        return `scale(${(0, y.Z)(this.entries[0])}${
                          this.entries[0] === this.entries[4]
                            ? ""
                            : "," + (0, y.Z)(this.entries[4])
                        })`;
                      default:
                        return `matrix(${(0, y.Z)(this.entries[0])},${(0, y.Z)(
                          this.entries[1]
                        )},${(0, y.Z)(this.entries[3])},${(0, y.Z)(
                          this.entries[4]
                        )},${(0, y.Z)(this.entries[6])},${(0, y.Z)(
                          this.entries[7]
                        )})`;
                    }
                  }
                  get svgTransform() {
                    return this.getSVGTransform();
                  }
                  getCSSTransformStyles() {
                    const e = this.getCSSTransform();
                    return {
                      "-webkit-perspective": "1000",
                      "-webkit-backface-visibility": "hidden",
                      "-webkit-transform": e + " translateZ(0)",
                      "-moz-transform": e + " translateZ(0)",
                      "-ms-transform": e,
                      "-o-transform": e,
                      transform: e,
                      "transform-origin": "top left",
                      "-ms-transform-origin": "top left",
                    };
                  }
                  get cssTransformStyles() {
                    return this.getCSSTransformStyles();
                  }
                  equals(e) {
                    return (
                      this.m00() === e.m00() &&
                      this.m01() === e.m01() &&
                      this.m02() === e.m02() &&
                      this.m10() === e.m10() &&
                      this.m11() === e.m11() &&
                      this.m12() === e.m12() &&
                      this.m20() === e.m20() &&
                      this.m21() === e.m21() &&
                      this.m22() === e.m22()
                    );
                  }
                  equalsEpsilon(e, t) {
                    return (
                      Math.abs(this.m00() - e.m00()) < t &&
                      Math.abs(this.m01() - e.m01()) < t &&
                      Math.abs(this.m02() - e.m02()) < t &&
                      Math.abs(this.m10() - e.m10()) < t &&
                      Math.abs(this.m11() - e.m11()) < t &&
                      Math.abs(this.m12() - e.m12()) < t &&
                      Math.abs(this.m20() - e.m20()) < t &&
                      Math.abs(this.m21() - e.m21()) < t &&
                      Math.abs(this.m22() - e.m22()) < t
                    );
                  }
                  copy() {
                    return E(
                      this.m00(),
                      this.m01(),
                      this.m02(),
                      this.m10(),
                      this.m11(),
                      this.m12(),
                      this.m20(),
                      this.m21(),
                      this.m22(),
                      this.type
                    );
                  }
                  plus(e) {
                    return E(
                      this.m00() + e.m00(),
                      this.m01() + e.m01(),
                      this.m02() + e.m02(),
                      this.m10() + e.m10(),
                      this.m11() + e.m11(),
                      this.m12() + e.m12(),
                      this.m20() + e.m20(),
                      this.m21() + e.m21(),
                      this.m22() + e.m22()
                    );
                  }
                  minus(e) {
                    return E(
                      this.m00() - e.m00(),
                      this.m01() - e.m01(),
                      this.m02() - e.m02(),
                      this.m10() - e.m10(),
                      this.m11() - e.m11(),
                      this.m12() - e.m12(),
                      this.m20() - e.m20(),
                      this.m21() - e.m21(),
                      this.m22() - e.m22()
                    );
                  }
                  transposed() {
                    return E(
                      this.m00(),
                      this.m10(),
                      this.m20(),
                      this.m01(),
                      this.m11(),
                      this.m21(),
                      this.m02(),
                      this.m12(),
                      this.m22(),
                      this.type === V.IDENTITY || this.type === V.SCALING
                        ? this.type
                        : void 0
                    );
                  }
                  negated() {
                    return E(
                      -this.m00(),
                      -this.m01(),
                      -this.m02(),
                      -this.m10(),
                      -this.m11(),
                      -this.m12(),
                      -this.m20(),
                      -this.m21(),
                      -this.m22()
                    );
                  }
                  inverted() {
                    let e;
                    switch (this.type) {
                      case V.IDENTITY:
                        return this;
                      case V.TRANSLATION_2D:
                        return E(
                          1,
                          0,
                          -this.m02(),
                          0,
                          1,
                          -this.m12(),
                          0,
                          0,
                          1,
                          V.TRANSLATION_2D
                        );
                      case V.SCALING:
                        return E(
                          1 / this.m00(),
                          0,
                          0,
                          0,
                          1 / this.m11(),
                          0,
                          0,
                          0,
                          1 / this.m22(),
                          V.SCALING
                        );
                      case V.AFFINE:
                        if (((e = this.getDeterminant()), 0 !== e))
                          return E(
                            (-this.m12() * this.m21() +
                              this.m11() * this.m22()) /
                              e,
                            (this.m02() * this.m21() -
                              this.m01() * this.m22()) /
                              e,
                            (-this.m02() * this.m11() +
                              this.m01() * this.m12()) /
                              e,
                            (this.m12() * this.m20() -
                              this.m10() * this.m22()) /
                              e,
                            (-this.m02() * this.m20() +
                              this.m00() * this.m22()) /
                              e,
                            (this.m02() * this.m10() -
                              this.m00() * this.m12()) /
                              e,
                            0,
                            0,
                            1,
                            V.AFFINE
                          );
                        throw new Error(
                          "Matrix could not be inverted, determinant === 0"
                        );
                      case V.OTHER:
                        if (((e = this.getDeterminant()), 0 !== e))
                          return E(
                            (-this.m12() * this.m21() +
                              this.m11() * this.m22()) /
                              e,
                            (this.m02() * this.m21() -
                              this.m01() * this.m22()) /
                              e,
                            (-this.m02() * this.m11() +
                              this.m01() * this.m12()) /
                              e,
                            (this.m12() * this.m20() -
                              this.m10() * this.m22()) /
                              e,
                            (-this.m02() * this.m20() +
                              this.m00() * this.m22()) /
                              e,
                            (this.m02() * this.m10() -
                              this.m00() * this.m12()) /
                              e,
                            (-this.m11() * this.m20() +
                              this.m10() * this.m21()) /
                              e,
                            (this.m01() * this.m20() -
                              this.m00() * this.m21()) /
                              e,
                            (-this.m01() * this.m10() +
                              this.m00() * this.m11()) /
                              e,
                            V.OTHER
                          );
                        throw new Error(
                          "Matrix could not be inverted, determinant === 0"
                        );
                      default:
                        throw new Error(
                          "Matrix3.inverted with unknown type: " + this.type
                        );
                    }
                  }
                  timesMatrix(e) {
                    if (this.type === V.IDENTITY || e.type === V.IDENTITY)
                      return this.type === V.IDENTITY ? e : this;
                    if (this.type === e.type) {
                      if (this.type === V.TRANSLATION_2D)
                        return E(
                          1,
                          0,
                          this.m02() + e.m02(),
                          0,
                          1,
                          this.m12() + e.m12(),
                          0,
                          0,
                          1,
                          V.TRANSLATION_2D
                        );
                      if (this.type === V.SCALING)
                        return E(
                          this.m00() * e.m00(),
                          0,
                          0,
                          0,
                          this.m11() * e.m11(),
                          0,
                          0,
                          0,
                          1,
                          V.SCALING
                        );
                    }
                    return this.type !== V.OTHER && e.type !== V.OTHER
                      ? E(
                          this.m00() * e.m00() + this.m01() * e.m10(),
                          this.m00() * e.m01() + this.m01() * e.m11(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02(),
                          this.m10() * e.m00() + this.m11() * e.m10(),
                          this.m10() * e.m01() + this.m11() * e.m11(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12(),
                          0,
                          0,
                          1,
                          V.AFFINE
                        )
                      : E(
                          this.m00() * e.m00() +
                            this.m01() * e.m10() +
                            this.m02() * e.m20(),
                          this.m00() * e.m01() +
                            this.m01() * e.m11() +
                            this.m02() * e.m21(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02() * e.m22(),
                          this.m10() * e.m00() +
                            this.m11() * e.m10() +
                            this.m12() * e.m20(),
                          this.m10() * e.m01() +
                            this.m11() * e.m11() +
                            this.m12() * e.m21(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12() * e.m22(),
                          this.m20() * e.m00() +
                            this.m21() * e.m10() +
                            this.m22() * e.m20(),
                          this.m20() * e.m01() +
                            this.m21() * e.m11() +
                            this.m22() * e.m21(),
                          this.m20() * e.m02() +
                            this.m21() * e.m12() +
                            this.m22() * e.m22()
                        );
                  }
                  timesVector2(e) {
                    const t = this.m00() * e.x + this.m01() * e.y + this.m02(),
                      i = this.m10() * e.x + this.m11() * e.y + this.m12();
                    return new f.Z(t, i);
                  }
                  timesVector3(e) {
                    const t =
                        this.m00() * e.x + this.m01() * e.y + this.m02() * e.z,
                      i =
                        this.m10() * e.x + this.m11() * e.y + this.m12() * e.z,
                      s =
                        this.m20() * e.x + this.m21() * e.y + this.m22() * e.z;
                    return new c.Z(t, i, s);
                  }
                  timesTransposeVector2(e) {
                    const t = this.m00() * e.x + this.m10() * e.y,
                      i = this.m01() * e.x + this.m11() * e.y;
                    return new f.Z(t, i);
                  }
                  timesRelativeVector2(e) {
                    const t = this.m00() * e.x + this.m01() * e.y,
                      i = this.m10() * e.y + this.m11() * e.y;
                    return new f.Z(t, i);
                  }
                  rowMajor(e, t, i, s, n, r, o, a, h, l) {
                    return (
                      (this.entries[0] = e),
                      (this.entries[1] = s),
                      (this.entries[2] = o),
                      (this.entries[3] = t),
                      (this.entries[4] = n),
                      (this.entries[5] = a),
                      (this.entries[6] = i),
                      (this.entries[7] = r),
                      (this.entries[8] = h),
                      (this.type =
                        void 0 === l
                          ? 0 === o && 0 === a && 1 === h
                            ? V.AFFINE
                            : V.OTHER
                          : l),
                      this
                    );
                  }
                  set(e) {
                    return this.rowMajor(
                      e.m00(),
                      e.m01(),
                      e.m02(),
                      e.m10(),
                      e.m11(),
                      e.m12(),
                      e.m20(),
                      e.m21(),
                      e.m22(),
                      e.type
                    );
                  }
                  setArray(e) {
                    return this.rowMajor(
                      e[0],
                      e[3],
                      e[6],
                      e[1],
                      e[4],
                      e[7],
                      e[2],
                      e[5],
                      e[8]
                    );
                  }
                  set00(e) {
                    return (this.entries[0] = e), this;
                  }
                  set01(e) {
                    return (this.entries[3] = e), this;
                  }
                  set02(e) {
                    return (this.entries[6] = e), this;
                  }
                  set10(e) {
                    return (this.entries[1] = e), this;
                  }
                  set11(e) {
                    return (this.entries[4] = e), this;
                  }
                  set12(e) {
                    return (this.entries[7] = e), this;
                  }
                  set20(e) {
                    return (this.entries[2] = e), this;
                  }
                  set21(e) {
                    return (this.entries[5] = e), this;
                  }
                  set22(e) {
                    return (this.entries[8] = e), this;
                  }
                  makeImmutable() {
                    return this;
                  }
                  columnMajor(e, t, i, s, n, r, o, a, h, l) {
                    return this.rowMajor(e, s, o, t, n, a, i, r, h, l);
                  }
                  add(e) {
                    return this.rowMajor(
                      this.m00() + e.m00(),
                      this.m01() + e.m01(),
                      this.m02() + e.m02(),
                      this.m10() + e.m10(),
                      this.m11() + e.m11(),
                      this.m12() + e.m12(),
                      this.m20() + e.m20(),
                      this.m21() + e.m21(),
                      this.m22() + e.m22()
                    );
                  }
                  subtract(e) {
                    return this.rowMajor(
                      this.m00() - e.m00(),
                      this.m01() - e.m01(),
                      this.m02() - e.m02(),
                      this.m10() - e.m10(),
                      this.m11() - e.m11(),
                      this.m12() - e.m12(),
                      this.m20() - e.m20(),
                      this.m21() - e.m21(),
                      this.m22() - e.m22()
                    );
                  }
                  transpose() {
                    return this.rowMajor(
                      this.m00(),
                      this.m10(),
                      this.m20(),
                      this.m01(),
                      this.m11(),
                      this.m21(),
                      this.m02(),
                      this.m12(),
                      this.m22(),
                      this.type === V.IDENTITY || this.type === V.SCALING
                        ? this.type
                        : void 0
                    );
                  }
                  negate() {
                    return this.rowMajor(
                      -this.m00(),
                      -this.m01(),
                      -this.m02(),
                      -this.m10(),
                      -this.m11(),
                      -this.m12(),
                      -this.m20(),
                      -this.m21(),
                      -this.m22()
                    );
                  }
                  invert() {
                    let e;
                    switch (this.type) {
                      case V.IDENTITY:
                        return this;
                      case V.TRANSLATION_2D:
                        return this.rowMajor(
                          1,
                          0,
                          -this.m02(),
                          0,
                          1,
                          -this.m12(),
                          0,
                          0,
                          1,
                          V.TRANSLATION_2D
                        );
                      case V.SCALING:
                        return this.rowMajor(
                          1 / this.m00(),
                          0,
                          0,
                          0,
                          1 / this.m11(),
                          0,
                          0,
                          0,
                          1 / this.m22(),
                          V.SCALING
                        );
                      case V.AFFINE:
                        if (((e = this.getDeterminant()), 0 !== e))
                          return this.rowMajor(
                            (-this.m12() * this.m21() +
                              this.m11() * this.m22()) /
                              e,
                            (this.m02() * this.m21() -
                              this.m01() * this.m22()) /
                              e,
                            (-this.m02() * this.m11() +
                              this.m01() * this.m12()) /
                              e,
                            (this.m12() * this.m20() -
                              this.m10() * this.m22()) /
                              e,
                            (-this.m02() * this.m20() +
                              this.m00() * this.m22()) /
                              e,
                            (this.m02() * this.m10() -
                              this.m00() * this.m12()) /
                              e,
                            0,
                            0,
                            1,
                            V.AFFINE
                          );
                        throw new Error(
                          "Matrix could not be inverted, determinant === 0"
                        );
                      case V.OTHER:
                        if (((e = this.getDeterminant()), 0 !== e))
                          return this.rowMajor(
                            (-this.m12() * this.m21() +
                              this.m11() * this.m22()) /
                              e,
                            (this.m02() * this.m21() -
                              this.m01() * this.m22()) /
                              e,
                            (-this.m02() * this.m11() +
                              this.m01() * this.m12()) /
                              e,
                            (this.m12() * this.m20() -
                              this.m10() * this.m22()) /
                              e,
                            (-this.m02() * this.m20() +
                              this.m00() * this.m22()) /
                              e,
                            (this.m02() * this.m10() -
                              this.m00() * this.m12()) /
                              e,
                            (-this.m11() * this.m20() +
                              this.m10() * this.m21()) /
                              e,
                            (this.m01() * this.m20() -
                              this.m00() * this.m21()) /
                              e,
                            (-this.m01() * this.m10() +
                              this.m00() * this.m11()) /
                              e,
                            V.OTHER
                          );
                        throw new Error(
                          "Matrix could not be inverted, determinant === 0"
                        );
                      default:
                        throw new Error(
                          "Matrix3.inverted with unknown type: " + this.type
                        );
                    }
                  }
                  multiplyMatrix(e) {
                    if (e.type === V.IDENTITY) return this;
                    if (this.type === V.IDENTITY) return this.set(e);
                    if (this.type === e.type) {
                      if (this.type === V.TRANSLATION_2D)
                        return this.rowMajor(
                          1,
                          0,
                          this.m02() + e.m02(),
                          0,
                          1,
                          this.m12() + e.m12(),
                          0,
                          0,
                          1,
                          V.TRANSLATION_2D
                        );
                      if (this.type === V.SCALING)
                        return this.rowMajor(
                          this.m00() * e.m00(),
                          0,
                          0,
                          0,
                          this.m11() * e.m11(),
                          0,
                          0,
                          0,
                          1,
                          V.SCALING
                        );
                    }
                    return this.type !== V.OTHER && e.type !== V.OTHER
                      ? this.rowMajor(
                          this.m00() * e.m00() + this.m01() * e.m10(),
                          this.m00() * e.m01() + this.m01() * e.m11(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02(),
                          this.m10() * e.m00() + this.m11() * e.m10(),
                          this.m10() * e.m01() + this.m11() * e.m11(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12(),
                          0,
                          0,
                          1,
                          V.AFFINE
                        )
                      : this.rowMajor(
                          this.m00() * e.m00() +
                            this.m01() * e.m10() +
                            this.m02() * e.m20(),
                          this.m00() * e.m01() +
                            this.m01() * e.m11() +
                            this.m02() * e.m21(),
                          this.m00() * e.m02() +
                            this.m01() * e.m12() +
                            this.m02() * e.m22(),
                          this.m10() * e.m00() +
                            this.m11() * e.m10() +
                            this.m12() * e.m20(),
                          this.m10() * e.m01() +
                            this.m11() * e.m11() +
                            this.m12() * e.m21(),
                          this.m10() * e.m02() +
                            this.m11() * e.m12() +
                            this.m12() * e.m22(),
                          this.m20() * e.m00() +
                            this.m21() * e.m10() +
                            this.m22() * e.m20(),
                          this.m20() * e.m01() +
                            this.m21() * e.m11() +
                            this.m22() * e.m21(),
                          this.m20() * e.m02() +
                            this.m21() * e.m12() +
                            this.m22() * e.m22()
                        );
                  }
                  prependTranslation(e, t) {
                    return (
                      this.set02(this.m02() + e),
                      this.set12(this.m12() + t),
                      this.type === V.IDENTITY || this.type === V.TRANSLATION_2D
                        ? (this.type = V.TRANSLATION_2D)
                        : this.type === V.OTHER
                        ? (this.type = V.OTHER)
                        : (this.type = V.AFFINE),
                      this
                    );
                  }
                  setToIdentity() {
                    return this.rowMajor(1, 0, 0, 0, 1, 0, 0, 0, 1, V.IDENTITY);
                  }
                  setToTranslation(e, t) {
                    return this.rowMajor(
                      1,
                      0,
                      e,
                      0,
                      1,
                      t,
                      0,
                      0,
                      1,
                      V.TRANSLATION_2D
                    );
                  }
                  setToScale(e, t) {
                    return (
                      (t = void 0 === t ? e : t),
                      this.rowMajor(e, 0, 0, 0, t, 0, 0, 0, 1, V.SCALING)
                    );
                  }
                  setToAffine(e, t, i, s, n, r) {
                    return this.rowMajor(e, t, i, s, n, r, 0, 0, 1, V.AFFINE);
                  }
                  setToRotationAxisAngle(e, t) {
                    let i = Math.cos(t),
                      s = Math.sin(t);
                    Math.abs(i) < 1e-15 && (i = 0),
                      Math.abs(s) < 1e-15 && (s = 0);
                    const n = 1 - i;
                    return this.rowMajor(
                      e.x * e.x * n + i,
                      e.x * e.y * n - e.z * s,
                      e.x * e.z * n + e.y * s,
                      e.y * e.x * n + e.z * s,
                      e.y * e.y * n + i,
                      e.y * e.z * n - e.x * s,
                      e.z * e.x * n - e.y * s,
                      e.z * e.y * n + e.x * s,
                      e.z * e.z * n + i,
                      V.OTHER
                    );
                  }
                  setToRotationX(e) {
                    let t = Math.cos(e),
                      i = Math.sin(e);
                    return (
                      Math.abs(t) < 1e-15 && (t = 0),
                      Math.abs(i) < 1e-15 && (i = 0),
                      this.rowMajor(1, 0, 0, 0, t, -i, 0, i, t, V.OTHER)
                    );
                  }
                  setToRotationY(e) {
                    let t = Math.cos(e),
                      i = Math.sin(e);
                    return (
                      Math.abs(t) < 1e-15 && (t = 0),
                      Math.abs(i) < 1e-15 && (i = 0),
                      this.rowMajor(t, 0, i, 0, 1, 0, -i, 0, t, V.OTHER)
                    );
                  }
                  setToRotationZ(e) {
                    let t = Math.cos(e),
                      i = Math.sin(e);
                    return (
                      Math.abs(t) < 1e-15 && (t = 0),
                      Math.abs(i) < 1e-15 && (i = 0),
                      this.rowMajor(t, -i, 0, i, t, 0, 0, 0, 1, V.AFFINE)
                    );
                  }
                  setToTranslationRotation(e, t, i) {
                    let s = Math.cos(i),
                      n = Math.sin(i);
                    return (
                      Math.abs(s) < 1e-15 && (s = 0),
                      Math.abs(n) < 1e-15 && (n = 0),
                      this.rowMajor(s, -n, e, n, s, t, 0, 0, 1, V.AFFINE)
                    );
                  }
                  setToTranslationRotationPoint(e, t) {
                    return this.setToTranslationRotation(e.x, e.y, t);
                  }
                  setToSVGMatrix(e) {
                    return this.rowMajor(
                      e.a,
                      e.c,
                      e.e,
                      e.b,
                      e.d,
                      e.f,
                      0,
                      0,
                      1,
                      V.AFFINE
                    );
                  }
                  setRotationAToB(e, t) {
                    const i = e,
                      s = t;
                    let n = i.cross(s);
                    const r = i.dot(s);
                    if ((r < 0 ? -r : r) > 0.9999) {
                      let e = new c.Z(
                        i.x > 0 ? i.x : -i.x,
                        i.y > 0 ? i.y : -i.y,
                        i.z > 0 ? i.z : -i.z
                      );
                      e =
                        e.x < e.y
                          ? e.x < e.z
                            ? c.Z.X_UNIT
                            : c.Z.Z_UNIT
                          : e.y < e.z
                          ? c.Z.Y_UNIT
                          : c.Z.Z_UNIT;
                      const t = e.minus(i);
                      n = e.minus(s);
                      const r = 2 / t.dot(t),
                        o = 2 / n.dot(n),
                        a = r * o * t.dot(n);
                      return this.rowMajor(
                        -r * t.x * t.x - o * n.x * n.x + a * n.x * t.x + 1,
                        -r * t.x * t.y - o * n.x * n.y + a * n.x * t.y,
                        -r * t.x * t.z - o * n.x * n.z + a * n.x * t.z,
                        -r * t.y * t.x - o * n.y * n.x + a * n.y * t.x,
                        -r * t.y * t.y - o * n.y * n.y + a * n.y * t.y + 1,
                        -r * t.y * t.z - o * n.y * n.z + a * n.y * t.z,
                        -r * t.z * t.x - o * n.z * n.x + a * n.z * t.x,
                        -r * t.z * t.y - o * n.z * n.y + a * n.z * t.y,
                        -r * t.z * t.z - o * n.z * n.z + a * n.z * t.z + 1
                      );
                    }
                    {
                      const e = 1 / (1 + r),
                        t = e * n.x,
                        i = e * n.z,
                        s = t * n.y,
                        o = t * n.z,
                        a = i * n.y;
                      return this.rowMajor(
                        r + t * n.x,
                        s - n.z,
                        o + n.y,
                        s + n.z,
                        r + e * n.y * n.y,
                        a - n.x,
                        o - n.y,
                        a + n.x,
                        r + i * n.z
                      );
                    }
                  }
                  multiplyVector2(e) {
                    return e.setXY(
                      this.m00() * e.x + this.m01() * e.y + this.m02(),
                      this.m10() * e.x + this.m11() * e.y + this.m12()
                    );
                  }
                  multiplyVector3(e) {
                    return e.setXYZ(
                      this.m00() * e.x + this.m01() * e.y + this.m02() * e.z,
                      this.m10() * e.x + this.m11() * e.y + this.m12() * e.z,
                      this.m20() * e.x + this.m21() * e.y + this.m22() * e.z
                    );
                  }
                  multiplyTransposeVector2(e) {
                    return e.setXY(
                      this.m00() * e.x + this.m10() * e.y,
                      this.m01() * e.x + this.m11() * e.y
                    );
                  }
                  multiplyRelativeVector2(e) {
                    return e.setXY(
                      this.m00() * e.x + this.m01() * e.y,
                      this.m10() * e.y + this.m11() * e.y
                    );
                  }
                  canvasSetTransform(e) {
                    e.setTransform(
                      this.entries[0],
                      this.entries[1],
                      this.entries[3],
                      this.entries[4],
                      this.entries[6],
                      this.entries[7]
                    );
                  }
                  canvasAppendTransform(e) {
                    this.type !== V.IDENTITY &&
                      e.transform(
                        this.entries[0],
                        this.entries[1],
                        this.entries[3],
                        this.entries[4],
                        this.entries[6],
                        this.entries[7]
                      );
                  }
                  copyToArray(e) {
                    return (
                      (e[0] = this.m00()),
                      (e[1] = this.m10()),
                      (e[2] = this.m20()),
                      (e[3] = this.m01()),
                      (e[4] = this.m11()),
                      (e[5] = this.m21()),
                      (e[6] = this.m02()),
                      (e[7] = this.m12()),
                      (e[8] = this.m22()),
                      e
                    );
                  }
                  freeToPool() {
                    w.pool.freeToPool(this);
                  }
                  static identity() {
                    return S().setToIdentity();
                  }
                  static translation(e, t) {
                    return S().setToTranslation(e, t);
                  }
                  static translationFromVector(e) {
                    return w.translation(e.x, e.y);
                  }
                  static scaling(e, t) {
                    return S().setToScale(e, t);
                  }
                  static scale(e, t) {
                    return w.scaling(e, t);
                  }
                  static affine(e, t, i, s, n, r) {
                    return S().setToAffine(e, t, i, s, n, r);
                  }
                  static rowMajor(e, t, i, s, n, r, o, a, h, l) {
                    return S().rowMajor(e, t, i, s, n, r, o, a, h, l);
                  }
                  static rotationAxisAngle(e, t) {
                    return S().setToRotationAxisAngle(e, t);
                  }
                  static rotationX(e) {
                    return S().setToRotationX(e);
                  }
                  static rotationY(e) {
                    return S().setToRotationY(e);
                  }
                  static rotationZ(e) {
                    return S().setToRotationZ(e);
                  }
                  static translationRotation(e, t, i) {
                    return S().setToTranslationRotation(e, t, i);
                  }
                  static rotation2(e) {
                    return S().setToRotationZ(e);
                  }
                  static rotationAround(e, t, i) {
                    return w
                      .translation(t, i)
                      .timesMatrix(w.rotation2(e))
                      .timesMatrix(w.translation(-t, -i));
                  }
                  static rotationAroundPoint(e, t) {
                    return w.rotationAround(e, t.x, t.y);
                  }
                  static fromSVGMatrix(e) {
                    return S().setToSVGMatrix(e);
                  }
                  static rotateAToB(e, t) {
                    return S().setRotationAToB(e, t);
                  }
                  static translationTimesMatrix(e, t, i) {
                    let s;
                    return i.type === V.IDENTITY || i.type === V.TRANSLATION_2D
                      ? E(
                          1,
                          0,
                          i.m02() + e,
                          0,
                          1,
                          i.m12() + t,
                          0,
                          0,
                          1,
                          V.TRANSLATION_2D
                        )
                      : ((s = i.type === V.OTHER ? V.OTHER : V.AFFINE),
                        E(
                          i.m00(),
                          i.m01(),
                          i.m02() + e,
                          i.m10(),
                          i.m11(),
                          i.m12() + t,
                          i.m20(),
                          i.m21(),
                          i.m22(),
                          s
                        ));
                  }
                  static toStateObject(e) {
                    return { entries: e.entries, type: e.type.name };
                  }
                  static fromStateObject(e) {
                    const t = w.identity();
                    return (
                      (t.entries = e.entries),
                      (t.type = V.enumeration.getValue(e.type)),
                      t
                    );
                  }
                }
                (n = w),
                  _defineProperty(
                    w,
                    "pool",
                    new v.Z(n, {
                      initialize: n.prototype.rowMajor,
                      useDefaultConstruction: !0,
                      maxSize: 300,
                    })
                  ),
                  l.Z.register("Matrix3", w);
                const E = w.pool.create.bind(w.pool);
                l.Z.register("m3", E);
                const S = w.pool.fetch.bind(w.pool);
                (w.IDENTITY = w.identity().makeImmutable()),
                  (w.X_REFLECTION = E(
                    -1,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    1,
                    V.AFFINE
                  ).makeImmutable()),
                  (w.Y_REFLECTION = E(
                    1,
                    0,
                    0,
                    0,
                    -1,
                    0,
                    0,
                    0,
                    1,
                    V.AFFINE
                  ).makeImmutable()),
                  (w.Matrix3IO = new a.Z("Matrix3IO", {
                    valueType: w,
                    documentation:
                      "A 3x3 matrix often used for holding transform data.",
                    toStateObject: (e) => w.toStateObject(e),
                    fromStateObject: w.fromStateObject,
                    stateSchema: { entries: (0, o.Z)(h.Z), type: (0, r.Z)(V) },
                  }));
              },
              2238: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(7464),
                  n = i(8964);
                class r {
                  constructor(e) {
                    this.indices = e;
                  }
                  size() {
                    return this.indices.length;
                  }
                  apply(e) {
                    if ("number" == typeof e) return this.indices[e];
                    {
                      if (e.length !== this.size())
                        throw new Error(
                          `Permutation length ${this.size()} not equal to list length ${
                            e.length
                          }`
                        );
                      const t = new Array(e.length);
                      for (let i = 0; i < e.length; i++)
                        t[i] = e[this.indices[i]];
                      return t;
                    }
                  }
                  inverted() {
                    const e = new Array(this.size());
                    for (let t = 0; t < this.size(); t++)
                      e[this.indices[t]] = t;
                    return new r(e);
                  }
                  withIndicesPermuted(e) {
                    const t = [];
                    return (
                      r.forEachPermutation(e, (i) => {
                        const s = this.indices,
                          n = s.slice(0);
                        for (let t = 0; t < e.length; t++) n[e[t]] = s[i[t]];
                        t.push(new r(n));
                      }),
                      t
                    );
                  }
                  toString() {
                    return `P[${this.indices.join(", ")}]`;
                  }
                  equals(e) {
                    return (
                      this.indices.length === e.indices.length &&
                      _.isEqual(this.indices, e.indices)
                    );
                  }
                  static identity(e) {
                    const t = new Array(e);
                    for (let i = 0; i < e; i++) t[i] = i;
                    return new r(t);
                  }
                  static permutations(e) {
                    const t = [];
                    return (
                      r.forEachPermutation(
                        n.Z.rangeInclusive(0, e - 1),
                        (e) => {
                          t.push(new r(e.slice()));
                        }
                      ),
                      t
                    );
                  }
                  static forEachPermutation(e, t) {
                    !(function e(t, i, s) {
                      if (0 === t.length) s(i);
                      else
                        for (let n = 0; n < t.length; n++) {
                          const r = t[n],
                            o = t.slice(0);
                          o.splice(n, 1);
                          const a = i.slice(0);
                          a.push(r), e(o, a, s);
                        }
                    })(e, [], t);
                  }
                  static permutationsOf(e) {
                    const t = [];
                    return (
                      r.forEachPermutation(e, (e) => {
                        t.push(e.slice());
                      }),
                      t
                    );
                  }
                }
                s.Z.register("Permutation", r);
                const o = r;
              },
              7023: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a });
                var s = i(831),
                  n = i(7464),
                  r = (i(5428), i(8964));
                class o {
                  constructor(e) {
                    (e = (0, s.Z)({ seed: null }, e)),
                      (this.seed = null),
                      (this.seedrandom = null),
                      this.setSeed(e.seed),
                      (this.numberOfCalls = 0),
                      o.allRandomInstances.add(this);
                  }
                  dispose() {
                    o.allRandomInstances.delete(this);
                  }
                  getSeed() {
                    return this.seed;
                  }
                  nextBoolean() {
                    return this.nextDouble() >= 0.5;
                  }
                  nextInt(e) {
                    const t = this.nextDouble() * e;
                    return Math.floor(t);
                  }
                  nextIntBetween(e, t) {
                    const i = t - e;
                    return this.nextInt(i + 1) + e;
                  }
                  sample(e) {
                    return e[this.nextIntBetween(0, e.length - 1)];
                  }
                  shuffle(e) {
                    let t = -1;
                    const i = new Array(e.length);
                    return (
                      _.forEach(e, (e) => {
                        const s = this.nextIntBetween(0, ++t);
                        (i[t] = i[s]), (i[s] = e);
                      }),
                      i
                    );
                  }
                  nextDouble() {
                    return this.numberOfCalls++, this.seedrandom();
                  }
                  nextDoubleBetween(e, t) {
                    const i = e + this.nextDouble() * (t - e);
                    return i;
                  }
                  nextGaussian() {
                    return r.Z.boxMullerTransform(0, 1, this);
                  }
                  nextDoubleInRange(e) {
                    return e.min < e.max
                      ? this.nextDoubleBetween(e.min, e.max)
                      : e.min;
                  }
                  setSeed(e) {
                    "number" == typeof e || (e = Math.random()),
                      (this.seed = e),
                      (this.seedrandom = Math.seedrandom
                        ? new Math.seedrandom("" + e)
                        : () => Math.random());
                  }
                  sampleProbabilities(e) {
                    const t = _.sum(e) * this.nextDouble();
                    let i = 0;
                    for (let s = 0; s < e.length; s++)
                      if (((i += e[s]), i >= t)) return s;
                    return e.length - 1;
                  }
                }
                (o.allRandomInstances = new Set()),
                  (o.isNormalized = (e) => {}),
                  n.Z.register("Random", o);
                const a = o;
              },
              5428: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => h });
                var n = i(6846),
                  r = i(4792),
                  o = i(7464);
                class a {
                  constructor(e, t) {
                    (this._min = e), (this._max = t);
                  }
                  getMin() {
                    return this._min;
                  }
                  get min() {
                    return this.getMin();
                  }
                  set min(e) {
                    this.setMin(e);
                  }
                  setMin(e) {
                    this._min = e;
                  }
                  getMax() {
                    return this._max;
                  }
                  get max() {
                    return this.getMax();
                  }
                  set max(e) {
                    this.setMax(e);
                  }
                  setMax(e) {
                    this._max = e;
                  }
                  setMinMax(e, t) {
                    return (this._min = e), (this._max = t), this;
                  }
                  copy() {
                    return new a(this._min, this._max);
                  }
                  getLength() {
                    return this._max - this._min;
                  }
                  getCenter() {
                    return (this._max + this._min) / 2;
                  }
                  contains(e) {
                    return e >= this._min && e <= this._max;
                  }
                  containsRange(e) {
                    return this._min <= e.min && this._max >= e.max;
                  }
                  intersects(e) {
                    return this._max >= e.min && e.max >= this._min;
                  }
                  intersectsExclusive(e) {
                    return this._max > e.min && e.max > this._min;
                  }
                  union(e) {
                    return new a(
                      Math.min(this.min, e.min),
                      Math.max(this.max, e.max)
                    );
                  }
                  intersection(e) {
                    return new a(
                      Math.max(this.min, e.min),
                      Math.min(this.max, e.max)
                    );
                  }
                  includeRange(e) {
                    return this.setMinMax(
                      Math.min(this.min, e.min),
                      Math.max(this.max, e.max)
                    );
                  }
                  constrainRange(e) {
                    return this.setMinMax(
                      Math.max(this.min, e.min),
                      Math.min(this.max, e.max)
                    );
                  }
                  shifted(e) {
                    return new a(this.min + e, this.max + e);
                  }
                  toString() {
                    return `[Range (min:${this._min} max:${this._max})]`;
                  }
                  constrainValue(e) {
                    return Math.min(Math.max(e, this._min), this._max);
                  }
                  equals(e) {
                    return (
                      this.constructor === e.constructor &&
                      this._min === e.min &&
                      this._max === e.max
                    );
                  }
                  getNormalizedValue(e) {
                    return (e - this.min) / this.getLength();
                  }
                  expandNormalizedValue(e) {
                    return e * this.getLength() + this.min;
                  }
                  get defaultValue() {
                    throw new Error(
                      "defaultValue is undefined, did you mean to use RangeWithValue?"
                    );
                  }
                }
                (s = a),
                  _defineProperty(
                    a,
                    "RangeIO",
                    new n.Z("RangeIO", {
                      valueType: s,
                      documentation: 'A range with "min" and a "max" members.',
                      toStateObject: (e) => ({
                        min: r.Z.toStateObject(e.min),
                        max: r.Z.toStateObject(e.max),
                      }),
                      fromStateObject: (e) =>
                        new s(
                          r.Z.fromStateObject(e.min),
                          r.Z.fromStateObject(e.max)
                        ),
                      stateSchema: { min: r.Z, max: r.Z },
                    })
                  ),
                  _defineProperty(
                    a,
                    "EVERYTHING",
                    new s(Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY)
                  ),
                  _defineProperty(
                    a,
                    "NOTHING",
                    new s(Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY)
                  ),
                  o.Z.register("Range", a);
                const h = a;
              },
              7840: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                var s = i(7464);
                class n {
                  constructor(e, t) {
                    (this.position = e), (this.direction = t);
                  }
                  shifted(e) {
                    return new n(this.pointAtDistance(e), this.direction);
                  }
                  pointAtDistance(e) {
                    return this.position.plus(this.direction.timesScalar(e));
                  }
                  toString() {
                    return `${this.position.toString()} => ${this.direction.toString()}`;
                  }
                }
                s.Z.register("Ray2", n);
              },
              7320: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => d });
                var s = i(1685),
                  n = i(7464),
                  r = i(9972),
                  o = i(7840),
                  a = i(668);
                const h = new r.Z();
                class l {
                  constructor(e) {
                    (this.matrix = r.Z.IDENTITY.copy()),
                      (this.inverse = r.Z.IDENTITY.copy()),
                      (this.matrixTransposed = r.Z.IDENTITY.copy()),
                      (this.inverseTransposed = r.Z.IDENTITY.copy()),
                      (this.inverseValid = !0),
                      (this.transposeValid = !0),
                      (this.inverseTransposeValid = !0),
                      (this.changeEmitter = new s.Z()),
                      e && this.setMatrix(e);
                  }
                  setMatrix(e) {
                    this.matrix.set(e), this.invalidate();
                  }
                  validateMatrix(e) {}
                  invalidate() {
                    (this.inverseValid = !1),
                      (this.transposeValid = !1),
                      (this.inverseTransposeValid = !1),
                      this.changeEmitter.emit();
                  }
                  prepend(e) {
                    h.set(this.matrix),
                      this.matrix.set(e),
                      this.matrix.multiplyMatrix(h),
                      this.invalidate();
                  }
                  prependTranslation(e, t) {
                    this.matrix.prependTranslation(e, t), this.invalidate();
                  }
                  append(e) {
                    this.matrix.multiplyMatrix(e), this.invalidate();
                  }
                  prependTransform(e) {
                    this.prepend(e.matrix);
                  }
                  appendTransform(e) {
                    this.append(e.matrix);
                  }
                  applyToCanvasContext(e) {
                    e.setTransform(
                      this.matrix.m00(),
                      this.matrix.m10(),
                      this.matrix.m01(),
                      this.matrix.m11(),
                      this.matrix.m02(),
                      this.matrix.m12()
                    );
                  }
                  copy() {
                    const e = new l(this.matrix);
                    (e.inverse = this.inverse),
                      (e.matrixTransposed = this.matrixTransposed),
                      (e.inverseTransposed = this.inverseTransposed),
                      (e.inverseValid = this.inverseValid),
                      (e.transposeValid = this.transposeValid),
                      (e.inverseTransposeValid = this.inverseTransposeValid);
                  }
                  getMatrix() {
                    return this.matrix;
                  }
                  getInverse() {
                    return (
                      this.inverseValid ||
                        ((this.inverseValid = !0),
                        this.inverse.set(this.matrix),
                        this.inverse.invert()),
                      this.inverse
                    );
                  }
                  getMatrixTransposed() {
                    return (
                      this.transposeValid ||
                        ((this.transposeValid = !0),
                        this.matrixTransposed.set(this.matrix),
                        this.matrixTransposed.transpose()),
                      this.matrixTransposed
                    );
                  }
                  getInverseTransposed() {
                    return (
                      this.inverseTransposeValid ||
                        ((this.inverseTransposeValid = !0),
                        this.inverseTransposed.set(this.getInverse()),
                        this.inverseTransposed.transpose()),
                      this.inverseTransposed
                    );
                  }
                  isIdentity() {
                    return this.matrix.isFastIdentity();
                  }
                  isFinite() {
                    return this.matrix.isFinite();
                  }
                  transformPosition2(e) {
                    return this.matrix.timesVector2(e);
                  }
                  transformDelta2(e) {
                    const t = this.getMatrix();
                    return new a.Z(
                      t.m00() * e.x + t.m01() * e.y,
                      t.m10() * e.x + t.m11() * e.y
                    );
                  }
                  transformNormal2(e) {
                    return this.getInverse()
                      .timesTransposeVector2(e)
                      .normalize();
                  }
                  transformX(e) {
                    const t = this.getMatrix();
                    return t.m00() * e + t.m02();
                  }
                  transformY(e) {
                    const t = this.getMatrix();
                    return t.m11() * e + t.m12();
                  }
                  transformDeltaX(e) {
                    return this.getMatrix().m00() * e;
                  }
                  transformDeltaY(e) {
                    return this.getMatrix().m11() * e;
                  }
                  transformBounds2(e) {
                    return e.transformed(this.matrix);
                  }
                  transformShape(e) {
                    return e.transformed(this.matrix);
                  }
                  transformRay2(e) {
                    return new o.Z(
                      this.transformPosition2(e.position),
                      this.transformDelta2(e.direction).normalized()
                    );
                  }
                  inversePosition2(e) {
                    return this.getInverse().timesVector2(e);
                  }
                  inverseDelta2(e) {
                    const t = this.getInverse();
                    return new a.Z(
                      t.m00() * e.x + t.m01() * e.y,
                      t.m10() * e.x + t.m11() * e.y
                    );
                  }
                  inverseNormal2(e) {
                    return this.matrix.timesTransposeVector2(e).normalize();
                  }
                  inverseX(e) {
                    const t = this.getInverse();
                    return t.m00() * e + t.m02();
                  }
                  inverseY(e) {
                    const t = this.getInverse();
                    return t.m11() * e + t.m12();
                  }
                  inverseDeltaX(e) {
                    const t = this.getInverse();
                    return t.m00() * e;
                  }
                  inverseDeltaY(e) {
                    const t = this.getInverse();
                    return t.m11() * e;
                  }
                  inverseBounds2(e) {
                    return e.transformed(this.getInverse());
                  }
                  inverseShape(e) {
                    return e.transformed(this.getInverse());
                  }
                  inverseRay2(e) {
                    return new o.Z(
                      this.inversePosition2(e.position),
                      this.inverseDelta2(e.direction).normalized()
                    );
                  }
                }
                n.Z.register("Transform3", l);
                const d = l;
              },
              8964: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => c });
                var s = i(7464),
                  n = i(668);
                const r = Number.MIN_VALUE,
                  o = 2 * Math.PI;
                let a, h, l;
                const d = {
                  clamp: (e, t, i) => (e < t ? t : e > i ? i : e),
                  moduloBetweenDown(e, t, i) {
                    const s = i - t;
                    let n = (e - t) % s;
                    return n < 0 && (n += s), n + t;
                  },
                  moduloBetweenUp: (e, t, i) =>
                    -d.moduloBetweenDown(-e, -i, -t),
                  rangeInclusive(e, t) {
                    if (t < e) return [];
                    const i = new Array(t - e + 1);
                    for (let s = e; s <= t; s++) i[s - e] = s;
                    return i;
                  },
                  rangeExclusive: (e, t) => d.rangeInclusive(e + 1, t - 1),
                  toRadians: (e) => (Math.PI * e) / 180,
                  toDegrees: (e) => (180 * e) / Math.PI,
                  mod: (e, t) => ((e / t) % 1 == 0 ? 0 : e % t),
                  gcd(e, t) {
                    return Math.abs(0 === t ? e : this.gcd(t, d.mod(e, t)));
                  },
                  lcm: (e, t) =>
                    d.roundSymmetric(Math.abs(e * t) / d.gcd(e, t)),
                  lineLineIntersection(e, t, i, s) {
                    if (e.equals(t) || i.equals(s)) return null;
                    const r = e.x - t.x,
                      o = i.x - s.x,
                      a = e.y - t.y,
                      h = i.y - s.y,
                      l = r * h - a * o;
                    if (Math.abs(l) < 1e-10) return null;
                    const d = e.x * t.y - e.y * t.x,
                      c = i.x * s.y - i.y * s.x;
                    return new n.Z((d * o - r * c) / l, (d * h - a * c) / l);
                  },
                  circleCenterFromPoints(e, t, i) {
                    const s = new n.Z((e.x + t.x) / 2, (e.y + t.y) / 2),
                      r = new n.Z((t.x + i.x) / 2, (t.y + i.y) / 2),
                      o = new n.Z(s.x + (t.y - e.y), s.y - (t.x - e.x)),
                      a = new n.Z(r.x + (i.y - t.y), r.y - (i.x - t.x));
                    return d.lineLineIntersection(s, o, r, a);
                  },
                  pointInCircleFromPoints(e, t, i, s) {
                    const n = e.x - s.x,
                      r = e.y - s.y,
                      o = (e.x - s.x) * (e.x - s.x) + (e.y - s.y) * (e.y - s.y),
                      a = t.x - s.x,
                      h = t.y - s.y,
                      l = (t.x - s.x) * (t.x - s.x) + (t.y - s.y) * (t.y - s.y),
                      d = i.x - s.x,
                      c = i.y - s.y,
                      u = (i.x - s.x) * (i.x - s.x) + (i.y - s.y) * (i.y - s.y);
                    return (
                      n * h * u +
                        r * l * d +
                        o * a * c -
                        o * h * d -
                        r * a * u -
                        n * l * c >
                      0
                    );
                  },
                  sphereRayIntersection(e, t, i) {
                    i = void 0 === i ? 1e-5 : i;
                    const n = new s.Z.Vector3(0, 0, 0),
                      r = t.direction,
                      o = t.position,
                      a = o.minus(n),
                      h = r.dot(a),
                      l = 4 * h * h - 4 * (a.magnitudeSquared - e * e);
                    if (l < i) return null;
                    const d = r.dot(n) - r.dot(o),
                      c = Math.sqrt(l) / 2,
                      u = d - c,
                      p = d + c;
                    if (p < i) return null;
                    const g = t.pointAtDistance(p),
                      m = g.minus(n).normalized();
                    if (u < i)
                      return {
                        distance: p,
                        hitPoint: g,
                        normal: m.negated(),
                        fromOutside: !1,
                      };
                    {
                      const e = t.pointAtDistance(u),
                        i = e.minus(n).normalized();
                      return {
                        distance: u,
                        hitPoint: e,
                        normal: i,
                        fromOutside: !0,
                      };
                    }
                  },
                  solveLinearRootsReal: (e, t) =>
                    0 === e ? (0 === t ? null : []) : [-t / e],
                  solveQuadraticRootsReal(e, t, i) {
                    if (
                      0 === e ||
                      Math.abs(t / e) > 1e7 ||
                      Math.abs(i / e) > 1e7
                    )
                      return d.solveLinearRootsReal(t, i);
                    const s = t * t - 4 * e * i;
                    if (s < 0) return [];
                    const n = Math.sqrt(s);
                    return [(-t - n) / (2 * e), (-t + n) / (2 * e)];
                  },
                  solveCubicRootsReal(e, t, i, s) {
                    let n,
                      r =
                        arguments.length > 4 && void 0 !== arguments[4]
                          ? arguments[4]
                          : 1e-7;
                    if (0 === e) n = d.solveQuadraticRootsReal(t, i, s);
                    else {
                      const o = 1e7;
                      if (
                        0 === e ||
                        Math.abs(t / e) > o ||
                        Math.abs(i / e) > o ||
                        Math.abs(s / e) > o
                      )
                        n = d.solveQuadraticRootsReal(t, i, s);
                      else if (
                        0 === s ||
                        Math.abs(e / s) > o ||
                        Math.abs(t / s) > o ||
                        Math.abs(i / s) > o
                      )
                        n = [0].concat(d.solveQuadraticRootsReal(e, t, i));
                      else {
                        const o = (3 * (i /= e) - (t /= e) * t) / 9,
                          a = (-27 * (s /= e) + t * (9 * i - t * t * 2)) / 54,
                          h = o * o * o + a * a,
                          l = t / 3;
                        if (h > r) {
                          const e = Math.sqrt(h);
                          n = [d.cubeRoot(a + e) + d.cubeRoot(a - e) - l];
                        } else if (h > -r) {
                          const e = d.cubeRoot(a),
                            t = -l - e;
                          n = [2 * e - l, t, t];
                        } else {
                          let e = -o * o * o;
                          e = Math.acos(a / Math.sqrt(e));
                          const t = 2 * Math.sqrt(-o);
                          n = [
                            -l + t * Math.cos(e / 3),
                            -l + t * Math.cos((e + 2 * Math.PI) / 3),
                            -l + t * Math.cos((e + 4 * Math.PI) / 3),
                          ];
                        }
                      }
                    }
                    return n;
                  },
                  cubeRoot: (e) =>
                    e >= 0 ? Math.pow(e, 1 / 3) : -Math.pow(-e, 1 / 3),
                  linear: (e, t, i, s, n) => ((s - i) / (t - e)) * (n - e) + i,
                  roundSymmetric: (e) =>
                    (e < 0 ? -1 : 1) * Math.round(Math.abs(e)),
                  toFixed(e, t) {
                    const i = Math.pow(10, t);
                    return (d.roundSymmetric(e * i) / i).toFixed(t);
                  },
                  toFixedNumber: (e, t) => parseFloat(d.toFixed(e, t)),
                  equalsEpsilon: (e, t, i) => Math.abs(e - t) <= i,
                  lineSegmentIntersection(e, t, i, s, r, o, a, h) {
                    const l = (e, t, i, s, n, r) =>
                      (r - t) * (i - e) - (s - t) * (n - e);
                    if (
                      l(e, t, r, o, a, h) * l(i, s, r, o, a, h) > 0 ||
                      l(r, o, e, t, i, s) * l(a, h, e, t, i, s) > 0
                    )
                      return null;
                    const d = (e - i) * (o - h) - (t - s) * (r - a);
                    if (Math.abs(d) < 1e-10) return null;
                    if ((e === r && t === o) || (e === a && t === h))
                      return new n.Z(e, t);
                    if ((i === r && s === o) || (i === a && s === h))
                      return new n.Z(i, s);
                    const c =
                        ((e * s - t * i) * (r - a) -
                          (e - i) * (r * h - o * a)) /
                        d,
                      u =
                        ((e * s - t * i) * (o - h) -
                          (t - s) * (r * h - o * a)) /
                        d;
                    return new n.Z(c, u);
                  },
                  distToSegmentSquared(e, t, i) {
                    const s = t.distanceSquared(i);
                    if (0 === s) return e.distanceSquared(t);
                    const r =
                      ((e.x - t.x) * (i.x - t.x) + (e.y - t.y) * (i.y - t.y)) /
                      s;
                    let o;
                    return (
                      (o =
                        r < 0
                          ? e.distanceSquared(t)
                          : r > 1
                          ? e.distanceSquared(i)
                          : e.distanceSquared(
                              new n.Z(
                                t.x + r * (i.x - t.x),
                                t.y + r * (i.y - t.y)
                              )
                            )),
                      o
                    );
                  },
                  distToSegment(e, t, i) {
                    return Math.sqrt(this.distToSegmentSquared(e, t, i));
                  },
                  arePointsCollinear: (e, t, i, s) => (
                    void 0 === s && (s = 0), d.triangleArea(e, t, i) <= s
                  ),
                  triangleArea: (e, t, i) =>
                    Math.abs(d.triangleAreaSigned(e, t, i)),
                  triangleAreaSigned: (e, t, i) =>
                    e.x * (t.y - i.y) + t.x * (i.y - e.y) + i.x * (e.y - t.y),
                  centroidOfPolygon(e) {
                    const t = new n.Z(0, 0);
                    let i = 0;
                    return (
                      e.forEach((s, n) => {
                        const r = e[(n + 1) % e.length],
                          o = s.x * r.y - r.x * s.y;
                        (i += o / 2), t.addXY((s.x + r.x) * o, (s.y + r.y) * o);
                      }),
                      t.divideScalar(6 * i),
                      t
                    );
                  },
                  cosh: (e) => (Math.exp(e) + Math.exp(-e)) / 2,
                  sinh: (e) => (Math.exp(e) - Math.exp(-e)) / 2,
                  log10: (e) => Math.log(e) / Math.LN10,
                  boxMullerTransform(e, t, i) {
                    if (((a = !a), !a)) return l * t + e;
                    let s, n;
                    do {
                      (s = i.nextDouble()), (n = i.nextDouble());
                    } while (s <= r);
                    return (
                      (h = Math.sqrt(-2 * Math.log(s)) * Math.cos(o * n)),
                      (l = Math.sqrt(-2 * Math.log(s)) * Math.sin(o * n)),
                      h * t + e
                    );
                  },
                  numberOfDecimalPlaces(e) {
                    if (Math.floor(e) === e) return 0;
                    {
                      const t = e.toString();
                      if (t.includes("e")) {
                        const e = t.split("e"),
                          i = e[0],
                          s = Number(e[1]),
                          n = i.includes(".") ? i.split(".")[1].length : 0;
                        return Math.max(n - s, 0);
                      }
                      return t.split(".")[1].length;
                    }
                  },
                  roundToInterval: (e, t) =>
                    d.toFixedNumber(
                      d.roundSymmetric(e / t) * t,
                      d.numberOfDecimalPlaces(t)
                    ),
                };
                s.Z.register("Utils", d),
                  (s.Z.clamp = d.clamp),
                  (s.Z.moduloBetweenDown = d.moduloBetweenDown),
                  (s.Z.moduloBetweenUp = d.moduloBetweenUp),
                  (s.Z.rangeInclusive = d.rangeInclusive),
                  (s.Z.rangeExclusive = d.rangeExclusive),
                  (s.Z.toRadians = d.toRadians),
                  (s.Z.toDegrees = d.toDegrees),
                  (s.Z.lineLineIntersection = d.lineLineIntersection),
                  (s.Z.lineSegmentIntersection = d.lineSegmentIntersection),
                  (s.Z.sphereRayIntersection = d.sphereRayIntersection),
                  (s.Z.solveQuadraticRootsReal = d.solveQuadraticRootsReal),
                  (s.Z.solveCubicRootsReal = d.solveCubicRootsReal),
                  (s.Z.cubeRoot = d.cubeRoot),
                  (s.Z.linear = d.linear),
                  (s.Z.boxMullerTransform = d.boxMullerTransform);
                const c = d;
              },
              668: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => c, v2: () => u });
                var n = i(7232),
                  r = i(6846),
                  o = i(8585),
                  a = i(7464),
                  h = i(8964),
                  l = i(8002);
                const d = (e, t) => e.add(t);
                class c {
                  constructor(e, t) {
                    (this.x = e), (this.y = t);
                  }
                  getMagnitude() {
                    return Math.sqrt(this.magnitudeSquared);
                  }
                  get magnitude() {
                    return this.getMagnitude();
                  }
                  getMagnitudeSquared() {
                    return this.x * this.x + this.y * this.y;
                  }
                  get magnitudeSquared() {
                    return this.getMagnitudeSquared();
                  }
                  distance(e) {
                    return Math.sqrt(this.distanceSquared(e));
                  }
                  distanceXY(e, t) {
                    const i = this.x - e,
                      s = this.y - t;
                    return Math.sqrt(i * i + s * s);
                  }
                  distanceSquared(e) {
                    const t = this.x - e.x,
                      i = this.y - e.y;
                    return t * t + i * i;
                  }
                  distanceSquaredXY(e, t) {
                    const i = this.x - e,
                      s = this.y - t;
                    return i * i + s * s;
                  }
                  dot(e) {
                    return this.x * e.x + this.y * e.y;
                  }
                  dotXY(e, t) {
                    return this.x * e + this.y * t;
                  }
                  getAngle() {
                    return Math.atan2(this.y, this.x);
                  }
                  get angle() {
                    return this.getAngle();
                  }
                  angleBetween(e) {
                    const t = this.magnitude,
                      i = e.magnitude;
                    return Math.acos(
                      a.Z.clamp((this.x * e.x + this.y * e.y) / (t * i), -1, 1)
                    );
                  }
                  equals(e) {
                    return this.x === e.x && this.y === e.y;
                  }
                  equalsEpsilon(e, t) {
                    return (
                      t || (t = 0),
                      Math.max(
                        Math.abs(this.x - e.x),
                        Math.abs(this.y - e.y)
                      ) <= t
                    );
                  }
                  isFinite() {
                    return isFinite(this.x) && isFinite(this.y);
                  }
                  copy(e) {
                    return e ? e.set(this) : u(this.x, this.y);
                  }
                  crossScalar(e) {
                    return this.x * e.y - this.y * e.x;
                  }
                  normalized() {
                    const e = this.magnitude;
                    if (0 === e)
                      throw new Error(
                        "Cannot normalize a zero-magnitude vector"
                      );
                    return u(this.x / e, this.y / e);
                  }
                  roundedSymmetric() {
                    return this.copy().roundSymmetric();
                  }
                  withMagnitude(e) {
                    return this.copy().setMagnitude(e);
                  }
                  timesScalar(e) {
                    return u(this.x * e, this.y * e);
                  }
                  times(e) {
                    return this.timesScalar(e);
                  }
                  componentTimes(e) {
                    return u(this.x * e.x, this.y * e.y);
                  }
                  plus(e) {
                    return u(this.x + e.x, this.y + e.y);
                  }
                  plusXY(e, t) {
                    return u(this.x + e, this.y + t);
                  }
                  plusScalar(e) {
                    return u(this.x + e, this.y + e);
                  }
                  minus(e) {
                    return u(this.x - e.x, this.y - e.y);
                  }
                  minusXY(e, t) {
                    return u(this.x - e, this.y - t);
                  }
                  minusScalar(e) {
                    return u(this.x - e, this.y - e);
                  }
                  dividedScalar(e) {
                    return u(this.x / e, this.y / e);
                  }
                  negated() {
                    return u(-this.x, -this.y);
                  }
                  getPerpendicular() {
                    return u(this.y, -this.x);
                  }
                  get perpendicular() {
                    return this.getPerpendicular();
                  }
                  rotated(e) {
                    const t = this.angle + e,
                      i = this.magnitude;
                    return u(i * Math.cos(t), i * Math.sin(t));
                  }
                  rotateAboutXY(e, t, i) {
                    const s = this.x - e,
                      n = this.y - t,
                      r = Math.cos(i),
                      o = Math.sin(i);
                    return (
                      (this.x = e + s * r - n * o),
                      (this.y = t + s * o + n * r),
                      this
                    );
                  }
                  rotateAboutPoint(e, t) {
                    return this.rotateAboutXY(e.x, e.y, t);
                  }
                  rotatedAboutXY(e, t, i) {
                    return u(this.x, this.y).rotateAboutXY(e, t, i);
                  }
                  rotatedAboutPoint(e, t) {
                    return this.rotatedAboutXY(e.x, e.y, t);
                  }
                  blend(e, t) {
                    return u(
                      this.x + (e.x - this.x) * t,
                      this.y + (e.y - this.y) * t
                    );
                  }
                  average(e) {
                    return this.blend(e, 0.5);
                  }
                  static average(e) {
                    return _.reduce(e, d, new c(0, 0)).divideScalar(e.length);
                  }
                  toString() {
                    return `Vector2(${this.x}, ${this.y})`;
                  }
                  toVector3() {
                    return new l.Z(this.x, this.y, 0);
                  }
                  setXY(e, t) {
                    return (this.x = e), (this.y = t), this;
                  }
                  setX(e) {
                    return (this.x = e), this;
                  }
                  setY(e) {
                    return (this.y = e), this;
                  }
                  set(e) {
                    return this.setXY(e.x, e.y);
                  }
                  setMagnitude(e) {
                    const t = e / this.magnitude;
                    return this.multiplyScalar(t);
                  }
                  add(e) {
                    return this.setXY(this.x + e.x, this.y + e.y);
                  }
                  addXY(e, t) {
                    return this.setXY(this.x + e, this.y + t);
                  }
                  addScalar(e) {
                    return this.setXY(this.x + e, this.y + e);
                  }
                  subtract(e) {
                    return this.setXY(this.x - e.x, this.y - e.y);
                  }
                  subtractXY(e, t) {
                    return this.setXY(this.x - e, this.y - t);
                  }
                  subtractScalar(e) {
                    return this.setXY(this.x - e, this.y - e);
                  }
                  multiplyScalar(e) {
                    return this.setXY(this.x * e, this.y * e);
                  }
                  multiply(e) {
                    return this.multiplyScalar(e);
                  }
                  componentMultiply(e) {
                    return this.setXY(this.x * e.x, this.y * e.y);
                  }
                  divideScalar(e) {
                    return this.setXY(this.x / e, this.y / e);
                  }
                  negate() {
                    return this.setXY(-this.x, -this.y);
                  }
                  normalize() {
                    const e = this.magnitude;
                    if (0 === e)
                      throw new Error(
                        "Cannot normalize a zero-magnitude vector"
                      );
                    return this.divideScalar(e);
                  }
                  roundSymmetric() {
                    return this.setXY(
                      h.Z.roundSymmetric(this.x),
                      h.Z.roundSymmetric(this.y)
                    );
                  }
                  rotate(e) {
                    const t = this.angle + e,
                      i = this.magnitude;
                    return this.setXY(i * Math.cos(t), i * Math.sin(t));
                  }
                  setPolar(e, t) {
                    return this.setXY(e * Math.cos(t), e * Math.sin(t));
                  }
                  toStateObject() {
                    return { x: this.x, y: this.y };
                  }
                  freeToPool() {
                    c.pool.freeToPool(this);
                  }
                  static createPolar(e, t) {
                    return new c(0, 0).setPolar(e, t);
                  }
                  static fromStateObject(e) {
                    return u(e.x, e.y);
                  }
                  static getAngleBetweenVectors(e, t) {
                    const i = t.x - e.x,
                      s = t.y - e.y;
                    return Math.atan2(s, i);
                  }
                  static getDistanceBetweenVectors(e, t) {
                    const i = t.x - e.x,
                      s = t.y - e.y;
                    return Math.sqrt(i * i + s * s);
                  }
                }
                (s = c),
                  _defineProperty(
                    c,
                    "pool",
                    new n.Z(s, {
                      maxSize: 1e3,
                      initialize: s.prototype.setXY,
                      defaultArguments: [0, 0],
                    })
                  ),
                  (c.prototype.isVector2 = !0),
                  (c.prototype.dimension = 2),
                  a.Z.register("Vector2", c);
                const u = c.pool.create.bind(c.pool);
                a.Z.register("v2", u);
                class p extends c {
                  static mutableOverrideHelper(e) {
                    p.prototype[e] = () => {
                      throw new Error(
                        `Cannot call mutable method '${e}' on immutable Vector2`
                      );
                    };
                  }
                }
                p.mutableOverrideHelper("setXY"),
                  p.mutableOverrideHelper("setX"),
                  p.mutableOverrideHelper("setY"),
                  (c.ZERO = new c(0, 0)),
                  (c.X_UNIT = new c(1, 0)),
                  (c.Y_UNIT = new c(0, 1)),
                  (c.Vector2IO = new r.Z("Vector2IO", {
                    valueType: c,
                    stateSchema: { x: o.Z, y: o.Z },
                    toStateObject: (e) => e.toStateObject(),
                    fromStateObject: (e) => c.fromStateObject(e),
                    documentation:
                      "A numerical object with x and y properties, like {x:3,y:4}",
                  }));
              },
              2560: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => h });
                var s = i(592),
                  n = i(668),
                  r = i(7464),
                  o = i(2550);
                class a extends s.Z {
                  constructor(e, t) {
                    const i = (0, o.ZP)()(
                      {
                        valueType: n.Z,
                        validBounds: null,
                        validators: [],
                        phetioValueType: n.Z.Vector2IO,
                      },
                      t
                    );
                    i.validBounds &&
                      i.validators.push({
                        validationMessage: "Vector2 is not within validBounds",
                        isValidValue: (e) => i.validBounds.containsPoint(e),
                      }),
                      super(e, i),
                      (this.validBounds = i.validBounds);
                  }
                }
                r.Z.register("Vector2Property", a);
                const h = a;
              },
              8002: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => u });
                var n = i(7232),
                  r = i(6846),
                  o = i(8585),
                  a = i(7464),
                  h = i(8964),
                  l = i(668),
                  d = i(1319);
                const c = (e, t) => e.add(t);
                class u {
                  constructor(e, t, i) {
                    (this.x = e), (this.y = t), (this.z = i);
                  }
                  getMagnitude() {
                    return Math.sqrt(this.magnitudeSquared);
                  }
                  get magnitude() {
                    return this.getMagnitude();
                  }
                  getMagnitudeSquared() {
                    return this.dot(this);
                  }
                  get magnitudeSquared() {
                    return this.getMagnitudeSquared();
                  }
                  distance(e) {
                    return Math.sqrt(this.distanceSquared(e));
                  }
                  distanceXYZ(e, t, i) {
                    const s = this.x - e,
                      n = this.y - t,
                      r = this.z - i;
                    return Math.sqrt(s * s + n * n + r * r);
                  }
                  distanceSquared(e) {
                    const t = this.x - e.x,
                      i = this.y - e.y,
                      s = this.z - e.z;
                    return t * t + i * i + s * s;
                  }
                  distanceSquaredXYZ(e, t, i) {
                    const s = this.x - e,
                      n = this.y - t,
                      r = this.z - i;
                    return s * s + n * n + r * r;
                  }
                  dot(e) {
                    return this.x * e.x + this.y * e.y + this.z * e.z;
                  }
                  dotXYZ(e, t, i) {
                    return this.x * e + this.y * t + this.z * i;
                  }
                  angleBetween(e) {
                    return Math.acos(
                      a.Z.clamp(this.normalized().dot(e.normalized()), -1, 1)
                    );
                  }
                  equals(e) {
                    return this.x === e.x && this.y === e.y && this.z === e.z;
                  }
                  equalsEpsilon(e, t) {
                    return (
                      t || (t = 0),
                      Math.abs(this.x - e.x) +
                        Math.abs(this.y - e.y) +
                        Math.abs(this.z - e.z) <=
                        t
                    );
                  }
                  isFinite() {
                    return (
                      isFinite(this.x) && isFinite(this.y) && isFinite(this.z)
                    );
                  }
                  copy(e) {
                    return e ? e.set(this) : p(this.x, this.y, this.z);
                  }
                  cross(e) {
                    return p(
                      this.y * e.z - this.z * e.y,
                      this.z * e.x - this.x * e.z,
                      this.x * e.y - this.y * e.x
                    );
                  }
                  normalized() {
                    const e = this.magnitude;
                    if (0 === e)
                      throw new Error(
                        "Cannot normalize a zero-magnitude vector"
                      );
                    return p(this.x / e, this.y / e, this.z / e);
                  }
                  roundedSymmetric() {
                    return this.copy().roundSymmetric();
                  }
                  withMagnitude(e) {
                    return this.copy().setMagnitude(e);
                  }
                  timesScalar(e) {
                    return p(this.x * e, this.y * e, this.z * e);
                  }
                  times(e) {
                    return this.timesScalar(e);
                  }
                  componentTimes(e) {
                    return p(this.x * e.x, this.y * e.y, this.z * e.z);
                  }
                  plus(e) {
                    return p(this.x + e.x, this.y + e.y, this.z + e.z);
                  }
                  plusXYZ(e, t, i) {
                    return p(this.x + e, this.y + t, this.z + i);
                  }
                  plusScalar(e) {
                    return p(this.x + e, this.y + e, this.z + e);
                  }
                  minus(e) {
                    return p(this.x - e.x, this.y - e.y, this.z - e.z);
                  }
                  minusXYZ(e, t, i) {
                    return p(this.x - e, this.y - t, this.z - i);
                  }
                  minusScalar(e) {
                    return p(this.x - e, this.y - e, this.z - e);
                  }
                  dividedScalar(e) {
                    return p(this.x / e, this.y / e, this.z / e);
                  }
                  negated() {
                    return p(-this.x, -this.y, -this.z);
                  }
                  blend(e, t) {
                    return this.plus(e.minus(this).times(t));
                  }
                  average(e) {
                    return this.blend(e, 0.5);
                  }
                  static average(e) {
                    return _.reduce(e, c, new u(0, 0, 0)).divideScalar(
                      e.length
                    );
                  }
                  toString() {
                    return `Vector3(${this.x}, ${this.y}, ${this.z})`;
                  }
                  toVector2() {
                    return (0, l.v2)(this.x, this.y);
                  }
                  toVector4() {
                    return (0, d.v4)(this.x, this.y, this.z, 1);
                  }
                  setXYZ(e, t, i) {
                    return (this.x = e), (this.y = t), (this.z = i), this;
                  }
                  setX(e) {
                    return (this.x = e), this;
                  }
                  setY(e) {
                    return (this.y = e), this;
                  }
                  setZ(e) {
                    return (this.z = e), this;
                  }
                  set(e) {
                    return this.setXYZ(e.x, e.y, e.z);
                  }
                  setMagnitude(e) {
                    const t = e / this.magnitude;
                    return this.multiplyScalar(t);
                  }
                  add(e) {
                    return this.setXYZ(
                      this.x + e.x,
                      this.y + e.y,
                      this.z + e.z
                    );
                  }
                  addXYZ(e, t, i) {
                    return this.setXYZ(this.x + e, this.y + t, this.z + i);
                  }
                  addScalar(e) {
                    return this.setXYZ(this.x + e, this.y + e, this.z + e);
                  }
                  subtract(e) {
                    return this.setXYZ(
                      this.x - e.x,
                      this.y - e.y,
                      this.z - e.z
                    );
                  }
                  subtractXYZ(e, t, i) {
                    return this.setXYZ(this.x - e, this.y - t, this.z - i);
                  }
                  subtractScalar(e) {
                    return this.setXYZ(this.x - e, this.y - e, this.z - e);
                  }
                  multiplyScalar(e) {
                    return this.setXYZ(this.x * e, this.y * e, this.z * e);
                  }
                  multiply(e) {
                    return this.multiplyScalar(e);
                  }
                  componentMultiply(e) {
                    return this.setXYZ(
                      this.x * e.x,
                      this.y * e.y,
                      this.z * e.z
                    );
                  }
                  divideScalar(e) {
                    return this.setXYZ(this.x / e, this.y / e, this.z / e);
                  }
                  negate() {
                    return this.setXYZ(-this.x, -this.y, -this.z);
                  }
                  setCross(e) {
                    return this.setXYZ(
                      this.y * e.z - this.z * e.y,
                      this.z * e.x - this.x * e.z,
                      this.x * e.y - this.y * e.x
                    );
                  }
                  normalize() {
                    const e = this.magnitude;
                    if (0 === e)
                      throw new Error(
                        "Cannot normalize a zero-magnitude vector"
                      );
                    return this.divideScalar(e);
                  }
                  roundSymmetric() {
                    return this.setXYZ(
                      h.Z.roundSymmetric(this.x),
                      h.Z.roundSymmetric(this.y),
                      h.Z.roundSymmetric(this.z)
                    );
                  }
                  toStateObject() {
                    return { x: this.x, y: this.y, z: this.z };
                  }
                  freeToPool() {
                    u.pool.freeToPool(this);
                  }
                  static slerp(e, t, i) {
                    return a.Z.Quaternion.slerp(
                      new a.Z.Quaternion(),
                      a.Z.Quaternion.getRotationQuaternion(e, t),
                      i
                    ).timesVector3(e);
                  }
                  static fromStateObject(e) {
                    return p(e.x, e.y, e.z);
                  }
                }
                (s = u),
                  _defineProperty(
                    u,
                    "pool",
                    new n.Z(s, {
                      maxSize: 1e3,
                      initialize: s.prototype.setXYZ,
                      defaultArguments: [0, 0, 0],
                    })
                  ),
                  (u.prototype.isVector3 = !0),
                  (u.prototype.dimension = 3),
                  a.Z.register("Vector3", u);
                const p = u.pool.create.bind(u.pool);
                a.Z.register("v3", p);
                class g extends u {
                  static mutableOverrideHelper(e) {
                    g.prototype[e] = () => {
                      throw new Error(
                        `Cannot call mutable method '${e}' on immutable Vector3`
                      );
                    };
                  }
                }
                g.mutableOverrideHelper("setXYZ"),
                  g.mutableOverrideHelper("setX"),
                  g.mutableOverrideHelper("setY"),
                  g.mutableOverrideHelper("setZ"),
                  (u.ZERO = new u(0, 0, 0)),
                  (u.X_UNIT = new u(1, 0, 0)),
                  (u.Y_UNIT = new u(0, 1, 0)),
                  (u.Z_UNIT = new u(0, 0, 1)),
                  (u.Vector3IO = new r.Z("Vector3IO", {
                    valueType: u,
                    documentation:
                      "Basic 3-dimensional vector, represented as (x,y,z)",
                    toStateObject: (e) => e.toStateObject(),
                    fromStateObject: u.fromStateObject,
                    stateSchema: { x: o.Z, y: o.Z, z: o.Z },
                  }));
              },
              1319: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => h, v4: () => l });
                var n = i(8964),
                  r = i(8002),
                  o = i(7464),
                  a = i(7232);
                class h {
                  constructor(e, t, i, s) {
                    (this.x = e), (this.y = t), (this.z = i), (this.w = s);
                  }
                  getMagnitude() {
                    return Math.sqrt(this.magnitudeSquared);
                  }
                  get magnitude() {
                    return this.getMagnitude();
                  }
                  getMagnitudeSquared() {
                    return this.dot(this);
                  }
                  get magnitudeSquared() {
                    return this.getMagnitudeSquared();
                  }
                  distance(e) {
                    return this.minus(e).magnitude;
                  }
                  distanceXYZW(e, t, i, s) {
                    const n = this.x - e,
                      r = this.y - t,
                      o = this.z - i,
                      a = this.w - s;
                    return Math.sqrt(n * n + r * r + o * o + a * a);
                  }
                  distanceSquared(e) {
                    return this.minus(e).magnitudeSquared;
                  }
                  distanceSquaredXYZW(e, t, i, s) {
                    const n = this.x - e,
                      r = this.y - t,
                      o = this.z - i,
                      a = this.w - s;
                    return n * n + r * r + o * o + a * a;
                  }
                  dot(e) {
                    return (
                      this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w
                    );
                  }
                  dotXYZW(e, t, i, s) {
                    return this.x * e + this.y * t + this.z * i + this.w * s;
                  }
                  angleBetween(e) {
                    return Math.acos(
                      o.Z.clamp(this.normalized().dot(e.normalized()), -1, 1)
                    );
                  }
                  equals(e) {
                    return (
                      this.x === e.x &&
                      this.y === e.y &&
                      this.z === e.z &&
                      this.w === e.w
                    );
                  }
                  equalsEpsilon(e, t) {
                    return (
                      t || (t = 0),
                      Math.abs(this.x - e.x) +
                        Math.abs(this.y - e.y) +
                        Math.abs(this.z - e.z) +
                        Math.abs(this.w - e.w) <=
                        t
                    );
                  }
                  isFinite() {
                    return (
                      isFinite(this.x) &&
                      isFinite(this.y) &&
                      isFinite(this.z) &&
                      isFinite(this.w)
                    );
                  }
                  copy(e) {
                    return e ? e.set(this) : l(this.x, this.y, this.z, this.w);
                  }
                  normalized() {
                    const e = this.magnitude;
                    return this.dividedScalar(e);
                  }
                  roundedSymmetric() {
                    return this.copy().roundSymmetric();
                  }
                  withMagnitude(e) {
                    return this.copy().setMagnitude(e);
                  }
                  timesScalar(e) {
                    return l(this.x * e, this.y * e, this.z * e, this.w * e);
                  }
                  times(e) {
                    return this.timesScalar(e);
                  }
                  componentTimes(e) {
                    return l(
                      this.x * e.x,
                      this.y * e.y,
                      this.z * e.z,
                      this.w * e.w
                    );
                  }
                  plus(e) {
                    return l(
                      this.x + e.x,
                      this.y + e.y,
                      this.z + e.z,
                      this.w + e.w
                    );
                  }
                  plusXYZW(e, t, i, s) {
                    return l(this.x + e, this.y + t, this.z + i, this.w + s);
                  }
                  plusScalar(e) {
                    return l(this.x + e, this.y + e, this.z + e, this.w + e);
                  }
                  minus(e) {
                    return l(
                      this.x - e.x,
                      this.y - e.y,
                      this.z - e.z,
                      this.w - e.w
                    );
                  }
                  minusXYZW(e, t, i, s) {
                    return l(this.x - e, this.y - t, this.z - i, this.w - s);
                  }
                  minusScalar(e) {
                    return l(this.x - e, this.y - e, this.z - e, this.w - e);
                  }
                  dividedScalar(e) {
                    return l(this.x / e, this.y / e, this.z / e, this.w / e);
                  }
                  negated() {
                    return l(-this.x, -this.y, -this.z, -this.w);
                  }
                  blend(e, t) {
                    return this.plus(e.minus(this).times(t));
                  }
                  average(e) {
                    return this.blend(e, 0.5);
                  }
                  toString() {
                    return `Vector4(${this.x}, ${this.y}, ${this.z}, ${this.w})`;
                  }
                  toVector3() {
                    return new r.Z(this.x, this.y, this.z);
                  }
                  setXYZW(e, t, i, s) {
                    return (
                      (this.x = e),
                      (this.y = t),
                      (this.z = i),
                      (this.w = s),
                      this
                    );
                  }
                  setX(e) {
                    return (this.x = e), this;
                  }
                  setY(e) {
                    return (this.y = e), this;
                  }
                  setZ(e) {
                    return (this.z = e), this;
                  }
                  setW(e) {
                    return (this.w = e), this;
                  }
                  set(e) {
                    return this.setXYZW(e.x, e.y, e.z, e.w);
                  }
                  setMagnitude(e) {
                    const t = e / this.magnitude;
                    return this.multiplyScalar(t);
                  }
                  add(e) {
                    return this.setXYZW(
                      this.x + e.x,
                      this.y + e.y,
                      this.z + e.z,
                      this.w + e.w
                    );
                  }
                  addXYZW(e, t, i, s) {
                    return this.setXYZW(
                      this.x + e,
                      this.y + t,
                      this.z + i,
                      this.w + s
                    );
                  }
                  addScalar(e) {
                    return this.setXYZW(
                      this.x + e,
                      this.y + e,
                      this.z + e,
                      this.w + e
                    );
                  }
                  subtract(e) {
                    return this.setXYZW(
                      this.x - e.x,
                      this.y - e.y,
                      this.z - e.z,
                      this.w - e.w
                    );
                  }
                  subtractXYZW(e, t, i, s) {
                    return this.setXYZW(
                      this.x - e,
                      this.y - t,
                      this.z - i,
                      this.w - s
                    );
                  }
                  subtractScalar(e) {
                    return this.setXYZW(
                      this.x - e,
                      this.y - e,
                      this.z - e,
                      this.w - e
                    );
                  }
                  multiplyScalar(e) {
                    return this.setXYZW(
                      this.x * e,
                      this.y * e,
                      this.z * e,
                      this.w * e
                    );
                  }
                  multiply(e) {
                    return this.multiplyScalar(e);
                  }
                  componentMultiply(e) {
                    return this.setXYZW(
                      this.x * e.x,
                      this.y * e.y,
                      this.z * e.z,
                      this.w * e.w
                    );
                  }
                  divideScalar(e) {
                    return this.setXYZW(
                      this.x / e,
                      this.y / e,
                      this.z / e,
                      this.w / e
                    );
                  }
                  negate() {
                    return this.setXYZW(-this.x, -this.y, -this.z, -this.w);
                  }
                  normalize() {
                    const e = this.magnitude;
                    if (0 === e)
                      throw new Error(
                        "Cannot normalize a zero-magnitude vector"
                      );
                    return this.divideScalar(e);
                  }
                  roundSymmetric() {
                    return this.setXYZW(
                      n.Z.roundSymmetric(this.x),
                      n.Z.roundSymmetric(this.y),
                      n.Z.roundSymmetric(this.z),
                      n.Z.roundSymmetric(this.w)
                    );
                  }
                  freeToPool() {
                    h.pool.freeToPool(this);
                  }
                }
                (s = h),
                  _defineProperty(
                    h,
                    "pool",
                    new a.Z(s, {
                      maxSize: 1e3,
                      initialize: s.prototype.setXYZW,
                      defaultArguments: [0, 0, 0, 0],
                    })
                  ),
                  (h.prototype.isVector4 = !0),
                  (h.prototype.dimension = 4),
                  o.Z.register("Vector4", h);
                const l = h.pool.create.bind(h.pool);
                o.Z.register("v4", l);
                class d extends h {
                  static mutableOverrideHelper(e) {
                    d.prototype[e] = () => {
                      throw new Error(
                        `Cannot call mutable method '${e}' on immutable Vector3`
                      );
                    };
                  }
                }
                d.mutableOverrideHelper("setXYZW"),
                  d.mutableOverrideHelper("setX"),
                  d.mutableOverrideHelper("setY"),
                  d.mutableOverrideHelper("setZ"),
                  d.mutableOverrideHelper("setW"),
                  (h.ZERO = new h(0, 0, 0, 0)),
                  (h.X_UNIT = new h(1, 0, 0, 0)),
                  (h.Y_UNIT = new h(0, 1, 0, 0)),
                  (h.Z_UNIT = new h(0, 0, 1, 0)),
                  (h.W_UNIT = new h(0, 0, 0, 1));
              },
              7464: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                const s = new (i(2492).Z)("dot");
                s.register(
                  "FastArray",
                  window.Float64Array ? window.Float64Array : window.Array
                );
                const n = s;
              },
              6918: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(7464);
                const n = new (i(7023).Z)({
                  seed: _.hasIn(
                    window,
                    "phet.chipper.queryParameters.randomSeed"
                  )
                    ? window.phet.chipper.queryParameters.randomSeed
                    : null,
                });
                s.Z.register("dotRandom", n);
                const r = n;
              },
              5870: (e, t, i) => {
                "use strict";
                function s(e) {
                  return e.toFixed(20);
                }
                i.d(t, { Z: () => n }), i(7464).Z.register("toSVGNumber", s);
                const n = s;
              },
              7055: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(2797),
                  n = i(3600);
                const r = (0, s.Z)("JOIST");
                n.Z.register("JoistStrings", r);
                const o = r;
              },
              8588: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => m });
                var s = i(592),
                  n = i(9187),
                  r = i(8563),
                  o = i(1005),
                  a = i(2643),
                  h = i(3600);
                const l = Object.keys(phet.chipper.strings).sort(),
                  d = (e) => e && n.Z[e],
                  c =
                    "string" == typeof phet.chipper.locale
                      ? phet.chipper.locale.slice(0, 2)
                      : void 0,
                  u = d(phet.chipper.locale)
                    ? phet.chipper.locale
                    : d(c)
                    ? c
                    : "en";
                phet.chipper.locale = u;
                class p extends s.Z {
                  unguardedSet(e) {
                    l.includes(e) && super.unguardedSet(e);
                  }
                }
                const g = new p(u, {
                  tandem: o.Z.GENERAL_MODEL.createTandem("localeProperty"),
                  phetioFeatured: !0,
                  phetioValueType: a.Z,
                  validValues: l,
                });
                if (phet.chipper.queryParameters.keyboardLocaleSwitcher) {
                  const e = r.ntP.KEY_I,
                    t = r.ntP.KEY_U;
                  r.MMl.keydownEmitter.addListener((i) => {
                    const s = (e) => {
                      i.preventDefault();
                      const t = (l.indexOf(g.value) + e + l.length) % l.length;
                      (g.value = l[t]), console.log(g.value);
                    };
                    !i.ctrlKey ||
                      i.shiftKey ||
                      i.metaKey ||
                      i.altKey ||
                      (r.ntP.isKeyEvent(i, e)
                        ? s(1)
                        : r.ntP.isKeyEvent(i, t) && s(-1));
                  });
                }
                h.Z.register("localeProperty", g);
                const m = g;
              },
              3600: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => s });
                const s = new (i(2492).Z)("joist");
              },
              6572: (e, t, i) => {
                "use strict";
                var s, n;
                i.d(t, {
                  wN: () => Y,
                  EW: () => Ve,
                  tj: () => Ee,
                  Ll: () => Z,
                  kS: () => pe,
                  R0: () => De,
                  d: () => Q,
                  LR: () => Ae,
                  kJ: () => Me,
                  I3: () => oe,
                  $: () => l,
                  x1: () => x,
                  Ob: () => d,
                  rN: () => Pe,
                  dC: () => c,
                  Ab: () => O,
                  Gz: () => u,
                  XX: () => V,
                  dA: () => p,
                  Io: () => Ce,
                  bn: () => ie,
                  zx: () => K,
                  Xz: () => de,
                  V0: () => ke,
                  FK: () => r,
                  bd: () => m,
                  Wu: () => f,
                });
                const r = new (i(2492).Z)("kite");
                var o = i(8964),
                  a = i(831);
                const h = o.Z.lineLineIntersection,
                  l = {
                    lineWidth: 1,
                    lineCap: "butt",
                    lineJoin: "miter",
                    lineDash: [],
                    lineDashOffset: 0,
                    miterLimit: 10,
                  };
                class d {
                  constructor(e) {
                    const t = (0, a.Z)({}, l, e);
                    (this.lineWidth = t.lineWidth),
                      (this.lineCap = t.lineCap),
                      (this.lineJoin = t.lineJoin),
                      (this.lineDash = t.lineDash),
                      (this.lineDashOffset = t.lineDashOffset),
                      (this.miterLimit = t.miterLimit);
                  }
                  equals(e) {
                    if (
                      !(
                        this.lineWidth === e.lineWidth &&
                        this.lineCap === e.lineCap &&
                        this.lineJoin === e.lineJoin &&
                        this.miterLimit === e.miterLimit &&
                        this.lineDashOffset === e.lineDashOffset
                      )
                    )
                      return !1;
                    if (this.lineDash.length !== e.lineDash.length) return !1;
                    for (let t = 0; t < this.lineDash.length; t++)
                      if (this.lineDash[t] !== e.lineDash[t]) return !1;
                    return !0;
                  }
                  copy() {
                    return new d({
                      lineWidth: this.lineWidth,
                      lineCap: this.lineCap,
                      lineJoin: this.lineJoin,
                      lineDash: this.lineDash,
                      lineDashOffset: this.lineDashOffset,
                      miterLimit: this.miterLimit,
                    });
                  }
                  leftJoin(e, t, i) {
                    (t = t.normalized()), (i = i.normalized());
                    const s = e.plus(
                        t.perpendicular.negated().times(this.lineWidth / 2)
                      ),
                      n = e.plus(
                        i.perpendicular.negated().times(this.lineWidth / 2)
                      ),
                      r = s.equals(n) ? [] : [new x(s, n)];
                    let o, a, l;
                    if (!(t.perpendicular.dot(i) > 1e-12)) return r;
                    switch (this.lineJoin) {
                      case "round":
                        return (
                          (o = t.angle + Math.PI / 2),
                          (a = i.angle + Math.PI / 2),
                          [new Y(e, this.lineWidth / 2, o, a, !0)]
                        );
                      case "miter":
                        if (
                          ((l = t.angleBetween(i.negated())),
                          1 / Math.sin(l / 2) <= this.miterLimit &&
                            l < Math.PI - 1e-5)
                        ) {
                          const e = h(s, s.plus(t), n, n.plus(i));
                          return e ? [new x(s, e), new x(e, n)] : [new x(s, n)];
                        }
                        return r;
                      case "bevel":
                        return r;
                      default:
                        throw new Error("invalid lineJoin: " + this.lineJoin);
                    }
                  }
                  rightJoin(e, t, i) {
                    return this.leftJoin(e, i.negated(), t.negated());
                  }
                  cap(e, t) {
                    t = t.normalized();
                    const i = e.plus(
                        t.perpendicular.times(-this.lineWidth / 2)
                      ),
                      s = e.plus(t.perpendicular.times(this.lineWidth / 2));
                    let n, r, o, a, h, l;
                    switch (this.lineCap) {
                      case "butt":
                        return [new x(i, s)];
                      case "round":
                        return (
                          (n = t.angle),
                          [
                            new Y(
                              e,
                              this.lineWidth / 2,
                              n + Math.PI / 2,
                              n - Math.PI / 2,
                              !0
                            ),
                          ]
                        );
                      case "square":
                        return (
                          (r = t.perpendicular
                            .negated()
                            .times(this.lineWidth / 2)),
                          (o = t.perpendicular.times(this.lineWidth / 2)),
                          (a = t.times(this.lineWidth / 2)),
                          (h = e.plus(r).plus(a)),
                          (l = e.plus(o).plus(a)),
                          [new x(i, h), new x(h, l), new x(l, s)]
                        );
                      default:
                        throw new Error("invalid lineCap: " + this.lineCap);
                    }
                  }
                }
                r.register("LineStyles", d);
                class c {
                  constructor(e, t) {
                    (this.a = e), (this.b = t);
                    let i = 0,
                      s = 1,
                      n = this.apply(i),
                      r = this.apply(s);
                    n > 1 && ((n = 1), (i = this.applyInverse(n))),
                      n < 0 && ((n = 0), (i = this.applyInverse(n))),
                      r > 1 && ((r = 1), (s = this.applyInverse(r))),
                      r < 0 && ((r = 0), (s = this.applyInverse(r))),
                      (this.t0 = i),
                      (this.t1 = s),
                      e > 0
                        ? ((this.qt0 = n), (this.qt1 = r))
                        : ((this.qt0 = r), (this.qt1 = n)),
                      this.t0 < 0 && this.t0 > -1e-8 && (this.t0 = 0),
                      this.t0 > 1 && this.t0 < 1 + 1e-8 && (this.t0 = 1),
                      this.t1 < 0 && this.t1 > -1e-8 && (this.t1 = 0),
                      this.t1 > 1 && this.t1 < 1 + 1e-8 && (this.t1 = 1),
                      this.qt0 < 0 && this.qt0 > -1e-8 && (this.qt0 = 0),
                      this.qt0 > 1 && this.qt0 < 1 + 1e-8 && (this.qt0 = 1),
                      this.qt1 < 0 && this.qt1 > -1e-8 && (this.qt1 = 0),
                      this.qt1 > 1 && this.qt1 < 1 + 1e-8 && (this.qt1 = 1);
                  }
                  apply(e) {
                    return this.a * e + this.b;
                  }
                  applyInverse(e) {
                    return (e - this.b) / this.a;
                  }
                  static createLinear(e, t, i, s) {
                    const n = (s - t) / (i - e);
                    return new c(n, t - e * n);
                  }
                }
                r.register("Overlap", c);
                class u {
                  constructor(e, t, i, s, n) {
                    (this.point = t),
                      (this.normal = i),
                      (this.distance = e),
                      (this.wind = s),
                      (this.t = o.Z.clamp(n, 0, 1));
                  }
                }
                r.register("RayIntersection", u);
                class p {
                  constructor(e, t, i) {
                    (this.point = e),
                      (this.aT = o.Z.clamp(t, 0, 1)),
                      (this.bT = o.Z.clamp(i, 0, 1));
                  }
                  getSwapped() {
                    return new p(this.point, this.bT, this.aT);
                  }
                }
                r.register("SegmentIntersection", p);
                const g = (e) => e.toFixed(20);
                r.register("svgNumber", g);
                const m = g;
                function A(e) {
                  return (
                    '"' +
                    e
                      .replace(/\\/g, "\\\\")
                      .replace(/"/g, '\\"')
                      .replace(/\x08/g, "\\b")
                      .replace(/\t/g, "\\t")
                      .replace(/\n/g, "\\n")
                      .replace(/\f/g, "\\f")
                      .replace(/\r/g, "\\r")
                      .replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g, escape) +
                    '"'
                  );
                }
                const y = {
                  parse: function (e, t) {
                    const i = {
                      svgPath: function () {
                        let e, t, i, n, r, o;
                        (r = s), (o = s), (e = []), (t = Q());
                        for (; null !== t; ) e.push(t), (t = Q());
                        if (null !== e)
                          if (
                            ((t = a()), (t = null !== t ? t : ""), null !== t)
                          ) {
                            for (i = [], n = Q(); null !== n; )
                              i.push(n), (n = Q());
                            null !== i
                              ? (e = [e, t, i])
                              : ((e = null), (s = o));
                          } else (e = null), (s = o);
                        else (e = null), (s = o);
                        null !== e && ((h = e[1]), (e = h || []));
                        var h;
                        null === e && (s = r);
                        return e;
                      },
                      movetoDrawtoCommandGroups: a,
                      movetoDrawtoCommandGroup: h,
                      drawtoCommands: l,
                      drawtoCommand: d,
                      moveto: c,
                      movetoArgumentSequence: u,
                      closepath: p,
                      lineto: g,
                      linetoArgumentSequence: m,
                      horizontalLineto: y,
                      horizontalLinetoArgumentSequence: f,
                      verticalLineto: P,
                      verticalLinetoArgumentSequence: b,
                      curveto: v,
                      curvetoArgumentSequence: V,
                      curvetoArgument: w,
                      smoothCurveto: E,
                      smoothCurvetoArgumentSequence: S,
                      smoothCurvetoArgument: T,
                      quadraticBezierCurveto: x,
                      quadraticBezierCurvetoArgumentSequence: C,
                      quadraticBezierCurvetoArgument: I,
                      smoothQuadraticBezierCurveto: D,
                      smoothQuadraticBezierCurvetoArgumentSequence: k,
                      ellipticalArc: O,
                      ellipticalArcArgumentSequence: L,
                      ellipticalArcArgument: B,
                      coordinatePair: M,
                      nonnegativeNumber: N,
                      number: R,
                      flag: q,
                      commaWsp: F,
                      comma: Z,
                      floatingPointConstant: H,
                      fractionalConstant: Y,
                      exponent: G,
                      sign: W,
                      digitSequence: z,
                      digit: X,
                      wsp: Q,
                    };
                    if (void 0 !== t) {
                      if (void 0 === i[t])
                        throw new Error("Invalid rule name: " + A(t) + ".");
                    } else t = "svgPath";
                    let s = 0;
                    let n = 0,
                      r = [];
                    function o(e) {
                      s < n || (s > n && ((n = s), (r = [])), r.push(e));
                    }
                    function a() {
                      let e, t, i, n, r;
                      if (((n = s), (r = s), (e = h()), null !== e)) {
                        for (t = [], i = Q(); null !== i; )
                          t.push(i), (i = Q());
                        null !== t
                          ? ((i = a()),
                            null !== i
                              ? (e = [e, t, i])
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r));
                      } else (e = null), (s = r);
                      var o, l;
                      return (
                        null !== e &&
                          ((o = e[0]), (l = e[2]), (e = o.concat(l))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = h()),
                          null !== e &&
                            (e = (function (e, t) {
                              return t;
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function h() {
                      let e, t, i, n, r;
                      if (((n = s), (r = s), (e = c()), null !== e)) {
                        for (t = [], i = Q(); null !== i; )
                          t.push(i), (i = Q());
                        null !== t
                          ? ((i = l()),
                            (i = null !== i ? i : ""),
                            null !== i
                              ? (e = [e, t, i])
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r));
                      } else (e = null), (s = r);
                      var o, a;
                      return (
                        null !== e &&
                          ((o = e[0]),
                          (e = (a = e[2]).length ? o.concat(a) : o)),
                        null === e && (s = n),
                        e
                      );
                    }
                    function l() {
                      let e, t, i, n, r;
                      if (((n = s), (r = s), (e = d()), null !== e)) {
                        for (t = [], i = Q(); null !== i; )
                          t.push(i), (i = Q());
                        null !== t
                          ? ((i = l()),
                            null !== i
                              ? (e = [e, t, i])
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r));
                      } else (e = null), (s = r);
                      var o, a;
                      return (
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = o.concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = d()),
                          null !== e &&
                            (e = (function (e, t) {
                              return t;
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function d() {
                      let e;
                      return (
                        (e = p()),
                        null === e &&
                          ((e = g()),
                          null === e &&
                            ((e = y()),
                            null === e &&
                              ((e = P()),
                              null === e &&
                                ((e = v()),
                                null === e &&
                                  ((e = E()),
                                  null === e &&
                                    ((e = x()),
                                    null === e &&
                                      ((e = D()),
                                      null === e && (e = O())))))))),
                        e
                      );
                    }
                    function c() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        77 === e.charCodeAt(s)
                          ? ((t = "M"), s++)
                          : ((t = null), o('"M"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = u()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t && (t = U(t[2], !1)),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          109 === e.charCodeAt(s)
                            ? ((t = "m"), s++)
                            : ((t = null), o('"m"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = u()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return U(t, !0);
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function u() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = m()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = M()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function p() {
                      let t, i;
                      return (
                        (i = s),
                        90 === e.charCodeAt(s)
                          ? ((t = "Z"), s++)
                          : ((t = null), o('"Z"')),
                        null === t &&
                          (122 === e.charCodeAt(s)
                            ? ((t = "z"), s++)
                            : ((t = null), o('"z"'))),
                        null !== t && (t = { cmd: "close" }),
                        null === t && (s = i),
                        t
                      );
                    }
                    function g() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        76 === e.charCodeAt(s)
                          ? ((t = "L"), s++)
                          : ((t = null), o('"L"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = m()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "lineTo",
                            args: [e.x, e.y],
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          108 === e.charCodeAt(s)
                            ? ((t = "l"), s++)
                            : ((t = null), o('"l"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = m()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "lineToRelative",
                              args: [e.x, e.y],
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function m() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = m()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = M()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function y() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        72 === e.charCodeAt(s)
                          ? ((t = "H"), s++)
                          : ((t = null), o('"H"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = f()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "horizontalLineTo",
                            args: [e],
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          104 === e.charCodeAt(s)
                            ? ((t = "h"), s++)
                            : ((t = null), o('"h"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = f()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "horizontalLineToRelative",
                              args: [e],
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function f() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = R()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = f()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = R()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function P() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        86 === e.charCodeAt(s)
                          ? ((t = "V"), s++)
                          : ((t = null), o('"V"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = b()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "verticalLineTo",
                            args: [e],
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          118 === e.charCodeAt(s)
                            ? ((t = "v"), s++)
                            : ((t = null), o('"v"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = b()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "verticalLineToRelative",
                              args: [e],
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function b() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = R()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = b()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = R()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function v() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        67 === e.charCodeAt(s)
                          ? ((t = "C"), s++)
                          : ((t = null), o('"C"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = V()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "cubicCurveTo",
                            args: e,
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          99 === e.charCodeAt(s)
                            ? ((t = "c"), s++)
                            : ((t = null), o('"c"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = V()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "cubicCurveToRelative",
                              args: e,
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function V() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = w()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = V()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = w()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function w() {
                      let e, t, i, n, r, o, a;
                      var h, l, d;
                      return (
                        (o = s),
                        (a = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = M()),
                                null !== i
                                  ? ((n = F()),
                                    (n = null !== n ? n : ""),
                                    null !== n
                                      ? ((r = M()),
                                        null !== r
                                          ? (e = [e, t, i, n, r])
                                          : ((e = null), (s = a)))
                                      : ((e = null), (s = a)))
                                  : ((e = null), (s = a)))
                              : ((e = null), (s = a)))
                          : ((e = null), (s = a)),
                        null !== e &&
                          ((h = e[0]),
                          (l = e[2]),
                          (d = e[4]),
                          (e = [h.x, h.y, l.x, l.y, d.x, d.y])),
                        null === e && (s = o),
                        e
                      );
                    }
                    function E() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        83 === e.charCodeAt(s)
                          ? ((t = "S"), s++)
                          : ((t = null), o('"S"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = S()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "smoothCubicCurveTo",
                            args: e,
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          115 === e.charCodeAt(s)
                            ? ((t = "s"), s++)
                            : ((t = null), o('"s"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = S()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "smoothCubicCurveToRelative",
                              args: e,
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function S() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = T()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = S()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = T()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function T() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = M()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o.x, o.y, a.x, a.y])),
                        null === e && (s = n),
                        e
                      );
                    }
                    function x() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        81 === e.charCodeAt(s)
                          ? ((t = "Q"), s++)
                          : ((t = null), o('"Q"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = C()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "quadraticCurveTo",
                            args: e,
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          113 === e.charCodeAt(s)
                            ? ((t = "q"), s++)
                            : ((t = null), o('"q"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = C()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "quadraticCurveToRelative",
                              args: e,
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function C() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = I()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = C()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = I()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function I() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = M()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o.x, o.y, a.x, a.y])),
                        null === e && (s = n),
                        e
                      );
                    }
                    function D() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        84 === e.charCodeAt(s)
                          ? ((t = "T"), s++)
                          : ((t = null), o('"T"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = k()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map((e) => ({
                            cmd: "smoothQuadraticCurveTo",
                            args: [e.x, e.y],
                          }))),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          116 === e.charCodeAt(s)
                            ? ((t = "t"), s++)
                            : ((t = null), o('"t"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = k()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map((e) => ({
                              cmd: "smoothQuadraticCurveToRelative",
                              args: [e.x, e.y],
                            }));
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function k() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = M()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = k()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = M()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function O() {
                      let t, i, n, r, a;
                      if (
                        ((r = s),
                        (a = s),
                        65 === e.charCodeAt(s)
                          ? ((t = "A"), s++)
                          : ((t = null), o('"A"')),
                        null !== t)
                      ) {
                        for (i = [], n = Q(); null !== n; )
                          i.push(n), (n = Q());
                        null !== i
                          ? ((n = L()),
                            null !== n
                              ? (t = [t, i, n])
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a));
                      } else (t = null), (s = a);
                      if (
                        (null !== t &&
                          (t = t[2].map(
                            (e) => (
                              (e[2] *= Math.PI / 180),
                              { cmd: "ellipticalArcTo", args: e }
                            )
                          )),
                        null === t && (s = r),
                        null === t)
                      ) {
                        if (
                          ((r = s),
                          (a = s),
                          97 === e.charCodeAt(s)
                            ? ((t = "a"), s++)
                            : ((t = null), o('"a"')),
                          null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i
                            ? ((n = L()),
                              null !== n
                                ? (t = [t, i, n])
                                : ((t = null), (s = a)))
                            : ((t = null), (s = a));
                        } else (t = null), (s = a);
                        null !== t &&
                          (t = (function (e, t) {
                            return t.map(
                              (e) => (
                                (e[2] *= Math.PI / 180),
                                { cmd: "ellipticalArcToRelative", args: e }
                              )
                            );
                          })(0, t[2])),
                          null === t && (s = r);
                      }
                      return t;
                    }
                    function L() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = B()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = L()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = [o].concat(a))),
                        null === e && (s = n),
                        null === e &&
                          ((n = s),
                          (e = B()),
                          null !== e &&
                            (e = (function (e, t) {
                              return [t];
                            })(0, e)),
                          null === e && (s = n)),
                        e
                      );
                    }
                    function B() {
                      let e, t, i, n, r, o, a, h, l, d, c, u, p;
                      var g, m, A, y, f, P;
                      return (
                        (u = s),
                        (p = s),
                        (e = N()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = N()),
                                null !== i
                                  ? ((n = F()),
                                    (n = null !== n ? n : ""),
                                    null !== n
                                      ? ((r = R()),
                                        null !== r
                                          ? ((o = F()),
                                            null !== o
                                              ? ((a = q()),
                                                null !== a
                                                  ? ((h = F()),
                                                    (h = null !== h ? h : ""),
                                                    null !== h
                                                      ? ((l = q()),
                                                        null !== l
                                                          ? ((d = F()),
                                                            (d =
                                                              null !== d
                                                                ? d
                                                                : ""),
                                                            null !== d
                                                              ? ((c = M()),
                                                                null !== c
                                                                  ? (e = [
                                                                      e,
                                                                      t,
                                                                      i,
                                                                      n,
                                                                      r,
                                                                      o,
                                                                      a,
                                                                      h,
                                                                      l,
                                                                      d,
                                                                      c,
                                                                    ])
                                                                  : ((e = null),
                                                                    (s = p)))
                                                              : ((e = null),
                                                                (s = p)))
                                                          : ((e = null),
                                                            (s = p)))
                                                      : ((e = null), (s = p)))
                                                  : ((e = null), (s = p)))
                                              : ((e = null), (s = p)))
                                          : ((e = null), (s = p)))
                                      : ((e = null), (s = p)))
                                  : ((e = null), (s = p)))
                              : ((e = null), (s = p)))
                          : ((e = null), (s = p)),
                        null !== e &&
                          ((g = e[0]),
                          (m = e[2]),
                          (A = e[4]),
                          (y = e[6]),
                          (f = e[8]),
                          (P = e[10]),
                          (e = [g, m, A, y, f, P.x, P.y])),
                        null === e && (s = u),
                        e
                      );
                    }
                    function M() {
                      let e, t, i, n, r;
                      var o, a;
                      return (
                        (n = s),
                        (r = s),
                        (e = R()),
                        null !== e
                          ? ((t = F()),
                            (t = null !== t ? t : ""),
                            null !== t
                              ? ((i = R()),
                                null !== i
                                  ? (e = [e, t, i])
                                  : ((e = null), (s = r)))
                              : ((e = null), (s = r)))
                          : ((e = null), (s = r)),
                        null !== e &&
                          ((o = e[0]), (a = e[2]), (e = { x: o, y: a })),
                        null === e && (s = n),
                        e
                      );
                    }
                    function N() {
                      let e, t;
                      return (
                        (t = s),
                        (e = H()),
                        null !== e && (e = parseFloat(e)),
                        null === e && (s = t),
                        null === e &&
                          ((t = s),
                          (e = z()),
                          null !== e &&
                            (e = (function (e, t) {
                              return Number(t);
                            })(0, e)),
                          null === e && (s = t)),
                        e
                      );
                    }
                    function R() {
                      let e, t, i, n;
                      var r, o;
                      return (
                        (i = s),
                        (n = s),
                        (e = W()),
                        (e = null !== e ? e : ""),
                        null !== e
                          ? ((t = H()),
                            null !== t ? (e = [e, t]) : ((e = null), (s = n)))
                          : ((e = null), (s = n)),
                        null !== e &&
                          ((r = e[0]), (o = e[1]), (e = parseFloat(r + o))),
                        null === e && (s = i),
                        null === e &&
                          ((i = s),
                          (n = s),
                          (e = W()),
                          (e = null !== e ? e : ""),
                          null !== e
                            ? ((t = z()),
                              null !== t ? (e = [e, t]) : ((e = null), (s = n)))
                            : ((e = null), (s = n)),
                          null !== e &&
                            (e = (function (e, t, i) {
                              return Number(t + i);
                            })(0, e[0], e[1])),
                          null === e && (s = i)),
                        e
                      );
                    }
                    function q() {
                      let t, i;
                      return (
                        (i = s),
                        48 === e.charCodeAt(s)
                          ? ((t = "0"), s++)
                          : ((t = null), o('"0"')),
                        null !== t && (t = !1),
                        null === t && (s = i),
                        null === t &&
                          ((i = s),
                          49 === e.charCodeAt(s)
                            ? ((t = "1"), s++)
                            : ((t = null), o('"1"')),
                          null !== t && (t = !0),
                          null === t && (s = i)),
                        t
                      );
                    }
                    function F() {
                      let e, t, i, n, r;
                      if (((r = s), (t = Q()), null !== t))
                        for (e = []; null !== t; ) e.push(t), (t = Q());
                      else e = null;
                      if (null !== e)
                        if (
                          ((t = Z()), (t = null !== t ? t : ""), null !== t)
                        ) {
                          for (i = [], n = Q(); null !== n; )
                            i.push(n), (n = Q());
                          null !== i ? (e = [e, t, i]) : ((e = null), (s = r));
                        } else (e = null), (s = r);
                      else (e = null), (s = r);
                      if (null === e)
                        if (((r = s), (e = Z()), null !== e)) {
                          for (t = [], i = Q(); null !== i; )
                            t.push(i), (i = Q());
                          null !== t ? (e = [e, t]) : ((e = null), (s = r));
                        } else (e = null), (s = r);
                      return e;
                    }
                    function Z() {
                      let t;
                      return (
                        44 === e.charCodeAt(s)
                          ? ((t = ","), s++)
                          : ((t = null), o('","')),
                        t
                      );
                    }
                    function H() {
                      let e, t, i, n;
                      var r, o;
                      return (
                        (i = s),
                        (n = s),
                        (e = Y()),
                        null !== e
                          ? ((t = G()),
                            (t = null !== t ? t : ""),
                            null !== t ? (e = [e, t]) : ((e = null), (s = n)))
                          : ((e = null), (s = n)),
                        null !== e && ((r = e[0]), (o = e[1]), (e = r + o)),
                        null === e && (s = i),
                        null === e &&
                          ((i = s),
                          (n = s),
                          (e = z()),
                          null !== e
                            ? ((t = G()),
                              null !== t ? (e = [e, t]) : ((e = null), (s = n)))
                            : ((e = null), (s = n)),
                          null !== e &&
                            (e = (function (e, t, i) {
                              return t + i;
                            })(0, e[0], e[1])),
                          null === e && (s = i)),
                        e
                      );
                    }
                    function Y() {
                      let t, i, n, r, a;
                      var h, l;
                      return (
                        (r = s),
                        (a = s),
                        (t = z()),
                        (t = null !== t ? t : ""),
                        null !== t
                          ? (46 === e.charCodeAt(s)
                              ? ((i = "."), s++)
                              : ((i = null), o('"."')),
                            null !== i
                              ? ((n = z()),
                                null !== n
                                  ? (t = [t, i, n])
                                  : ((t = null), (s = a)))
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a)),
                        null !== t &&
                          ((h = t[0]), (l = t[2]), (t = h + "." + l)),
                        null === t && (s = r),
                        null === t &&
                          ((r = s),
                          (a = s),
                          (t = z()),
                          null !== t
                            ? (46 === e.charCodeAt(s)
                                ? ((i = "."), s++)
                                : ((i = null), o('"."')),
                              null !== i ? (t = [t, i]) : ((t = null), (s = a)))
                            : ((t = null), (s = a)),
                          null !== t &&
                            (t = (function (e, t) {
                              return t;
                            })(0, t[0])),
                          null === t && (s = r)),
                        t
                      );
                    }
                    function G() {
                      let t, i, n, r, a;
                      var h, l, d;
                      return (
                        (r = s),
                        (a = s),
                        101 === e.charCodeAt(s)
                          ? ((t = "e"), s++)
                          : ((t = null), o('"e"')),
                        null === t &&
                          (69 === e.charCodeAt(s)
                            ? ((t = "E"), s++)
                            : ((t = null), o('"E"'))),
                        null !== t
                          ? ((i = W()),
                            (i = null !== i ? i : ""),
                            null !== i
                              ? ((n = z()),
                                null !== n
                                  ? (t = [t, i, n])
                                  : ((t = null), (s = a)))
                              : ((t = null), (s = a)))
                          : ((t = null), (s = a)),
                        null !== t &&
                          ((h = t[0]), (l = t[1]), (d = t[2]), (t = h + l + d)),
                        null === t && (s = r),
                        t
                      );
                    }
                    function W() {
                      let t;
                      return (
                        43 === e.charCodeAt(s)
                          ? ((t = "+"), s++)
                          : ((t = null), o('"+"')),
                        null === t &&
                          (45 === e.charCodeAt(s)
                            ? ((t = "-"), s++)
                            : ((t = null), o('"-"'))),
                        t
                      );
                    }
                    function z() {
                      let e, t, i, n;
                      var r, o;
                      return (
                        (i = s),
                        (n = s),
                        (e = X()),
                        null !== e
                          ? ((t = z()),
                            null !== t ? (e = [e, t]) : ((e = null), (s = n)))
                          : ((e = null), (s = n)),
                        null !== e && ((r = e[0]), (o = e[1]), (e = r + o)),
                        null === e && (s = i),
                        null === e && (e = X()),
                        e
                      );
                    }
                    function X() {
                      let t;
                      return (
                        /^[0-9]/.test(e.charAt(s))
                          ? ((t = e.charAt(s)), s++)
                          : ((t = null), o("[0-9]")),
                        t
                      );
                    }
                    function Q() {
                      let t;
                      return (
                        32 === e.charCodeAt(s)
                          ? ((t = " "), s++)
                          : ((t = null), o('" "')),
                        null === t &&
                          (9 === e.charCodeAt(s)
                            ? ((t = "\t"), s++)
                            : ((t = null), o('"\\t"')),
                          null === t &&
                            (13 === e.charCodeAt(s)
                              ? ((t = "\r"), s++)
                              : ((t = null), o('"\\r"')),
                            null === t &&
                              (10 === e.charCodeAt(s)
                                ? ((t = "\n"), s++)
                                : ((t = null), o('"\\n"'))))),
                        t
                      );
                    }
                    function U(e, t) {
                      const i = [
                        {
                          cmd: t ? "moveToRelative" : "moveTo",
                          args: [e[0].x, e[0].y],
                        },
                      ];
                      if (e.length > 1)
                        for (let s = 1; s < e.length; s++)
                          i.push({
                            cmd: t ? "lineToRelative" : "lineTo",
                            args: [e[s].x, e[s].y],
                          });
                      return i;
                    }
                    const j = i[t]();
                    if (null === j || s !== e.length) {
                      const t = Math.max(s, n),
                        i = t < e.length ? e.charAt(t) : null,
                        o = (function () {
                          let t = 1,
                            i = 1,
                            r = !1;
                          for (let o = 0; o < Math.max(s, n); o++) {
                            const s = e.charAt(o);
                            "\n" === s
                              ? (r || t++, (i = 1), (r = !1))
                              : "\r" === s || "\u2028" === s || "\u2029" === s
                              ? (t++, (i = 1), (r = !0))
                              : (i++, (r = !1));
                          }
                          return { line: t, column: i };
                        })();
                      throw new this.SyntaxError(
                        (function (e) {
                          e.sort();
                          let t = null;
                          const i = [];
                          for (let s = 0; s < e.length; s++)
                            e[s] !== t && (i.push(e[s]), (t = e[s]));
                          return i;
                        })(r),
                        i,
                        t,
                        o.line,
                        o.column
                      );
                    }
                    return j;
                  },
                  toSource: function () {
                    return this._source;
                  },
                  SyntaxError: function (e, t, i, s, n) {
                    (this.name = "SyntaxError"),
                      (this.expected = e),
                      (this.found = t),
                      (this.message = (function (e, t) {
                        let i, s;
                        switch (e.length) {
                          case 0:
                            i = "end of input";
                            break;
                          case 1:
                            i = e[0];
                            break;
                          default:
                            i =
                              e.slice(0, e.length - 1).join(", ") +
                              " or " +
                              e[e.length - 1];
                        }
                        return (
                          (s = t ? A(t) : "end of input"),
                          "Expected " + i + " but " + s + " found."
                        );
                      })(e, t)),
                      (this.offset = i),
                      (this.line = s),
                      (this.column = n);
                  },
                };
                (y.SyntaxError.prototype = Error.prototype),
                  r.register("svgPath", y);
                const f = r.svgPath;
                var P = i(1685),
                  b = i(1603),
                  v = i(2550);
                class V {
                  constructor() {
                    this.invalidationEmitter = new P.Z();
                  }
                  areStrokedBoundsDilated() {
                    return (
                      Math.abs(this.startTangent.x * this.startTangent.y) <
                        1e-7 &&
                      Math.abs(this.endTangent.x * this.endTangent.y) < 1e-7
                    );
                  }
                  getBoundsWithTransform(e) {
                    return this.transformed(e).getBounds();
                  }
                  slice(e, t) {
                    let i = this;
                    return (
                      t < 1 && (i = i.subdivided(t)[0]),
                      e > 0 && (i = i.subdivided(o.Z.linear(0, t, 0, 1, e))[1]),
                      i
                    );
                  }
                  subdivisions(e) {
                    let t = this;
                    const i = [];
                    for (let s = 0; s < e.length; s++) {
                      const n = e[s],
                        r = t.subdivided(n);
                      i.push(r[0]), (t = r[1]);
                      for (let t = s + 1; t < e.length; t++)
                        e[t] = o.Z.linear(n, 1, 0, 1, e[t]);
                    }
                    return i.push(t), i;
                  }
                  subdividedIntoMonotone() {
                    return this.subdivisions(this.getInteriorExtremaTs());
                  }
                  isSufficientlyFlat(e, t) {
                    const i = this.start,
                      s = this.positionAt(0.5),
                      n = this.end;
                    return V.isSufficientlyFlat(e, t, i, s, n);
                  }
                  getArcLength(e, t, i) {
                    if (
                      ((e = void 0 === e ? 1e-10 : e),
                      (t = void 0 === t ? 1e-8 : t),
                      (i = void 0 === i ? 15 : i) <= 0 ||
                        this.isSufficientlyFlat(e, t))
                    )
                      return this.start.distance(this.end);
                    {
                      const s = this.subdivided(0.5);
                      return (
                        s[0].getArcLength(e, t, i - 1) +
                        s[1].getArcLength(e, t, i - 1)
                      );
                    }
                  }
                  getDashValues(e, t, i, s) {
                    const n = this,
                      r = [];
                    let a = 0;
                    const h = _.sum(e);
                    (t %= h) < 0 && (t += h);
                    let l = 0,
                      d = 0,
                      c = !0;
                    function u() {
                      (l = (l + 1) % e.length), (c = !c);
                    }
                    for (; t > 0; )
                      t >= e[l] ? ((t -= e[l]), u()) : ((d = t), (t = 0));
                    const p = c;
                    return (
                      (function t(h, c, p, g, m) {
                        const A = (h + c) / 2,
                          y = n.positionAt(A);
                        if (m > 14 || V.isSufficientlyFlat(i, s, p, y, g)) {
                          const t = p.distance(y) + y.distance(g);
                          a += t;
                          let i = t;
                          for (; d + i >= e[l]; ) {
                            const s = o.Z.linear(0, t, h, c, t - i + e[l] - d);
                            r.push(s), (i -= e[l] - d), (d = 0), u();
                          }
                          d += i;
                        } else t(h, A, p, y, m + 1), t(A, c, y, g, m + 1);
                      })(0, 1, this.start, this.end, 0),
                      { values: r, arcLength: a, initiallyInside: p }
                    );
                  }
                  toPiecewiseLinearSegments(e, t, i, s, n, r) {
                    (t = void 0 === t ? e.minLevels : t),
                      (i = void 0 === i ? e.maxLevels : i),
                      (s = s || []);
                    const o = e.pointMap || _.identity;
                    (n = n || o(this.start)), (r = r || o(this.end));
                    const a = o(this.positionAt(0.5));
                    let h = 0 === i;
                    if (
                      (!h &&
                        t <= 0 &&
                        (h = this.isSufficientlyFlat(
                          null === e.distanceEpsilon ||
                            void 0 === e.distanceEpsilon
                            ? Number.POSITIVE_INFINITY
                            : e.distanceEpsilon,
                          null === e.curveEpsilon || void 0 === e.curveEpsilon
                            ? Number.POSITIVE_INFINITY
                            : e.curveEpsilon
                        )),
                      h)
                    )
                      s.push(new x(n, r));
                    else {
                      const o = this.subdivided(0.5);
                      o[0].toPiecewiseLinearSegments(e, t - 1, i - 1, s, n, a),
                        o[1].toPiecewiseLinearSegments(
                          e,
                          t - 1,
                          i - 1,
                          s,
                          a,
                          r
                        );
                    }
                    return s;
                  }
                  toPiecewiseLinearOrArcSegments(e) {
                    const t = (0, v.ZP)()(
                        {
                          minLevels: 2,
                          maxLevels: 7,
                          curvatureThreshold: 0.02,
                          errorThreshold: 10,
                          errorPoints: [0.25, 0.75],
                        },
                        e
                      ),
                      i = [];
                    return (
                      this.toPiecewiseLinearOrArcRecursion(
                        t,
                        t.minLevels,
                        t.maxLevels,
                        i,
                        0,
                        1,
                        this.positionAt(0),
                        this.positionAt(1),
                        this.curvatureAt(0),
                        this.curvatureAt(1)
                      ),
                      i
                    );
                  }
                  toPiecewiseLinearOrArcRecursion(
                    e,
                    t,
                    i,
                    s,
                    n,
                    r,
                    o,
                    a,
                    h,
                    l
                  ) {
                    const d = (n + r) / 2,
                      c = this.positionAt(d),
                      u = this.curvatureAt(d);
                    if (
                      i <= 0 ||
                      (t <= 0 &&
                        Math.abs(h - u) + Math.abs(u - l) <
                          2 * e.curvatureThreshold)
                    ) {
                      const t = Y.createFromPoints(o, c, a);
                      let i = !1;
                      if (t instanceof Y) {
                        const s = t.radius * t.radius;
                        for (let o = 0; o < e.errorPoints.length; o++) {
                          const a = e.errorPoints[o],
                            h = this.positionAt(n * (1 - a) + r * a);
                          if (
                            Math.abs(h.distanceSquared(t.center) - s) >
                            e.errorThreshold
                          ) {
                            i = !0;
                            break;
                          }
                        }
                      }
                      if (!i) return void s.push(t);
                    }
                    this.toPiecewiseLinearOrArcRecursion(
                      e,
                      t - 1,
                      i - 1,
                      s,
                      n,
                      d,
                      o,
                      c,
                      h,
                      u
                    ),
                      this.toPiecewiseLinearOrArcRecursion(
                        e,
                        t - 1,
                        i - 1,
                        s,
                        d,
                        r,
                        c,
                        a,
                        u,
                        l
                      );
                  }
                  toShape() {
                    return new ie([new K([this])]);
                  }
                  static closestToPoint(e, t, i) {
                    const s = i * i;
                    let n = [],
                      r = [],
                      o = Number.POSITIVE_INFINITY,
                      a = !1;
                    for (
                      _.each(e, (e) => {
                        if (e instanceof x) {
                          const i = e.explicitClosestToPoint(t);
                          _.each(i, (e) => {
                            e.distanceSquared < o
                              ? ((r = [e]), (o = e.distanceSquared))
                              : e.distanceSquared === o && r.push(e);
                          });
                        } else {
                          const i = [0]
                            .concat(e.getInteriorExtremaTs())
                            .concat([1]);
                          for (let s = 0; s < i.length - 1; s++) {
                            const a = i[s],
                              h = i[s + 1],
                              l = e.positionAt(a),
                              d = e.positionAt(h),
                              c = b.Z.point(l).addPoint(d),
                              u = c.minimumDistanceToPointSquared(t);
                            if (u <= o) {
                              const i = c.maximumDistanceToPointSquared(t);
                              i < o && ((o = i), (r = [])),
                                n.push({
                                  ta: a,
                                  tb: h,
                                  pa: l,
                                  pb: d,
                                  segment: e,
                                  bounds: c,
                                  min: u,
                                  max: i,
                                });
                            }
                          }
                        }
                      });
                      n.length && !a;

                    ) {
                      const e = n;
                      (n = []), (a = !0);
                      for (const i of e) {
                        if (i.min > o) continue;
                        a && i.pa.distanceSquared(i.pb) > s && (a = !1);
                        const e = (i.ta + i.tb) / 2,
                          h = i.segment.positionAt(e),
                          l = b.Z.point(i.pa).addPoint(h),
                          d = b.Z.point(i.pb).addPoint(h),
                          c = l.minimumDistanceToPointSquared(t),
                          u = d.minimumDistanceToPointSquared(t);
                        if (c <= o) {
                          const s = l.maximumDistanceToPointSquared(t);
                          s < o && ((o = s), (r = [])),
                            n.push({
                              ta: i.ta,
                              tb: e,
                              pa: i.pa,
                              pb: h,
                              segment: i.segment,
                              bounds: l,
                              min: c,
                              max: s,
                            });
                        }
                        if (u <= o) {
                          const s = d.maximumDistanceToPointSquared(t);
                          s < o && ((o = s), (r = [])),
                            n.push({
                              ta: e,
                              tb: i.tb,
                              pa: h,
                              pb: i.pb,
                              segment: i.segment,
                              bounds: d,
                              min: u,
                              max: s,
                            });
                        }
                      }
                    }
                    return (
                      _.each(n, (e) => {
                        const i = (e.ta + e.tb) / 2,
                          s = e.segment.positionAt(i);
                        r.push({
                          segment: e.segment,
                          t: i,
                          closestPoint: s,
                          distanceSquared: t.distanceSquared(s),
                        });
                      }),
                      r
                    );
                  }
                  static polynomialGetOverlapCubic(e, t, i, s, n, r, o, a) {
                    if (0 === a)
                      return V.polynomialGetOverlapQuadratic(e, t, i, n, r, o);
                    const h =
                      Math.sign(s / a) * Math.pow(Math.abs(s / a), 1 / 3);
                    return 0 === h
                      ? null
                      : { a: h, b: (i - h * h * o) / (3 * h * h * a) };
                  }
                  static polynomialGetOverlapQuadratic(e, t, i, s, n, r) {
                    if (0 === r)
                      return V.polynomialGetOverlapLinear(e, t, s, n);
                    if (i / r < 0) return null;
                    const o = Math.sqrt(i / r);
                    return 0 === o
                      ? null
                      : { a: o, b: (t - o * n) / (2 * o * r) };
                  }
                  static polynomialGetOverlapLinear(e, t, i, s) {
                    if (0 === s) return e === i || null;
                    const n = t / s;
                    return 0 === n ? null : { a: n, b: (e - i) / s };
                  }
                  static intersect(e, t) {
                    return x && e instanceof x && t instanceof x
                      ? x.intersect(e, t)
                      : x && e instanceof x
                      ? x.intersectOther(e, t)
                      : x && t instanceof x
                      ? x.intersectOther(t, e).map(w)
                      : Y && e instanceof Y && t instanceof Y
                      ? Y.intersect(e, t)
                      : Q && e instanceof Q && t instanceof Q
                      ? Q.intersect(e, t)
                      : Ee.intersect(e, t);
                  }
                  static deserialize(e) {
                    return r[e.type].deserialize(e);
                  }
                  static isSufficientlyFlat(e, t, i, s, n) {
                    return (
                      !(
                        o.Z.distToSegmentSquared(s, i, n) /
                          i.distanceSquared(n) >
                        t
                      ) && !(o.Z.distToSegmentSquared(s, i, n) > e)
                    );
                  }
                }
                function w(e) {
                  return e.getSwapped();
                }
                r.register("Segment", V);
                var E = i(7840),
                  S = i(668);
                const T = new S.Z(0, 0);
                class x extends V {
                  constructor(e, t) {
                    super(),
                      (this._start = e),
                      (this._end = t),
                      this.invalidate();
                  }
                  setStart(e) {
                    return (
                      this._start.equals(e) ||
                        ((this._start = e), this.invalidate()),
                      this
                    );
                  }
                  set start(e) {
                    this.setStart(e);
                  }
                  get start() {
                    return this.getStart();
                  }
                  getStart() {
                    return this._start;
                  }
                  setEnd(e) {
                    return (
                      this._end.equals(e) ||
                        ((this._end = e), this.invalidate()),
                      this
                    );
                  }
                  set end(e) {
                    this.setEnd(e);
                  }
                  get end() {
                    return this.getEnd();
                  }
                  getEnd() {
                    return this._end;
                  }
                  positionAt(e) {
                    return this._start.plus(
                      this._end.minus(this._start).times(e)
                    );
                  }
                  tangentAt(e) {
                    return this.getStartTangent();
                  }
                  curvatureAt(e) {
                    return 0;
                  }
                  subdivided(e) {
                    if (0 === e || 1 === e) return [this];
                    const t = this.positionAt(e);
                    return [new x(this._start, t), new x(t, this._end)];
                  }
                  invalidate() {
                    (this._tangent = null),
                      (this._bounds = null),
                      (this._svgPathFragment = null),
                      this.invalidationEmitter.emit();
                  }
                  getStartTangent() {
                    return (
                      null === this._tangent &&
                        (this._tangent = this._end
                          .minus(this._start)
                          .normalized()),
                      this._tangent
                    );
                  }
                  get startTangent() {
                    return this.getStartTangent();
                  }
                  getEndTangent() {
                    return this.getStartTangent();
                  }
                  get endTangent() {
                    return this.getEndTangent();
                  }
                  getBounds() {
                    return (
                      null === this._bounds &&
                        (this._bounds = b.Z.NOTHING.copy()
                          .addPoint(this._start)
                          .addPoint(this._end)),
                      this._bounds
                    );
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getBoundsWithTransform(e) {
                    const t = b.Z.NOTHING.copy();
                    return (
                      t.addPoint(e.multiplyVector2(T.set(this._start))),
                      t.addPoint(e.multiplyVector2(T.set(this._end))),
                      t
                    );
                  }
                  getNondegenerateSegments() {
                    return this._start.equals(this._end) ? [] : [this];
                  }
                  getSVGPathFragment() {
                    return (
                      this._svgPathFragment ||
                        (this._svgPathFragment = `L ${m(this._end.x)} ${m(
                          this._end.y
                        )}`),
                      this._svgPathFragment
                    );
                  }
                  strokeLeft(e) {
                    const t = this.getEndTangent()
                      .perpendicular.negated()
                      .times(e / 2);
                    return [new x(this._start.plus(t), this._end.plus(t))];
                  }
                  strokeRight(e) {
                    const t = this.getStartTangent().perpendicular.times(e / 2);
                    return [new x(this._end.plus(t), this._start.plus(t))];
                  }
                  getInteriorExtremaTs() {
                    return [];
                  }
                  intersection(e) {
                    const t = [],
                      i = this._start,
                      s = this._end.minus(i);
                    if (0 === s.magnitudeSquared) return t;
                    const n = e.direction.y * s.x - e.direction.x * s.y;
                    if (0 === n) return t;
                    const r =
                      (e.direction.x * (i.y - e.position.y) -
                        e.direction.y * (i.x - e.position.x)) /
                      n;
                    if (r < 0 || r >= 1) return t;
                    const o =
                      (s.x * (i.y - e.position.y) -
                        s.y * (i.x - e.position.x)) /
                      n;
                    if (o < 1e-8) return t;
                    const a = s.perpendicular,
                      h = i.plus(s.times(r)),
                      l = (
                        a.dot(e.direction) > 0 ? a.negated() : a
                      ).normalized(),
                      d = e.direction.perpendicular.dot(s) < 0 ? 1 : -1;
                    return t.push(new u(o, h, l, d, r)), t;
                  }
                  windingIntersection(e) {
                    const t = this.intersection(e);
                    return t.length ? t[0].wind : 0;
                  }
                  writeToContext(e) {
                    e.lineTo(this._end.x, this._end.y);
                  }
                  transformed(e) {
                    return new x(
                      e.timesVector2(this._start),
                      e.timesVector2(this._end)
                    );
                  }
                  explicitClosestToPoint(e) {
                    const t = this._end.minus(this._start);
                    let i = e.minus(this._start).dot(t) / t.magnitudeSquared;
                    i = o.Z.clamp(i, 0, 1);
                    const s = this.positionAt(i);
                    return [
                      {
                        segment: this,
                        t: i,
                        closestPoint: s,
                        distanceSquared: e.distanceSquared(s),
                      },
                    ];
                  }
                  getSignedAreaFragment() {
                    return (
                      0.5 *
                      (this._start.x * this._end.y -
                        this._start.y * this._end.x)
                    );
                  }
                  reparameterized(e, t) {
                    return new x(this.positionAt(t), this.positionAt(e + t));
                  }
                  reversed() {
                    return new x(this._end, this._start);
                  }
                  polarToCartesian(e) {
                    return this._start.x === this._end.x
                      ? [
                          new x(
                            S.Z.createPolar(this._start.y, this._start.x),
                            S.Z.createPolar(this._end.y, this._end.x)
                          ),
                        ]
                      : this._start.y === this._end.y
                      ? [
                          new Y(
                            S.Z.ZERO,
                            this._start.y,
                            this._start.x,
                            this._end.x,
                            this._start.x > this._end.x
                          ),
                        ]
                      : this.toPiecewiseLinearSegments(e);
                  }
                  getArcLength() {
                    return this.start.distance(this.end);
                  }
                  toPiecewiseLinearOrArcSegments() {
                    return [this];
                  }
                  serialize() {
                    return {
                      type: "Line",
                      startX: this._start.x,
                      startY: this._start.y,
                      endX: this._end.x,
                      endY: this._end.y,
                    };
                  }
                  getOverlaps(e) {
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return e instanceof x ? x.getOverlaps(this, e) : null;
                  }
                  static deserialize(e) {
                    return new x(
                      new S.Z(e.startX, e.startY),
                      new S.Z(e.endX, e.endY)
                    );
                  }
                  static getOverlaps(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1e-6;
                    const s = [],
                      n = e._start.x,
                      r = -1 * e._start.x + e._end.x,
                      o = e._start.y,
                      a = -1 * e._start.y + e._end.y,
                      h = t._start.x,
                      l = -1 * t._start.x + t._end.x,
                      d = t._start.y,
                      u = -1 * t._start.y + t._end.y,
                      p = Math.abs(
                        Math.max(e._start.x, e._end.x, t._start.x, t._end.x) -
                          Math.min(e._start.x, e._end.x, t._start.x, t._end.x)
                      ),
                      g = Math.abs(
                        Math.max(e._start.y, e._end.y, t._start.y, t._end.y) -
                          Math.min(e._start.y, e._end.y, t._start.y, t._end.y)
                      ),
                      m = V.polynomialGetOverlapLinear(n, r, h, l),
                      A = V.polynomialGetOverlapLinear(o, a, d, u);
                    let y;
                    if (
                      ((y =
                        p > g
                          ? null === m || !0 === m
                            ? A
                            : m
                          : null === A || !0 === A
                          ? m
                          : A),
                      null === y || !0 === y)
                    )
                      return s;
                    const f = y.a,
                      P = y.b,
                      b = h + P * l - n,
                      v = f * l - r,
                      w = d + P * u - o,
                      E = f * u - a;
                    if (
                      Math.abs(b) > i ||
                      Math.abs(v + b) > i ||
                      Math.abs(w) > i ||
                      Math.abs(E + w) > i
                    )
                      return s;
                    const S = f + P;
                    return (P > 1 && S > 1) || (P < 0 && S < 0)
                      ? s
                      : [new c(f, P)];
                  }
                  static intersect(e, t) {
                    const i = o.Z.lineSegmentIntersection(
                      e.start.x,
                      e.start.y,
                      e.end.x,
                      e.end.y,
                      t.start.x,
                      t.start.y,
                      t.end.x,
                      t.end.y
                    );
                    if (null !== i) {
                      const s = e.explicitClosestToPoint(i)[0].t,
                        n = t.explicitClosestToPoint(i)[0].t;
                      return [new p(i, s, n)];
                    }
                    return [];
                  }
                  static intersectOther(e, t) {
                    const i = e.end.minus(e.start),
                      s = i.magnitude,
                      n = new E.Z(e.start, i.normalize()),
                      r = t.intersection(n),
                      o = [];
                    for (let a = 0; a < r.length; a++) {
                      const e = r[a],
                        t = e.distance / s;
                      t > 1e-8 &&
                        t < 1 - 1e-8 &&
                        o.push(new p(e.point, t, e.t));
                    }
                    return o;
                  }
                }
                r.register("Line", x);
                var C = i(9972);
                const I = o.Z.solveQuadraticRootsReal,
                  D = o.Z.arePointsCollinear;
                function k(e) {
                  return e >= 0 && e <= 1;
                }
                class O extends V {
                  constructor(e, t, i) {
                    super(),
                      (this._start = e),
                      (this._control = t),
                      (this._end = i),
                      this.invalidate();
                  }
                  setStart(e) {
                    return (
                      this._start.equals(e) ||
                        ((this._start = e), this.invalidate()),
                      this
                    );
                  }
                  set start(e) {
                    this.setStart(e);
                  }
                  get start() {
                    return this.getStart();
                  }
                  getStart() {
                    return this._start;
                  }
                  setControl(e) {
                    return (
                      this._control.equals(e) ||
                        ((this._control = e), this.invalidate()),
                      this
                    );
                  }
                  set control(e) {
                    this.setControl(e);
                  }
                  get control() {
                    return this.getControl();
                  }
                  getControl() {
                    return this._control;
                  }
                  setEnd(e) {
                    return (
                      this._end.equals(e) ||
                        ((this._end = e), this.invalidate()),
                      this
                    );
                  }
                  set end(e) {
                    this.setEnd(e);
                  }
                  get end() {
                    return this.getEnd();
                  }
                  getEnd() {
                    return this._end;
                  }
                  positionAt(e) {
                    const t = 1 - e;
                    return this._start
                      .times(t * t)
                      .plus(this._control.times(2 * t * e))
                      .plus(this._end.times(e * e));
                  }
                  tangentAt(e) {
                    return this._control
                      .minus(this._start)
                      .times(2 * (1 - e))
                      .plus(this._end.minus(this._control).times(2 * e));
                  }
                  curvatureAt(e) {
                    if (Math.abs(e - 0.5) > 0.5 - 1e-7) {
                      const t = e < 0.5,
                        i = t ? this._start : this._end,
                        s = this._control,
                        n = t ? this._end : this._start,
                        r = s.minus(i),
                        o = r.magnitude;
                      return (
                        ((t ? -1 : 1) *
                          r.perpendicular.normalized().dot(n.minus(s)) *
                          (this.degree - 1)) /
                        (this.degree * o * o)
                      );
                    }
                    return this.subdivided(e)[0].curvatureAt(1);
                  }
                  subdivided(e) {
                    if (0 === e || 1 === e) return [this];
                    const t = this._start.blend(this._control, e),
                      i = this._control.blend(this._end, e),
                      s = t.blend(i, e);
                    return [new O(this._start, t, s), new O(s, i, this._end)];
                  }
                  invalidate() {
                    (this._startTangent = null),
                      (this._endTangent = null),
                      (this._tCriticalX = null),
                      (this._tCriticalY = null),
                      (this._bounds = null),
                      (this._svgPathFragment = null),
                      this.invalidationEmitter.emit();
                  }
                  getStartTangent() {
                    if (null === this._startTangent) {
                      const e = this._start.equals(this._control);
                      this._startTangent = e
                        ? this._end.minus(this._start).normalized()
                        : this._control.minus(this._start).normalized();
                    }
                    return this._startTangent;
                  }
                  get startTangent() {
                    return this.getStartTangent();
                  }
                  getEndTangent() {
                    if (null === this._endTangent) {
                      const e = this._end.equals(this._control);
                      this._endTangent = e
                        ? this._end.minus(this._start).normalized()
                        : this._end.minus(this._control).normalized();
                    }
                    return this._endTangent;
                  }
                  get endTangent() {
                    return this.getEndTangent();
                  }
                  getTCriticalX() {
                    return (
                      null === this._tCriticalX &&
                        (this._tCriticalX = O.extremaT(
                          this._start.x,
                          this._control.x,
                          this._end.x
                        )),
                      this._tCriticalX
                    );
                  }
                  get tCriticalX() {
                    return this.getTCriticalX();
                  }
                  getTCriticalY() {
                    return (
                      null === this._tCriticalY &&
                        (this._tCriticalY = O.extremaT(
                          this._start.y,
                          this._control.y,
                          this._end.y
                        )),
                      this._tCriticalY
                    );
                  }
                  get tCriticalY() {
                    return this.getTCriticalY();
                  }
                  getNondegenerateSegments() {
                    const e = this._start,
                      t = this._control,
                      i = this._end,
                      s = e.equals(i),
                      n = e.equals(t),
                      r = e.equals(t);
                    if (s && n) return [];
                    if (s) {
                      const t = this.positionAt(0.5);
                      return [new x(e, t), new x(t, i)];
                    }
                    if (D(e, t, i)) {
                      if (n || r) return [new x(e, i)];
                      const s = i.minus(e),
                        o = t.minus(e).dot(s.normalized()) / s.magnitude,
                        a = O.extremaT(0, o, 1);
                      if (!isNaN(a) && a > 0 && a < 1) {
                        const t = this.positionAt(a);
                        return _.flatten([
                          new x(e, t).getNondegenerateSegments(),
                          new x(t, i).getNondegenerateSegments(),
                        ]);
                      }
                      return [new x(e, i)];
                    }
                    return [this];
                  }
                  getBounds() {
                    if (null === this._bounds) {
                      this._bounds = new b.Z(
                        Math.min(this._start.x, this._end.x),
                        Math.min(this._start.y, this._end.y),
                        Math.max(this._start.x, this._end.x),
                        Math.max(this._start.y, this._end.y)
                      );
                      const e = this.getTCriticalX(),
                        t = this.getTCriticalY();
                      !isNaN(e) &&
                        e > 0 &&
                        e < 1 &&
                        (this._bounds = this._bounds.withPoint(
                          this.positionAt(e)
                        )),
                        !isNaN(t) &&
                          t > 0 &&
                          t < 1 &&
                          (this._bounds = this._bounds.withPoint(
                            this.positionAt(t)
                          ));
                    }
                    return this._bounds;
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  offsetTo(e, t) {
                    let i = [this];
                    for (let n = 0; n < 5; n++)
                      i = _.flatten(_.map(i, (e) => e.subdivided(0.5)));
                    let s = _.map(i, (t) => t.approximateOffset(e));
                    return (
                      t && (s.reverse(), (s = _.map(s, (e) => e.reversed()))), s
                    );
                  }
                  degreeElevated() {
                    return new Z(
                      this._start,
                      this._start
                        .plus(this._control.timesScalar(2))
                        .dividedScalar(3),
                      this._end
                        .plus(this._control.timesScalar(2))
                        .dividedScalar(3),
                      this._end
                    );
                  }
                  approximateOffset(e) {
                    return new O(
                      this._start.plus(
                        (this._start.equals(this._control)
                          ? this._end.minus(this._start)
                          : this._control.minus(this._start)
                        ).perpendicular
                          .normalized()
                          .times(e)
                      ),
                      this._control.plus(
                        this._end
                          .minus(this._start)
                          .perpendicular.normalized()
                          .times(e)
                      ),
                      this._end.plus(
                        (this._end.equals(this._control)
                          ? this._end.minus(this._start)
                          : this._end.minus(this._control)
                        ).perpendicular
                          .normalized()
                          .times(e)
                      )
                    );
                  }
                  getSVGPathFragment() {
                    return (
                      this._svgPathFragment ||
                        (this._svgPathFragment = `Q ${m(this._control.x)} ${m(
                          this._control.y
                        )} ${m(this._end.x)} ${m(this._end.y)}`),
                      this._svgPathFragment
                    );
                  }
                  strokeLeft(e) {
                    return this.offsetTo(-e / 2, !1);
                  }
                  strokeRight(e) {
                    return this.offsetTo(e / 2, !0);
                  }
                  getInteriorExtremaTs() {
                    const e = [],
                      t = this.getTCriticalX(),
                      i = this.getTCriticalY();
                    return (
                      !isNaN(t) &&
                        t > 1e-10 &&
                        t < 1 - 1e-10 &&
                        e.push(this.tCriticalX),
                      !isNaN(i) &&
                        i > 1e-10 &&
                        i < 1 - 1e-10 &&
                        e.push(this.tCriticalY),
                      e.sort()
                    );
                  }
                  intersection(e) {
                    const t = [],
                      i = C.Z.rotation2(-e.direction.angle).timesMatrix(
                        C.Z.translation(-e.position.x, -e.position.y)
                      ),
                      s = i.timesVector2(this._start),
                      n = i.timesVector2(this._control),
                      r = i.timesVector2(this._end),
                      o = s.y - 2 * n.y + r.y,
                      a = -2 * s.y + 2 * n.y,
                      h = s.y,
                      l = I(o, a, h);
                    return (
                      _.each(l, (i) => {
                        if (i >= 0 && i <= 1) {
                          const s = this.positionAt(i),
                            n = this.tangentAt(i).normalized(),
                            r = n.perpendicular,
                            o = s.minus(e.position);
                          if (o.dot(e.direction) > 0) {
                            const a = r.dot(e.direction) > 0 ? r.negated() : r,
                              h = e.direction.perpendicular.dot(n) < 0 ? 1 : -1;
                            t.push(new u(o.magnitude, s, a, h, i));
                          }
                        }
                      }),
                      t
                    );
                  }
                  windingIntersection(e) {
                    let t = 0;
                    const i = this.intersection(e);
                    return (
                      _.each(i, (e) => {
                        t += e.wind;
                      }),
                      t
                    );
                  }
                  writeToContext(e) {
                    e.quadraticCurveTo(
                      this._control.x,
                      this._control.y,
                      this._end.x,
                      this._end.y
                    );
                  }
                  transformed(e) {
                    return new O(
                      e.timesVector2(this._start),
                      e.timesVector2(this._control),
                      e.timesVector2(this._end)
                    );
                  }
                  getSignedAreaFragment() {
                    return (
                      (1 / 6) *
                      (this._start.x * (2 * this._control.y + this._end.y) +
                        this._control.x *
                          (-2 * this._start.y + 2 * this._end.y) +
                        this._end.x * (-this._start.y - 2 * this._control.y))
                    );
                  }
                  reparameterized(e, t) {
                    const i = this._start.plus(
                        this._end.plus(this._control.timesScalar(-2))
                      ),
                      s = this._control.minus(this._start).timesScalar(2),
                      n = this._start,
                      r = i.timesScalar(e * e),
                      o = i
                        .timesScalar(e * t)
                        .timesScalar(2)
                        .plus(s.timesScalar(e)),
                      a = i
                        .timesScalar(t * t)
                        .plus(s.timesScalar(t))
                        .plus(n);
                    return new O(
                      a,
                      o.timesScalar(0.5).plus(a),
                      r.plus(o).plus(a)
                    );
                  }
                  reversed() {
                    return new O(this._end, this._control, this._start);
                  }
                  serialize() {
                    return {
                      type: "Quadratic",
                      startX: this._start.x,
                      startY: this._start.y,
                      controlX: this._control.x,
                      controlY: this._control.y,
                      endX: this._end.x,
                      endY: this._end.y,
                    };
                  }
                  getOverlaps(e) {
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return e instanceof O ? O.getOverlaps(this, e) : null;
                  }
                  static deserialize(e) {
                    return new O(
                      new S.Z(e.startX, e.startY),
                      new S.Z(e.controlX, e.controlY),
                      new S.Z(e.endX, e.endY)
                    );
                  }
                  static extremaT(e, t, i) {
                    const s = 2 * (i - 2 * t + e);
                    return 0 !== s ? (-2 * (t - e)) / s : NaN;
                  }
                  static getOverlaps(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1e-6;
                    const s = [],
                      n = e._start.x,
                      r = -2 * e._start.x + 2 * e._control.x,
                      a = e._start.x - 2 * e._control.x + e._end.x,
                      h = e._start.y,
                      l = -2 * e._start.y + 2 * e._control.y,
                      d = e._start.y - 2 * e._control.y + e._end.y,
                      u = t._start.x,
                      p = -2 * t._start.x + 2 * t._control.x,
                      g = t._start.x - 2 * t._control.x + t._end.x,
                      m = t._start.y,
                      A = -2 * t._start.y + 2 * t._control.y,
                      y = t._start.y - 2 * t._control.y + t._end.y,
                      f = Math.abs(
                        Math.max(
                          e._start.x,
                          e._control.x,
                          e._end.x,
                          t._start.x,
                          t._control.x,
                          t._end.x
                        ) -
                          Math.min(
                            e._start.x,
                            e._control.x,
                            e._end.x,
                            t._start.x,
                            t._control.x,
                            t._end.x
                          )
                      ),
                      P = Math.abs(
                        Math.max(
                          e._start.y,
                          e._control.y,
                          e._end.y,
                          t._start.y,
                          t._control.y,
                          t._end.y
                        ) -
                          Math.min(
                            e._start.y,
                            e._control.y,
                            e._end.y,
                            t._start.y,
                            t._control.y,
                            t._end.y
                          )
                      ),
                      b = V.polynomialGetOverlapQuadratic(n, r, a, u, p, g),
                      v = V.polynomialGetOverlapQuadratic(h, l, d, m, A, y);
                    let w;
                    if (
                      ((w =
                        f > P
                          ? null === b || !0 === b
                            ? v
                            : b
                          : null === v || !0 === v
                          ? b
                          : v),
                      null === w || !0 === w)
                    )
                      return s;
                    const E = w.a,
                      S = w.b,
                      T = E * E,
                      x = S * S,
                      C = 2 * E * S,
                      I = u + S * p + x * g - n,
                      D = E * p + C * g - r,
                      O = T * g - a,
                      L = m + S * A + x * y - h,
                      B = E * A + C * y - l,
                      M = T * y - d,
                      N = o.Z.solveLinearRootsReal(2 * O, D),
                      R = o.Z.solveLinearRootsReal(2 * M, B),
                      q = _.uniq([0, 1].concat(N ? N.filter(k) : [])),
                      F = _.uniq([0, 1].concat(R ? R.filter(k) : []));
                    for (let o = 0; o < q.length; o++) {
                      const e = q[o];
                      if (Math.abs((O * e + D) * e + I) > i) return s;
                    }
                    for (let o = 0; o < F.length; o++) {
                      const e = F[o];
                      if (Math.abs((M * e + B) * e + L) > i) return s;
                    }
                    const Z = E + S;
                    return (S > 1 && Z > 1) || (S < 0 && Z < 0)
                      ? s
                      : [new c(E, S)];
                  }
                }
                (O.prototype.degree = 2), r.register("Quadratic", O);
                const L = o.Z.solveQuadraticRootsReal,
                  B = o.Z.solveCubicRootsReal,
                  M = o.Z.arePointsCollinear,
                  N = new S.Z(0, 0),
                  R = new S.Z(0, 0),
                  q = new S.Z(0, 0);
                function F(e) {
                  return e >= 0 && e <= 1;
                }
                class Z extends V {
                  constructor(e, t, i, s) {
                    super(),
                      (this._start = e),
                      (this._control1 = t),
                      (this._control2 = i),
                      (this._end = s),
                      this.invalidate();
                  }
                  setStart(e) {
                    return (
                      this._start.equals(e) ||
                        ((this._start = e), this.invalidate()),
                      this
                    );
                  }
                  set start(e) {
                    this.setStart(e);
                  }
                  get start() {
                    return this.getStart();
                  }
                  getStart() {
                    return this._start;
                  }
                  setControl1(e) {
                    return (
                      this._control1.equals(e) ||
                        ((this._control1 = e), this.invalidate()),
                      this
                    );
                  }
                  set control1(e) {
                    this.setControl1(e);
                  }
                  get control1() {
                    return this.getControl1();
                  }
                  getControl1() {
                    return this._control1;
                  }
                  setControl2(e) {
                    return (
                      this._control2.equals(e) ||
                        ((this._control2 = e), this.invalidate()),
                      this
                    );
                  }
                  set control2(e) {
                    this.setControl2(e);
                  }
                  get control2() {
                    return this.getControl2();
                  }
                  getControl2() {
                    return this._control2;
                  }
                  setEnd(e) {
                    return (
                      this._end.equals(e) ||
                        ((this._end = e), this.invalidate()),
                      this
                    );
                  }
                  set end(e) {
                    this.setEnd(e);
                  }
                  get end() {
                    return this.getEnd();
                  }
                  getEnd() {
                    return this._end;
                  }
                  positionAt(e) {
                    const t = 1 - e,
                      i = t * t * t,
                      s = 3 * t * t * e,
                      n = 3 * t * e * e,
                      r = e * e * e;
                    return new S.Z(
                      this._start.x * i +
                        this._control1.x * s +
                        this._control2.x * n +
                        this._end.x * r,
                      this._start.y * i +
                        this._control1.y * s +
                        this._control2.y * n +
                        this._end.y * r
                    );
                  }
                  tangentAt(e) {
                    const t = 1 - e;
                    return new S.Z(0, 0)
                      .set(this._start)
                      .multiplyScalar(-3 * t * t)
                      .add(
                        N.set(this._control1).multiplyScalar(
                          3 * t * t - 6 * t * e
                        )
                      )
                      .add(
                        N.set(this._control2).multiplyScalar(
                          6 * t * e - 3 * e * e
                        )
                      )
                      .add(N.set(this._end).multiplyScalar(3 * e * e));
                  }
                  curvatureAt(e) {
                    if (Math.abs(e - 0.5) > 0.5 - 1e-7) {
                      const t = e < 0.5,
                        i = t ? this._start : this._end,
                        s = t ? this._control1 : this._control2,
                        n = t ? this._control2 : this._control1,
                        r = s.minus(i),
                        o = r.magnitude;
                      return (
                        ((t ? -1 : 1) *
                          r.perpendicular.normalized().dot(n.minus(s)) *
                          (this.degree - 1)) /
                        (this.degree * o * o)
                      );
                    }
                    return this.subdivided(e)[0].curvatureAt(1);
                  }
                  subdivided(e) {
                    if (0 === e || 1 === e) return [this];
                    const t = this._start.blend(this._control1, e),
                      i = this._control2.blend(this._end, e),
                      s = this._control1.blend(this._control2, e),
                      n = t.blend(s, e),
                      r = s.blend(i, e),
                      o = n.blend(r, e);
                    return [
                      new Z(this._start, t, n, o),
                      new Z(o, r, i, this._end),
                    ];
                  }
                  invalidate() {
                    (this._startTangent = null),
                      (this._endTangent = null),
                      (this._r = null),
                      (this._s = null),
                      (this._tCusp = null),
                      (this._tDeterminant = null),
                      (this._tInflection1 = null),
                      (this._tInflection2 = null),
                      (this._quadratics = null),
                      (this._xExtremaT = null),
                      (this._yExtremaT = null),
                      (this._bounds = null),
                      (this._svgPathFragment = null),
                      this.invalidationEmitter.emit();
                  }
                  getStartTangent() {
                    return (
                      null === this._startTangent &&
                        (this._startTangent = this.tangentAt(0).normalized()),
                      this._startTangent
                    );
                  }
                  get startTangent() {
                    return this.getStartTangent();
                  }
                  getEndTangent() {
                    return (
                      null === this._endTangent &&
                        (this._endTangent = this.tangentAt(1).normalized()),
                      this._endTangent
                    );
                  }
                  get endTangent() {
                    return this.getEndTangent();
                  }
                  getR() {
                    return (
                      null === this._r &&
                        (this._r = this._control1
                          .minus(this._start)
                          .normalized()),
                      this._r
                    );
                  }
                  get r() {
                    return this.getR();
                  }
                  getS() {
                    return (
                      null === this._s && (this._s = this.getR().perpendicular),
                      this._s
                    );
                  }
                  get s() {
                    return this.getS();
                  }
                  getTCusp() {
                    return (
                      null === this._tCusp && this.computeCuspInfo(),
                      this._tCusp
                    );
                  }
                  get tCusp() {
                    return this.getTCusp();
                  }
                  getTDeterminant() {
                    return (
                      null === this._tDeterminant && this.computeCuspInfo(),
                      this._tDeterminant
                    );
                  }
                  get tDeterminant() {
                    return this.getTDeterminant();
                  }
                  getTInflection1() {
                    return (
                      null === this._tInflection1 && this.computeCuspInfo(),
                      this._tInflection1
                    );
                  }
                  get tInflection1() {
                    return this.getTInflection1();
                  }
                  getTInflection2() {
                    return (
                      null === this._tInflection2 && this.computeCuspInfo(),
                      this._tInflection2
                    );
                  }
                  get tInflection2() {
                    return this.getTInflection2();
                  }
                  getQuadratics() {
                    return (
                      null === this._quadratics && this.computeCuspSegments(),
                      this._quadratics
                    );
                  }
                  getXExtremaT() {
                    return (
                      null === this._xExtremaT &&
                        (this._xExtremaT = Z.extremaT(
                          this._start.x,
                          this._control1.x,
                          this._control2.x,
                          this._end.x
                        )),
                      this._xExtremaT
                    );
                  }
                  get xExtremaT() {
                    return this.getXExtremaT();
                  }
                  getYExtremaT() {
                    return (
                      null === this._yExtremaT &&
                        (this._yExtremaT = Z.extremaT(
                          this._start.y,
                          this._control1.y,
                          this._control2.y,
                          this._end.y
                        )),
                      this._yExtremaT
                    );
                  }
                  get yExtremaT() {
                    return this.getYExtremaT();
                  }
                  getBounds() {
                    return (
                      null === this._bounds &&
                        ((this._bounds = b.Z.NOTHING),
                        (this._bounds = this._bounds.withPoint(this._start)),
                        (this._bounds = this._bounds.withPoint(this._end)),
                        _.each(this.getXExtremaT(), (e) => {
                          e >= 0 &&
                            e <= 1 &&
                            (this._bounds = this._bounds.withPoint(
                              this.positionAt(e)
                            ));
                        }),
                        _.each(this.getYExtremaT(), (e) => {
                          e >= 0 &&
                            e <= 1 &&
                            (this._bounds = this._bounds.withPoint(
                              this.positionAt(e)
                            ));
                        }),
                        this.hasCusp() &&
                          (this._bounds = this._bounds.withPoint(
                            this.positionAt(this.getTCusp())
                          ))),
                      this._bounds
                    );
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  computeCuspInfo() {
                    const e = this._start
                        .times(-1)
                        .plus(this._control1.times(3))
                        .plus(this._control2.times(-3))
                        .plus(this._end),
                      t = this._start
                        .times(3)
                        .plus(this._control1.times(-6))
                        .plus(this._control2.times(3)),
                      i = this._start.times(-3).plus(this._control1.times(3)),
                      s = e.perpendicular,
                      n = t.perpendicular,
                      r = s.dot(t);
                    if (
                      ((this._tCusp = (s.dot(i) / r) * -0.5),
                      (this._tDeterminant =
                        this._tCusp * this._tCusp - (1 / 3) * (n.dot(i) / r)),
                      this._tDeterminant >= 0)
                    ) {
                      const e = Math.sqrt(this._tDeterminant);
                      (this._tInflection1 = this._tCusp - e),
                        (this._tInflection2 = this._tCusp + e);
                    } else
                      (this._tInflection1 = NaN), (this._tInflection2 = NaN);
                  }
                  computeCuspSegments() {
                    if (this.hasCusp()) {
                      this._quadratics = [];
                      const e = this.getTCusp();
                      if (0 === e)
                        this._quadratics.push(
                          new O(this.start, this.control2, this.end)
                        );
                      else if (1 === e)
                        this._quadratics.push(
                          new O(this.start, this.control1, this.end)
                        );
                      else {
                        const t = this.subdivided(e);
                        this._quadratics.push(
                          new O(t[0].start, t[0].control1, t[0].end)
                        ),
                          this._quadratics.push(
                            new O(t[1].start, t[1].control2, t[1].end)
                          );
                      }
                    } else this._quadratics = null;
                  }
                  getNondegenerateSegments() {
                    const e = this._start,
                      t = this._control1,
                      i = this._control2,
                      s = this._end,
                      n = this.degreeReduced(1e-9);
                    if (e.equals(s) && e.equals(t) && e.equals(i)) return [];
                    if (this.hasCusp())
                      return _.flatten(
                        this.getQuadratics().map((e) =>
                          e.getNondegenerateSegments()
                        )
                      );
                    if (n) return n.getNondegenerateSegments();
                    if (M(e, t, s) && M(e, i, s) && !e.equalsEpsilon(s, 1e-7)) {
                      const t = this.getXExtremaT()
                          .concat(this.getYExtremaT())
                          .sort()
                          .map((e) => this.positionAt(e)),
                        i = [];
                      let n = e;
                      t.length && (i.push(new x(e, t[0])), (n = t[0]));
                      for (let e = 1; e < t.length; e++)
                        i.push(new x(t[e - 1], t[e])), (n = t[e]);
                      return (
                        i.push(new x(n, s)),
                        _.flatten(i.map((e) => e.getNondegenerateSegments()))
                      );
                    }
                    return [this];
                  }
                  hasCusp() {
                    const e = this.getTCusp();
                    return (
                      e >= 0 && e <= 1 && this.tangentAt(e).magnitude < 1e-7
                    );
                  }
                  toRS(e) {
                    const t = e.minus(this._start);
                    return new S.Z(t.dot(this.getR()), t.dot(this.getS()));
                  }
                  offsetTo(e, t) {
                    const i = [],
                      s = [];
                    for (let n = 0; n < 32; n++) {
                      let r = n / 31;
                      t && (r = 1 - r),
                        i.push(
                          this.positionAt(r).plus(
                            this.tangentAt(r)
                              .perpendicular.normalized()
                              .times(e)
                          )
                        ),
                        n > 0 && s.push(new x(i[n - 1], i[n]));
                    }
                    return s;
                  }
                  getSVGPathFragment() {
                    return (
                      this._svgPathFragment ||
                        (this._svgPathFragment = `C ${m(this._control1.x)} ${m(
                          this._control1.y
                        )} ${m(this._control2.x)} ${m(this._control2.y)} ${m(
                          this._end.x
                        )} ${m(this._end.y)}`),
                      this._svgPathFragment
                    );
                  }
                  strokeLeft(e) {
                    return this.offsetTo(-e / 2, !1);
                  }
                  strokeRight(e) {
                    return this.offsetTo(e / 2, !0);
                  }
                  getInteriorExtremaTs() {
                    const e = this.getXExtremaT().concat(this.getYExtremaT()),
                      t = [];
                    return (
                      _.each(e, (e) => {
                        e > 1e-10 &&
                          e < 1 - 1e-10 &&
                          _.every(t, (t) => Math.abs(e - t) > 1e-10) &&
                          t.push(e);
                      }),
                      t.sort()
                    );
                  }
                  intersection(e) {
                    const t = [],
                      i = C.Z.rotation2(-e.direction.angle).timesMatrix(
                        C.Z.translation(-e.position.x, -e.position.y)
                      ),
                      s = i.timesVector2(this._start),
                      n = i.timesVector2(this._control1),
                      r = i.timesVector2(this._control2),
                      o = i.timesVector2(this._end),
                      a = -s.y + 3 * n.y - 3 * r.y + o.y,
                      h = 3 * s.y - 6 * n.y + 3 * r.y,
                      l = -3 * s.y + 3 * n.y,
                      d = s.y,
                      c = B(a, h, l, d);
                    return (
                      _.each(c, (i) => {
                        if (i >= 0 && i <= 1) {
                          const s = this.positionAt(i),
                            n = this.tangentAt(i).normalized(),
                            r = n.perpendicular,
                            o = s.minus(e.position);
                          if (o.dot(e.direction) > 0) {
                            const a = r.dot(e.direction) > 0 ? r.negated() : r,
                              h = e.direction.perpendicular.dot(n) < 0 ? 1 : -1;
                            t.push(new u(o.magnitude, s, a, h, i));
                          }
                        }
                      }),
                      t
                    );
                  }
                  windingIntersection(e) {
                    let t = 0;
                    const i = this.intersection(e);
                    return (
                      _.each(i, (e) => {
                        t += e.wind;
                      }),
                      t
                    );
                  }
                  writeToContext(e) {
                    e.bezierCurveTo(
                      this._control1.x,
                      this._control1.y,
                      this._control2.x,
                      this._control2.y,
                      this._end.x,
                      this._end.y
                    );
                  }
                  transformed(e) {
                    return new Z(
                      e.timesVector2(this._start),
                      e.timesVector2(this._control1),
                      e.timesVector2(this._control2),
                      e.timesVector2(this._end)
                    );
                  }
                  degreeReduced(e) {
                    e = e || 0;
                    const t = N.set(this._control1)
                        .multiplyScalar(3)
                        .subtract(this._start)
                        .divideScalar(2),
                      i = R.set(this._control2)
                        .multiplyScalar(3)
                        .subtract(this._end)
                        .divideScalar(2);
                    return q.set(t).subtract(i).magnitude <= e
                      ? new O(this._start, t.average(i), this._end)
                      : null;
                  }
                  getSignedAreaFragment() {
                    return (
                      0.05 *
                      (this._start.x *
                        (6 * this._control1.y +
                          3 * this._control2.y +
                          this._end.y) +
                        this._control1.x *
                          (-6 * this._start.y +
                            3 * this._control2.y +
                            3 * this._end.y) +
                        this._control2.x *
                          (-3 * this._start.y -
                            3 * this._control1.y +
                            6 * this._end.y) +
                        this._end.x *
                          (-this._start.y -
                            3 * this._control1.y -
                            6 * this._control2.y))
                    );
                  }
                  reversed() {
                    return new Z(
                      this._end,
                      this._control2,
                      this._control1,
                      this._start
                    );
                  }
                  getSelfIntersection() {
                    const e = this.getInteriorExtremaTs(),
                      t = [0].concat(e).concat([1]),
                      i = this.subdivisions(e);
                    if (i.length < 3) return null;
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s];
                      for (let n = s + 1; n < i.length; n++) {
                        const r = i[n],
                          o = Ee.intersect(e, r);
                        if (o.length) {
                          const e = o[0];
                          if (
                            e.aT > 1e-7 &&
                            e.aT < 1 - 1e-7 &&
                            e.bT > 1e-7 &&
                            e.bT < 1 - 1e-7
                          ) {
                            const i = t[s] + e.aT * (t[s + 1] - t[s]),
                              r = t[n] + e.bT * (t[n + 1] - t[n]);
                            return new p(e.point, i, r);
                          }
                        }
                      }
                    }
                    return null;
                  }
                  serialize() {
                    return {
                      type: "Cubic",
                      startX: this._start.x,
                      startY: this._start.y,
                      control1X: this._control1.x,
                      control1Y: this._control1.y,
                      control2X: this._control2.x,
                      control2Y: this._control2.y,
                      endX: this._end.x,
                      endY: this._end.y,
                    };
                  }
                  getOverlaps(e) {
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return e instanceof Z ? Z.getOverlaps(this, e) : null;
                  }
                  static deserialize(e) {
                    return new Z(
                      new S.Z(e.startX, e.startY),
                      new S.Z(e.control1X, e.control1Y),
                      new S.Z(e.control2X, e.control2Y),
                      new S.Z(e.endX, e.endY)
                    );
                  }
                  static extremaT(e, t, i, s) {
                    if (e === t && e === i && e === s) return [];
                    const n = -3 * e + 9 * t - 9 * i + 3 * s,
                      r = 6 * e - 12 * t + 6 * i,
                      o = -3 * e + 3 * t;
                    return _.filter(L(n, r, o), F);
                  }
                  static getOverlaps(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1e-6;
                    const s = [],
                      n = e._start.x,
                      r = -3 * e._start.x + 3 * e._control1.x,
                      a =
                        3 * e._start.x - 6 * e._control1.x + 3 * e._control2.x,
                      h =
                        -1 * e._start.x +
                        3 * e._control1.x -
                        3 * e._control2.x +
                        e._end.x,
                      l = e._start.y,
                      d = -3 * e._start.y + 3 * e._control1.y,
                      u =
                        3 * e._start.y - 6 * e._control1.y + 3 * e._control2.y,
                      p =
                        -1 * e._start.y +
                        3 * e._control1.y -
                        3 * e._control2.y +
                        e._end.y,
                      g = t._start.x,
                      m = -3 * t._start.x + 3 * t._control1.x,
                      A =
                        3 * t._start.x - 6 * t._control1.x + 3 * t._control2.x,
                      y =
                        -1 * t._start.x +
                        3 * t._control1.x -
                        3 * t._control2.x +
                        t._end.x,
                      f = t._start.y,
                      P = -3 * t._start.y + 3 * t._control1.y,
                      b =
                        3 * t._start.y - 6 * t._control1.y + 3 * t._control2.y,
                      v =
                        -1 * t._start.y +
                        3 * t._control1.y -
                        3 * t._control2.y +
                        t._end.y,
                      w = Math.abs(
                        Math.max(
                          e._start.x,
                          e._control1.x,
                          e._control2.x,
                          e._end.x,
                          e._start.x,
                          e._control1.x,
                          e._control2.x,
                          e._end.x
                        ) -
                          Math.min(
                            e._start.x,
                            e._control1.x,
                            e._control2.x,
                            e._end.x,
                            e._start.x,
                            e._control1.x,
                            e._control2.x,
                            e._end.x
                          )
                      ),
                      E = Math.abs(
                        Math.max(
                          e._start.y,
                          e._control1.y,
                          e._control2.y,
                          e._end.y,
                          e._start.y,
                          e._control1.y,
                          e._control2.y,
                          e._end.y
                        ) -
                          Math.min(
                            e._start.y,
                            e._control1.y,
                            e._control2.y,
                            e._end.y,
                            e._start.y,
                            e._control1.y,
                            e._control2.y,
                            e._end.y
                          )
                      ),
                      S = V.polynomialGetOverlapCubic(n, r, a, h, g, m, A, y),
                      T = V.polynomialGetOverlapCubic(l, d, u, p, f, P, b, v);
                    let x;
                    if (
                      ((x =
                        w > E
                          ? null === S || !0 === S
                            ? T
                            : S
                          : null === T || !0 === T
                          ? S
                          : T),
                      null === x || !0 === x)
                    )
                      return s;
                    const C = x.a,
                      I = x.b,
                      D = C * C,
                      k = C * C * C,
                      O = I * I,
                      L = I * I * I,
                      B = 2 * C * I,
                      M = 3 * C * O,
                      N = 3 * D * I,
                      R = g + I * m + O * A + L * y - n,
                      q = C * m + B * A + M * y - r,
                      Z = D * A + N * y - a,
                      H = k * y - h,
                      Y = f + I * P + O * b + L * v - l,
                      G = C * P + B * b + M * v - d,
                      W = D * b + N * v - u,
                      z = k * v - p,
                      X = o.Z.solveQuadraticRootsReal(3 * H, 2 * Z, q),
                      Q = o.Z.solveQuadraticRootsReal(3 * z, 2 * W, G),
                      U = _.uniq([0, 1].concat(null !== X ? X.filter(F) : [])),
                      j = _.uniq([0, 1].concat(null !== Q ? Q.filter(F) : []));
                    for (let o = 0; o < U.length; o++) {
                      const e = U[o];
                      if (Math.abs(((H * e + Z) * e + q) * e + R) > i) return s;
                    }
                    for (let o = 0; o < j.length; o++) {
                      const e = j[o];
                      if (Math.abs(((z * e + W) * e + G) * e + Y) > i) return s;
                    }
                    const K = C + I;
                    return (I > 1 && K > 1) || (I < 0 && K < 0)
                      ? s
                      : [new c(C, I)];
                  }
                }
                (Z.prototype.degree = 3), r.register("Cubic", Z);
                const H = 2 * Math.PI;
                class Y extends V {
                  constructor(e, t, i, s, n) {
                    super(),
                      (this._center = e),
                      (this._radius = t),
                      (this._startAngle = i),
                      (this._endAngle = s),
                      (this._anticlockwise = n),
                      this.invalidate();
                  }
                  setCenter(e) {
                    return (
                      this._center.equals(e) ||
                        ((this._center = e), this.invalidate()),
                      this
                    );
                  }
                  set center(e) {
                    this.setCenter(e);
                  }
                  get center() {
                    return this.getCenter();
                  }
                  getCenter() {
                    return this._center;
                  }
                  setRadius(e) {
                    return (
                      this._radius !== e &&
                        ((this._radius = e), this.invalidate()),
                      this
                    );
                  }
                  set radius(e) {
                    this.setRadius(e);
                  }
                  get radius() {
                    return this.getRadius();
                  }
                  getRadius() {
                    return this._radius;
                  }
                  setStartAngle(e) {
                    return (
                      this._startAngle !== e &&
                        ((this._startAngle = e), this.invalidate()),
                      this
                    );
                  }
                  set startAngle(e) {
                    this.setStartAngle(e);
                  }
                  get startAngle() {
                    return this.getStartAngle();
                  }
                  getStartAngle() {
                    return this._startAngle;
                  }
                  setEndAngle(e) {
                    return (
                      this._endAngle !== e &&
                        ((this._endAngle = e), this.invalidate()),
                      this
                    );
                  }
                  set endAngle(e) {
                    this.setEndAngle(e);
                  }
                  get endAngle() {
                    return this.getEndAngle();
                  }
                  getEndAngle() {
                    return this._endAngle;
                  }
                  setAnticlockwise(e) {
                    return (
                      this._anticlockwise !== e &&
                        ((this._anticlockwise = e), this.invalidate()),
                      this
                    );
                  }
                  set anticlockwise(e) {
                    this.setAnticlockwise(e);
                  }
                  get anticlockwise() {
                    return this.getAnticlockwise();
                  }
                  getAnticlockwise() {
                    return this._anticlockwise;
                  }
                  positionAt(e) {
                    return this.positionAtAngle(this.angleAt(e));
                  }
                  tangentAt(e) {
                    return this.tangentAtAngle(this.angleAt(e));
                  }
                  curvatureAt(e) {
                    return (this._anticlockwise ? -1 : 1) / this._radius;
                  }
                  subdivided(e) {
                    if (0 === e || 1 === e) return [this];
                    const t = this.angleAt(0),
                      i = this.angleAt(e),
                      s = this.angleAt(1);
                    return [
                      new Y(
                        this._center,
                        this._radius,
                        t,
                        i,
                        this._anticlockwise
                      ),
                      new Y(
                        this._center,
                        this._radius,
                        i,
                        s,
                        this._anticlockwise
                      ),
                    ];
                  }
                  invalidate() {
                    (this._start = null),
                      (this._end = null),
                      (this._startTangent = null),
                      (this._endTangent = null),
                      (this._actualEndAngle = null),
                      (this._isFullPerimeter = null),
                      (this._angleDifference = null),
                      (this._bounds = null),
                      (this._svgPathFragment = null),
                      this._radius < 0 &&
                        ((this._radius = -this._radius),
                        (this._startAngle += Math.PI),
                        (this._endAngle += Math.PI)),
                      this.invalidationEmitter.emit();
                  }
                  getStart() {
                    return (
                      null === this._start &&
                        (this._start = this.positionAtAngle(this._startAngle)),
                      this._start
                    );
                  }
                  get start() {
                    return this.getStart();
                  }
                  getEnd() {
                    return (
                      null === this._end &&
                        (this._end = this.positionAtAngle(this._endAngle)),
                      this._end
                    );
                  }
                  get end() {
                    return this.getEnd();
                  }
                  getStartTangent() {
                    return (
                      null === this._startTangent &&
                        (this._startTangent = this.tangentAtAngle(
                          this._startAngle
                        )),
                      this._startTangent
                    );
                  }
                  get startTangent() {
                    return this.getStartTangent();
                  }
                  getEndTangent() {
                    return (
                      null === this._endTangent &&
                        (this._endTangent = this.tangentAtAngle(
                          this._endAngle
                        )),
                      this._endTangent
                    );
                  }
                  get endTangent() {
                    return this.getEndTangent();
                  }
                  getActualEndAngle() {
                    return (
                      null === this._actualEndAngle &&
                        (this._actualEndAngle = Y.computeActualEndAngle(
                          this._startAngle,
                          this._endAngle,
                          this._anticlockwise
                        )),
                      this._actualEndAngle
                    );
                  }
                  get actualEndAngle() {
                    return this.getActualEndAngle();
                  }
                  getIsFullPerimeter() {
                    return (
                      null === this._isFullPerimeter &&
                        (this._isFullPerimeter =
                          (!this._anticlockwise &&
                            this._endAngle - this._startAngle >= 2 * Math.PI) ||
                          (this._anticlockwise &&
                            this._startAngle - this._endAngle >= 2 * Math.PI)),
                      this._isFullPerimeter
                    );
                  }
                  get isFullPerimeter() {
                    return this.getIsFullPerimeter();
                  }
                  getAngleDifference() {
                    return (
                      null === this._angleDifference &&
                        ((this._angleDifference = this._anticlockwise
                          ? this._startAngle - this._endAngle
                          : this._endAngle - this._startAngle),
                        this._angleDifference < 0 &&
                          (this._angleDifference += 2 * Math.PI)),
                      this._angleDifference
                    );
                  }
                  get angleDifference() {
                    return this.getAngleDifference();
                  }
                  getBounds() {
                    return (
                      null === this._bounds &&
                        ((this._bounds = b.Z.NOTHING.copy()
                          .withPoint(this.getStart())
                          .withPoint(this.getEnd())),
                        this._startAngle !== this._endAngle &&
                          (this.includeBoundsAtAngle(0),
                          this.includeBoundsAtAngle(Math.PI / 2),
                          this.includeBoundsAtAngle(Math.PI),
                          this.includeBoundsAtAngle((3 * Math.PI) / 2))),
                      this._bounds
                    );
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getNondegenerateSegments() {
                    return this._radius <= 0 ||
                      this._startAngle === this._endAngle
                      ? []
                      : [this];
                  }
                  includeBoundsAtAngle(e) {
                    this.containsAngle(e) &&
                      (this._bounds = this._bounds.withPoint(
                        this._center.plus(S.Z.createPolar(this._radius, e))
                      ));
                  }
                  mapAngle(e) {
                    return Math.abs(
                      o.Z.moduloBetweenDown(
                        e - this._startAngle,
                        -Math.PI,
                        Math.PI
                      )
                    ) < 1e-8
                      ? this._startAngle
                      : Math.abs(
                          o.Z.moduloBetweenDown(
                            e - this.getActualEndAngle(),
                            -Math.PI,
                            Math.PI
                          )
                        ) < 1e-8
                      ? this.getActualEndAngle()
                      : this._startAngle > this.getActualEndAngle()
                      ? o.Z.moduloBetweenUp(
                          e,
                          this._startAngle - 2 * Math.PI,
                          this._startAngle
                        )
                      : o.Z.moduloBetweenDown(
                          e,
                          this._startAngle,
                          this._startAngle + 2 * Math.PI
                        );
                  }
                  tAtAngle(e) {
                    const t =
                      (this.mapAngle(e) - this._startAngle) /
                      (this.getActualEndAngle() - this._startAngle);
                    return t;
                  }
                  angleAt(e) {
                    return (
                      this._startAngle +
                      (this.getActualEndAngle() - this._startAngle) * e
                    );
                  }
                  positionAtAngle(e) {
                    return this._center.plus(S.Z.createPolar(this._radius, e));
                  }
                  tangentAtAngle(e) {
                    const t = S.Z.createPolar(1, e);
                    return this._anticlockwise
                      ? t.perpendicular
                      : t.perpendicular.negated();
                  }
                  containsAngle(e) {
                    const t = this._anticlockwise
                      ? e - this._endAngle
                      : e - this._startAngle;
                    return (
                      o.Z.moduloBetweenDown(t, 0, 2 * Math.PI) <=
                      this.angleDifference
                    );
                  }
                  getSVGPathFragment() {
                    if (!this._svgPathFragment) {
                      const e = 0.01,
                        t = this._anticlockwise ? "0" : "1";
                      let i;
                      if (this.angleDifference < 2 * Math.PI - e)
                        (i = this.angleDifference < Math.PI ? "0" : "1"),
                          (this._svgPathFragment = `A ${m(this._radius)} ${m(
                            this._radius
                          )} 0 ${i} ${t} ${m(this.end.x)} ${m(this.end.y)}`);
                      else {
                        const e = (this._startAngle + this._endAngle) / 2,
                          s = this._center.plus(
                            S.Z.createPolar(this._radius, e)
                          );
                        i = "0";
                        const n = `A ${m(this._radius)} ${m(
                            this._radius
                          )} 0 ${i} ${t} ${m(s.x)} ${m(s.y)}`,
                          r = `A ${m(this._radius)} ${m(
                            this._radius
                          )} 0 ${i} ${t} ${m(this.end.x)} ${m(this.end.y)}`;
                        this._svgPathFragment = `${n} ${r}`;
                      }
                    }
                    return this._svgPathFragment;
                  }
                  strokeLeft(e) {
                    return [
                      new Y(
                        this._center,
                        this._radius + ((this._anticlockwise ? 1 : -1) * e) / 2,
                        this._startAngle,
                        this._endAngle,
                        this._anticlockwise
                      ),
                    ];
                  }
                  strokeRight(e) {
                    return [
                      new Y(
                        this._center,
                        this._radius + ((this._anticlockwise ? -1 : 1) * e) / 2,
                        this._endAngle,
                        this._startAngle,
                        !this._anticlockwise
                      ),
                    ];
                  }
                  getInteriorExtremaTs() {
                    const e = [];
                    return (
                      _.each(
                        [0, Math.PI / 2, Math.PI, (3 * Math.PI) / 2],
                        (t) => {
                          if (this.containsAngle(t)) {
                            const i = this.tAtAngle(t),
                              s = 1e-10;
                            i > s && i < 1 - s && e.push(i);
                          }
                        }
                      ),
                      e.sort()
                    );
                  }
                  intersection(e) {
                    const t = [],
                      i = e.position.minus(this._center),
                      s = e.direction.dot(i),
                      n =
                        4 * s * s -
                        4 * (i.magnitudeSquared - this._radius * this._radius);
                    if (n < 0) return t;
                    const r =
                        e.direction.dot(this._center) -
                        e.direction.dot(e.position),
                      o = Math.sqrt(n) / 2,
                      a = r - o,
                      h = r + o;
                    if (h < 0) return t;
                    const l = e.pointAtDistance(h),
                      d = l.minus(this._center).normalized(),
                      c = d.angle;
                    if (a < 0)
                      this.containsAngle(c) &&
                        t.push(
                          new u(
                            h,
                            l,
                            d.negated(),
                            this._anticlockwise ? -1 : 1,
                            this.tAtAngle(c)
                          )
                        );
                    else {
                      const i = e.pointAtDistance(a),
                        s = i.minus(this._center).normalized(),
                        n = s.angle;
                      this.containsAngle(n) &&
                        t.push(
                          new u(
                            a,
                            i,
                            s,
                            this._anticlockwise ? 1 : -1,
                            this.tAtAngle(n)
                          )
                        ),
                        this.containsAngle(c) &&
                          t.push(
                            new u(
                              h,
                              l,
                              d.negated(),
                              this._anticlockwise ? -1 : 1,
                              this.tAtAngle(c)
                            )
                          );
                    }
                    return t;
                  }
                  windingIntersection(e) {
                    let t = 0;
                    const i = this.intersection(e);
                    return (
                      _.each(i, (e) => {
                        t += e.wind;
                      }),
                      t
                    );
                  }
                  writeToContext(e) {
                    e.arc(
                      this._center.x,
                      this._center.y,
                      this._radius,
                      this._startAngle,
                      this._endAngle,
                      this._anticlockwise
                    );
                  }
                  transformed(e) {
                    const t = e
                      .timesVector2(S.Z.createPolar(1, this._startAngle))
                      .minus(e.timesVector2(S.Z.ZERO)).angle;
                    let i = e
                      .timesVector2(S.Z.createPolar(1, this._endAngle))
                      .minus(e.timesVector2(S.Z.ZERO)).angle;
                    const s =
                      e.getDeterminant() >= 0
                        ? this._anticlockwise
                        : !this._anticlockwise;
                    Math.abs(this._endAngle - this._startAngle) ===
                      2 * Math.PI &&
                      (i = s ? t - 2 * Math.PI : t + 2 * Math.PI);
                    const n = e.getScaleVector();
                    if (n.x !== n.y) {
                      const r = n.x * this._radius,
                        o = n.y * this._radius;
                      return new Q(
                        e.timesVector2(this._center),
                        r,
                        o,
                        0,
                        t,
                        i,
                        s
                      );
                    }
                    {
                      const r = n.x * this._radius;
                      return new Y(e.timesVector2(this._center), r, t, i, s);
                    }
                  }
                  getSignedAreaFragment() {
                    const e = this._startAngle,
                      t = this.getActualEndAngle();
                    return (
                      0.5 *
                      this._radius *
                      (this._radius * (t - e) +
                        this._center.x * (Math.sin(t) - Math.sin(e)) -
                        this._center.y * (Math.cos(t) - Math.cos(e)))
                    );
                  }
                  reversed() {
                    return new Y(
                      this._center,
                      this._radius,
                      this._endAngle,
                      this._startAngle,
                      !this._anticlockwise
                    );
                  }
                  getArcLength() {
                    return this.getAngleDifference() * this._radius;
                  }
                  toPiecewiseLinearOrArcSegments() {
                    return [this];
                  }
                  serialize() {
                    return {
                      type: "Arc",
                      centerX: this._center.x,
                      centerY: this._center.y,
                      radius: this._radius,
                      startAngle: this._startAngle,
                      endAngle: this._endAngle,
                      anticlockwise: this._anticlockwise,
                    };
                  }
                  getOverlaps(e) {
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return e instanceof Y ? Y.getOverlaps(this, e) : null;
                  }
                  static deserialize(e) {
                    return new Y(
                      new S.Z(e.centerX, e.centerY),
                      e.radius,
                      e.startAngle,
                      e.endAngle,
                      e.anticlockwise
                    );
                  }
                  static computeActualEndAngle(e, t, i) {
                    return i
                      ? e > t
                        ? t
                        : e < t
                        ? t - 2 * Math.PI
                        : e
                      : e < t
                      ? t
                      : e > t
                      ? t + 2 * Math.PI
                      : e;
                  }
                  static getPartialOverlap(e, t, i, s, n) {
                    const r = i < t,
                      a = r ? t : i,
                      h = r ? i : t,
                      l = Math.min(e, a);
                    return l < h + 1e-8
                      ? []
                      : [
                          c.createLinear(
                            o.Z.clamp(o.Z.linear(0, e, 0, 1, h), 0, 1),
                            o.Z.clamp(o.Z.linear(t, i, s, n, h), 0, 1),
                            o.Z.clamp(o.Z.linear(0, e, 0, 1, l), 0, 1),
                            o.Z.clamp(o.Z.linear(t, i, s, n, l), 0, 1)
                          ),
                        ];
                  }
                  static getAngularOverlaps(e, t, i, s) {
                    let n = t - e;
                    const r = n < 0 ? -1 : 1;
                    n *= r;
                    const a = o.Z.moduloBetweenDown(r * (i - e), 0, H),
                      h = r * (s - i) + a;
                    let l;
                    return h < -1e-10
                      ? ((l = -a / (h - a)),
                        Y.getPartialOverlap(n, a, 0, 0, l).concat(
                          Y.getPartialOverlap(n, H, h + H, l, 1)
                        ))
                      : h > H + 1e-10
                      ? ((l = (H - a) / (h - a)),
                        Y.getPartialOverlap(n, a, H, 0, l).concat(
                          Y.getPartialOverlap(n, 0, h - H, l, 1)
                        ))
                      : Y.getPartialOverlap(n, a, h, 0, 1);
                  }
                  static getOverlaps(e, t) {
                    return e._center.distance(t._center) > 1e-8 ||
                      Math.abs(e._radius - t._radius) > 1e-8
                      ? []
                      : Y.getAngularOverlaps(
                          e._startAngle,
                          e.getActualEndAngle(),
                          t._startAngle,
                          t.getActualEndAngle()
                        );
                  }
                  static getCircleIntersectionPoint(e, t, i, s) {
                    const n = i.minus(e),
                      r = n.magnitude;
                    let o = [];
                    if (r < 1e-10 || r > t + s + 1e-10);
                    else if (r > t + s - 1e-10) o = [e.blend(i, t / r)];
                    else {
                      const a = (0.5 * (r * r - s * s + t * t)) / r,
                        h = r * r - s * s + t * t,
                        l = 4 * r * r * t * t - h * h,
                        d = e.blend(i, a / r);
                      if (l >= 1e-10) {
                        const e = Math.sqrt(l) / r / 2,
                          t = n.perpendicular.setMagnitude(e);
                        o = [d.plus(t), d.minus(t)];
                      } else l > -1e-10 && (o = [d]);
                    }
                    return o;
                  }
                  static intersect(e, t) {
                    const i = [];
                    if (
                      e._center.equalsEpsilon(t._center, 1e-8) &&
                      Math.abs(e._radius - t._radius) < 1e-8
                    ) {
                      const s = e.positionAt(0),
                        n = e.positionAt(1),
                        r = t.positionAt(0),
                        o = t.positionAt(1);
                      s.equalsEpsilon(r, 1e-8) &&
                        i.push(new p(s.average(r), 0, 0)),
                        s.equalsEpsilon(o, 1e-8) &&
                          i.push(new p(s.average(o), 0, 1)),
                        n.equalsEpsilon(r, 1e-8) &&
                          i.push(new p(n.average(r), 1, 0)),
                        n.equalsEpsilon(o, 1e-8) &&
                          i.push(new p(n.average(o), 1, 1));
                    } else {
                      const s = Y.getCircleIntersectionPoint(
                        e._center,
                        e._radius,
                        t._center,
                        t._radius
                      );
                      for (let n = 0; n < s.length; n++) {
                        const r = s[n],
                          o = r.minus(e._center).angle,
                          a = r.minus(t._center).angle;
                        e.containsAngle(o) &&
                          t.containsAngle(a) &&
                          i.push(new p(r, e.tAtAngle(o), t.tAtAngle(a)));
                      }
                    }
                    return i;
                  }
                  static createFromPoints(e, t, i) {
                    const s = o.Z.circleCenterFromPoints(e, t, i);
                    if (null === s) return new x(e, i);
                    {
                      const n = e.minus(s),
                        r = t.minus(s),
                        o = i.minus(s),
                        a = n.angle,
                        h = r.angle,
                        l = o.angle,
                        d = (n.magnitude + r.magnitude + o.magnitude) / 3,
                        c = new Y(s, d, a, l, !1);
                      return c.containsAngle(h) ? c : new Y(s, d, a, l, !0);
                    }
                  }
                }
                r.register("Arc", Y);
                var G = i(7320),
                  W = i(2956),
                  z = i(4676);
                const X = o.Z.toDegrees;
                class Q extends V {
                  constructor(e, t, i, s, n, r, o) {
                    super(),
                      (this._center = e),
                      (this._radiusX = t),
                      (this._radiusY = i),
                      (this._rotation = s),
                      (this._startAngle = n),
                      (this._endAngle = r),
                      (this._anticlockwise = o),
                      this.invalidate();
                  }
                  setCenter(e) {
                    return (
                      this._center.equals(e) ||
                        ((this._center = e), this.invalidate()),
                      this
                    );
                  }
                  set center(e) {
                    this.setCenter(e);
                  }
                  get center() {
                    return this.getCenter();
                  }
                  getCenter() {
                    return this._center;
                  }
                  setRadiusX(e) {
                    return (
                      this._radiusX !== e &&
                        ((this._radiusX = e), this.invalidate()),
                      this
                    );
                  }
                  set radiusX(e) {
                    this.setRadiusX(e);
                  }
                  get radiusX() {
                    return this.getRadiusX();
                  }
                  getRadiusX() {
                    return this._radiusX;
                  }
                  setRadiusY(e) {
                    return (
                      this._radiusY !== e &&
                        ((this._radiusY = e), this.invalidate()),
                      this
                    );
                  }
                  set radiusY(e) {
                    this.setRadiusY(e);
                  }
                  get radiusY() {
                    return this.getRadiusY();
                  }
                  getRadiusY() {
                    return this._radiusY;
                  }
                  setRotation(e) {
                    return (
                      this._rotation !== e &&
                        ((this._rotation = e), this.invalidate()),
                      this
                    );
                  }
                  set rotation(e) {
                    this.setRotation(e);
                  }
                  get rotation() {
                    return this.getRotation();
                  }
                  getRotation() {
                    return this._rotation;
                  }
                  setStartAngle(e) {
                    return (
                      this._startAngle !== e &&
                        ((this._startAngle = e), this.invalidate()),
                      this
                    );
                  }
                  set startAngle(e) {
                    this.setStartAngle(e);
                  }
                  get startAngle() {
                    return this.getStartAngle();
                  }
                  getStartAngle() {
                    return this._startAngle;
                  }
                  setEndAngle(e) {
                    return (
                      this._endAngle !== e &&
                        ((this._endAngle = e), this.invalidate()),
                      this
                    );
                  }
                  set endAngle(e) {
                    this.setEndAngle(e);
                  }
                  get endAngle() {
                    return this.getEndAngle();
                  }
                  getEndAngle() {
                    return this._endAngle;
                  }
                  setAnticlockwise(e) {
                    return (
                      this._anticlockwise !== e &&
                        ((this._anticlockwise = e), this.invalidate()),
                      this
                    );
                  }
                  set anticlockwise(e) {
                    this.setAnticlockwise(e);
                  }
                  get anticlockwise() {
                    return this.getAnticlockwise();
                  }
                  getAnticlockwise() {
                    return this._anticlockwise;
                  }
                  positionAt(e) {
                    return this.positionAtAngle(this.angleAt(e));
                  }
                  tangentAt(e) {
                    return this.tangentAtAngle(this.angleAt(e));
                  }
                  curvatureAt(e) {
                    const t = this.angleAt(e),
                      i = this._radiusX * Math.sin(t),
                      s = this._radiusY * Math.cos(t),
                      n = Math.pow(s * s + i * i, 1.5);
                    return (
                      ((this._anticlockwise ? -1 : 1) *
                        this._radiusX *
                        this._radiusY) /
                      n
                    );
                  }
                  subdivided(e) {
                    if (0 === e || 1 === e) return [this];
                    const t = this.angleAt(0),
                      i = this.angleAt(e),
                      s = this.angleAt(1);
                    return [
                      new Q(
                        this._center,
                        this._radiusX,
                        this._radiusY,
                        this._rotation,
                        t,
                        i,
                        this._anticlockwise
                      ),
                      new Q(
                        this._center,
                        this._radiusX,
                        this._radiusY,
                        this._rotation,
                        i,
                        s,
                        this._anticlockwise
                      ),
                    ];
                  }
                  invalidate() {
                    if (
                      ((this._unitTransform = null),
                      (this._start = null),
                      (this._end = null),
                      (this._startTangent = null),
                      (this._endTangent = null),
                      (this._actualEndAngle = null),
                      (this._isFullPerimeter = null),
                      (this._angleDifference = null),
                      (this._unitArcSegment = null),
                      (this._bounds = null),
                      (this._svgPathFragment = null),
                      this._radiusX < 0 &&
                        ((this._radiusX = -this._radiusX),
                        (this._startAngle = Math.PI - this._startAngle),
                        (this._endAngle = Math.PI - this._endAngle),
                        (this._anticlockwise = !this._anticlockwise)),
                      this._radiusY < 0 &&
                        ((this._radiusY = -this._radiusY),
                        (this._startAngle = -this._startAngle),
                        (this._endAngle = -this._endAngle),
                        (this._anticlockwise = !this._anticlockwise)),
                      this._radiusX < this._radiusY)
                    ) {
                      (this._rotation += Math.PI / 2),
                        (this._startAngle -= Math.PI / 2),
                        (this._endAngle -= Math.PI / 2);
                      const e = this._radiusX;
                      (this._radiusX = this._radiusY), (this._radiusY = e);
                    }
                    if (this._radiusX < this._radiusY)
                      throw new Error(
                        "Not verified to work if radiusX < radiusY"
                      );
                    this.invalidationEmitter.emit();
                  }
                  getUnitTransform() {
                    return (
                      null === this._unitTransform &&
                        (this._unitTransform = Q.computeUnitTransform(
                          this._center,
                          this._radiusX,
                          this._radiusY,
                          this._rotation
                        )),
                      this._unitTransform
                    );
                  }
                  get unitTransform() {
                    return this.getUnitTransform();
                  }
                  getStart() {
                    return (
                      null === this._start &&
                        (this._start = this.positionAtAngle(this._startAngle)),
                      this._start
                    );
                  }
                  get start() {
                    return this.getStart();
                  }
                  getEnd() {
                    return (
                      null === this._end &&
                        (this._end = this.positionAtAngle(this._endAngle)),
                      this._end
                    );
                  }
                  get end() {
                    return this.getEnd();
                  }
                  getStartTangent() {
                    return (
                      null === this._startTangent &&
                        (this._startTangent = this.tangentAtAngle(
                          this._startAngle
                        )),
                      this._startTangent
                    );
                  }
                  get startTangent() {
                    return this.getStartTangent();
                  }
                  getEndTangent() {
                    return (
                      null === this._endTangent &&
                        (this._endTangent = this.tangentAtAngle(
                          this._endAngle
                        )),
                      this._endTangent
                    );
                  }
                  get endTangent() {
                    return this.getEndTangent();
                  }
                  getActualEndAngle() {
                    return (
                      null === this._actualEndAngle &&
                        (this._actualEndAngle = Y.computeActualEndAngle(
                          this._startAngle,
                          this._endAngle,
                          this._anticlockwise
                        )),
                      this._actualEndAngle
                    );
                  }
                  get actualEndAngle() {
                    return this.getActualEndAngle();
                  }
                  getIsFullPerimeter() {
                    return (
                      null === this._isFullPerimeter &&
                        (this._isFullPerimeter =
                          (!this._anticlockwise &&
                            this._endAngle - this._startAngle >= 2 * Math.PI) ||
                          (this._anticlockwise &&
                            this._startAngle - this._endAngle >= 2 * Math.PI)),
                      this._isFullPerimeter
                    );
                  }
                  get isFullPerimeter() {
                    return this.getIsFullPerimeter();
                  }
                  getAngleDifference() {
                    return (
                      null === this._angleDifference &&
                        ((this._angleDifference = this._anticlockwise
                          ? this._startAngle - this._endAngle
                          : this._endAngle - this._startAngle),
                        this._angleDifference < 0 &&
                          (this._angleDifference += 2 * Math.PI)),
                      this._angleDifference
                    );
                  }
                  get angleDifference() {
                    return this.getAngleDifference();
                  }
                  getUnitArcSegment() {
                    return (
                      null === this._unitArcSegment &&
                        (this._unitArcSegment = new Y(
                          S.Z.ZERO,
                          1,
                          this._startAngle,
                          this._endAngle,
                          this._anticlockwise
                        )),
                      this._unitArcSegment
                    );
                  }
                  get unitArcSegment() {
                    return this.getUnitArcSegment();
                  }
                  getBounds() {
                    if (
                      null === this._bounds &&
                      ((this._bounds = b.Z.NOTHING.withPoint(
                        this.getStart()
                      ).withPoint(this.getEnd())),
                      this._startAngle !== this._endAngle)
                    ) {
                      const e = Math.atan(
                          (-this._radiusY / this._radiusX) *
                            Math.tan(this._rotation)
                        ),
                        t = Math.atan(
                          this._radiusY /
                            this._radiusX /
                            Math.tan(this._rotation)
                        );
                      (this.possibleExtremaAngles = [
                        e,
                        e + Math.PI,
                        t,
                        t + Math.PI,
                      ]),
                        _.each(
                          this.possibleExtremaAngles,
                          this.includeBoundsAtAngle.bind(this)
                        );
                    }
                    return this._bounds;
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getNondegenerateSegments() {
                    if (
                      this._radiusX <= 0 ||
                      this._radiusY <= 0 ||
                      this._startAngle === this._endAngle
                    )
                      return [];
                    if (this._radiusX === this._radiusY) {
                      const e = this._startAngle + this._rotation;
                      let t = this._endAngle + this._rotation;
                      return (
                        Math.abs(this._endAngle - this._startAngle) ===
                          2 * Math.PI &&
                          (t = this._anticlockwise
                            ? e - 2 * Math.PI
                            : e + 2 * Math.PI),
                        [
                          new Y(
                            this._center,
                            this._radiusX,
                            e,
                            t,
                            this._anticlockwise
                          ),
                        ]
                      );
                    }
                    return [this];
                  }
                  includeBoundsAtAngle(e) {
                    this.unitArcSegment.containsAngle(e) &&
                      (this._bounds = this._bounds.withPoint(
                        this.positionAtAngle(e)
                      ));
                  }
                  mapAngle(e) {
                    return Math.abs(
                      o.Z.moduloBetweenDown(
                        e - this._startAngle,
                        -Math.PI,
                        Math.PI
                      )
                    ) < 1e-8
                      ? this._startAngle
                      : Math.abs(
                          o.Z.moduloBetweenDown(
                            e - this.getActualEndAngle(),
                            -Math.PI,
                            Math.PI
                          )
                        ) < 1e-8
                      ? this.getActualEndAngle()
                      : this._startAngle > this.getActualEndAngle()
                      ? o.Z.moduloBetweenUp(
                          e,
                          this._startAngle - 2 * Math.PI,
                          this._startAngle
                        )
                      : o.Z.moduloBetweenDown(
                          e,
                          this._startAngle,
                          this._startAngle + 2 * Math.PI
                        );
                  }
                  tAtAngle(e) {
                    return (
                      (this.mapAngle(e) - this._startAngle) /
                      (this.getActualEndAngle() - this._startAngle)
                    );
                  }
                  angleAt(e) {
                    return (
                      this._startAngle +
                      (this.getActualEndAngle() - this._startAngle) * e
                    );
                  }
                  positionAtAngle(e) {
                    return this.getUnitTransform().transformPosition2(
                      S.Z.createPolar(1, e)
                    );
                  }
                  tangentAtAngle(e) {
                    const t = this.getUnitTransform().transformNormal2(
                      S.Z.createPolar(1, e)
                    );
                    return this._anticlockwise
                      ? t.perpendicular
                      : t.perpendicular.negated();
                  }
                  offsetTo(e, t) {
                    const i = [],
                      s = [];
                    for (let n = 0; n < 32; n++) {
                      let r = n / 31;
                      t && (r = 1 - r);
                      const o = this.angleAt(r);
                      i.push(
                        this.positionAtAngle(o).plus(
                          this.tangentAtAngle(o)
                            .perpendicular.normalized()
                            .times(e)
                        )
                      ),
                        n > 0 && s.push(new x(i[n - 1], i[n]));
                    }
                    return s;
                  }
                  getSVGPathFragment() {
                    if (!this._svgPathFragment) {
                      const e = 0.01,
                        t = this._anticlockwise ? "0" : "1";
                      let i;
                      const s = X(this._rotation);
                      if (this.getAngleDifference() < 2 * Math.PI - e)
                        (i = this.getAngleDifference() < Math.PI ? "0" : "1"),
                          (this._svgPathFragment = `A ${m(this._radiusX)} ${m(
                            this._radiusY
                          )} ${s} ${i} ${t} ${m(this.getEnd().x)} ${m(
                            this.getEnd().y
                          )}`);
                      else {
                        const e = (this._startAngle + this._endAngle) / 2,
                          n = this.positionAtAngle(e);
                        i = "0";
                        const r = `A ${m(this._radiusX)} ${m(
                            this._radiusY
                          )} ${s} ${i} ${t} ${m(n.x)} ${m(n.y)}`,
                          o = `A ${m(this._radiusX)} ${m(
                            this._radiusY
                          )} ${s} ${i} ${t} ${m(this.getEnd().x)} ${m(
                            this.getEnd().y
                          )}`;
                        this._svgPathFragment = `${r} ${o}`;
                      }
                    }
                    return this._svgPathFragment;
                  }
                  strokeLeft(e) {
                    return this.offsetTo(-e / 2, !1);
                  }
                  strokeRight(e) {
                    return this.offsetTo(e / 2, !0);
                  }
                  getInteriorExtremaTs() {
                    const e = [];
                    return (
                      _.each(this.possibleExtremaAngles, (t) => {
                        if (this.unitArcSegment.containsAngle(t)) {
                          const i = this.tAtAngle(t),
                            s = 1e-10;
                          i > s && i < 1 - s && e.push(i);
                        }
                      }),
                      e.sort()
                    );
                  }
                  intersection(e) {
                    const t = this.getUnitTransform(),
                      i = t.inverseRay2(e),
                      s = this.getUnitArcSegment().intersection(i);
                    return _.map(s, (i) => {
                      const s = t.transformPosition2(i.point),
                        n = e.position.distance(s),
                        r = t.inverseNormal2(i.normal);
                      return new u(n, s, r, i.wind, i.t);
                    });
                  }
                  windingIntersection(e) {
                    const t = this.getUnitTransform().inverseRay2(e);
                    return this.getUnitArcSegment().windingIntersection(t);
                  }
                  writeToContext(e) {
                    e.ellipse
                      ? e.ellipse(
                          this._center.x,
                          this._center.y,
                          this._radiusX,
                          this._radiusY,
                          this._rotation,
                          this._startAngle,
                          this._endAngle,
                          this._anticlockwise
                        )
                      : (this.getUnitTransform()
                          .getMatrix()
                          .canvasAppendTransform(e),
                        e.arc(
                          0,
                          0,
                          1,
                          this._startAngle,
                          this._endAngle,
                          this._anticlockwise
                        ),
                        this.getUnitTransform()
                          .getInverse()
                          .canvasAppendTransform(e));
                  }
                  transformed(e) {
                    const t = e
                        .timesVector2(
                          S.Z.createPolar(this._radiusX, this._rotation)
                        )
                        .minus(e.timesVector2(S.Z.ZERO)),
                      i = e
                        .timesVector2(
                          S.Z.createPolar(
                            this._radiusY,
                            this._rotation + Math.PI / 2
                          )
                        )
                        .minus(e.timesVector2(S.Z.ZERO)),
                      s = t.angle,
                      n = t.magnitude,
                      r = i.magnitude,
                      o = e.getDeterminant() < 0,
                      a = o ? !this._anticlockwise : this._anticlockwise,
                      h = o ? -this._startAngle : this._startAngle;
                    let l = o ? -this._endAngle : this._endAngle;
                    return (
                      Math.abs(this._endAngle - this._startAngle) ===
                        2 * Math.PI &&
                        (l = a ? h - 2 * Math.PI : h + 2 * Math.PI),
                      new Q(e.timesVector2(this._center), n, r, s, h, l, a)
                    );
                  }
                  getSignedAreaFragment() {
                    const e = this._startAngle,
                      t = this.getActualEndAngle(),
                      i = Math.sin(e),
                      s = Math.sin(t),
                      n = Math.cos(e),
                      r = Math.cos(t);
                    return (
                      0.5 *
                      (this._radiusX * this._radiusY * (t - e) +
                        Math.cos(this._rotation) *
                          (this._radiusX * this._center.y * (n - r) +
                            this._radiusY * this._center.x * (s - i)) +
                        Math.sin(this._rotation) *
                          (this._radiusX * this._center.x * (r - n) +
                            this._radiusY * this._center.y * (s - i)))
                    );
                  }
                  reversed() {
                    return new Q(
                      this._center,
                      this._radiusX,
                      this._radiusY,
                      this._rotation,
                      this._endAngle,
                      this._startAngle,
                      !this._anticlockwise
                    );
                  }
                  serialize() {
                    return {
                      type: "EllipticalArc",
                      centerX: this._center.x,
                      centerY: this._center.y,
                      radiusX: this._radiusX,
                      radiusY: this._radiusY,
                      rotation: this._rotation,
                      startAngle: this._startAngle,
                      endAngle: this._endAngle,
                      anticlockwise: this._anticlockwise,
                    };
                  }
                  getOverlaps(e) {
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return e instanceof Q ? Q.getOverlaps(this, e) : null;
                  }
                  static deserialize(e) {
                    return new Q(
                      new S.Z(e.centerX, e.centerY),
                      e.radiusX,
                      e.radiusY,
                      e.rotation,
                      e.startAngle,
                      e.endAngle,
                      e.anticlockwise
                    );
                  }
                  static getOverlapType(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1e-10;
                    if (e._center.distance(t._center) < i) {
                      const s =
                          Math.abs(e._radiusX - t._radiusX) < i &&
                          Math.abs(e._radiusY - t._radiusY) < i,
                        n =
                          Math.abs(e._radiusX - t._radiusY) < i &&
                          Math.abs(e._radiusY - t._radiusX) < i;
                      if (
                        s &&
                        Math.abs(
                          o.Z.moduloBetweenDown(
                            e._rotation - t._rotation + Math.PI / 2,
                            0,
                            Math.PI
                          ) -
                            Math.PI / 2
                        ) < i
                      )
                        return U.MATCHING_OVERLAP;
                      if (
                        n &&
                        Math.abs(
                          o.Z.moduloBetweenDown(
                            e._rotation - t._rotation,
                            0,
                            Math.PI
                          ) -
                            Math.PI / 2
                        ) < i
                      )
                        return U.OPPOSITE_OVERLAP;
                    }
                    return U.NONE;
                  }
                  static getOverlaps(e, t) {
                    return Q.getOverlapType(e, t) === U.NONE
                      ? []
                      : Y.getAngularOverlaps(
                          e._startAngle + e._rotation,
                          e.getActualEndAngle() + e._rotation,
                          t._startAngle + t._rotation,
                          t.getActualEndAngle() + t._rotation
                        );
                  }
                  static intersect(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : 1e-10;
                    if (Q.getOverlapType(e, t, i) === U.NONE)
                      return Ee.intersect(e, t);
                    {
                      const s = [],
                        n = e.positionAt(0),
                        r = e.positionAt(1),
                        o = t.positionAt(0),
                        a = t.positionAt(1);
                      return (
                        n.equalsEpsilon(o, i) &&
                          s.push(new p(n.average(o), 0, 0)),
                        n.equalsEpsilon(a, i) &&
                          s.push(new p(n.average(a), 0, 1)),
                        r.equalsEpsilon(o, i) &&
                          s.push(new p(r.average(o), 1, 0)),
                        r.equalsEpsilon(a, i) &&
                          s.push(new p(r.average(a), 1, 1)),
                        s
                      );
                    }
                  }
                  static computeUnitTransform(e, t, i, s) {
                    return new G.Z(
                      C.Z.translation(e.x, e.y)
                        .timesMatrix(C.Z.rotation2(s))
                        .timesMatrix(C.Z.scaling(t, i))
                    );
                  }
                }
                class U extends z.Z {}
                _defineProperty(U, "MATCHING_OVERLAP", new (s = U)()),
                  _defineProperty(U, "OPPOSITE_OVERLAP", new s()),
                  _defineProperty(U, "NONE", new s()),
                  _defineProperty(U, "enumeration", new W.Z(s)),
                  r.register("EllipticalArc", Q);
                class j {
                  constructor(e, t, i) {
                    if (
                      ((this.invalidatedEmitter = new P.Z()),
                      (this.segments = []),
                      (this.points =
                        t ||
                        (e && e.length
                          ? _.map(e, (e) => e.start).concat(e[e.length - 1].end)
                          : [])),
                      (this.closed = !!i),
                      (this._strokedSubpaths = null),
                      (this._strokedSubpathsComputed = !1),
                      (this._strokedStyles = null),
                      (this._bounds = null),
                      (this._invalidateListener = this.invalidate.bind(this)),
                      (this._invalidatingPoints = !1),
                      e)
                    )
                      for (let s = 0; s < e.length; s++)
                        _.each(e[s].getNondegenerateSegments(), (e) => {
                          this.addSegmentDirectly(e);
                        });
                  }
                  getBounds() {
                    if (null === this._bounds) {
                      const e = b.Z.NOTHING.copy();
                      _.each(this.segments, (t) => {
                        e.includeBounds(t.getBounds());
                      }),
                        (this._bounds = e);
                    }
                    return this._bounds;
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getArcLength(e, t, i) {
                    let s = 0;
                    for (let n = 0; n < this.segments.length; n++)
                      s += this.segments[n].getArcLength(e, t, i);
                    return s;
                  }
                  copy() {
                    return new j(
                      this.segments.slice(0),
                      this.points.slice(0),
                      this.closed
                    );
                  }
                  invalidatePoints() {
                    this._invalidatingPoints = !0;
                    const e = this.segments.length;
                    for (let t = 0; t < e; t++) this.segments[t].invalidate();
                    (this._invalidatingPoints = !1), this.invalidate();
                  }
                  invalidate() {
                    this._invalidatingPoints ||
                      ((this._bounds = null),
                      (this._strokedSubpathsComputed = !1),
                      this.invalidatedEmitter.emit());
                  }
                  addPoint(e) {
                    return this.points.push(e), this;
                  }
                  addSegmentDirectly(e) {
                    return (
                      this.segments.push(e),
                      e.invalidationEmitter.addListener(
                        this._invalidateListener
                      ),
                      this
                    );
                  }
                  addSegment(e) {
                    const t = e.getNondegenerateSegments().length;
                    for (let i = 0; i < t; i++) this.addSegmentDirectly(e);
                    return this.invalidate(), this;
                  }
                  addClosingSegment() {
                    if (this.hasClosingSegment()) {
                      const e = this.getClosingSegment();
                      this.addSegmentDirectly(e),
                        this.invalidate(),
                        this.addPoint(this.getFirstPoint()),
                        (this.closed = !0);
                    }
                  }
                  close() {
                    (this.closed = !0), this.addClosingSegment();
                  }
                  getLength() {
                    return this.points.length;
                  }
                  getFirstPoint() {
                    return _.first(this.points);
                  }
                  getLastPoint() {
                    return _.last(this.points);
                  }
                  getFirstSegment() {
                    return _.first(this.segments);
                  }
                  getLastSegment() {
                    return _.last(this.segments);
                  }
                  getFillSegments() {
                    const e = this.segments.slice();
                    return (
                      this.hasClosingSegment() &&
                        e.push(this.getClosingSegment()),
                      e
                    );
                  }
                  isDrawable() {
                    return this.segments.length > 0;
                  }
                  isClosed() {
                    return this.closed;
                  }
                  hasClosingSegment() {
                    return !this.getFirstPoint().equalsEpsilon(
                      this.getLastPoint(),
                      1e-9
                    );
                  }
                  getClosingSegment() {
                    return new x(this.getLastPoint(), this.getFirstPoint());
                  }
                  writeToContext(e) {
                    if (this.isDrawable()) {
                      const t = this.getFirstSegment().start;
                      e.moveTo(t.x, t.y);
                      let i = this.segments.length;
                      this.closed &&
                        i >= 2 &&
                        this.segments[i - 1] instanceof x &&
                        i--;
                      for (let s = 0; s < i; s++)
                        this.segments[s].writeToContext(e);
                      this.closed && e.closePath();
                    }
                  }
                  toPiecewiseLinear(e) {
                    return new j(
                      _.flatten(
                        _.map(this.segments, (t) =>
                          t.toPiecewiseLinearSegments(e)
                        )
                      ),
                      null,
                      this.closed
                    );
                  }
                  transformed(e) {
                    return new j(
                      _.map(this.segments, (t) => t.transformed(e)),
                      _.map(this.points, (t) => e.timesVector2(t)),
                      this.closed
                    );
                  }
                  nonlinearTransformed(e) {
                    return new j(
                      _.flatten(
                        _.map(this.segments, (t) =>
                          e.methodName && t[e.methodName]
                            ? t[e.methodName](e)
                            : t.toPiecewiseLinearSegments(e)
                        )
                      ),
                      null,
                      this.closed
                    );
                  }
                  getBoundsWithTransform(e) {
                    const t = b.Z.NOTHING.copy(),
                      i = this.segments.length;
                    for (let s = 0; s < i; s++)
                      t.includeBounds(
                        this.segments[s].getBoundsWithTransform(e)
                      );
                    return t;
                  }
                  offset(e) {
                    if (!this.isDrawable()) return new j([], null, this.closed);
                    if (0 === e)
                      return new j(this.segments.slice(), null, this.closed);
                    let t;
                    const i = this.segments.slice(),
                      s = [];
                    for (t = 0; t < i.length; t++)
                      s.push(i[t].strokeLeft(2 * e));
                    let n = [];
                    for (t = 0; t < i.length; t++) {
                      if (this.closed || t > 0) {
                        const s = (t > 0 ? t : i.length) - 1,
                          r = i[t].start,
                          o = i[s].endTangent,
                          a = i[t].startTangent,
                          h = o.perpendicular.negated().times(e).angle,
                          l = a.perpendicular.negated().times(e).angle,
                          d = o.perpendicular.dot(a) > 0;
                        n.push(new Y(r, Math.abs(e), h, l, d));
                      }
                      n = n.concat(s[t]);
                    }
                    return new j(n, null, this.closed);
                  }
                  stroked(e) {
                    if (!this.isDrawable()) return [];
                    if (
                      (void 0 === e && (e = new d()),
                      this._strokedSubpathsComputed &&
                        this._strokedStyles.equals(e))
                    )
                      return this._strokedSubpaths;
                    const t = e.lineWidth;
                    let i,
                      s = [],
                      n = [];
                    const r = this.getFirstSegment(),
                      o = this.getLastSegment();
                    function a(e) {
                      s = s.concat(e);
                    }
                    function h(e) {
                      n = n.concat(e);
                    }
                    const l = o.end.equals(r.start),
                      c = l
                        ? null
                        : new x(
                            this.segments[this.segments.length - 1].end,
                            this.segments[0].start
                          );
                    for (i = 0; i < this.segments.length; i++)
                      i > 0 &&
                        a(
                          e.leftJoin(
                            this.segments[i].start,
                            this.segments[i - 1].endTangent,
                            this.segments[i].startTangent
                          )
                        ),
                        a(this.segments[i].strokeLeft(t));
                    for (i = this.segments.length - 1; i >= 0; i--)
                      i < this.segments.length - 1 &&
                        h(
                          e.rightJoin(
                            this.segments[i].end,
                            this.segments[i].endTangent,
                            this.segments[i + 1].startTangent
                          )
                        ),
                        h(this.segments[i].strokeRight(t));
                    let u;
                    return (
                      this.closed
                        ? (l
                            ? (a(
                                e.leftJoin(o.end, o.endTangent, r.startTangent)
                              ),
                              h(
                                e.rightJoin(o.end, o.endTangent, r.startTangent)
                              ))
                            : (a(
                                e.leftJoin(
                                  c.start,
                                  o.endTangent,
                                  c.startTangent
                                )
                              ),
                              a(c.strokeLeft(t)),
                              a(
                                e.leftJoin(c.end, c.endTangent, r.startTangent)
                              ),
                              h(
                                e.rightJoin(c.end, c.endTangent, r.startTangent)
                              ),
                              h(c.strokeRight(t)),
                              h(
                                e.rightJoin(
                                  c.start,
                                  o.endTangent,
                                  c.startTangent
                                )
                              )),
                          (u = [new j(s, null, !0), new j(n, null, !0)]))
                        : (u = [
                            new j(
                              s
                                .concat(e.cap(o.end, o.endTangent))
                                .concat(n)
                                .concat(
                                  e.cap(r.start, r.startTangent.negated())
                                ),
                              null,
                              !0
                            ),
                          ]),
                      (this._strokedSubpaths = u),
                      (this._strokedSubpathsComputed = !0),
                      (this._strokedStyles = e.copy()),
                      u
                    );
                  }
                  dashed(e, t, i, s) {
                    function n(e, t) {
                      const i = e[e.length - 1].concat(t[0]),
                        s = e
                          .slice(0, e.length - 1)
                          .concat([i])
                          .concat(t.slice(1));
                      return s;
                    }
                    function r(e, t) {
                      if (!e.hasRightFilled || !t.hasLeftFilled) return !1;
                      const i = _.last(_.last(e.segmentArrays)),
                        s = t.segmentArrays[0][0];
                      return i.end.distance(s.start) < 1e-5;
                    }
                    const o = [];
                    for (let a = 0; a < this.segments.length; a++) {
                      const n = this.segments[a],
                        r = n.getDashValues(e, t, i, s);
                      o.push(r), (t += r.arcLength);
                      const h = [0].concat(r.values).concat([1]),
                        l = r.initiallyInside;
                      (r.hasLeftFilled = l),
                        (r.hasRightFilled = h.length % 2 == 0 ? l : !l),
                        (r.segmentArrays = []);
                      for (let e = l ? 0 : 1; e < h.length - 1; e += 2)
                        h[e] !== h[e + 1] &&
                          r.segmentArrays.push([n.slice(h[e], h[e + 1])]);
                    }
                    for (let a = o.length - 1; a >= 1; a--) {
                      const e = o[a - 1],
                        t = o[a];
                      r(e, t) &&
                        o.splice(a - 1, 2, {
                          segmentArrays: n(e.segmentArrays, t.segmentArrays),
                          hasLeftFilled: e.hasLeftFilled,
                          hasRightFilled: t.hasRightFilled,
                        });
                    }
                    if (o.length > 1 && r(o[o.length - 1], o[0])) {
                      const e = o.pop(),
                        t = o.shift();
                      o.push({
                        segmentArrays: n(e.segmentArrays, t.segmentArrays),
                        hasLeftFilled: e.hasLeftFilled,
                        hasRightFilled: t.hasRightFilled,
                      });
                    }
                    return this.closed &&
                      1 === o.length &&
                      1 === o[0].segmentArrays.length &&
                      o[0].hasLeftFilled &&
                      o[0].hasRightFilled
                      ? [new j(o[0].segmentArrays[0], null, !0)]
                      : _.flatten(o.map((e) => e.segmentArrays)).map(
                          (e) => new j(e)
                        );
                  }
                  serialize() {
                    return {
                      type: "Subpath",
                      segments: this.segments.map((e) => e.serialize()),
                      points: this.points.map((e) => ({ x: e.x, y: e.y })),
                      closed: this.closed,
                    };
                  }
                  static deserialize(e) {
                    return new j(
                      e.segments.map(V.deserialize),
                      e.points.map((e) => new S.Z(e.x, e.y)),
                      e.closed
                    );
                  }
                }
                r.register("Subpath", j);
                const K = j,
                  J = Math.random;
                function $(e, t) {
                  return new S.Z(e, t);
                }
                function ee(e, t, i, s) {
                  return i
                    .copy()
                    .subtract(e)
                    .multiplyScalar((1 - s) / 6)
                    .add(t);
                }
                class te {
                  constructor(e, t) {
                    if (
                      ((this.subpaths = []),
                      (this._bounds = t ? t.copy() : null),
                      (this.invalidatedEmitter = new P.Z()),
                      this.resetControlPoints(),
                      (this._invalidateListener = this.invalidate.bind(this)),
                      (this._invalidatingPoints = !1),
                      (this._immutable = !1),
                      "object" == typeof e)
                    )
                      for (let i = 0; i < e.length; i++) this.addSubpath(e[i]);
                    e &&
                      "object" != typeof e &&
                      _.each(f.parse(e), (e) => {
                        this[e.cmd].apply(this, e.args);
                      }),
                      this.invalidate();
                  }
                  resetControlPoints() {
                    (this.lastQuadraticControlPoint = null),
                      (this.lastCubicControlPoint = null);
                  }
                  setQuadraticControlPoint(e) {
                    (this.lastQuadraticControlPoint = e),
                      (this.lastCubicControlPoint = null);
                  }
                  setCubicControlPoint(e) {
                    (this.lastQuadraticControlPoint = null),
                      (this.lastCubicControlPoint = e);
                  }
                  moveTo(e, t) {
                    return this.moveToPoint($(e, t));
                  }
                  moveToRelative(e, t) {
                    return this.moveToPointRelative($(e, t));
                  }
                  moveToPointRelative(e) {
                    return this.moveToPoint(this.getRelativePoint().plus(e));
                  }
                  moveToPoint(e) {
                    return (
                      this.addSubpath(new K().addPoint(e)),
                      this.resetControlPoints(),
                      this
                    );
                  }
                  lineTo(e, t) {
                    return this.lineToPoint($(e, t));
                  }
                  lineToRelative(e, t) {
                    return this.lineToPointRelative($(e, t));
                  }
                  lineToPointRelative(e) {
                    return this.lineToPoint(this.getRelativePoint().plus(e));
                  }
                  lineToPoint(e) {
                    if (this.hasSubpaths()) {
                      const t = this.getLastSubpath().getLastPoint(),
                        i = e,
                        s = new x(t, i);
                      this.getLastSubpath().addPoint(i),
                        this.addSegmentAndBounds(s);
                    } else this.ensure(e);
                    return this.resetControlPoints(), this;
                  }
                  horizontalLineTo(e) {
                    return this.lineTo(e, this.getRelativePoint().y);
                  }
                  horizontalLineToRelative(e) {
                    return this.lineToRelative(e, 0);
                  }
                  verticalLineTo(e) {
                    return this.lineTo(this.getRelativePoint().x, e);
                  }
                  verticalLineToRelative(e) {
                    return this.lineToRelative(0, e);
                  }
                  zigZagTo(e, t, i, s, n) {
                    return this.zigZagToPoint(new S.Z(e, t), i, s, n);
                  }
                  zigZagToPoint(e, t, i, s) {
                    this.ensure(e);
                    const n = this.getLastPoint(),
                      r = e.minus(n),
                      o = r.normalized(),
                      a = o.perpendicular.times(t);
                    let h;
                    h = s ? r.magnitude / (i + 0.5) : r.magnitude / i;
                    for (let l = 0; l < i; l++) {
                      const e = o.times(l * h).plus(n),
                        t = e.plus(o.times(h / 4)).plus(a),
                        i = e.plus(o.times((3 * h) / 4)).minus(a);
                      this.lineToPoint(t), this.lineToPoint(i);
                    }
                    if (s) {
                      const e = o
                        .times(i * h)
                        .plus(n)
                        .plus(o.times(h / 4))
                        .plus(a);
                      this.lineToPoint(e);
                    }
                    return this.lineToPoint(e);
                  }
                  quadraticCurveTo(e, t, i, s) {
                    return this.quadraticCurveToPoint($(e, t), $(i, s));
                  }
                  quadraticCurveToRelative(e, t, i, s) {
                    return this.quadraticCurveToPointRelative($(e, t), $(i, s));
                  }
                  quadraticCurveToPointRelative(e, t) {
                    const i = this.getRelativePoint();
                    return this.quadraticCurveToPoint(i.plus(e), i.plus(t));
                  }
                  smoothQuadraticCurveTo(e, t) {
                    return this.quadraticCurveToPoint(
                      this.getSmoothQuadraticControlPoint(),
                      $(e, t)
                    );
                  }
                  smoothQuadraticCurveToRelative(e, t) {
                    return this.quadraticCurveToPoint(
                      this.getSmoothQuadraticControlPoint(),
                      $(e, t).plus(this.getRelativePoint())
                    );
                  }
                  quadraticCurveToPoint(e, t) {
                    this.ensure(e);
                    const i = this.getLastSubpath().getLastPoint(),
                      s = new O(i, e, t);
                    this.getLastSubpath().addPoint(t);
                    const n = s.getNondegenerateSegments();
                    return (
                      _.each(n, (e) => {
                        this.addSegmentAndBounds(e);
                      }),
                      this.setQuadraticControlPoint(e),
                      this
                    );
                  }
                  cubicCurveTo(e, t, i, s, n, r) {
                    return this.cubicCurveToPoint($(e, t), $(i, s), $(n, r));
                  }
                  cubicCurveToRelative(e, t, i, s, n, r) {
                    return this.cubicCurveToPointRelative(
                      $(e, t),
                      $(i, s),
                      $(n, r)
                    );
                  }
                  cubicCurveToPointRelative(e, t, i) {
                    const s = this.getRelativePoint();
                    return this.cubicCurveToPoint(
                      s.plus(e),
                      s.plus(t),
                      s.plus(i)
                    );
                  }
                  smoothCubicCurveTo(e, t, i, s) {
                    return this.cubicCurveToPoint(
                      this.getSmoothCubicControlPoint(),
                      $(e, t),
                      $(i, s)
                    );
                  }
                  smoothCubicCurveToRelative(e, t, i, s) {
                    return this.cubicCurveToPoint(
                      this.getSmoothCubicControlPoint(),
                      $(e, t).plus(this.getRelativePoint()),
                      $(i, s).plus(this.getRelativePoint())
                    );
                  }
                  cubicCurveToPoint(e, t, i) {
                    this.ensure(e);
                    const s = this.getLastSubpath().getLastPoint(),
                      n = new Z(s, e, t, i).getNondegenerateSegments();
                    return (
                      _.each(n, (e) => {
                        this.addSegmentAndBounds(e);
                      }),
                      this.getLastSubpath().addPoint(i),
                      this.setCubicControlPoint(t),
                      this
                    );
                  }
                  arc(e, t, i, s, n, r) {
                    return this.arcPoint($(e, t), i, s, n, r);
                  }
                  arcPoint(e, t, i, s, n) {
                    void 0 === n && (n = !1);
                    const r = new Y(e, t, i, s, n),
                      o = r.getStart(),
                      a = r.getEnd();
                    return (
                      this.hasSubpaths() &&
                        this.getLastSubpath().getLength() > 0 &&
                        !o.equals(this.getLastSubpath().getLastPoint(), 0) &&
                        this.addSegmentAndBounds(
                          new x(this.getLastSubpath().getLastPoint(), o)
                        ),
                      this.hasSubpaths() || this.addSubpath(new K()),
                      this.getLastSubpath().addPoint(o),
                      this.getLastSubpath().addPoint(a),
                      this.addSegmentAndBounds(r),
                      this.resetControlPoints(),
                      this
                    );
                  }
                  ellipticalArc(e, t, i, s, n, r, o, a) {
                    return this.ellipticalArcPoint($(e, t), i, s, n, r, o, a);
                  }
                  ellipticalArcPoint(e, t, i, s, n, r, o) {
                    void 0 === o && (o = !1);
                    const a = new Q(e, t, i, s, n, r, o),
                      h = a.start,
                      l = a.end;
                    return (
                      this.hasSubpaths() &&
                        this.getLastSubpath().getLength() > 0 &&
                        !h.equals(this.getLastSubpath().getLastPoint(), 0) &&
                        this.addSegmentAndBounds(
                          new x(this.getLastSubpath().getLastPoint(), h)
                        ),
                      this.hasSubpaths() || this.addSubpath(new K()),
                      this.getLastSubpath().addPoint(h),
                      this.getLastSubpath().addPoint(l),
                      this.addSegmentAndBounds(a),
                      this.resetControlPoints(),
                      this
                    );
                  }
                  close() {
                    if (this.hasSubpaths()) {
                      const e = this.getLastSubpath(),
                        t = new K();
                      e.close(),
                        this.addSubpath(t),
                        t.addPoint(e.getFirstPoint());
                    }
                    return this.resetControlPoints(), this;
                  }
                  newSubpath() {
                    return (
                      this.addSubpath(new K()), this.resetControlPoints(), this
                    );
                  }
                  makeImmutable() {
                    return (
                      (this._immutable = !0),
                      this.notifyInvalidationListeners(),
                      this
                    );
                  }
                  isImmutable() {
                    return this._immutable;
                  }
                  ellipticalArcToRelative(e, t, i, s, n, r, o) {
                    const a = this.getRelativePoint();
                    return this.ellipticalArcTo(
                      e,
                      t,
                      i,
                      s,
                      n,
                      r + a.x,
                      o + a.y
                    );
                  }
                  ellipticalArcTo(e, t, i, s, n, r, o) {
                    const a = new S.Z(r, o);
                    this.ensure(a);
                    const h = this.getLastSubpath().getLastPoint();
                    this.getLastSubpath().addPoint(a),
                      e < 0 && (e *= -1),
                      t < 0 && (t *= -1);
                    let l = e * e,
                      d = t * t;
                    const c = h.minus(a).dividedScalar(2).rotated(-i),
                      u = c.x * c.x,
                      p = c.y * c.y;
                    let g = new S.Z((e * c.y) / t, (-t * c.x) / e);
                    const m = u / l + p / d;
                    m > 1 &&
                      ((l = (e *= Math.sqrt(m)) * e),
                      (d = (t *= Math.sqrt(m)) * t),
                      (g = new S.Z((e * c.y) / t, (-t * c.x) / e))),
                      g.multiplyScalar(
                        Math.sqrt(
                          Math.max(0, (l * d - l * p - d * u) / (l * p + d * u))
                        )
                      ),
                      s === n && g.multiplyScalar(-1);
                    const A = h.blend(a, 0.5).plus(g.rotated(i));
                    function y(e, t) {
                      return (
                        (e.x * t.y - e.y * t.x > 0 ? 1 : -1) * e.angleBetween(t)
                      );
                    }
                    const f = new S.Z((c.x - g.x) / e, (c.y - g.y) / t),
                      P = new S.Z((-c.x - g.x) / e, (-c.y - g.y) / t),
                      b = y(S.Z.X_UNIT, f);
                    let v = y(f, P) % (2 * Math.PI);
                    !n && v > 0 && (v -= 2 * Math.PI),
                      n && v < 0 && (v += 2 * Math.PI);
                    const V = new Q(
                      A,
                      e,
                      t,
                      i,
                      b,
                      b + v,
                      !n
                    ).getNondegenerateSegments();
                    return (
                      _.each(V, (e) => {
                        this.addSegmentAndBounds(e);
                      }),
                      this
                    );
                  }
                  circle(e, t, i) {
                    if ("object" == typeof e) {
                      const s = e;
                      return (
                        (i = t), this.arcPoint(s, i, 0, 2 * Math.PI, !1).close()
                      );
                    }
                    return this.arcPoint(
                      $(e, t),
                      i,
                      0,
                      2 * Math.PI,
                      !1
                    ).close();
                  }
                  ellipse(e, t, i, s, n) {
                    if ("object" == typeof e) {
                      const r = e;
                      return (
                        (n = s),
                        (s = i),
                        (i = t),
                        this.ellipticalArcPoint(
                          r,
                          i,
                          s,
                          n || 0,
                          0,
                          2 * Math.PI,
                          !1
                        ).close()
                      );
                    }
                    return this.ellipticalArcPoint(
                      $(e, t),
                      i,
                      s,
                      n || 0,
                      0,
                      2 * Math.PI,
                      !1
                    ).close();
                  }
                  rect(e, t, i, s) {
                    const n = new K();
                    return (
                      this.addSubpath(n),
                      n.addPoint($(e, t)),
                      n.addPoint($(e + i, t)),
                      n.addPoint($(e + i, t + s)),
                      n.addPoint($(e, t + s)),
                      this.addSegmentAndBounds(new x(n.points[0], n.points[1])),
                      this.addSegmentAndBounds(new x(n.points[1], n.points[2])),
                      this.addSegmentAndBounds(new x(n.points[2], n.points[3])),
                      n.close(),
                      this.addSubpath(new K()),
                      this.getLastSubpath().addPoint($(e, t)),
                      this.resetControlPoints(),
                      this
                    );
                  }
                  roundRect(e, t, i, s, n, r) {
                    const o = e + n,
                      a = e + i - n,
                      h = t + r,
                      l = t + s - r;
                    return (
                      n === r
                        ? this.arc(a, h, n, -Math.PI / 2, 0, !1)
                            .arc(a, l, n, 0, Math.PI / 2, !1)
                            .arc(o, l, n, Math.PI / 2, Math.PI, !1)
                            .arc(o, h, n, Math.PI, (3 * Math.PI) / 2, !1)
                            .close()
                        : this.ellipticalArc(a, h, n, r, 0, -Math.PI / 2, 0, !1)
                            .ellipticalArc(a, l, n, r, 0, 0, Math.PI / 2, !1)
                            .ellipticalArc(
                              o,
                              l,
                              n,
                              r,
                              0,
                              Math.PI / 2,
                              Math.PI,
                              !1
                            )
                            .ellipticalArc(
                              o,
                              h,
                              n,
                              r,
                              0,
                              Math.PI,
                              (3 * Math.PI) / 2,
                              !1
                            )
                            .close(),
                      this
                    );
                  }
                  polygon(e) {
                    const t = e.length;
                    if (t > 0) {
                      this.moveToPoint(e[0]);
                      for (let i = 1; i < t; i++) this.lineToPoint(e[i]);
                    }
                    return this.close();
                  }
                  cardinalSpline(e, t) {
                    t = (0, a.Z)({ tension: 0, isClosedLineSegments: !1 }, t);
                    const i = e.length,
                      s = t.isClosedLineSegments ? i : i - 1;
                    for (let n = 0; n < s; n++) {
                      let r;
                      r =
                        0 !== n || t.isClosedLineSegments
                          ? n !== s - 1 || t.isClosedLineSegments
                            ? [
                                e[(n - 1 + i) % i],
                                e[n % i],
                                e[(n + 1) % i],
                                e[(n + 2) % i],
                              ]
                            : [e[n - 1], e[n], e[n + 1], e[n + 1]]
                          : [e[0], e[0], e[1], e[2]];
                      const o = [
                        r[1],
                        ee(r[0], r[1], r[2], t.tension),
                        ee(r[3], r[2], r[1], t.tension),
                        r[2],
                      ];
                      0 === n &&
                        (this.ensure(o[0]),
                        this.getLastSubpath().addPoint(o[0])),
                        this.cubicCurveToPoint(o[1], o[2], o[3]);
                    }
                    return this;
                  }
                  copy() {
                    return new te(
                      _.map(this.subpaths, (e) => e.copy()),
                      this.bounds
                    );
                  }
                  writeToContext(e) {
                    const t = this.subpaths.length;
                    for (let i = 0; i < t; i++)
                      this.subpaths[i].writeToContext(e);
                  }
                  getSVGPath() {
                    let e = "";
                    const t = this.subpaths.length;
                    for (let i = 0; i < t; i++) {
                      const t = this.subpaths[i];
                      if (t.isDrawable()) {
                        const i = t.segments[0].start;
                        e += `M ${m(i.x)} ${m(i.y)} `;
                        for (let s = 0; s < t.segments.length; s++)
                          e += t.segments[s].getSVGPathFragment() + " ";
                        t.isClosed() && (e += "Z ");
                      }
                    }
                    return e;
                  }
                  transformed(e) {
                    const t = _.map(this.subpaths, (t) => t.transformed(e)),
                      i = _.reduce(t, (e, t) => e.union(t.bounds), b.Z.NOTHING);
                    return new te(t, i);
                  }
                  nonlinearTransformed(e) {
                    e = (0, a.Z)(
                      {
                        minLevels: 0,
                        maxLevels: 7,
                        distanceEpsilon: 0.16,
                        curveEpsilon: e && e.includeCurvature ? 0.002 : null,
                      },
                      e
                    );
                    const t = _.map(this.subpaths, (t) =>
                        t.nonlinearTransformed(e)
                      ),
                      i = _.reduce(t, (e, t) => e.union(t.bounds), b.Z.NOTHING);
                    return new te(t, i);
                  }
                  polarToCartesian(e) {
                    return this.nonlinearTransformed(
                      (0, a.Z)(
                        {
                          pointMap: (e) => S.Z.createPolar(e.y, e.x),
                          methodName: "polarToCartesian",
                        },
                        e
                      )
                    );
                  }
                  toPiecewiseLinear(e) {
                    return this.nonlinearTransformed(e);
                  }
                  containsPoint(e) {
                    const t = new E.Z(e, S.Z.X_UNIT);
                    return 0 !== this.windingIntersection(t);
                  }
                  intersection(e) {
                    let t = [];
                    const i = this.subpaths.length;
                    for (let s = 0; s < i; s++) {
                      const i = this.subpaths[s];
                      if (i.isDrawable()) {
                        const s = i.segments.length;
                        for (let n = 0; n < s; n++) {
                          const s = i.segments[n];
                          t = t.concat(s.intersection(e));
                        }
                        i.hasClosingSegment() &&
                          (t = t.concat(i.getClosingSegment().intersection(e)));
                      }
                    }
                    return _.sortBy(t, (e) => e.distance);
                  }
                  interiorIntersectsLineSegment(e, t) {
                    const i = e.blend(t, 0.5);
                    if (this.containsPoint(i)) return !0;
                    const s = t.minus(e),
                      n = s.magnitude;
                    if (0 === n) return !1;
                    s.normalize();
                    const r = this.intersection(new E.Z(e, s));
                    for (let o = 0; o < r.length; o++)
                      if (r[o].distance <= n) return !0;
                    return !1;
                  }
                  windingIntersection(e) {
                    let t = 0;
                    const i = this.subpaths.length;
                    for (let s = 0; s < i; s++) {
                      const i = this.subpaths[s];
                      if (i.isDrawable()) {
                        const s = i.segments.length;
                        for (let n = 0; n < s; n++)
                          t += i.segments[n].windingIntersection(e);
                        i.hasClosingSegment() &&
                          (t += i.getClosingSegment().windingIntersection(e));
                      }
                    }
                    return t;
                  }
                  intersectsBounds(e) {
                    if (this.bounds.intersection(e).equals(this.bounds))
                      return !0;
                    const t = new E.Z(new S.Z(e.minX, e.minY), new S.Z(1, 0)),
                      i = new E.Z(new S.Z(e.minX, e.minY), new S.Z(0, 1)),
                      s = new E.Z(new S.Z(e.maxX, e.maxY), new S.Z(-1, 0)),
                      n = new E.Z(new S.Z(e.maxX, e.maxY), new S.Z(0, -1));
                    let r, o;
                    const a = this.intersection(t).concat(this.intersection(s));
                    for (o = 0; o < a.length; o++)
                      if (((r = a[o].point), r.x >= e.minX && r.x <= e.maxX))
                        return !0;
                    const h = this.intersection(i).concat(this.intersection(n));
                    for (o = 0; o < h.length; o++)
                      if (((r = h[o].point), r.y >= e.minY && r.y <= e.maxY))
                        return !0;
                    return !1;
                  }
                  getStrokedShape(e) {
                    let t = [];
                    const i = b.Z.NOTHING.copy();
                    let s = this.subpaths.length;
                    for (let n = 0; n < s; n++) {
                      const i = this.subpaths[n].stroked(e);
                      t = t.concat(i);
                    }
                    s = t.length;
                    for (let n = 0; n < s; n++) i.includeBounds(t[n].bounds);
                    return new te(t, i);
                  }
                  getOffsetShape(e) {
                    const t = [],
                      i = b.Z.NOTHING.copy();
                    let s = this.subpaths.length;
                    for (let n = 0; n < s; n++)
                      t.push(this.subpaths[n].offset(e));
                    s = t.length;
                    for (let n = 0; n < s; n++) i.includeBounds(t[n].bounds);
                    return new te(t, i);
                  }
                  getDashedShape(e, t, i) {
                    return (
                      (i = (0, a.Z)(
                        { distanceEpsilon: 1e-10, curveEpsilon: 1e-8 },
                        i
                      )),
                      new te(
                        _.flatten(
                          this.subpaths.map((s) =>
                            s.dashed(e, t, i.distanceEpsilon, i.curveEpsilon)
                          )
                        )
                      )
                    );
                  }
                  getBounds() {
                    if (null === this._bounds) {
                      const e = b.Z.NOTHING.copy();
                      _.each(this.subpaths, (t) => {
                        e.includeBounds(t.getBounds());
                      }),
                        (this._bounds = e);
                    }
                    return this._bounds;
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getStrokedBounds(e) {
                    let t = !0;
                    for (let i = 0; i < this.subpaths.length; i++) {
                      const e = this.subpaths[i];
                      if (e.isDrawable() && !e.isClosed()) {
                        t = !1;
                        break;
                      }
                      for (let i = 0; i < e.segments.length; i++) {
                        if (!e.segments[i].areStrokedBoundsDilated()) {
                          t = !1;
                          break;
                        }
                      }
                    }
                    if (t) return this.bounds.dilated(e.lineWidth / 2);
                    {
                      const t = this.bounds.copy();
                      for (let i = 0; i < this.subpaths.length; i++) {
                        const s = this.subpaths[i].stroked(e);
                        for (let e = 0; e < s.length; e++)
                          t.includeBounds(s[e].bounds);
                      }
                      return t;
                    }
                  }
                  getSimplifiedAreaShape() {
                    return Me.simplifyNonZero(this);
                  }
                  getBoundsWithTransform(e, t) {
                    const i = b.Z.NOTHING.copy(),
                      s = this.subpaths.length;
                    for (let n = 0; n < s; n++) {
                      const t = this.subpaths[n];
                      i.includeBounds(t.getBoundsWithTransform(e));
                    }
                    return (
                      t &&
                        i.includeBounds(
                          this.getStrokedShape(t).getBoundsWithTransform(e)
                        ),
                      i
                    );
                  }
                  getApproximateArea(e) {
                    const t = this.bounds.minX,
                      i = this.bounds.minY,
                      s = this.bounds.width,
                      n = this.bounds.height,
                      r = s * n;
                    let o = 0;
                    const a = new S.Z(0, 0);
                    for (let h = 0; h < e; h++)
                      (a.x = t + J() * s),
                        (a.y = i + J() * n),
                        this.containsPoint(a) && o++;
                    return (r * o) / e;
                  }
                  getNonoverlappingArea() {
                    return Math.abs(
                      _.sum(
                        this.subpaths.map((e) =>
                          _.sum(
                            e
                              .getFillSegments()
                              .map((e) => e.getSignedAreaFragment())
                          )
                        )
                      )
                    );
                  }
                  getArea() {
                    return this.getSimplifiedAreaShape().getNonoverlappingArea();
                  }
                  getApproximateCentroid(e) {
                    const t = this.bounds.minX,
                      i = this.bounds.minY,
                      s = this.bounds.width,
                      n = this.bounds.height;
                    let r = 0;
                    const o = new S.Z(0, 0),
                      a = new S.Z(0, 0);
                    for (let h = 0; h < e; h++)
                      (a.x = t + J() * s),
                        (a.y = i + J() * n),
                        this.containsPoint(a) && (o.add(a), r++);
                    return o.dividedScalar(r);
                  }
                  invalidatePoints() {
                    this._invalidatingPoints = !0;
                    const e = this.subpaths.length;
                    for (let t = 0; t < e; t++)
                      this.subpaths[t].invalidatePoints();
                    (this._invalidatingPoints = !1), this.invalidate();
                  }
                  toString() {
                    return `new kite.Shape( '${this.getSVGPath()}' )`;
                  }
                  invalidate() {
                    this._invalidatingPoints ||
                      ((this._bounds = null),
                      this.notifyInvalidationListeners());
                  }
                  notifyInvalidationListeners() {
                    this.invalidatedEmitter.emit();
                  }
                  addSegmentAndBounds(e) {
                    this.getLastSubpath().addSegment(e), this.invalidate();
                  }
                  ensure(e) {
                    this.hasSubpaths() ||
                      (this.addSubpath(new K()),
                      this.getLastSubpath().addPoint(e));
                  }
                  addSubpath(e) {
                    return (
                      this.subpaths.push(e),
                      e.invalidatedEmitter.addListener(
                        this._invalidateListener
                      ),
                      this.invalidate(),
                      this
                    );
                  }
                  hasSubpaths() {
                    return this.subpaths.length > 0;
                  }
                  getLastSubpath() {
                    return _.last(this.subpaths);
                  }
                  getLastPoint() {
                    return this.hasSubpaths()
                      ? this.getLastSubpath().getLastPoint()
                      : null;
                  }
                  getLastSegment() {
                    if (!this.hasSubpaths()) return null;
                    const e = this.getLastSubpath();
                    return e.isDrawable() ? e.getLastSegment() : null;
                  }
                  getSmoothQuadraticControlPoint() {
                    const e = this.getLastPoint();
                    return this.lastQuadraticControlPoint
                      ? e.plus(e.minus(this.lastQuadraticControlPoint))
                      : e;
                  }
                  getSmoothCubicControlPoint() {
                    const e = this.getLastPoint();
                    return this.lastCubicControlPoint
                      ? e.plus(e.minus(this.lastCubicControlPoint))
                      : e;
                  }
                  getRelativePoint() {
                    const e = this.getLastPoint();
                    return e || S.Z.ZERO;
                  }
                  shapeUnion(e) {
                    return Me.binaryResult(this, e, Me.BINARY_NONZERO_UNION);
                  }
                  shapeIntersection(e) {
                    return Me.binaryResult(
                      this,
                      e,
                      Me.BINARY_NONZERO_INTERSECTION
                    );
                  }
                  shapeDifference(e) {
                    return Me.binaryResult(
                      this,
                      e,
                      Me.BINARY_NONZERO_DIFFERENCE
                    );
                  }
                  shapeXor(e) {
                    return Me.binaryResult(this, e, Me.BINARY_NONZERO_XOR);
                  }
                  shapeClip(e, t) {
                    return Me.clipShape(e, this, t);
                  }
                  getArcLength(e, t, i) {
                    let s = 0;
                    for (let n = 0; n < this.subpaths.length; n++)
                      s += this.subpaths[n].getArcLength(e, t, i);
                    return s;
                  }
                  serialize() {
                    return {
                      type: "Shape",
                      subpaths: this.subpaths.map((e) => e.serialize()),
                    };
                  }
                  static deserialize(e) {
                    return new te(e.subpaths.map(K.deserialize));
                  }
                  static rectangle(e, t, i, s) {
                    return new te().rect(e, t, i, s);
                  }
                  static roundRect(e, t, i, s, n, r) {
                    return new te().roundRect(e, t, i, s, n, r);
                  }
                  static roundedRectangleWithRadii(e, t, i, s, n) {
                    let o = (n && n.topLeft) || 0,
                      a = (n && n.topRight) || 0,
                      h = (n && n.bottomLeft) || 0,
                      l = (n && n.bottomRight) || 0;
                    const d = o + a;
                    d > i && d > 0 && ((o = (o / d) * i), (a = (a / d) * i));
                    const c = h + l;
                    c > i && c > 0 && ((h = (h / c) * i), (l = (l / c) * i));
                    const u = o + h;
                    u > s && u > 0 && ((o = (o / u) * s), (h = (h / u) * s));
                    const p = a + l;
                    p > s && p > 0 && ((a = (a / p) * s), (l = (l / p) * s));
                    const g = new r.Shape(),
                      m = e + i,
                      A = t + s;
                    return (
                      l > 0
                        ? g.arc(m - l, A - l, l, 0, Math.PI / 2, !1)
                        : g.moveTo(m, A),
                      h > 0
                        ? g.arc(e + h, A - h, h, Math.PI / 2, Math.PI, !1)
                        : g.lineTo(e, A),
                      o > 0
                        ? g.arc(e + o, t + o, o, Math.PI, (3 * Math.PI) / 2, !1)
                        : g.lineTo(e, t),
                      a > 0
                        ? g.arc(
                            m - a,
                            t + a,
                            a,
                            (3 * Math.PI) / 2,
                            2 * Math.PI,
                            !1
                          )
                        : g.lineTo(m, t),
                      g.close(),
                      g
                    );
                  }
                  static boundsOffsetWithRadii(e, t, i) {
                    const s = e.withOffsets(t.left, t.top, t.right, t.bottom);
                    return te.roundedRectangleWithRadii(
                      s.minX,
                      s.minY,
                      s.width,
                      s.height,
                      i
                    );
                  }
                  static polygon(e) {
                    return new te().polygon(e);
                  }
                  static bounds(e) {
                    return new te().rect(
                      e.minX,
                      e.minY,
                      e.maxX - e.minX,
                      e.maxY - e.minY
                    );
                  }
                  static lineSegment(e, t, i, s) {
                    return "number" == typeof e
                      ? new te().moveTo(e, t).lineTo(i, s)
                      : new te().moveToPoint(e).lineToPoint(t);
                  }
                  static regularPolygon(e, t) {
                    const i = new te();
                    return (
                      _.each(_.range(e), (s) => {
                        const n = S.Z.createPolar(t, (2 * Math.PI * s) / e);
                        0 === s ? i.moveToPoint(n) : i.lineToPoint(n);
                      }),
                      i.close()
                    );
                  }
                  static circle(e, t, i) {
                    return void 0 === t
                      ? new te().circle(0, 0, e)
                      : new te().circle(e, t, i);
                  }
                  static ellipse(e, t, i, s, n) {
                    return void 0 === s
                      ? new te().ellipse(0, 0, e, t, i)
                      : new te().ellipse(e, t, i, s, n);
                  }
                  static arc(e, t, i, s, n, r) {
                    return new te().arc(e, t, i, s, n, r);
                  }
                  static union(e) {
                    return Me.unionNonZero(e);
                  }
                  static intersection(e) {
                    return Me.intersectionNonZero(e);
                  }
                  static xor(e) {
                    return Me.xorNonZero(e);
                  }
                  static segments(e, t) {
                    return new te([new K(e, void 0, !!t)]);
                  }
                }
                r.register("Shape", te),
                  (te.rect = te.rectangle),
                  (te.roundRectangle = te.roundRect);
                const ie = te;
                var se = i(8803);
                let ne = 0;
                class re {
                  constructor(e, t) {
                    (this.id = ++ne), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    return (
                      (this.edge = e),
                      (this.face = null),
                      (this.isReversed = t),
                      (this.signedAreaFragment =
                        e.signedAreaFragment * (t ? -1 : 1)),
                      (this.startVertex = null),
                      (this.endVertex = null),
                      (this.sortVector = this.sortVector || new S.Z(0, 0)),
                      (this.data = null),
                      this.updateReferences(),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "HalfEdge",
                      id: this.id,
                      edge: this.edge.id,
                      face: null === this.face ? null : this.face.id,
                      isReversed: this.isReversed,
                      signedAreaFragment: this.signedAreaFragment,
                      startVertex:
                        null === this.startVertex ? null : this.startVertex.id,
                      endVertex:
                        null === this.endVertex ? null : this.endVertex.id,
                      sortVector: S.Z.Vector2IO.toStateObject(this.sortVector),
                      data: this.data,
                    };
                  }
                  dispose() {
                    (this.edge = null),
                      (this.face = null),
                      (this.startVertex = null),
                      (this.endVertex = null),
                      (this.data = null),
                      this.freeToPool();
                  }
                  getNext(e) {
                    for (let t = 1; ; t++) {
                      let i =
                        this.endVertex.incidentHalfEdges.indexOf(this) - t;
                      i < 0 && (i += this.endVertex.incidentHalfEdges.length);
                      const s =
                        this.endVertex.incidentHalfEdges[i].getReversed();
                      if (!e || e(s.edge)) return s;
                    }
                  }
                  updateReferences() {
                    (this.startVertex = this.isReversed
                      ? this.edge.endVertex
                      : this.edge.startVertex),
                      (this.endVertex = this.isReversed
                        ? this.edge.startVertex
                        : this.edge.endVertex);
                  }
                  getEndTangent() {
                    return this.isReversed
                      ? this.edge.segment.startTangent
                      : this.edge.segment.endTangent.negated();
                  }
                  getEndCurvature() {
                    return this.isReversed
                      ? -this.edge.segment.curvatureAt(0)
                      : this.edge.segment.curvatureAt(1);
                  }
                  getReversed() {
                    return this.isReversed
                      ? this.edge.forwardHalf
                      : this.edge.reversedHalf;
                  }
                  getDirectionalSegment() {
                    return this.isReversed
                      ? this.edge.segment.reversed()
                      : this.edge.segment;
                  }
                }
                r.register("HalfEdge", re), se.Z.mixInto(re);
                const oe = re;
                var ae = i(5853);
                let he = 0;
                class le {
                  constructor(e) {
                    (this.id = ++he), this.initialize(e);
                  }
                  initialize(e) {
                    return (
                      (this.point = e),
                      (this.incidentHalfEdges = (0, ae.Z)(
                        this.incidentHalfEdges
                      )),
                      (this.visited = !1),
                      (this.visitIndex = 0),
                      (this.lowIndex = 0),
                      (this.data = null),
                      (this.internalData = {}),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "Vertex",
                      id: this.id,
                      point: S.Z.Vector2IO.toStateObject(this.point),
                      incidentHalfEdges: this.incidentHalfEdges.map(
                        (e) => e.id
                      ),
                      visited: this.visited,
                      visitIndex: this.visitIndex,
                      lowIndex: this.lowIndex,
                    };
                  }
                  dispose() {
                    (this.point = S.Z.ZERO),
                      (0, ae.Z)(this.incidentHalfEdges),
                      this.freeToPool();
                  }
                  sortEdges() {
                    const e = [];
                    for (let s = 0; s < this.incidentHalfEdges.length; s++) {
                      const t = this.incidentHalfEdges[s];
                      e.push(
                        t.sortVector.setXY(
                          t.getEndTangent().angle,
                          t.getEndCurvature()
                        )
                      );
                    }
                    const t = 1e-4 - Math.PI;
                    let i = !1;
                    for (; !i; ) {
                      i = !0;
                      for (let s = 0; s < e.length; s++) e[s].x < t && (i = !1);
                      if (!i)
                        for (let t = 0; t < e.length; t++) {
                          const i = e[t];
                          (i.x -= 1.62594024516),
                            i.x < -Math.PI - 1e-4 && (i.x += 2 * Math.PI);
                        }
                    }
                    this.incidentHalfEdges.sort(le.edgeComparison);
                  }
                  static edgeComparison(e, t) {
                    const i = e.sortVector.x,
                      s = t.sortVector.x;
                    if (
                      Math.abs(i - s) > 1e-5 ||
                      (i !== s &&
                        e.edge.segment instanceof x &&
                        t.edge.segment instanceof x)
                    )
                      return i < s ? -1 : 1;
                    {
                      const i = e.sortVector.y,
                        s = t.sortVector.y;
                      if (Math.abs(i - s) > 1e-5) return i < s ? 1 : -1;
                      throw new Error(
                        "TODO: Need to implement more advanced disambiguation "
                      );
                    }
                  }
                }
                r.register("Vertex", le), se.Z.mixInto(le);
                const de = le;
                let ce = 0;
                class ue {
                  constructor(e, t, i) {
                    (this.id = ++ce), this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    return (
                      (this.segment = e),
                      (this.startVertex = t),
                      (this.endVertex = i),
                      (this.signedAreaFragment = e.getSignedAreaFragment()),
                      (this.forwardHalf = oe.createFromPool(this, !1)),
                      (this.reversedHalf = oe.createFromPool(this, !0)),
                      (this.visited = !1),
                      (this.data = null),
                      (this.internalData = {}),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "Edge",
                      id: this.id,
                      segment: this.segment.serialize(),
                      startVertex:
                        null === this.startVertex ? null : this.startVertex.id,
                      endVertex:
                        null === this.endVertex ? null : this.endVertex.id,
                      signedAreaFragment: this.signedAreaFragment,
                      forwardHalf: this.forwardHalf.serialize(),
                      reversedHalf: this.reversedHalf.serialize(),
                      visited: this.visited,
                      data: this.data,
                    };
                  }
                  dispose() {
                    (this.segment = null),
                      (this.startVertex = null),
                      (this.endVertex = null),
                      this.forwardHalf.dispose(),
                      this.reversedHalf.dispose(),
                      (this.forwardHalf = null),
                      (this.reversedHalf = null),
                      (this.data = null),
                      this.freeToPool();
                  }
                  getOtherVertex(e) {
                    return this.startVertex === e
                      ? this.endVertex
                      : this.startVertex;
                  }
                  updateReferences() {
                    this.forwardHalf.updateReferences(),
                      this.reversedHalf.updateReferences();
                  }
                }
                r.register("Edge", ue), se.Z.mixInto(ue);
                const pe = ue;
                let ge = 0;
                class me {
                  constructor(e) {
                    (this.id = ++ge), this.initialize(e);
                  }
                  initialize(e) {
                    return (
                      (this.boundary = e),
                      (this.holes = (0, ae.Z)(this.holes)),
                      (this.windingMap = null),
                      (this.filled = null),
                      e && this.addBoundaryFaceReferences(e),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "Face",
                      id: this.id,
                      boundary:
                        null === this.boundary ? null : this.boundary.id,
                      holes: this.holes.map((e) => e.id),
                      windingMap: this.windingMap,
                      filled: this.filled,
                    };
                  }
                  dispose() {
                    (this.boundary = null),
                      (0, ae.Z)(this.holes),
                      (this.windingMap = null),
                      (this.filled = null),
                      this.freeToPool();
                  }
                  addBoundaryFaceReferences(e) {
                    for (let t = 0; t < e.halfEdges.length; t++)
                      e.halfEdges[t].face = this;
                  }
                  recursivelyAddHoles(e) {
                    this.holes.push(e), this.addBoundaryFaceReferences(e);
                    for (let t = 0; t < e.childBoundaries.length; t++)
                      this.recursivelyAddHoles(e.childBoundaries[t]);
                  }
                }
                r.register("Face", me), se.Z.mixInto(me);
                const Ae = me;
                let ye = 0;
                class fe {
                  constructor(e, t) {
                    (this.id = ++ye), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    return (
                      (this.shapeId = e),
                      (this.closed = t),
                      (this.halfEdges = (0, ae.Z)(this.halfEdges)),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "Loop",
                      id: this.id,
                      shapeId: this.shapeId,
                      closed: this.closed,
                      halfEdges: this.halfEdges.map((e) => e.id),
                    };
                  }
                  toSubpath() {
                    const e = [];
                    for (let t = 0; t < this.halfEdges.length; t++)
                      e.push(this.halfEdges[t].getDirectionalSegment());
                    return new K(e, void 0, this.closed);
                  }
                  dispose() {
                    (0, ae.Z)(this.halfEdges), this.freeToPool();
                  }
                }
                r.register("Loop", fe), se.Z.mixInto(fe);
                const Pe = fe;
                let be = 0;
                class ve {
                  constructor(e) {
                    (this.id = ++be), this.initialize(e);
                  }
                  initialize(e) {
                    return (
                      (this.halfEdges = e),
                      (this.signedArea = this.computeSignedArea()),
                      (this.bounds = this.computeBounds()),
                      (this.childBoundaries = (0, ae.Z)(this.childBoundaries)),
                      this
                    );
                  }
                  serialize() {
                    return {
                      type: "Boundary",
                      id: this.id,
                      halfEdges: this.halfEdges.map((e) => e.id),
                      signedArea: this.signedArea,
                      bounds: b.Z.Bounds2IO.toStateObject(this.bounds),
                      childBoundaries: this.childBoundaries.map((e) => e.id),
                    };
                  }
                  dispose() {
                    (this.halfEdges = []),
                      (0, ae.Z)(this.childBoundaries),
                      this.freeToPool();
                  }
                  isInner() {
                    return this.signedArea > 0;
                  }
                  computeSignedArea() {
                    let e = 0;
                    for (let t = 0; t < this.halfEdges.length; t++)
                      e += this.halfEdges[t].signedAreaFragment;
                    return e;
                  }
                  computeBounds() {
                    const e = b.Z.NOTHING.copy();
                    for (let t = 0; t < this.halfEdges.length; t++)
                      e.includeBounds(
                        this.halfEdges[t].edge.segment.getBounds()
                      );
                    return e;
                  }
                  computeExtremePoint(e) {
                    const t = [];
                    for (let s = 0; s < this.halfEdges.length; s++)
                      t.push(
                        this.halfEdges[s].edge.segment.transformed(
                          e.getMatrix()
                        )
                      );
                    const i = b.Z.NOTHING.copy();
                    for (let s = 0; s < t.length; s++)
                      i.includeBounds(t[s].getBounds());
                    for (let s = 0; s < t.length; s++) {
                      const n = t[s];
                      if (n.getBounds().top === i.top) {
                        let t = new S.Z(0, Number.POSITIVE_INFINITY);
                        const i = [0, 1].concat(n.getInteriorExtremaTs());
                        for (let e = 0; e < i.length; e++) {
                          const s = n.positionAt(i[e]);
                          s.y < t.y && (t = s);
                        }
                        return e.inversePosition2(t);
                      }
                    }
                    throw new Error(
                      "Should not reach here if we have segments"
                    );
                  }
                  computeExtremeRay(e) {
                    const t = this.computeExtremePoint(e),
                      i = e.inverseDelta2(new S.Z(0, -1)).normalized();
                    return new E.Z(t.plus(i.timesScalar(1e-4)), i);
                  }
                  hasHalfEdge(e) {
                    for (let t = 0; t < this.halfEdges.length; t++)
                      if (this.halfEdges[t] === e) return !0;
                    return !1;
                  }
                  toSubpath() {
                    const e = [];
                    for (let t = 0; t < this.halfEdges.length; t++)
                      e.push(this.halfEdges[t].getDirectionalSegment());
                    return new K(e, null, !0);
                  }
                }
                r.register("Boundary", ve), se.Z.mixInto(ve);
                const Ve = ve;
                var we = i(7232);
                class Ee {
                  constructor(e, t, i, s, n, r, o, a, h, l) {
                    this.initialize(e, t, i, s, n, r, o, a, h, l);
                  }
                  initialize(e, t, i, s, n, r, o, a, h, l) {
                    return (
                      (this.a = e),
                      (this.b = t),
                      (this.atMin = i),
                      (this.atMax = s),
                      (this.btMin = n),
                      (this.btMax = r),
                      (this.aMin = o),
                      (this.aMax = a),
                      (this.bMin = h),
                      (this.bMax = l),
                      this
                    );
                  }
                  pushSubdivisions(e) {
                    const t = this,
                      i = (t.atMax + t.atMin) / 2,
                      s = (t.btMax + t.btMin) / 2;
                    if (
                      i === this.atMin ||
                      i === this.atMax ||
                      s === this.btMin ||
                      s === this.btMax
                    )
                      return void e.push(this);
                    const n = t.a.positionAt(i),
                      r = t.b.positionAt(s);
                    Ee.boxIntersects(t.aMin, n, t.bMin, r) &&
                      e.push(
                        Ee.pool.create(
                          t.a,
                          t.b,
                          t.atMin,
                          i,
                          t.btMin,
                          s,
                          t.aMin,
                          n,
                          t.bMin,
                          r
                        )
                      ),
                      Ee.boxIntersects(n, t.aMax, t.bMin, r) &&
                        e.push(
                          Ee.pool.create(
                            t.a,
                            t.b,
                            i,
                            t.atMax,
                            t.btMin,
                            s,
                            n,
                            t.aMax,
                            t.bMin,
                            r
                          )
                        ),
                      Ee.boxIntersects(t.aMin, n, r, t.bMax) &&
                        e.push(
                          Ee.pool.create(
                            t.a,
                            t.b,
                            t.atMin,
                            i,
                            s,
                            t.btMax,
                            t.aMin,
                            n,
                            r,
                            t.bMax
                          )
                        ),
                      Ee.boxIntersects(n, t.aMax, r, t.bMax) &&
                        e.push(
                          Ee.pool.create(
                            t.a,
                            t.b,
                            i,
                            t.atMax,
                            s,
                            t.btMax,
                            n,
                            t.aMax,
                            r,
                            t.bMax
                          )
                        ),
                      this.freeToPool();
                  }
                  distance(e) {
                    const t = this.atMin - e.atMin,
                      i = this.atMax - e.atMax,
                      s = this.btMin - e.btMin,
                      n = this.btMax - e.btMax;
                    return t * t + i * i + s * s + n * n;
                  }
                  clean() {
                    (this.a = null),
                      (this.b = null),
                      (this.aMin = null),
                      (this.aMax = null),
                      (this.bMin = null),
                      (this.bMax = null);
                  }
                  static intersect(e, t) {
                    if (!e.bounds.intersectsBounds(t.bounds)) return [];
                    const i = Ee.getIntersectionRanges(e, t),
                      s = [];
                    for (let r = 0; r < i.length; r++) {
                      const e = i[r];
                      let t = !1;
                      e: for (let i = 0; i < s.length; i++) {
                        const n = s[i];
                        for (let i = 0; i < n.length; i++) {
                          const s = n[i];
                          if (e.distance(s) < 1e-13) {
                            n.push(e), (t = !0);
                            break e;
                          }
                        }
                      }
                      t || s.push([e]);
                    }
                    const n = [];
                    for (let r = 0; r < s.length; r++) {
                      const i = s[r];
                      let o = 0,
                        a = 0;
                      for (let e = 0; e < i.length; e++)
                        (o += i[e].atMin + i[e].atMax),
                          (a += i[e].btMin + i[e].btMax);
                      (o /= 2 * i.length), (a /= 2 * i.length);
                      const h = e.positionAt(o),
                        l = t.positionAt(a);
                      n.push(new p(h.average(l), o, a));
                    }
                    for (let r = 0; r < i.length; r++) i[r].freeToPool();
                    return Ee.cleanPool(), n;
                  }
                  static getIntersectionRanges(e, t) {
                    const i = e.getInteriorExtremaTs(),
                      s = t.getInteriorExtremaTs(),
                      n = _.zip([0].concat(i), i.concat([1])),
                      r = _.zip([0].concat(s), s.concat([1]));
                    let o = [];
                    for (let a = 0; a < n.length; a++)
                      for (let i = 0; i < r.length; i++) {
                        const s = n[a][0],
                          h = n[a][1],
                          l = r[i][0],
                          d = r[i][1],
                          c = e.positionAt(s),
                          u = e.positionAt(h),
                          p = t.positionAt(l),
                          g = t.positionAt(d);
                        Ee.boxIntersects(c, u, p, g) &&
                          o.push(Ee.pool.create(e, t, s, h, l, d, c, u, p, g));
                      }
                    for (let a = 0; a < 50; a++) {
                      const e = [];
                      for (let t = o.length - 1; t >= 0; t--)
                        o[t].pushSubdivisions(e);
                      o = e;
                    }
                    return o;
                  }
                  static boxIntersects(e, t, i, s) {
                    const n = Math.max(Math.min(e.x, t.x), Math.min(i.x, s.x)),
                      r = Math.max(Math.min(e.y, t.y), Math.min(i.y, s.y)),
                      o = Math.min(Math.max(e.x, t.x), Math.max(i.x, s.x)),
                      a = Math.min(Math.max(e.y, t.y), Math.max(i.y, s.y));
                    return o - n >= 0 && a - r >= 0;
                  }
                  static cleanPool() {
                    for (let e = 0; e < Ee.pool.objects.length; e++)
                      Ee.pool.objects[e].clean();
                  }
                  freeToPool() {
                    Ee.pool.freeToPool(this);
                  }
                }
                (n = Ee),
                  _defineProperty(Ee, "pool", new we.Z(n)),
                  r.register("BoundsIntersection", Ee);
                var Se = i(9059);
                let Te = 1;
                const xe = [];
                class Ce {
                  constructor() {
                    let e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1e-6;
                    (this.rootNode = Ie.createFromPool(
                      this,
                      Number.NEGATIVE_INFINITY,
                      Number.POSITIVE_INFINITY
                    )),
                      (this.rootNode.isBlack = !0),
                      (this.epsilon = e),
                      (this.items = new Set());
                  }
                  query(e, t) {
                    const i = Te++;
                    return (
                      !!this.rootNode &&
                      this.rootNode.query(
                        e,
                        this.getMinX(e, this.epsilon),
                        this.getMaxX(e, this.epsilon),
                        i,
                        t
                      )
                    );
                  }
                  addItem(e) {
                    const t = this.getMinX(e, this.epsilon),
                      i = this.getMaxX(e, this.epsilon);
                    this.rootNode.split(t, this),
                      this.rootNode.split(i, this),
                      this.rootNode.addItem(e, t, i),
                      this.items.add(e);
                  }
                  removeItem(e) {
                    this.rootNode.removeItem(
                      e,
                      this.getMinX(e, this.epsilon),
                      this.getMaxX(e, this.epsilon)
                    ),
                      this.items.delete(e);
                  }
                  audit() {
                    this.rootNode.audit(this.epsilon, this.items, []);
                  }
                  toString() {
                    let e = 0,
                      t = "";
                    return (
                      (function i(s) {
                        (t += `${_.repeat("  ", e)}${s.toString()}\n`),
                          e++,
                          s.hasChildren() && (i(s.left), i(s.right)),
                          e--;
                      })(this.rootNode),
                      t
                    );
                  }
                }
                class Ie {
                  constructor(e, t, i) {
                    (this.items = []), this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    return (
                      (this.min = t),
                      (this.max = i),
                      (this.splitValue = null),
                      (this.left = null),
                      (this.right = null),
                      (this.parent = null),
                      (this.tree = e),
                      (this.isBlack = !1),
                      (0, ae.Z)(this.items),
                      this
                    );
                  }
                  contains(e) {
                    return e >= this.min && e <= this.max;
                  }
                  hasChildren() {
                    return null !== this.splitValue;
                  }
                  query(e, t, i, s, n) {
                    let r = !1;
                    if (this.min <= i && this.max >= t) {
                      for (let e = 0; e < this.items.length; e++) {
                        const t = this.items[e];
                        if (
                          (!t.internalData.segmentId ||
                            t.internalData.segmentId < s) &&
                          ((t.internalData.segmentId = s), (r = n(t)), r)
                        )
                          return !0;
                      }
                      this.hasChildren() &&
                        (r || (r = this.left.query(e, t, i, s, n)),
                        r || (r = this.right.query(e, t, i, s, n)));
                    }
                    return r;
                  }
                  swapChild(e, t) {
                    this.left === e ? (this.left = t) : (this.right = t);
                  }
                  hasChild(e) {
                    return this.left === e || this.right === e;
                  }
                  otherChild(e) {
                    return this.left === e ? this.right : this.left;
                  }
                  leftRotate(e) {
                    if (this.right.hasChildren()) {
                      const t = this.right,
                        i = this.left,
                        s = t.left,
                        n = t.right;
                      (t.parent = this.parent),
                        this.parent
                          ? this.parent.swapChild(this, t)
                          : (e.rootNode = t),
                        (this.parent = t),
                        (s.parent = this),
                        (t.left = this),
                        (this.left = i),
                        (this.right = s),
                        (this.max = s.max),
                        (this.splitValue = i.max),
                        (t.min = this.min),
                        (t.splitValue = this.max);
                      const r = (0, ae.Z)(xe);
                      r.push(...this.items), (0, ae.Z)(this.items);
                      for (let e = i.items.length - 1; e >= 0; e--) {
                        const t = i.items[e],
                          n = s.items.indexOf(t);
                        n >= 0 &&
                          (i.items.splice(e, 1),
                          s.items.splice(n, 1),
                          this.items.push(t));
                      }
                      s.items.push(...t.items),
                        n.items.push(...t.items),
                        (0, ae.Z)(t.items),
                        t.items.push(...r);
                    }
                  }
                  rightRotate(e) {
                    const t = this.left,
                      i = this.right,
                      s = t.left,
                      n = t.right;
                    (t.parent = this.parent),
                      this.parent
                        ? this.parent.swapChild(this, t)
                        : (e.rootNode = t),
                      (this.parent = t),
                      (n.parent = this),
                      (t.right = this),
                      (this.left = n),
                      (this.right = i),
                      (this.min = n.min),
                      (this.splitValue = i.min),
                      (t.max = this.max),
                      (t.splitValue = this.min);
                    const r = (0, ae.Z)(xe);
                    r.push(...this.items), (0, ae.Z)(this.items);
                    for (let o = i.items.length - 1; o >= 0; o--) {
                      const e = i.items[o],
                        t = n.items.indexOf(e);
                      t >= 0 &&
                        (i.items.splice(o, 1),
                        n.items.splice(t, 1),
                        this.items.push(e));
                    }
                    s.items.push(...t.items),
                      n.items.push(...t.items),
                      (0, ae.Z)(t.items),
                      t.items.push(...r);
                  }
                  fixRedBlack(e) {
                    if (this.parent) {
                      const t = this.parent;
                      if (!t.isBlack) {
                        const i = t.parent,
                          s = i.otherChild(t);
                        s.isBlack
                          ? t === i.left
                            ? this === t.right
                              ? (t.leftRotate(e),
                                (t.parent.isBlack = !0),
                                (t.parent.parent.isBlack = !1),
                                t.parent.parent.rightRotate(e))
                              : ((t.isBlack = !0),
                                (i.isBlack = !1),
                                i.rightRotate(e))
                            : this === t.left
                            ? (t.rightRotate(e),
                              (t.parent.isBlack = !0),
                              (t.parent.parent.isBlack = !1),
                              t.parent.parent.leftRotate(e))
                            : ((t.isBlack = !0),
                              (i.isBlack = !1),
                              i.leftRotate(e))
                          : ((t.isBlack = !0),
                            (s.isBlack = !0),
                            (i.isBlack = !1),
                            i.fixRedBlack(e));
                      }
                    } else this.isBlack = !0;
                  }
                  split(e, t) {
                    if (e !== this.min && e !== this.max)
                      if (this.hasChildren())
                        this.splitValue !== e &&
                          (e > this.splitValue ? this.right : this.left).split(
                            e,
                            t
                          );
                      else {
                        this.splitValue = e;
                        const i = Ie.createFromPool(this.tree, this.min, e);
                        (i.parent = this), (this.left = i);
                        const s = Ie.createFromPool(this.tree, e, this.max);
                        if (
                          ((s.parent = this),
                          (this.right = s),
                          !this.isBlack && this.parent)
                        ) {
                          const e = this.parent,
                            n = e.otherChild(this);
                          n.isBlack
                            ? (this === e.left
                                ? (e.rightRotate(t), (i.isBlack = !0))
                                : (e.leftRotate(t), (s.isBlack = !0)),
                              this.fixRedBlack(t))
                            : ((this.isBlack = !0),
                              (n.isBlack = !0),
                              (e.isBlack = !1),
                              e.fixRedBlack(t));
                        }
                      }
                  }
                  addItem(e, t, i) {
                    this.min > i ||
                      this.max < t ||
                      (this.min >= t && this.max <= i
                        ? this.items.push(e)
                        : this.hasChildren() &&
                          (this.left.addItem(e, t, i),
                          this.right.addItem(e, t, i)));
                  }
                  removeItem(e, t, i) {
                    this.min > i ||
                      this.max < t ||
                      (this.min >= t && this.max <= i
                        ? (0, Se.Z)(this.items, e)
                        : this.hasChildren() &&
                          (this.left.removeItem(e, t, i),
                          this.right.removeItem(e, t, i)));
                  }
                  audit(e, t) {
                    arguments.length > 2 &&
                      void 0 !== arguments[2] &&
                      arguments[2];
                  }
                  toString() {
                    return `[${this.min} ${this.max}] split:${
                      this.splitValue
                    } ${this.isBlack ? "black" : "red"} ${this.items}`;
                  }
                }
                se.Z.mixInto(Ie), r.register("SegmentTree", Ce);
                class De extends Ce {
                  getMinX(e, t) {
                    return e.segment.bounds.left - t;
                  }
                  getMaxX(e, t) {
                    return e.segment.bounds.right + t;
                  }
                }
                r.register("EdgeSegmentTree", De);
                class ke extends Ce {
                  getMinX(e, t) {
                    return e.point.x - t;
                  }
                  getMaxX(e, t) {
                    return e.point.x + t;
                  }
                }
                r.register("VertexSegmentTree", ke);
                let Oe = 0,
                  Le = 0;
                class Be {
                  constructor() {
                    (this.vertices = []),
                      (this.edges = []),
                      (this.innerBoundaries = []),
                      (this.outerBoundaries = []),
                      (this.boundaries = []),
                      (this.shapeIds = []),
                      (this.loops = []),
                      (this.unboundedFace = Ae.createFromPool(null)),
                      (this.faces = [this.unboundedFace]);
                  }
                  serialize() {
                    return {
                      type: "Graph",
                      vertices: this.vertices.map((e) => e.serialize()),
                      edges: this.edges.map((e) => e.serialize()),
                      boundaries: this.boundaries.map((e) => e.serialize()),
                      innerBoundaries: this.innerBoundaries.map((e) => e.id),
                      outerBoundaries: this.outerBoundaries.map((e) => e.id),
                      shapeIds: this.shapeIds,
                      loops: this.loops.map((e) => e.serialize()),
                      unboundedFace: this.unboundedFace.id,
                      faces: this.faces.map((e) => e.serialize()),
                    };
                  }
                  static deserialize(e) {
                    const t = new Be(),
                      i = {},
                      s = {},
                      n = {},
                      r = {},
                      o = {},
                      a = {};
                    return (
                      (t.vertices = e.vertices.map((e) => {
                        const t = new de(
                          S.Z.Vector2IO.fromStateObject(e.point)
                        );
                        return (
                          (i[e.id] = t),
                          (t.visited = e.visited),
                          (t.visitIndex = e.visitIndex),
                          (t.lowIndex = e.lowIndex),
                          t
                        );
                      })),
                      (t.edges = e.edges.map((e) => {
                        const t = new pe(
                          V.deserialize(e.segment),
                          i[e.startVertex],
                          i[e.endVertex]
                        );
                        (s[e.id] = t),
                          (t.signedAreaFragment = e.signedAreaFragment);
                        const r = (e, t) => {
                          (n[t.id] = e),
                            (e.isReversed = t.isReversed),
                            (e.signedAreaFragment = t.signedAreaFragment),
                            (e.startVertex = i[t.startVertex.id]),
                            (e.endVertex = i[t.endVertex.id]),
                            (e.sortVector = S.Z.Vector2IO.fromStateObject(
                              t.sortVector
                            )),
                            (e.data = t.data);
                        };
                        return (
                          r(t.forwardHalf, e.forwardHalf),
                          r(t.reversedHalf, e.reversedHalf),
                          (t.visited = e.visited),
                          (t.data = e.data),
                          t
                        );
                      })),
                      e.vertices.forEach((e, i) => {
                        t.vertices[i].incidentHalfEdges =
                          e.incidentHalfEdges.map((e) => n[e]);
                      }),
                      (t.boundaries = e.boundaries.map((e) => {
                        const t = new Ve(e.halfEdges.map((e) => n[e]));
                        return (
                          (r[e.id] = t),
                          (t.signedArea = e.signedArea),
                          (t.bounds = b.Z.Bounds2IO.fromStateObject(e.bounds)),
                          t
                        );
                      })),
                      e.boundaries.forEach((e, i) => {
                        t.boundaries[i].childBoundaries = e.childBoundaries.map(
                          (e) => r[e]
                        );
                      }),
                      (t.innerBoundaries = e.innerBoundaries.map((e) => r[e])),
                      (t.outerBoundaries = e.outerBoundaries.map((e) => r[e])),
                      (t.shapeIds = e.shapeIds),
                      (t.loops = e.loops.map((e) => {
                        const t = new Pe(e.shapeId, e.closed);
                        return (
                          (o[e.id] = t),
                          (t.halfEdges = e.halfEdges.map((e) => n[e])),
                          t
                        );
                      })),
                      (t.faces = e.faces.map((e, i) => {
                        const s =
                          0 === i ? t.unboundedFace : new Ae(r[e.boundary]);
                        return (
                          (a[e.id] = s),
                          (s.holes = e.holes.map((e) => r[e])),
                          (s.windingMap = e.windingMap),
                          (s.filled = e.filled),
                          s
                        );
                      })),
                      e.edges.forEach((e, i) => {
                        const s = t.edges[i];
                        (s.forwardHalf.face =
                          null === e.forwardHalf.face
                            ? null
                            : a[e.forwardHalf.face]),
                          (s.reversedHalf.face =
                            null === e.reversedHalf.face
                              ? null
                              : a[e.reversedHalf.face]);
                      }),
                      t
                    );
                  }
                  addShape(e, t, i) {
                    for (let s = 0; s < t.subpaths.length; s++)
                      this.addSubpath(e, t.subpaths[s], i);
                  }
                  addSubpath(e, t, i) {
                    if (
                      ((i = (0, a.Z)({ ensureClosed: !0 }, i)),
                      this.shapeIds.indexOf(e) < 0 && this.shapeIds.push(e),
                      0 === t.segments.length)
                    )
                      return;
                    const s = t.closed || i.ensureClosed,
                      n = i.ensureClosed ? t.getFillSegments() : t.segments;
                    let r;
                    const o = [];
                    for (r = 0; r < n.length; r++) {
                      let e = r - 1;
                      e < 0 && (e = n.length - 1);
                      let t = n[e].end;
                      const i = n[r].start;
                      s || 0 !== r || (t = i),
                        i.equals(t)
                          ? o.push(de.createFromPool(i))
                          : o.push(de.createFromPool(i.average(t)));
                    }
                    s || o.push(de.createFromPool(n[n.length - 1].end));
                    const h = Pe.createFromPool(e, s);
                    for (r = 0; r < n.length; r++) {
                      let e = r + 1;
                      s && e === n.length && (e = 0);
                      const t = pe.createFromPool(n[r], o[r], o[e]);
                      h.halfEdges.push(t.forwardHalf), this.addEdge(t);
                    }
                    this.loops.push(h), this.vertices.push(...o);
                  }
                  computeSimplifiedFaces() {
                    this.eliminateOverlap(),
                      this.eliminateSelfIntersection(),
                      this.eliminateIntersection(),
                      this.collapseVertices(),
                      this.removeBridges(),
                      this.removeLowOrderVertices(),
                      this.orderVertexEdges(),
                      this.extractFaces(),
                      this.computeBoundaryTree(),
                      this.computeWindingMap();
                  }
                  computeFaceInclusion(e) {
                    for (let t = 0; t < this.faces.length; t++) {
                      const i = this.faces[t];
                      i.filled = e(i.windingMap);
                    }
                  }
                  createFilledSubGraph() {
                    const e = new Be(),
                      t = {};
                    for (let i = 0; i < this.edges.length; i++) {
                      const s = this.edges[i];
                      if (
                        s.forwardHalf.face.filled !== s.reversedHalf.face.filled
                      ) {
                        if (!t[s.startVertex.id]) {
                          const i = de.createFromPool(s.startVertex.point);
                          e.vertices.push(i), (t[s.startVertex.id] = i);
                        }
                        if (!t[s.endVertex.id]) {
                          const i = de.createFromPool(s.endVertex.point);
                          e.vertices.push(i), (t[s.endVertex.id] = i);
                        }
                        const i = t[s.startVertex.id],
                          n = t[s.endVertex.id];
                        e.addEdge(pe.createFromPool(s.segment, i, n));
                      }
                    }
                    return (
                      e.collapseAdjacentEdges(),
                      e.orderVertexEdges(),
                      e.extractFaces(),
                      e.computeBoundaryTree(),
                      e.fillAlternatingFaces(),
                      e
                    );
                  }
                  facesToShape() {
                    const e = [];
                    for (let t = 0; t < this.faces.length; t++) {
                      const i = this.faces[t];
                      if (i.filled) {
                        e.push(i.boundary.toSubpath());
                        for (let t = 0; t < i.holes.length; t++)
                          e.push(i.holes[t].toSubpath());
                      }
                    }
                    return new r.Shape(e);
                  }
                  dispose() {
                    for (; this.boundaries.length; )
                      this.boundaries.pop().dispose();
                    for (
                      (0, ae.Z)(this.innerBoundaries),
                        (0, ae.Z)(this.outerBoundaries);
                      this.loops.length;

                    )
                      this.loops.pop().dispose();
                    for (; this.faces.length; ) this.faces.pop().dispose();
                    for (; this.vertices.length; )
                      this.vertices.pop().dispose();
                    for (; this.edges.length; ) this.edges.pop().dispose();
                  }
                  addEdge(e) {
                    this.edges.push(e),
                      e.startVertex.incidentHalfEdges.push(e.reversedHalf),
                      e.endVertex.incidentHalfEdges.push(e.forwardHalf);
                  }
                  removeEdge(e) {
                    (0, Se.Z)(this.edges, e),
                      (0, Se.Z)(
                        e.startVertex.incidentHalfEdges,
                        e.reversedHalf
                      ),
                      (0, Se.Z)(e.endVertex.incidentHalfEdges, e.forwardHalf);
                  }
                  replaceEdgeInLoops(e, t) {
                    const i = [];
                    for (let s = 0; s < t.length; s++)
                      i.push(t[t.length - 1 - s].getReversed());
                    for (let s = 0; s < this.loops.length; s++) {
                      const n = this.loops[s];
                      for (let s = n.halfEdges.length - 1; s >= 0; s--) {
                        const r = n.halfEdges[s];
                        if (r.edge === e) {
                          const o = r === e.forwardHalf ? t : i;
                          Array.prototype.splice.apply(
                            n.halfEdges,
                            [s, 1].concat(o)
                          );
                        }
                      }
                    }
                  }
                  collapseAdjacentEdges() {
                    let e = !0;
                    for (; e; ) {
                      e = !1;
                      for (let t = 0; t < this.vertices.length; t++) {
                        const i = this.vertices[t];
                        if (2 === i.incidentHalfEdges.length) {
                          const t = i.incidentHalfEdges[0].edge,
                            s = i.incidentHalfEdges[1].edge;
                          let n = t.segment,
                            r = s.segment;
                          const o = t.getOtherVertex(i),
                            a = s.getOtherVertex(i);
                          if (
                            (t.startVertex === i && (n = n.reversed()),
                            s.endVertex === i && (r = r.reversed()),
                            n instanceof x &&
                              r instanceof x &&
                              n
                                .tangentAt(0)
                                .normalized()
                                .distance(r.tangentAt(0).normalized()) < 1e-6)
                          ) {
                            this.removeEdge(t),
                              this.removeEdge(s),
                              t.dispose(),
                              s.dispose(),
                              (0, Se.Z)(this.vertices, i),
                              i.dispose();
                            const n = new x(o.point, a.point);
                            this.addEdge(new pe(n, o, a)), (e = !0);
                            break;
                          }
                        }
                      }
                    }
                  }
                  eliminateOverlap() {
                    const e = new window.FlatQueue(),
                      t = new De(1e-4),
                      i = Le++,
                      s = (t) => {
                        const i = t.segment.bounds;
                        e.push({ start: !0, edge: t }, i.minY - 1e-4),
                          e.push({ start: !1, edge: t }, i.maxY + 1e-4);
                      },
                      n = (e) => {
                        e.internalData.removedId = i;
                      };
                    for (let o = 0; o < this.edges.length; o++)
                      s(this.edges[o]);
                    const r = [];
                    for (; e.length; ) {
                      const o = e.pop(),
                        a = o.edge;
                      if (a.internalData.removedId !== i)
                        if (o.start) {
                          let e,
                            i,
                            o = !1;
                          if (
                            (t.query(a, (t) => {
                              const s = a.segment.getOverlaps(t.segment);
                              if (null !== s && s.length)
                                for (let n = 0; n < s.length; n++) {
                                  const r = s[n];
                                  if (
                                    Math.abs(r.t1 - r.t0) > 1e-5 &&
                                    Math.abs(r.qt1 - r.qt0) > 1e-5
                                  )
                                    return (
                                      (i = this.splitOverlap(a, t, r)),
                                      (o = !0),
                                      (e = t),
                                      !0
                                    );
                                }
                              return !1;
                            }),
                            o)
                          ) {
                            t.removeItem(e), n(e), n(a);
                            for (let e = 0; e < i.length; e++) s(i[e]);
                            r.push(a), r.push(e);
                          } else t.addItem(a);
                        } else t.removeItem(a);
                    }
                    for (let o = 0; o < r.length; o++) r[o].dispose();
                  }
                  splitOverlap(e, t, i) {
                    const s = [],
                      n = e.segment,
                      r = t.segment;
                    this.removeEdge(e), this.removeEdge(t);
                    let a = i.t0,
                      h = i.t1,
                      l = i.qt0,
                      d = i.qt1;
                    a < 1e-5 && (a = 0),
                      h > 0.99999 && (h = 1),
                      l < 1e-5 && (l = 0),
                      d > 0.99999 && (d = 1);
                    const c = a > 0 ? n.subdivided(a)[0] : null,
                      u = l > 0 ? r.subdivided(l)[0] : null,
                      p = h < 1 ? n.subdivided(h)[1] : null,
                      g = d < 1 ? r.subdivided(d)[1] : null;
                    let m,
                      A,
                      y = n;
                    a > 0 && (y = y.subdivided(a)[1]),
                      h < 1 && (y = y.subdivided(o.Z.linear(a, 1, 0, 1, h))[0]),
                      c && u
                        ? ((m = de.createFromPool(y.start)),
                          this.vertices.push(m))
                        : (m = c
                            ? i.a > 0
                              ? t.startVertex
                              : t.endVertex
                            : e.startVertex),
                      p && g
                        ? ((A = de.createFromPool(y.end)),
                          this.vertices.push(A))
                        : (A = p
                            ? i.a > 0
                              ? t.endVertex
                              : t.startVertex
                            : e.endVertex);
                    const f = pe.createFromPool(y, m, A);
                    let P, b, v, V;
                    s.push(f),
                      c &&
                        ((P = pe.createFromPool(c, e.startVertex, m)),
                        s.push(P)),
                      p &&
                        ((b = pe.createFromPool(p, A, e.endVertex)), s.push(b)),
                      u &&
                        ((v = pe.createFromPool(
                          u,
                          t.startVertex,
                          i.a > 0 ? m : A
                        )),
                        s.push(v)),
                      g &&
                        ((V = pe.createFromPool(
                          g,
                          i.a > 0 ? A : m,
                          t.endVertex
                        )),
                        s.push(V));
                    for (let o = 0; o < s.length; o++) this.addEdge(s[o]);
                    const w = (c ? [P] : []).concat([f]).concat(p ? [b] : []),
                      E = (u ? [v] : []).concat([f]).concat(g ? [V] : []),
                      S = [],
                      T = [];
                    for (let o = 0; o < w.length; o++) S.push(w[o].forwardHalf);
                    for (let o = 0; o < E.length; o++) {
                      const e = E[o] !== f || i.a > 0;
                      T.push(e ? E[o].forwardHalf : E[o].reversedHalf);
                    }
                    return (
                      this.replaceEdgeInLoops(e, S),
                      this.replaceEdgeInLoops(t, T),
                      s
                    );
                  }
                  eliminateSelfIntersection() {
                    for (let e = this.edges.length - 1; e >= 0; e--) {
                      const t = this.edges[e],
                        i = t.segment;
                      if (i instanceof Z) {
                        const e = i.getSelfIntersection();
                        if (e) {
                          const s = i.subdivisions([e.aT, e.bT]),
                            n = de.createFromPool(e.point);
                          this.vertices.push(n);
                          const r = pe.createFromPool(s[0], t.startVertex, n),
                            o = pe.createFromPool(s[1], n, n),
                            a = pe.createFromPool(s[2], n, t.endVertex);
                          this.removeEdge(t),
                            this.addEdge(r),
                            this.addEdge(o),
                            this.addEdge(a),
                            this.replaceEdgeInLoops(t, [
                              r.forwardHalf,
                              o.forwardHalf,
                              a.forwardHalf,
                            ]),
                            t.dispose();
                        }
                      }
                    }
                  }
                  eliminateIntersection() {
                    const e = new window.FlatQueue(),
                      t = new De(1e-4),
                      i = Le++,
                      s = (t) => {
                        const i = t.segment.bounds;
                        e.push({ start: !0, edge: t }, i.minY - 1e-4),
                          e.push({ start: !1, edge: t }, i.maxY + 1e-4);
                      },
                      n = (e) => {
                        e.internalData.removedId = i;
                      };
                    for (let o = 0; o < this.edges.length; o++)
                      s(this.edges[o]);
                    const r = [];
                    for (; e.length; ) {
                      const o = e.pop(),
                        a = o.edge;
                      if (a.internalData.removedId !== i)
                        if (o.start) {
                          let e,
                            i,
                            o,
                            h = !1;
                          if (
                            (t.query(a, (t) => {
                              const s = a.segment,
                                n = t.segment;
                              let r = V.intersect(s, n);
                              if (
                                ((r = r.filter((e) => {
                                  const t = e.aT,
                                    i = e.bT;
                                  return (
                                    (t > 1e-5 && t < 0.99999) ||
                                    (i > 1e-5 && i < 0.99999)
                                  );
                                })),
                                r.length)
                              ) {
                                const s = r[0],
                                  n = this.simpleSplit(
                                    a,
                                    t,
                                    s.aT,
                                    s.bT,
                                    s.point
                                  );
                                if (n)
                                  return (
                                    (h = !0),
                                    (e = t),
                                    (i = n.addedEdges),
                                    (o = n.removedEdges),
                                    !0
                                  );
                              }
                              return !1;
                            }),
                            h)
                          ) {
                            o.includes(a) ? (n(a), r.push(a)) : t.addItem(a),
                              o.includes(e) &&
                                (t.removeItem(e), n(e), r.push(e));
                            for (let e = 0; e < i.length; e++) s(i[e]);
                          } else t.addItem(a);
                        } else t.removeItem(a);
                    }
                    for (let o = 0; o < r.length; o++) r[o].dispose();
                  }
                  simpleSplit(e, t, i, s, n) {
                    const r = i > 1e-6 && i < 0.999999,
                      o = s > 1e-6 && s < 0.999999;
                    let a = null;
                    r
                      ? o
                        ? ((a = de.createFromPool(n)), this.vertices.push(a))
                        : (a = s < 0.5 ? t.startVertex : t.endVertex)
                      : (a = i < 0.5 ? e.startVertex : e.endVertex);
                    let h = !1;
                    const l = [],
                      d = [];
                    return (
                      r &&
                        a !== e.startVertex &&
                        a !== e.endVertex &&
                        (l.push(...this.splitEdge(e, i, a)),
                        d.push(e),
                        (h = !0)),
                      o &&
                        a !== t.startVertex &&
                        a !== t.endVertex &&
                        (l.push(...this.splitEdge(t, s, a)),
                        d.push(t),
                        (h = !0)),
                      h ? { addedEdges: l, removedEdges: d } : null
                    );
                  }
                  splitEdge(e, t, i) {
                    const s = e.segment.subdivided(t),
                      n = pe.createFromPool(s[0], e.startVertex, i),
                      r = pe.createFromPool(s[1], i, e.endVertex);
                    return (
                      this.removeEdge(e),
                      this.addEdge(n),
                      this.addEdge(r),
                      this.replaceEdgeInLoops(e, [
                        n.forwardHalf,
                        r.forwardHalf,
                      ]),
                      [n, r]
                    );
                  }
                  collapseVertices() {
                    const e = new window.FlatQueue(),
                      t = new ke(1e-4),
                      i = Le++,
                      s = (t) => {
                        e.push({ start: !0, vertex: t }, t.point.y - 1e-4),
                          e.push({ start: !1, vertex: t }, t.point.y + 1e-4);
                      },
                      n = (e) => {
                        e.internalData.removedId = i;
                      };
                    for (let o = 0; o < this.vertices.length; o++)
                      s(this.vertices[o]);
                    const r = [];
                    for (; e.length; ) {
                      const o = e.pop(),
                        a = o.vertex;
                      if (a.internalData.removedId !== i)
                        if (o.start) {
                          let e,
                            i,
                            o = !1;
                          if (
                            (t.query(a, (t) => {
                              const s = a.point.distance(t.point);
                              if (s < 1e-5) {
                                const n = de.createFromPool(
                                  0 === s ? a.point : a.point.average(t.point)
                                );
                                this.vertices.push(n),
                                  (0, Se.Z)(this.vertices, a),
                                  (0, Se.Z)(this.vertices, t);
                                for (
                                  let e = this.edges.length - 1;
                                  e >= 0;
                                  e--
                                ) {
                                  const i = this.edges[e],
                                    s =
                                      i.startVertex === a ||
                                      i.startVertex === t,
                                    r = i.endVertex === a || i.endVertex === t;
                                  if (s && r) {
                                    if (
                                      (i.segment.bounds.width > 1e-5 ||
                                        i.segment.bounds.height > 1e-5) &&
                                      (i.segment instanceof Z ||
                                        i.segment instanceof Y ||
                                        i.segment instanceof Q)
                                    ) {
                                      const e = pe.createFromPool(
                                        i.segment,
                                        n,
                                        n
                                      );
                                      this.addEdge(e),
                                        this.replaceEdgeInLoops(i, [
                                          e.forwardHalf,
                                        ]);
                                    } else this.replaceEdgeInLoops(i, []);
                                    this.removeEdge(i), i.dispose();
                                  } else
                                    s
                                      ? ((i.startVertex = n),
                                        n.incidentHalfEdges.push(
                                          i.reversedHalf
                                        ),
                                        i.updateReferences())
                                      : r &&
                                        ((i.endVertex = n),
                                        n.incidentHalfEdges.push(i.forwardHalf),
                                        i.updateReferences());
                                }
                                return (i = [n]), (o = !0), (e = t), !0;
                              }
                              return !1;
                            }),
                            o)
                          ) {
                            t.removeItem(e), n(e), n(a);
                            for (let e = 0; e < i.length; e++) s(i[e]);
                            r.push(a), r.push(e);
                          } else t.addItem(a);
                        } else t.removeItem(a);
                    }
                    for (let o = 0; o < r.length; o++) r[o].dispose();
                  }
                  markBridges(e, t) {
                    (t.visited = !0), (t.visitIndex = t.lowIndex = Oe++);
                    for (let i = 0; i < t.incidentHalfEdges.length; i++) {
                      const s = t.incidentHalfEdges[i].edge,
                        n = t.incidentHalfEdges[i].startVertex;
                      n.visited
                        ? s.visited ||
                          (t.lowIndex = Math.min(t.lowIndex, n.visitIndex))
                        : ((s.visited = !0),
                          (n.parent = t),
                          this.markBridges(e, n),
                          (t.lowIndex = Math.min(t.lowIndex, n.lowIndex)),
                          n.lowIndex > t.visitIndex && e.push(s));
                    }
                  }
                  removeBridges() {
                    const e = [];
                    for (let t = 0; t < this.vertices.length; t++) {
                      const i = this.vertices[t];
                      i.visited || this.markBridges(e, i);
                    }
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      this.removeEdge(i),
                        this.replaceEdgeInLoops(i, []),
                        i.dispose();
                    }
                  }
                  removeLowOrderVertices() {
                    let e = !0;
                    for (; e; ) {
                      e = !1;
                      for (let t = this.vertices.length - 1; t >= 0; t--) {
                        const i = this.vertices[t];
                        if (i.incidentHalfEdges.length < 2) {
                          for (let e = 0; e < i.incidentHalfEdges.length; e++) {
                            const t = i.incidentHalfEdges[e].edge;
                            this.removeEdge(t),
                              this.replaceEdgeInLoops(t, []),
                              t.dispose();
                          }
                          this.vertices.splice(t, 1), i.dispose(), (e = !0);
                          break;
                        }
                      }
                    }
                  }
                  orderVertexEdges() {
                    for (let e = 0; e < this.vertices.length; e++)
                      this.vertices[e].sortEdges();
                  }
                  extractFaces() {
                    const e = [];
                    for (let t = 0; t < this.edges.length; t++)
                      e.push(this.edges[t].forwardHalf),
                        e.push(this.edges[t].reversedHalf);
                    for (; e.length; ) {
                      const t = [];
                      let i = e[0];
                      const s = i;
                      for (
                        ;
                        i &&
                        ((0, Se.Z)(e, i),
                        t.push(i),
                        (i = i.getNext()),
                        i !== s);

                      );
                      const n = Ve.createFromPool(t);
                      (n.signedArea > 0
                        ? this.innerBoundaries
                        : this.outerBoundaries
                      ).push(n),
                        this.boundaries.push(n);
                    }
                    for (let t = 0; t < this.innerBoundaries.length; t++)
                      this.faces.push(
                        Ae.createFromPool(this.innerBoundaries[t])
                      );
                  }
                  computeBoundaryTree() {
                    const e = [],
                      t = new G.Z(C.Z.rotation2(1.5729657));
                    for (let i = 0; i < this.outerBoundaries.length; i++) {
                      const s = this.outerBoundaries[i],
                        n = s.computeExtremeRay(t);
                      let r = null,
                        o = Number.POSITIVE_INFINITY,
                        a = !1;
                      for (let e = 0; e < this.edges.length; e++) {
                        const t = this.edges[e],
                          i = t.segment.intersection(n);
                        for (let e = 0; e < i.length; e++) {
                          const s = i[e];
                          s.distance < o &&
                            ((r = t), (o = s.distance), (a = s.wind));
                        }
                      }
                      if (null === r) e.push(s);
                      else {
                        const e = a < 0 ? r.reversedHalf : r.forwardHalf;
                        this.getBoundaryOfHalfEdge(e).childBoundaries.push(s);
                      }
                    }
                    e.forEach(
                      this.unboundedFace.recursivelyAddHoles.bind(
                        this.unboundedFace
                      )
                    );
                    for (let i = 0; i < this.faces.length; i++) {
                      const e = this.faces[i];
                      null !== e.boundary &&
                        e.boundary.childBoundaries.forEach(
                          e.recursivelyAddHoles.bind(e)
                        );
                    }
                  }
                  computeWindingMap() {
                    const e = this.edges.slice(),
                      t = {};
                    for (let i = 0; i < this.shapeIds.length; i++)
                      t[this.shapeIds[i]] = 0;
                    for (this.unboundedFace.windingMap = t; e.length; )
                      for (let t = e.length - 1; t >= 0; t--) {
                        const i = e[t],
                          s = i.forwardHalf,
                          n = i.reversedHalf,
                          r = s.face,
                          o = n.face,
                          a = null !== r.windingMap,
                          h = null !== o.windingMap;
                        if (a && h) e.splice(t, 1);
                        else {
                          if (!a && !h) continue;
                          {
                            const e = a ? r : o,
                              t = a ? o : r,
                              s = {};
                            for (let n = 0; n < this.shapeIds.length; n++) {
                              const t = this.shapeIds[n],
                                r = this.computeDifferential(i, t);
                              s[t] = e.windingMap[t] + r * (a ? -1 : 1);
                            }
                            t.windingMap = s;
                          }
                        }
                      }
                  }
                  computeDifferential(e, t) {
                    let i = 0;
                    for (let s = 0; s < this.loops.length; s++) {
                      const n = this.loops[s];
                      if (n.shapeId === t)
                        for (let t = 0; t < n.halfEdges.length; t++) {
                          const s = n.halfEdges[t];
                          s === e.forwardHalf
                            ? i++
                            : s === e.reversedHalf && i--;
                        }
                    }
                    return i;
                  }
                  fillAlternatingFaces() {
                    let e = 0;
                    for (let t = 0; t < this.faces.length; t++)
                      (this.faces[t].filled = null), e++;
                    for (this.unboundedFace.filled = !1, e--; e; )
                      for (let t = 0; t < this.edges.length; t++) {
                        const i = this.edges[t],
                          s = i.forwardHalf.face,
                          n = i.reversedHalf.face,
                          r = null === s.filled,
                          o = null === n.filled;
                        r && !o
                          ? ((s.filled = !n.filled), e--)
                          : !r && o && ((n.filled = !s.filled), e--);
                      }
                  }
                  getBoundaryOfHalfEdge(e) {
                    for (let t = 0; t < this.boundaries.length; t++) {
                      const i = this.boundaries[t];
                      if (i.hasHalfEdge(e)) return i;
                    }
                    throw new Error("Could not find boundary");
                  }
                  static BINARY_NONZERO_UNION(e) {
                    return 0 !== e[0] || 0 !== e[1];
                  }
                  static BINARY_NONZERO_INTERSECTION(e) {
                    return 0 !== e[0] && 0 !== e[1];
                  }
                  static BINARY_NONZERO_DIFFERENCE(e) {
                    return 0 !== e[0] && 0 === e[1];
                  }
                  static BINARY_NONZERO_XOR(e) {
                    return 1 == ((0 !== e[0]) ^ (0 !== e[1]));
                  }
                  static binaryResult(e, t, i) {
                    const s = new Be();
                    s.addShape(0, e),
                      s.addShape(1, t),
                      s.computeSimplifiedFaces(),
                      s.computeFaceInclusion(i);
                    const n = s.createFilledSubGraph(),
                      r = n.facesToShape();
                    return s.dispose(), n.dispose(), r;
                  }
                  static unionNonZero(e) {
                    const t = new Be();
                    for (let n = 0; n < e.length; n++) t.addShape(n, e[n]);
                    t.computeSimplifiedFaces(),
                      t.computeFaceInclusion((t) => {
                        for (let i = 0; i < e.length; i++)
                          if (0 !== t[i]) return !0;
                        return !1;
                      });
                    const i = t.createFilledSubGraph(),
                      s = i.facesToShape();
                    return t.dispose(), i.dispose(), s;
                  }
                  static intersectionNonZero(e) {
                    const t = new Be();
                    for (let n = 0; n < e.length; n++) t.addShape(n, e[n]);
                    t.computeSimplifiedFaces(),
                      t.computeFaceInclusion((t) => {
                        for (let i = 0; i < e.length; i++)
                          if (0 === t[i]) return !1;
                        return !0;
                      });
                    const i = t.createFilledSubGraph(),
                      s = i.facesToShape();
                    return t.dispose(), i.dispose(), s;
                  }
                  static xorNonZero(e) {
                    const t = new Be();
                    for (let n = 0; n < e.length; n++) t.addShape(n, e[n]);
                    t.computeSimplifiedFaces(),
                      t.computeFaceInclusion((t) => {
                        let i = !1;
                        for (let s = 0; s < e.length; s++)
                          0 !== t[s] && (i = !i);
                        return i;
                      });
                    const i = t.createFilledSubGraph(),
                      s = i.facesToShape();
                    return t.dispose(), i.dispose(), s;
                  }
                  static simplifyNonZero(e) {
                    const t = new Be();
                    t.addShape(0, e),
                      t.computeSimplifiedFaces(),
                      t.computeFaceInclusion((e) => 0 !== e[0]);
                    const i = t.createFilledSubGraph(),
                      s = i.facesToShape();
                    return t.dispose(), i.dispose(), s;
                  }
                  static clipShape(e, t, i) {
                    let s, n, o;
                    i = (0, a.Z)(
                      {
                        includeExterior: !1,
                        includeBoundary: !0,
                        includeInterior: !0,
                      },
                      i
                    );
                    const h = Be.simplifyNonZero(e),
                      l = new Be();
                    for (
                      l.addShape(0, t, { ensureClosed: !1 }),
                        l.addShape(1, h),
                        l.eliminateOverlap(),
                        l.eliminateSelfIntersection(),
                        l.eliminateIntersection(),
                        l.collapseVertices(),
                        s = 0;
                      s < l.loops.length;
                      s++
                    )
                      if (((o = l.loops[s]), 1 === o.shapeId))
                        for (n = 0; n < o.halfEdges.length; n++)
                          o.halfEdges[n].edge.data = !0;
                    const d = [];
                    for (s = 0; s < l.loops.length; s++)
                      if (((o = l.loops[s]), 0 === o.shapeId)) {
                        let e = [];
                        for (n = 0; n < o.halfEdges.length; n++) {
                          const t = o.halfEdges[n];
                          (
                            t.edge.data
                              ? i.includeBoundary
                              : h.containsPoint(t.edge.segment.positionAt(0.5))
                              ? i.includeInterior
                              : i.includeExterior
                          )
                            ? e.push(t.getDirectionalSegment())
                            : e.length &&
                              (d.push(new K(e, void 0, o.closed)), (e = []));
                        }
                        e.length && d.push(new K(e, void 0, o.closed));
                      }
                    return l.dispose(), new r.Shape(d);
                  }
                }
                r.register("Graph", Be);
                const Me = Be;
              },
              2956: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => h });
                var s = i(8378),
                  n = i(4676),
                  r = i(1243),
                  o = i(2550);
                class a {
                  constructor(e, t) {
                    const i = (0, o.ZP)()(
                      { phetioDocumentation: "", instanceType: e },
                      t
                    );
                    this.phetioDocumentation = i.phetioDocumentation;
                    const s = i.instanceType,
                      a = _.reverse((0, r.Z)(e));
                    (this.keys = []),
                      (this.values = []),
                      a.forEach((t) => {
                        Object.keys(t).forEach((i) => {
                          const n = t[i];
                          n instanceof s &&
                            (this.keys.push(i),
                            this.values.push(n),
                            n instanceof e &&
                              ((n.name = i), (n.enumeration = this)));
                        });
                      }),
                      (this.Enumeration = e),
                      n.Z.sealedCache.add(e);
                  }
                  getKey(e) {
                    return e.name;
                  }
                  getValue(e) {
                    return this.Enumeration[e];
                  }
                  includes(e) {
                    return this.values.includes(e);
                  }
                }
                s.Z.register("Enumeration", a);
                const h = a;
              },
              5076: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a });
                var s = i(8676),
                  n = i(831),
                  r = i(8378);
                class o {
                  constructor(e) {
                    (0, s.Z)(
                      "EnumerationDeprecated should be exchanged for classes that extend EnumerationValue, see WilderEnumerationPatterns for examples."
                    );
                    e.keys, e.map;
                    const t = e.keys || Object.keys(e.map),
                      i = e.map || {};
                    (e = (0, n.Z)(
                      { phetioDocumentation: null, beforeFreeze: null },
                      e
                    )),
                      (this.phetioDocumentation = e.phetioDocumentation),
                      (this.KEYS = t),
                      (this.VALUES = []),
                      t.forEach((e) => {
                        const t = i[e] || {};
                        (t.name = e),
                          (t.toString = () => e),
                          (this[e] = t),
                          this.VALUES.push(t);
                      }),
                      e.beforeFreeze && e.beforeFreeze(this);
                  }
                  toString() {
                    return this.KEYS.join(", ");
                  }
                  includes(e) {
                    return _.includes(this.VALUES, e);
                  }
                  getValue(e) {
                    return this[e];
                  }
                  getKey(e) {
                    return e.name;
                  }
                  get values() {
                    return this.VALUES;
                  }
                  get keys() {
                    return this.KEYS;
                  }
                  get enumeration() {
                    return this;
                  }
                  static byKeys(e, t) {
                    return new o((0, n.Z)({ keys: e }, t));
                  }
                  static byMap(e, t) {
                    return new o((0, n.Z)({ map: e }, t));
                  }
                }
                r.Z.register("EnumerationDeprecated", o);
                const a = o;
              },
              4676: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(8378);
                class n {
                  toString() {
                    return this.name;
                  }
                  isEnumerationValue() {
                    return !0;
                  }
                  constructor() {
                    this.constructor;
                    (this._name = null), (this._enumeration = null);
                  }
                  set name(e) {
                    this._name = e;
                  }
                  get name() {
                    return this._name;
                  }
                  set enumeration(e) {
                    this._enumeration = e;
                  }
                  get enumeration() {
                    return this._enumeration;
                  }
                }
                _defineProperty(n, "sealedCache", new Set()),
                  s.Z.register("EnumerationValue", n);
                const r = n;
              },
              2492: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                var s = i(8897);
                const n = class {
                  constructor(e) {
                    if (((this.name = e), window.phet)) {
                      if ("chipper" === e)
                        return (
                          (window.phet.chipper.name = "chipper"),
                          (window.phet.chipper.register = this.register.bind(
                            window.phet.chipper
                          )),
                          window.phet.chipper
                        );
                      window.phet[e] = this;
                    }
                  }
                  register(e, t) {
                    if (e.indexOf(".") < 0) s.Z, (this[e] = t);
                    else {
                      const i = e.split(".");
                      let n = this;
                      for (let e = 0; e < i.length - 1; e++) s.Z, (n = n[i[e]]);
                      const r = i[i.length - 1];
                      s.Z, (n[r] = t);
                    }
                    return t;
                  }
                };
              },
              2473: (e, t, i) => {
                "use strict";
                var s;
                i.d(t, { Z: () => h });
                var n = i(8378),
                  r = i(2956),
                  o = i(4676);
                class a extends o.Z {
                  constructor(
                    e,
                    t,
                    i,
                    s,
                    n,
                    r,
                    o,
                    a,
                    h,
                    l,
                    d,
                    c,
                    u,
                    p,
                    g,
                    m,
                    A
                  ) {
                    super(),
                      (this.coordinate = e),
                      (this.centerCoordinate = t),
                      (this.minCoordinate = i),
                      (this.maxCoordinate = s),
                      (this.minSide = n),
                      (this.maxSide = r),
                      (this.rectCoordinate = o),
                      (this.rectSize = a),
                      (this.flowBoxOrientation = h),
                      (this.size = l),
                      (this.line = d),
                      (this.preferredSize = c),
                      (this.localPreferredSize = u),
                      (this.sizable = p),
                      (this.ariaOrientation = h),
                      (this.modelToView = g),
                      (this.viewToModel = m),
                      (this.toVector = A);
                  }
                }
                _defineProperty(
                  a,
                  "HORIZONTAL",
                  new (s = a)(
                    "x",
                    "centerX",
                    "minX",
                    "maxX",
                    "left",
                    "right",
                    "rectX",
                    "rectWidth",
                    "horizontal",
                    "width",
                    "column",
                    "preferredWidth",
                    "localPreferredWidth",
                    "widthSizable",
                    (e, t) => e.modelToViewX(t),
                    (e, t) => e.viewToModelX(t),
                    (e, t, i) => new i(e, t, 0, 0)
                  )
                ),
                  _defineProperty(
                    a,
                    "VERTICAL",
                    new s(
                      "y",
                      "centerY",
                      "minY",
                      "maxY",
                      "top",
                      "bottom",
                      "rectY",
                      "rectHeight",
                      "vertical",
                      "height",
                      "row",
                      "preferredHeight",
                      "localPreferredHeight",
                      "heightSizable",
                      (e, t) => e.modelToViewY(t),
                      (e, t) => e.viewToModelY(t),
                      (e, t, i) => new i(t, e, 0, 0)
                    )
                  ),
                  _defineProperty(
                    a,
                    "enumeration",
                    new r.Z(s, {
                      phetioDocumentation: "Horizontal or vertical orientation",
                    })
                  ),
                  (a.HORIZONTAL.opposite = a.VERTICAL),
                  (a.VERTICAL.opposite = a.HORIZONTAL),
                  n.Z.register("Orientation", a);
                const h = a;
              },
              7232: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(8378),
                  n = i(2550);
                class r {
                  constructor(e, t) {
                    const i = (0, n.ZP)()(
                      {
                        defaultArguments: [],
                        initialize: e.prototype.initialize,
                        maxSize: 100,
                        initialSize: 0,
                        useDefaultConstruction: !1,
                      },
                      t
                    );
                    for (
                      this._maxPoolSize = i.maxSize,
                        this.partialConstructor = Function.prototype.bind.bind(
                          e,
                          e
                        ),
                        this.DefaultConstructor = this.partialConstructor(
                          ...i.defaultArguments
                        ),
                        this.initialize = i.initialize,
                        this.useDefaultConstruction = i.useDefaultConstruction,
                        this.objects = [];
                      this.objects.length < i.initialSize;

                    )
                      this.objects.push(this.createDefaultObject());
                  }
                  createDefaultObject() {
                    return new this.DefaultConstructor();
                  }
                  fetch() {
                    return this.objects.length
                      ? this.objects.pop()
                      : this.createDefaultObject();
                  }
                  create() {
                    let e;
                    for (
                      var t = arguments.length, i = new Array(t), s = 0;
                      s < t;
                      s++
                    )
                      i[s] = arguments[s];
                    return (
                      this.objects.length
                        ? ((e = this.objects.pop()),
                          this.initialize.apply(e, i))
                        : this.useDefaultConstruction
                        ? ((e = this.createDefaultObject()),
                          this.initialize.apply(e, i))
                        : (e = new (this.partialConstructor(...i))()),
                      e
                    );
                  }
                  get poolSize() {
                    return this.objects.length;
                  }
                  set maxPoolSize(e) {
                    this._maxPoolSize = e;
                  }
                  get maxPoolSize() {
                    return this._maxPoolSize;
                  }
                  freeToPool(e) {
                    this.objects.length < this.maxPoolSize &&
                      this.objects.push(e);
                  }
                }
                s.Z.register("Pool", r);
              },
              8803: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => a });
                var s = i(7501),
                  n = i(8378),
                  r = i(2550);
                const o = {
                  mixInto(e, t) {
                    const i = (0, r.ZP)()(
                        {
                          defaultArguments: [],
                          initialize: e.prototype.initialize,
                          maxSize: 100,
                          initialSize: 0,
                          useDefaultConstruction: !1,
                        },
                        t
                      ),
                      n = [];
                    let o = i.maxSize;
                    const a = Function.prototype.bind.bind(e, e),
                      h = a(...i.defaultArguments),
                      l = i.initialize,
                      d = i.useDefaultConstruction,
                      c = e.prototype;
                    for (
                      (0, s.Z)(e, {
                        pool: n,
                        dirtyFromPool: () => (n.length ? n.pop() : new h()),
                        createFromPool() {
                          let e;
                          for (
                            var t = arguments.length, i = new Array(t), s = 0;
                            s < t;
                            s++
                          )
                            i[s] = arguments[s];
                          return (
                            n.length
                              ? ((e = n.pop()), l.apply(e, i))
                              : d
                              ? ((e = new h()), l.apply(e, i))
                              : (e = new (a(...i))()),
                            e
                          );
                        },
                        get poolSize() {
                          return n.length;
                        },
                        set maxPoolSize(e) {
                          o = e;
                        },
                        get maxPoolSize() {
                          return o;
                        },
                      }),
                        (0, s.Z)(c, {
                          freeToPool() {
                            n.length < o && n.push(this);
                          },
                        });
                      n.length < i.initialSize;

                    )
                      n.push(new h());
                    return e;
                  },
                };
                n.Z.register("Poolable", o);
                const a = o;
              },
              9059: (e, t, i) => {
                "use strict";
                function s(e, t) {
                  const i = _.indexOf(e, t);
                  e.splice(i, 1);
                }
                i.d(t, { Z: () => n }), i(8378).Z.register("arrayRemove", s);
                const n = s;
              },
              2573: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                i(1243);
                const s = (e, t) => {
                  0;
                };
                i(8378).Z.register("assertHasProperties", s);
                const n = s;
              },
              6212: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => n });
                const s = function (e) {};
                i(8378).Z.register("assertMutuallyExclusiveOptions", s);
                const n = s;
              },
              2530: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(9059),
                  n = i(8378);
                const r = new (class {
                  constructor() {
                    (this.pendingLocks = []),
                      (this.loadComplete = !1),
                      (this.listeners = []);
                  }
                  addListener(e) {
                    this.listeners.push(e);
                  }
                  proceedIfReady() {
                    0 === this.pendingLocks.length &&
                      ((this.loadComplete = !0),
                      this.listeners.forEach((e) => e()));
                  }
                  createLock(e) {
                    return (
                      this.pendingLocks.push(e),
                      () => {
                        (0, s.Z)(this.pendingLocks, e), this.proceedIfReady();
                      }
                    );
                  }
                })();
                n.Z.register("asyncLoader", r);
                const o = r;
              },
              5853: (e, t, i) => {
                "use strict";
                function s(e) {
                  if (e) {
                    for (; e.length; ) e.pop();
                    return e;
                  }
                  return [];
                }
                i.d(t, { Z: () => n }), i(8378).Z.register("cleanArray", s);
                const n = s;
              },
              8676: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => o });
                var s = i(8378);
                const n = {},
                  r = (e) => {
                    window.phet &&
                      window.phet.chipper &&
                      window.phet.chipper.queryParameters &&
                      phet.chipper.queryParameters.deprecationWarnings &&
                      (n.hasOwnProperty(e) ||
                        ((n[e] = !0),
                        console.warn("Deprecation warning: " + e)));
                  };
                s.Z.register("deprecationWarning", r);
                const o = r;
              },
              7501: (e, t, i) => {
                "use strict";
                function s(e) {
                  return (
                    _.each(Array.prototype.slice.call(arguments, 1), (t) => {
                      if (t)
                        for (const i in t)
                          Object.defineProperty(
                            e,
                            i,
                            Object.getOwnPropertyDescriptor(t, i)
                          );
                    }),
                    e
                  );
                }
                i.d(t, { Z: () => n }), i(8378).Z.register("extend", s);
                const n = s;
              },
              1243: (e, t, i) => {
                "use strict";
                function s(e) {
                  const t = [e];
                  let i = e.prototype;
                  for (; i && (i = Object.getPrototypeOf(i)); )
                    i.constructor && t.push(i.constructor);
                  return t;
                }
                i.d(t, { Z: () => n }), i(8378).Z.register("inheritance", s);
                const n = s;
              },
              8897: (e, t, i) => {
                "use strict";
                let s;
                i.d(t, { Z: () => n }), (e = i.hmd(e));
                try {
                  s = e && e.hot;
                } catch (r) {
                  s = !1;
                }
                const n = s;
              },
              831: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(8378);
                function n(e) {
                  for (
                    var t = arguments.length,
                      i = new Array(t > 1 ? t - 1 : 0),
                      s = 1;
                    s < t;
                    s++
                  )
                    i[s - 1] = arguments[s];
                  return (
                    _.each(i, (t) => {
                      if (t)
                        for (const i in t)
                          if (t.hasOwnProperty(i) && void 0 !== t[i]) {
                            const s = t[i];
                            _.endsWith(i, "Options") && "Options" !== i
                              ? (e[i] = n(e[i] || {}, s))
                              : (e[i] = s);
                          }
                    }),
                    e
                  );
                }
                s.Z.register("merge", n);
                const r = n;
              },
              2550: (e, t, i) => {
                "use strict";
                i.d(t, { JA: () => h, ZP: () => o, lB: () => a });
                var s = i(8378),
                  n = i(831);
                const r = (e, t, i, s) => (0, n.Z)(e, t, i, s);
                function o() {
                  return r;
                }
                function a() {
                  return r;
                }
                function h(e) {
                  for (
                    var t = arguments.length,
                      i = new Array(t > 1 ? t - 1 : 0),
                      s = 1;
                    s < t;
                    s++
                  )
                    i[s - 1] = arguments[s];
                  return r(e, ...i);
                }
                s.Z.register("optionize", o);
              },
              8378: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(2492);
                const n = new s.Z("phetCore");
                n.register("Namespace", s.Z);
                const r = n;
              },
              2823: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => l });
                var s = i(8378);
                const n = navigator.userAgent;
                function r(e) {
                  return a() === e;
                }
                function o() {
                  return !!(
                    (window.phet &&
                      phet.chipper &&
                      phet.chipper.queryParameters &&
                      phet.chipper.queryParameters["phet-app"]) ||
                    ((n.match(/(iPod|iPhone|iPad)/) ||
                      ("MacIntel" === navigator.platform &&
                        navigator.maxTouchPoints >= 2)) &&
                      n.match(/AppleWebKit/))
                  );
                }
                function a() {
                  let e = -1,
                    t = null;
                  return (
                    "Microsoft Internet Explorer" === navigator.appName
                      ? ((t = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})")),
                        null !== t.exec(n) && (e = parseFloat(RegExp.$1)))
                      : "Netscape" === navigator.appName &&
                        ((t = new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),
                        null !== t.exec(n) && (e = parseFloat(RegExp.$1))),
                    e
                  );
                }
                const h = {
                  firefox: n.toLowerCase().indexOf("firefox") > -1,
                  mobileSafari: o(),
                  safari5: !!(
                    n.match(/Version\/5\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari6: !!(
                    n.match(/Version\/6\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari7: !!(
                    n.match(/Version\/7\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari10: !!(
                    n.match(/Version\/10\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari11: !!(
                    n.match(/Version\/11\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari9: !!(
                    n.match(/Version\/9\./) &&
                    n.match(/Safari\//) &&
                    n.match(/AppleWebKit/)
                  ),
                  safari:
                    o() ||
                    !!(
                      n.match(/Version\//) &&
                      n.match(/Safari\//) &&
                      n.match(/AppleWebKit/)
                    ),
                  ie: -1 !== a(),
                  ie9: r(9),
                  ie10: r(10),
                  ie11: r(11),
                  android: n.indexOf("Android") > 0,
                  edge: !!n.match(/Edge\//),
                  chromium:
                    /chrom(e|ium)/.test(n.toLowerCase()) && !n.match(/Edge\//),
                };
                s.Z.register("platform", h);
                const l = h;
              },
              8377: (e, t, i) => {
                "use strict";
                function s(e) {
                  return e.replace(/\u202a|\u202b|\u202c/g, "");
                }
                i.d(t, { Z: () => n }),
                  i(8378).Z.register("stripEmbeddingMarks", s);
                const n = s;
              },
              5322: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => s });
                const s = new (i(2492).Z)("phetcommon");
              },
              6114: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => r });
                var s = i(5322);
                const n = {
                  format: function (e) {
                    const t = arguments;
                    return e.replace(/{(\d)}/g, (e, i) => t[+i + 1]);
                  },
                  fillIn: function (e, t) {
                    let i = (e = e && e.get ? e.get() : e);
                    const s = e.match(/\{\{[^{}]+\}\}/g) || [];
                    for (let n = 0; n < s.length; n++) {
                      const e = s[n],
                        r = e.replace("{{", "").replace("}}", "");
                      if (void 0 !== t[r]) {
                        const s = t[r] && t[r].get ? t[r].get() : t[r];
                        i = i.replace(e, s);
                      }
                    }
                    return i;
                  },
                  isEmbeddingMark: function (e) {
                    return "‪" === e || "‫" === e || "‬" === e;
                  },
                  embeddedSlice: function (e, t, i) {
                    const s = [];
                    let r;
                    for (
                      void 0 === i && (i = e.length), i < 0 && (i += e.length);
                      t < e.length && n.isEmbeddingMark(e.charAt(t));

                    )
                      t++;
                    for (; i >= 1 && n.isEmbeddingMark(e.charAt(i - 1)); ) i--;
                    if (t >= i || t >= e.length) return "";
                    for (let n = 0; n < t; n++)
                      (r = e.charAt(n)),
                        "‪" === r || "‫" === r
                          ? s.push(r)
                          : "‬" === r && s.pop();
                    let o = s.length,
                      a = s.slice();
                    const h = e.slice(t, i);
                    for (let n = 0; n < h.length; n++)
                      (r = h.charAt(n)),
                        "‪" === r || "‫" === r
                          ? s.push(r)
                          : "‬" === r && (s.pop(), (o = Math.min(s.length, o)));
                    let l = s;
                    const d = Math.max(0, o - 1);
                    return (
                      (a = a.slice(d)),
                      (l = l.slice(d)),
                      a.join("") + h + l.join("").replace(/./g, "‬")
                    );
                  },
                  embeddedSplit: function (e, t, i) {
                    if (void 0 === t) return [e];
                    let s,
                      r = [],
                      o = e;
                    function a() {
                      let e, i;
                      if (t instanceof window.RegExp) {
                        const s = o.match(t);
                        s ? ((e = s.index), (i = s[0].length)) : (e = -1);
                      } else (e = o.indexOf(t)), (i = t.length);
                      return { index: e, length: i };
                    }
                    let h = 0;
                    for (; (s = a()).index >= 0; ) {
                      r.push(n.embeddedSlice(e, h, h + s.index));
                      const t = s.index + s.length;
                      (o = o.slice(t)), (h += t);
                    }
                    return (
                      r.push(n.embeddedSlice(e, h)),
                      void 0 !== i && (r = _.first(r, i)),
                      r
                    );
                  },
                  embeddedDebugString: function (e) {
                    return e
                      .replace(/\u202a/g, "[LTR]")
                      .replace(/\u202b/g, "[RTL]")
                      .replace(/\u202c/g, "[POP]");
                  },
                  wrapLTR: function (e) {
                    return "‪" + e + "‬";
                  },
                  wrapRTL: function (e) {
                    return "‪" + e + "‬";
                  },
                  assertContainsKey(e, t) {},
                  capitalize: (e) => e[0].toUpperCase() + e.slice(1),
                };
                s.Z.register("StringUtils", n);
                const r = n;
              },
              369: (e, t, i) => {
                "use strict";
                i.d(t, { Z: () => h });
                var s = i(9972),
                  n = i(7320),
                  r = i(668),
                  o = i(5322);
                class a extends n.Z {
                  modelToViewPosition(e) {
                    return this.transformPosition2(e);
                  }
                  modelToViewXY(e, t) {
                    return new r.Z(this.modelToViewX(e), this.modelToViewY(t));
                  }
                  modelToViewX(e) {
                    return this.matrix.m00() * e + this.matrix.m02();
                  }
                  modelToViewY(e) {
                    return this.matrix.m11() * e + this.matrix.m12();
                  }
                  modelToViewDelta(e) {
                    return this.transformDelta2(e);
                  }
                  modelToViewNormal(e) {
                    return this.transformNormal2(e);
                  }
                  modelToViewDeltaX(e) {
                    return this.transformDeltaX(e);
                  }
                  modelToViewDeltaY(e) {
                    return this.transformDeltaY(e);
                  }
                  modelToViewBounds(e) {
                    return this.transformBounds2(e);
                  }
                  modelToViewShape(e) {
                    return this.transformShape(e);
                  }
                  modelToViewRay(e) {
                    return this.transformRay2(e);
                  }
                  viewToModelPosition(e) {
                    return this.inversePosition2(e);
                  }
                  viewToModelXY(e, t) {
                    return new r.Z(this.viewToModelX(e), this.viewToModelY(t));
                  }
                  viewToModelX(e) {
                    const t = this.getInverse();
                    return t.m00() * e + t.m02();
                  }
                  viewToModelY(e) {
                    const t = this.getInverse();
                    return t.m11() * e + t.m12();
                  }
                  viewToModelDelta(e) {
                    return this.inverseDelta2(e);
                  }
                  viewToModelDeltaXY(e, t) {
                    return new r.Z(
                      this.viewToModelDeltaX(e),
                      this.viewToModelDeltaY(t)
                    );
                  }
                  viewToModelNormal(e) {
                    return this.inverseNormal2(e);
                  }
                  viewToModelDeltaX(e) {
                    return this.inverseDeltaX(e);
                  }
                  viewToModelDeltaY(e) {
                    return this.inverseDeltaY(e);
                  }
                  viewToModelBounds(e) {
                    return this.inverseBounds2(e);
                  }
                  viewToModelShape(e) {
                    return this.inverseShape(e);
                  }
                  viewToModelRay(e) {
                    return this.inverseRay2(e);
                  }
                  validateMatrix(e) {
                    super.validateMatrix(e);
                  }
                  setToRectangleMapping(e, t) {
                    const i = t.width / e.width,
                      n = t.x - i * e.x,
                      r = t.height / e.height,
                      o = t.y - r * e.y;
                    return this.setMatrix(s.Z.affine(i, 0, n, 0, r, o)), this;
                  }
                  setToRectangleInvertedYMapping(e, t) {
                    const i = t.width / e.width,
                      n = t.x - i * e.x,
                      r = -t.height / e.height,
                      o = t.y - r * e.getMaxY();
                    return this.setMatrix(s.Z.affine(i, 0, n, 0, r, o)), this;
                  }
                  static createIdentity() {
                    return new a(s.Z.IDENTITY);
                  }
                  static createOffsetScaleMapping(e, t) {
                    return new a(s.Z.affine(t, 0, e.x, 0, t, e.y));
                  }
                  static createOffsetXYScaleMapping(e, t, i) {
                    return new a(s.Z.affine(t, 0, e.x, 0, i, e.y));
                  }
                  static createSinglePointXYScaleMapping(e, t, i, s) {
                    const n = t.x - e.x * i,
                      o = t.y - e.y * s;
                    return a.createOffsetXYScaleMapping(new r.Z(n, o), i, s);
                  }
                  static createSinglePointScaleMapping(e, t, i) {
                    return a.createSinglePointXYScaleMapping(e, t, i, i);
                  }
                  static createSinglePointScaleInvertedYMapping(e, t, i) {
                    return a.createSinglePointXYScaleMapping(e, t, i, -i);
                  }
                  static createRectangleMapping(e, t) {
                    return new a().setToRectangleMapping(e, t);
                  }
                  static createRectangleInvertedYMapping(e, t) {
                    return new a().setToRectangleInvertedYMapping(e, t);
                  }
                }
                o.Z.register("ModelViewTransform2", a);
                const h = a;
              },
              8563: (e, t, i) => {
                "use strict";
                var s,
                  n,
                  r,
                  o,
                  a,
                  h,
                  l,
                  d,
                  c,
                  u,
                  p,
                  g,
                  m,
                  A,
                  y,
                  f,
                  P,
                  b,
                  v,
                  V,
                  w,
                  E,
                  S,
                  T,
                  x,
                  C,
                  I,
                  D,
                  k,
                  O,
                  L;
                i.d(t, {
                  qlR: () => ms,
                  Eq$: () => Yo,
                  DbO: () => Fl,
                  Lkj: () => Wl,
                  EFT: () => Ih,
                  uai: () => br,
                  zhG: () => Gu,
                  i5w: () => Da,
                  Xs$: () => Ia,
                  gOu: () => pu,
                  UlH: () => $i,
                  JjN: () => Ba,
                  lR5: () => bu,
                  LdF: () => At,
                  mxV: () => Rn,
                  Us: () => zu,
                  wNI: () => $d,
                  jsu: () => Dd,
                  Hl2: () => ou,
                  Cdc: () => qn,
                  APE: () => tc,
                  CeX: () => sc,
                  SJ7: () => rc,
                  vAW: () => qd,
                  Ilk: () => se,
                  gLI: () => Xi,
                  mJh: () => _i,
                  g86: () => ni,
                  mnm: () => es,
                  CJ2: () => It,
                  SOl: () => Fn,
                  yU5: () => Vu,
                  LyU: () => ac,
                  MNr: () => Od,
                  reX: () => Vn,
                  sSl: () => hp,
                  ljG: () => Lt,
                  Wk5: () => qa,
                  _U3: () => ja,
                  QuO: () => Vd,
                  oJv: () => rt,
                  hTm: () => dt,
                  kdt: () => Al,
                  iQc: () => vl,
                  ANe: () => me,
                  wn$: () => Yi,
                  eMb: () => Qa,
                  WzJ: () => hu,
                  cFi: () => Au,
                  THo: () => Xu,
                  N52: () => Sl,
                  AGQ: () => Pl,
                  M_J: () => fl,
                  hpR: () => Vl,
                  gaG: () => bl,
                  TOE: () => Xe,
                  ywP: () => uo,
                  UQs: () => Eo,
                  YiU: () => Vo,
                  IKS: () => go,
                  Zxw: () => Ee,
                  ITT: () => St,
                  WWo: () => Tl,
                  ztD: () => kl,
                  phe: () => Ni,
                  P5k: () => ts,
                  H1L: () => Fu,
                  zch: () => Bl,
                  r8_: () => Il,
                  lnx: () => Cl,
                  WJk: () => Ol,
                  Gly: () => Dl,
                  BET: () => zl,
                  KF0: () => Xs,
                  qYj: () => _h,
                  $8C: () => jn,
                  UXm: () => Ks,
                  JPB: () => Ju,
                  RCB: () => _u,
                  jGl: () => Zh,
                  Eep: () => En,
                  u8N: () => lc,
                  bbJ: () => cc,
                  Fbz: () => pc,
                  z2i: () => Zd,
                  p23: () => mc,
                  E0: () => bn,
                  RnV: () => pp,
                  RJp: () => eu,
                  IIB: () => Ca,
                  $AB: () => Na,
                  K48: () => np,
                  SEW: () => ma,
                  wgH: () => Mr,
                  e8H: () => Rr,
                  Re8: () => Dr,
                  qQp: () => Mh,
                  eXg: () => Fo,
                  ntP: () => st,
                  DiB: () => Bo,
                  Rme: () => ll,
                  O98: () => Yh,
                  SmY: () => il,
                  dmK: () => tl,
                  SOj: () => Qh,
                  toq: () => cl,
                  BjU: () => dl,
                  dJ_: () => $h,
                  zU8: () => el,
                  B3Q: () => Qn,
                  x12: () => Zn,
                  fVi: () => yc,
                  O7j: () => Pc,
                  fJl: () => Wd,
                  Kbx: () => Yd,
                  oas: () => Ri,
                  VHz: () => pl,
                  bGt: () => Ml,
                  cwl: () => al,
                  jq0: () => ml,
                  TKz: () => fa,
                  YC1: () => mh,
                  NBX: () => Ds,
                  V7H: () => ul,
                  eQt: () => Zi,
                  vP3: () => cn,
                  vEd: () => un,
                  Yc: () => dn,
                  IN3: () => qs,
                  q5R: () => la,
                  Grz: () => sa,
                  cw6: () => va,
                  zMY: () => gi,
                  t13: () => ua,
                  eDZ: () => Ei,
                  wGU: () => Bi,
                  M4p: () => nr,
                  n: () => Ui,
                  Q9x: () => sr,
                  SlY: () => ar,
                  nvG: () => pn,
                  Jwh: () => Cd,
                  jRH: () => Td,
                  Me8: () => Ph,
                  IK8: () => As,
                  tfT: () => ui,
                  y$t: () => Tn,
                  Eke: () => vc,
                  Ay9: () => wc,
                  _QC: () => Xd,
                  cfY: () => Fi,
                  GmO: () => ba,
                  cWH: () => ks,
                  JOQ: () => zn,
                  gbg: () => Aa,
                  eIk: () => $u,
                  HYB: () => ep,
                  $o8: () => za,
                  Qjn: () => Ts,
                  XMe: () => qi,
                  KwY: () => Oo,
                  qLK: () => To,
                  C7c: () => lo,
                  Xh$: () => Hu,
                  AeJ: () => Yn,
                  jk6: () => Sc,
                  dQq: () => Cc,
                  jVm: () => Dc,
                  E4: () => Ud,
                  mjA: () => Lc,
                  GV1: () => nu,
                  $1I: () => Nl,
                  Thl: () => xe,
                  AL6: () => Ns,
                  Hof: () => rd,
                  T3N: () => $s,
                  FlK: () => Eu,
                  pkC: () => cr,
                  Uhj: () => dr,
                  OMw: () => cu,
                  AJg: () => ur,
                  SBj: () => gr,
                  yvo: () => pr,
                  DDI: () => Bd,
                  iaM: () => z,
                  IAx: () => Va,
                  yR9: () => gt,
                  lKh: () => Ed,
                  Z0O: () => Kh,
                  sr$: () => si,
                  BOv: () => Wu,
                  ptS: () => iu,
                  tTM: () => tn,
                  LZC: () => Un,
                  m5g: () => Ut,
                  V6q: () => ti,
                  A1r: () => Gn,
                  QrZ: () => Mc,
                  rOj: () => Yc,
                  Wk8: () => Ou,
                  xvT: () => Ln,
                  V7E: () => di,
                  Ue0: () => Wc,
                  haP: () => Qc,
                  maj: () => Kc,
                  $jb: () => Kd,
                  XhR: () => Pa,
                  Qn1: () => nn,
                  DP0: () => rn,
                  urZ: () => fr,
                  ouJ: () => on,
                  pCm: () => Ar,
                  cQK: () => Ge,
                  SHm: () => Xl,
                  Bbh: () => Jh,
                  mE$: () => Kn,
                  q7$: () => Hh,
                  CHP: () => ao,
                  yhY: () => gd,
                  JxC: () => ud,
                  QTu: () => Hs,
                  b0G: () => Du,
                  HDe: () => Wn,
                  kcu: () => _c,
                  Nxy: () => Nd,
                  pL8: () => zs,
                  U2N: () => Nt,
                  Yj2: () => kh,
                  CEW: () => Ii,
                  cWU: () => js,
                  AXx: () => Ws,
                  IK9: () => Ht,
                  MMl: () => Or,
                  fJO: () => Us,
                  S3T: () => Gs,
                  MwI: () => qt,
                  QF$: () => G,
                  u59: () => fd,
                  Jy4: () => md,
                  WPH: () => Ad,
                  WW2: () => Ie,
                  LY3: () => Hr,
                  KsW: () => to,
                  LdS: () => ke,
                });
                var B = i(7501),
                  M = i(2492);
                window.sceneryLog = null;
                const N = document.createElement("canvas"),
                  R = N.getContext("2d");
                let q = "";
                const F = new M.Z("scenery");
                function Z(e) {
                  F.logString += e.replace(/%c/g, "") + "\n";
                }
                function H() {
                  for (
                    var e = arguments.length, t = new Array(e), i = 0;
                    i < e;
                    i++
                  )
                    t[i] = arguments[i];
                  window.console &&
                    window.console.log &&
                    window.console.log(...Array.prototype.slice.call(t, 0));
                }
                F.register("scratchCanvas", N), F.register("scratchContext", R);
                const Y = {
                  dirty: { name: "dirty", style: "color: #888;" },
                  bounds: { name: "bounds", style: "color: #888;" },
                  hitTest: { name: "hitTest", style: "color: #888;" },
                  hitTestInternal: {
                    name: "hitTestInternal",
                    style: "color: #888;",
                  },
                  PerfCritical: { name: "Perf", style: "color: #f00;" },
                  PerfMajor: { name: "Perf", style: "color: #aa0;" },
                  PerfMinor: { name: "Perf", style: "color: #088;" },
                  PerfVerbose: { name: "Perf", style: "color: #888;" },
                  Cursor: { name: "Cursor", style: "" },
                  Stitch: { name: "Stitch", style: "" },
                  StitchDrawables: { name: "Stitch", style: "" },
                  GreedyStitcher: { name: "Greedy", style: "color: #088;" },
                  GreedyVerbose: { name: "Greedy", style: "color: #888;" },
                  RelativeTransform: {
                    name: "RelativeTransform",
                    style: "color: #606;",
                  },
                  BackboneDrawable: { name: "Backbone", style: "color: #a00;" },
                  CanvasBlock: { name: "Canvas", style: "" },
                  WebGLBlock: { name: "WebGL", style: "" },
                  Display: { name: "Display", style: "" },
                  DOMBlock: { name: "DOM", style: "" },
                  Drawable: { name: "", style: "" },
                  FittedBlock: { name: "FittedBlock", style: "" },
                  Instance: { name: "Instance", style: "" },
                  InstanceTree: { name: "InstanceTree", style: "" },
                  ChangeInterval: {
                    name: "ChangeInterval",
                    style: "color: #0a0;",
                  },
                  SVGBlock: { name: "SVG", style: "" },
                  SVGGroup: { name: "SVGGroup", style: "" },
                  ImageSVGDrawable: { name: "ImageSVGDrawable", style: "" },
                  Paints: { name: "Paints", style: "" },
                  Filters: { name: "Filters", style: "" },
                  AlignBox: { name: "AlignBox", style: "" },
                  AlignGroup: { name: "AlignGroup", style: "" },
                  RichText: { name: "RichText", style: "" },
                  Sim: { name: "Sim", style: "" },
                  ParallelDOM: { name: "ParallelDOM", style: "" },
                  PDOMInstance: { name: "PDOMInstance", style: "" },
                  PDOMTree: { name: "PDOMTree", style: "" },
                  PDOMDisplaysInfo: { name: "PDOMDisplaysInfo", style: "" },
                  KeyboardFuzzer: { name: "KeyboardFuzzer", style: "" },
                  InputListener: { name: "InputListener", style: "" },
                  InputEvent: { name: "InputEvent", style: "" },
                  OnInput: { name: "OnInput", style: "" },
                  Pointer: { name: "Pointer", style: "" },
                  Input: { name: "Input", style: "" },
                  EventDispatch: { name: "EventDispatch", style: "" },
                  EventPath: { name: "EventPath", style: "" },
                };
                (0, B.Z)(F, {
                  logString: "",
                  logFunction: function () {
                    for (
                      var e = arguments.length, t = new Array(e), i = 0;
                      i < e;
                      i++
                    )
                      t[i] = arguments[i];
                    window.console &&
                      window.console.log &&
                      window.console.log(...Array.prototype.slice.call(t, 0));
                  },
                  switchLogToConsole: function () {
                    F.logFunction = H;
                  },
                  switchLogToString: function () {
                    window.console &&
                      window.console.log("switching to string log"),
                      (F.logFunction = Z);
                  },
                  enableIndividualLog: function (e) {
                    return "stitch" === e
                      ? (this.enableIndividualLog("Stitch"),
                        this.enableIndividualLog("StitchDrawables"),
                        this.enableIndividualLog("GreedyStitcher"),
                        void this.enableIndividualLog("GreedyVerbose"))
                      : "perf" === e
                      ? (this.enableIndividualLog("PerfCritical"),
                        this.enableIndividualLog("PerfMajor"),
                        this.enableIndividualLog("PerfMinor"),
                        void this.enableIndividualLog("PerfVerbose"))
                      : "input" === e
                      ? (this.enableIndividualLog("InputListener"),
                        this.enableIndividualLog("InputEvent"),
                        this.enableIndividualLog("OnInput"),
                        this.enableIndividualLog("Pointer"),
                        this.enableIndividualLog("Input"),
                        this.enableIndividualLog("EventDispatch"),
                        void this.enableIndividualLog("EventPath"))
                      : "a11y" === e || "pdom" === e
                      ? (this.enableIndividualLog("ParallelDOM"),
                        this.enableIndividualLog("PDOMInstance"),
                        this.enableIndividualLog("PDOMTree"),
                        void this.enableIndividualLog("PDOMDisplaysInfo"))
                      : void (
                          e &&
                          (window.sceneryLog[e] =
                            window.sceneryLog[e] ||
                            function (t, i) {
                              const s = Y[e],
                                n = s.name ? `[${s.name}] ` : "";
                              F.logFunction(
                                `%c${q}%c${n}${t}`,
                                "color: #ddd;",
                                i || s.style
                              );
                            })
                        );
                  },
                  disableIndividualLog: function (e) {
                    e && delete window.sceneryLog[e];
                  },
                  enableLogging: function (e) {
                    (window.sceneryLog = function (e) {
                      F.logFunction(e);
                    }),
                      (window.sceneryLog.push = function () {
                        q += "| ";
                      }),
                      (window.sceneryLog.pop = function () {
                        q = q.slice(0, -2);
                      }),
                      (window.sceneryLog.getDepth = function () {
                        return q.length / 2;
                      });
                    for (let t = 0; t < e.length; t++)
                      this.enableIndividualLog(e[t]);
                  },
                  disableLogging: function () {
                    window.sceneryLog = null;
                  },
                  isLoggingPerformance: function () {
                    return (
                      window.sceneryLog.PerfCritical ||
                      window.sceneryLog.PerfMajor ||
                      window.sceneryLog.PerfMinor ||
                      window.sceneryLog.PerfVerbose
                    );
                  },
                });
                const G = F,
                  W = {
                    DISABLED_OPACITY: 0.45,
                    DEFAULT_COLOR_PROFILE: "default",
                    PROJECTOR_COLOR_PROFILE: "projector",
                  };
                G.register("SceneryConstants", W);
                const z = W;
                var X = i(5264),
                  Q = i(1685),
                  U = i(8964),
                  j = i(6846),
                  K = i(8585);
                const J = U.Z.clamp,
                  ee = U.Z.linear,
                  te = "(-?\\d{1,3}%?)";
                function ie(e) {
                  let t = 1;
                  return (
                    e.endsWith("%") &&
                      ((t = 2.55), (e = e.slice(0, e.length - 1))),
                    U.Z.roundSymmetric(Number(e) * t)
                  );
                }
                class se {
                  constructor(e, t, i, s) {
                    (this.changeEmitter = new Q.Z()), this.set(e, t, i, s);
                  }
                  copy() {
                    return new se(this.r, this.g, this.b, this.a);
                  }
                  set(e, t, i, s) {
                    if (null === e) this.setRGBA(0, 0, 0, 0);
                    else if ("string" == typeof e) this.setCSS(e);
                    else if (e instanceof se) this.setRGBA(e.r, e.g, e.b, e.a);
                    else if (void 0 === i) {
                      const i = (e >> 16) & 255,
                        s = (e >> 8) & 255,
                        n = (e >> 0) & 255,
                        r = void 0 === t ? 1 : t;
                      this.setRGBA(i, s, n, r);
                    } else this.setRGBA(e, t, i, void 0 === s ? 1 : s);
                    return this;
                  }
                  getRed() {
                    return this.r;
                  }
                  get red() {
                    return this.getRed();
                  }
                  set red(e) {
                    this.setRed(e);
                  }
                  setRed(e) {
                    return this.setRGBA(e, this.g, this.b, this.a);
                  }
                  getGreen() {
                    return this.g;
                  }
                  get green() {
                    return this.getGreen();
                  }
                  set green(e) {
                    this.setGreen(e);
                  }
                  setGreen(e) {
                    return this.setRGBA(this.r, e, this.b, this.a);
                  }
                  getBlue() {
                    return this.b;
                  }
                  get blue() {
                    return this.getBlue();
                  }
                  set blue(e) {
                    this.setBlue(e);
                  }
                  setBlue(e) {
                    return this.setRGBA(this.r, this.g, e, this.a);
                  }
                  getAlpha() {
                    return this.a;
                  }
                  get alpha() {
                    return this.getAlpha();
                  }
                  set alpha(e) {
                    this.setAlpha(e);
                  }
                  setAlpha(e) {
                    return this.setRGBA(this.r, this.g, this.b, e);
                  }
                  setRGBA(e, t, i, s) {
                    return (
                      (this.r = U.Z.roundSymmetric(J(e, 0, 255))),
                      (this.g = U.Z.roundSymmetric(J(t, 0, 255))),
                      (this.b = U.Z.roundSymmetric(J(i, 0, 255))),
                      (this.a = J(s, 0, 1)),
                      this.updateColor(),
                      this
                    );
                  }
                  blend(e, t) {
                    const i = Math.pow(this.r, 2.4),
                      s = Math.pow(e.r, 2.4),
                      n = Math.pow(this.g, 2.4),
                      r = Math.pow(e.g, 2.4),
                      o = Math.pow(this.b, 2.4),
                      a = Math.pow(e.b, 2.4),
                      h = Math.pow(i + (s - i) * t, 1 / 2.4),
                      l = Math.pow(n + (r - n) * t, 1 / 2.4),
                      d = Math.pow(o + (a - o) * t, 1 / 2.4),
                      c = this.a + (e.a - this.a) * t;
                    return new se(h, l, d, c);
                  }
                  computeCSS() {
                    if (1 === this.a)
                      return `rgb(${this.r},${this.g},${this.b})`;
                    {
                      let e = this.a.toFixed(20);
                      for (
                        ;
                        e.length >= 2 &&
                        e.endsWith("0") &&
                        "." !== e[e.length - 2];

                      )
                        e = e.slice(0, e.length - 1);
                      const t = 0 === this.a || 1 === this.a ? this.a : e;
                      return `rgba(${this.r},${this.g},${this.b},${t})`;
                    }
                  }
                  toCSS() {
                    return this._css;
                  }
                  setCSS(e) {
                    let t = !1;
                    const i = se.preprocessCSS(e);
                    for (let s = 0; s < se.formatParsers.length; s++) {
                      const e = se.formatParsers[s],
                        n = e.regexp.exec(i);
                      if (n) {
                        e.apply(this, n), (t = !0);
                        break;
                      }
                    }
                    if (!t)
                      throw new Error(
                        "Color unable to parse color string: " + e
                      );
                    return this.updateColor(), this;
                  }
                  toNumber() {
                    return (this.r << 16) + (this.g << 8) + this.b;
                  }
                  updateColor() {
                    const e = this._css;
                    (this._css = this.computeCSS()),
                      e !== this._css && this.changeEmitter.emit();
                  }
                  setImmutable() {
                    return this;
                  }
                  getCanvasStyle() {
                    return this.toCSS();
                  }
                  setHSLA(e, t, i, s) {
                    let n;
                    (e = (e % 360) / 360),
                      (t = J(t / 100, 0, 1)),
                      (n =
                        (i = J(i / 100, 0, 1)) < 0.5
                          ? i * (t + 1)
                          : i + t - i * t);
                    const r = 2 * i - n;
                    return (
                      (this.r = U.Z.roundSymmetric(
                        255 * se.hueToRGB(r, n, e + 1 / 3)
                      )),
                      (this.g = U.Z.roundSymmetric(255 * se.hueToRGB(r, n, e))),
                      (this.b = U.Z.roundSymmetric(
                        255 * se.hueToRGB(r, n, e - 1 / 3)
                      )),
                      (this.a = J(s, 0, 1)),
                      this.updateColor(),
                      this
                    );
                  }
                  equals(e) {
                    return (
                      this.r === e.r &&
                      this.g === e.g &&
                      this.b === e.b &&
                      this.a === e.a
                    );
                  }
                  withAlpha(e) {
                    return new se(this.r, this.g, this.b, e);
                  }
                  checkFactor(e) {
                    return void 0 === e ? 0.7 : e;
                  }
                  brighterColor(e) {
                    e = this.checkFactor(e);
                    const t = Math.min(255, Math.floor(this.r / e)),
                      i = Math.min(255, Math.floor(this.g / e)),
                      s = Math.min(255, Math.floor(this.b / e));
                    return new se(t, i, s, this.a);
                  }
                  colorUtilsBrighter(e) {
                    e = this.checkFactor(e);
                    const t = Math.min(
                        255,
                        this.getRed() + Math.floor(e * (255 - this.getRed()))
                      ),
                      i = Math.min(
                        255,
                        this.getGreen() +
                          Math.floor(e * (255 - this.getGreen()))
                      ),
                      s = Math.min(
                        255,
                        this.getBlue() + Math.floor(e * (255 - this.getBlue()))
                      );
                    return new se(t, i, s, this.getAlpha());
                  }
                  darkerColor(e) {
                    e = this.checkFactor(e);
                    const t = Math.max(0, Math.floor(e * this.r)),
                      i = Math.max(0, Math.floor(e * this.g)),
                      s = Math.max(0, Math.floor(e * this.b));
                    return new se(t, i, s, this.a);
                  }
                  colorUtilsDarker(e) {
                    e = this.checkFactor(e);
                    const t = Math.max(
                        0,
                        this.getRed() - Math.floor(e * this.getRed())
                      ),
                      i = Math.max(
                        0,
                        this.getGreen() - Math.floor(e * this.getGreen())
                      ),
                      s = Math.max(
                        0,
                        this.getBlue() - Math.floor(e * this.getBlue())
                      );
                    return new se(t, i, s, this.getAlpha());
                  }
                  colorUtilsBrightness(e) {
                    return 0 === e
                      ? this
                      : e > 0
                      ? this.colorUtilsBrighter(e)
                      : this.colorUtilsDarker(-e);
                  }
                  toString() {
                    return `${this.constructor.name}[r:${this.r} g:${this.g} b:${this.b} a:${this.a}]`;
                  }
                  toHexString() {
                    let e = this.toNumber().toString(16);
                    for (; e.length < 6; ) e = "0" + e;
                    return "#" + e;
                  }
                  toStateObject() {
                    return { r: this.r, g: this.g, b: this.b, a: this.a };
                  }
                  static hueToRGB(e, t, i) {
                    return (
                      i < 0 && (i += 1),
                      i > 1 && (i -= 1),
                      6 * i < 1
                        ? e + (t - e) * i * 6
                        : 2 * i < 1
                        ? t
                        : 3 * i < 2
                        ? e + (t - e) * (2 / 3 - i) * 6
                        : e
                    );
                  }
                  static toColor(e) {
                    return null === e
                      ? se.TRANSPARENT
                      : e instanceof se
                      ? e
                      : "string" == typeof e
                      ? new se(e)
                      : se.toColor(e.value);
                  }
                  static interpolateRGBA(e, t, i) {
                    if (i < 0 || i > 1)
                      throw new Error("distance must be between 0 and 1: " + i);
                    const s = Math.floor(ee(0, 1, e.r, t.r, i)),
                      n = Math.floor(ee(0, 1, e.g, t.g, i)),
                      r = Math.floor(ee(0, 1, e.b, t.b, i)),
                      o = ee(0, 1, e.a, t.a, i);
                    return new se(s, n, r, o);
                  }
                  static supersampleBlend(e) {
                    const t = e.map((e) => Math.pow(e.r / 255, 2.2)),
                      i = e.map((e) => Math.pow(e.g / 255, 2.2)),
                      s = e.map((e) => Math.pow(e.b / 255, 2.2)),
                      n = e.map((e) => Math.pow(e.a, 2.2)),
                      r = _.sum(n);
                    if (0 === r) return new se(0, 0, 0, 0);
                    const o =
                        _.sum(_.range(0, e.length).map((e) => t[e] * n[e])) / r,
                      a =
                        _.sum(_.range(0, e.length).map((e) => i[e] * n[e])) / r,
                      h =
                        _.sum(_.range(0, e.length).map((e) => s[e] * n[e])) / r,
                      l = r / e.length;
                    return new se(
                      Math.floor(255 * Math.pow(o, 1 / 2.2)),
                      Math.floor(255 * Math.pow(a, 1 / 2.2)),
                      Math.floor(255 * Math.pow(h, 1 / 2.2)),
                      Math.pow(l, 1 / 2.2)
                    );
                  }
                  static fromStateObject(e) {
                    return new se(e.r, e.g, e.b, e.a);
                  }
                  static hsla(e, t, i, s) {
                    return new se(0, 0, 0, 1).setHSLA(e, t, i, s);
                  }
                  static checkPaintString(e) {
                    0;
                  }
                  static checkPaint(e) {
                    "string" == typeof e
                      ? se.checkPaintString(e)
                      : e instanceof X.Z &&
                        "string" == typeof e.value &&
                        se.checkPaintString(e.value);
                  }
                  static getLuminance(e) {
                    const t = se.toColor(e),
                      i = 0.2126 * t.red + 0.7152 * t.green + 0.0722 * t.blue;
                    return i;
                  }
                  static toGrayscale(e) {
                    const t = se.getLuminance(e);
                    return new se(t, t, t);
                  }
                  static isDarkColor(e) {
                    let t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : 186;
                    return se.getLuminance(e) < t;
                  }
                  static isLightColor(e, t) {
                    return !se.isDarkColor(e, t);
                  }
                  static grayColor(e, t) {
                    return new se(e, e, e, t);
                  }
                  static preprocessCSS(e) {
                    let t = e.replace(/ /g, "").toLowerCase();
                    const i = se.colorKeywords[t];
                    return i && (t = "#" + i), t;
                  }
                  static isCSSColorString(e) {
                    const t = se.preprocessCSS(e);
                    for (let i = 0; i < se.formatParsers.length; i++) {
                      if (se.formatParsers[i].regexp.exec(t)) return !0;
                    }
                    return !1;
                  }
                }
                _defineProperty(se, "formatParsers", [
                  {
                    regexp: /^transparent$/,
                    apply: (e, t) => {
                      e.setRGBA(0, 0, 0, 0);
                    },
                  },
                  {
                    regexp: /^#(\w{1})(\w{1})(\w{1})$/,
                    apply: (e, t) => {
                      e.setRGBA(
                        parseInt(t[1] + t[1], 16),
                        parseInt(t[2] + t[2], 16),
                        parseInt(t[3] + t[3], 16),
                        1
                      );
                    },
                  },
                  {
                    regexp: /^#(\w{2})(\w{2})(\w{2})$/,
                    apply: (e, t) => {
                      e.setRGBA(
                        parseInt(t[1], 16),
                        parseInt(t[2], 16),
                        parseInt(t[3], 16),
                        1
                      );
                    },
                  },
                  {
                    regexp: new RegExp(`^rgb\\(${te},${te},${te}\\)$`),
                    apply: (e, t) => {
                      e.setRGBA(ie(t[1]), ie(t[2]), ie(t[3]), 1);
                    },
                  },
                  {
                    regexp: new RegExp(
                      `^rgba\\(${te},${te},${te},(\\d+|\\d*\\.\\d+)\\)$`
                    ),
                    apply: (e, t) => {
                      e.setRGBA(ie(t[1]), ie(t[2]), ie(t[3]), Number(t[4]));
                    },
                  },
                  {
                    regexp: new RegExp(
                      "^hsl\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%\\)$"
                    ),
                    apply: (e, t) => {
                      e.setHSLA(Number(t[1]), Number(t[2]), Number(t[3]), 1);
                    },
                  },
                  {
                    regexp: new RegExp(
                      "^hsla\\((\\d{1,3}),(\\d{1,3})%,(\\d{1,3})%,(\\d+|\\d*\\.\\d+)\\)$"
                    ),
                    apply: (e, t) => {
                      e.setHSLA(
                        Number(t[1]),
                        Number(t[2]),
                        Number(t[3]),
                        Number(t[4])
                      );
                    },
                  },
                ]),
                  _defineProperty(se, "basicColorKeywords", {
                    aqua: "00ffff",
                    black: "000000",
                    blue: "0000ff",
                    fuchsia: "ff00ff",
                    gray: "808080",
                    green: "008000",
                    lime: "00ff00",
                    maroon: "800000",
                    navy: "000080",
                    olive: "808000",
                    purple: "800080",
                    red: "ff0000",
                    silver: "c0c0c0",
                    teal: "008080",
                    white: "ffffff",
                    yellow: "ffff00",
                  }),
                  _defineProperty(se, "colorKeywords", {
                    aliceblue: "f0f8ff",
                    antiquewhite: "faebd7",
                    aqua: "00ffff",
                    aquamarine: "7fffd4",
                    azure: "f0ffff",
                    beige: "f5f5dc",
                    bisque: "ffe4c4",
                    black: "000000",
                    blanchedalmond: "ffebcd",
                    blue: "0000ff",
                    blueviolet: "8a2be2",
                    brown: "a52a2a",
                    burlywood: "deb887",
                    cadetblue: "5f9ea0",
                    chartreuse: "7fff00",
                    chocolate: "d2691e",
                    coral: "ff7f50",
                    cornflowerblue: "6495ed",
                    cornsilk: "fff8dc",
                    crimson: "dc143c",
                    cyan: "00ffff",
                    darkblue: "00008b",
                    darkcyan: "008b8b",
                    darkgoldenrod: "b8860b",
                    darkgray: "a9a9a9",
                    darkgreen: "006400",
                    darkgrey: "a9a9a9",
                    darkkhaki: "bdb76b",
                    darkmagenta: "8b008b",
                    darkolivegreen: "556b2f",
                    darkorange: "ff8c00",
                    darkorchid: "9932cc",
                    darkred: "8b0000",
                    darksalmon: "e9967a",
                    darkseagreen: "8fbc8f",
                    darkslateblue: "483d8b",
                    darkslategray: "2f4f4f",
                    darkslategrey: "2f4f4f",
                    darkturquoise: "00ced1",
                    darkviolet: "9400d3",
                    deeppink: "ff1493",
                    deepskyblue: "00bfff",
                    dimgray: "696969",
                    dimgrey: "696969",
                    dodgerblue: "1e90ff",
                    firebrick: "b22222",
                    floralwhite: "fffaf0",
                    forestgreen: "228b22",
                    fuchsia: "ff00ff",
                    gainsboro: "dcdcdc",
                    ghostwhite: "f8f8ff",
                    gold: "ffd700",
                    goldenrod: "daa520",
                    gray: "808080",
                    green: "008000",
                    greenyellow: "adff2f",
                    grey: "808080",
                    honeydew: "f0fff0",
                    hotpink: "ff69b4",
                    indianred: "cd5c5c",
                    indigo: "4b0082",
                    ivory: "fffff0",
                    khaki: "f0e68c",
                    lavender: "e6e6fa",
                    lavenderblush: "fff0f5",
                    lawngreen: "7cfc00",
                    lemonchiffon: "fffacd",
                    lightblue: "add8e6",
                    lightcoral: "f08080",
                    lightcyan: "e0ffff",
                    lightgoldenrodyellow: "fafad2",
                    lightgray: "d3d3d3",
                    lightgreen: "90ee90",
                    lightgrey: "d3d3d3",
                    lightpink: "ffb6c1",
                    lightsalmon: "ffa07a",
                    lightseagreen: "20b2aa",
                    lightskyblue: "87cefa",
                    lightslategray: "778899",
                    lightslategrey: "778899",
                    lightsteelblue: "b0c4de",
                    lightyellow: "ffffe0",
                    lime: "00ff00",
                    limegreen: "32cd32",
                    linen: "faf0e6",
                    magenta: "ff00ff",
                    maroon: "800000",
                    mediumaquamarine: "66cdaa",
                    mediumblue: "0000cd",
                    mediumorchid: "ba55d3",
                    mediumpurple: "9370db",
                    mediumseagreen: "3cb371",
                    mediumslateblue: "7b68ee",
                    mediumspringgreen: "00fa9a",
                    mediumturquoise: "48d1cc",
                    mediumvioletred: "c71585",
                    midnightblue: "191970",
                    mintcream: "f5fffa",
                    mistyrose: "ffe4e1",
                    moccasin: "ffe4b5",
                    navajowhite: "ffdead",
                    navy: "000080",
                    oldlace: "fdf5e6",
                    olive: "808000",
                    olivedrab: "6b8e23",
                    orange: "ffa500",
                    orangered: "ff4500",
                    orchid: "da70d6",
                    palegoldenrod: "eee8aa",
                    palegreen: "98fb98",
                    paleturquoise: "afeeee",
                    palevioletred: "db7093",
                    papayawhip: "ffefd5",
                    peachpuff: "ffdab9",
                    peru: "cd853f",
                    pink: "ffc0cb",
                    plum: "dda0dd",
                    powderblue: "b0e0e6",
                    purple: "800080",
                    red: "ff0000",
                    rosybrown: "bc8f8f",
                    royalblue: "4169e1",
                    saddlebrown: "8b4513",
                    salmon: "fa8072",
                    sandybrown: "f4a460",
                    seagreen: "2e8b57",
                    seashell: "fff5ee",
                    sienna: "a0522d",
                    silver: "c0c0c0",
                    skyblue: "87ceeb",
                    slateblue: "6a5acd",
                    slategray: "708090",
                    slategrey: "708090",
                    snow: "fffafa",
                    springgreen: "00ff7f",
                    steelblue: "4682b4",
                    tan: "d2b48c",
                    teal: "008080",
                    thistle: "d8bfd8",
                    tomato: "ff6347",
                    turquoise: "40e0d0",
                    violet: "ee82ee",
                    wheat: "f5deb3",
                    white: "ffffff",
                    whitesmoke: "f5f5f5",
                    yellow: "ffff00",
                    yellowgreen: "9acd32",
                  }),
                  G.register("Color", se),
                  (se.BLACK = se.black = new se(0, 0, 0).setImmutable()),
                  (se.BLUE = se.blue = new se(0, 0, 255).setImmutable()),
                  (se.CYAN = se.cyan = new se(0, 255, 255).setImmutable()),
                  (se.DARK_GRAY = se.darkGray =
                    new se(64, 64, 64).setImmutable()),
                  (se.GRAY = se.gray = new se(128, 128, 128).setImmutable()),
                  (se.GREEN = se.green = new se(0, 255, 0).setImmutable()),
                  (se.LIGHT_GRAY = se.lightGray =
                    new se(192, 192, 192).setImmutable()),
                  (se.MAGENTA = se.magenta =
                    new se(255, 0, 255).setImmutable()),
                  (se.ORANGE = se.orange = new se(255, 200, 0).setImmutable()),
                  (se.PINK = se.pink = new se(255, 175, 175).setImmutable()),
                  (se.RED = se.red = new se(255, 0, 0).setImmutable()),
                  (se.WHITE = se.white = new se(255, 255, 255).setImmutable()),
                  (se.YELLOW = se.yellow = new se(255, 255, 0).setImmutable()),
                  (se.TRANSPARENT = se.transparent =
                    new se(0, 0, 0, 0).setImmutable());
                new se("blue");
                se.ColorIO = new j.Z("ColorIO", {
                  valueType: se,
                  documentation: "A color, with rgba",
                  toStateObject: (e) => e.toStateObject(),
                  fromStateObject: (e) => new se(e.r, e.g, e.b, e.a),
                  stateSchema: { r: K.Z, g: K.Z, b: K.Z, a: K.Z },
                });
                var ne = i(8378);
                function re(e, t) {
                  return void 0 !== e[t]
                    ? t
                    : void 0 !==
                      e["moz" + (t = t.charAt(0).toUpperCase() + t.slice(1))]
                    ? "moz" + t
                    : void 0 !== e["Moz" + t]
                    ? "Moz" + t
                    : void 0 !== e["webkit" + t]
                    ? "webkit" + t
                    : void 0 !== e["ms" + t]
                    ? "ms" + t
                    : void 0 !== e["o" + t]
                    ? "o" + t
                    : void 0;
                }
                ne.Z.register("detectPrefix", re);
                const oe = re,
                  ae = {};
                function le(e) {
                  try {
                    const t = document.createElement("canvas");
                    (t.width = 1), (t.height = 1);
                    const i = t.getContext("2d");
                    (i.fillStyle = "black"), i.fillRect(0, 0, 1, 1);
                    const s = t.toDataURL([e]),
                      n = "data:" + e;
                    return s.slice(0, n.length) === n;
                  } catch (t) {
                    return !1;
                  }
                }
                function de(e, t) {
                  const i = document.createElement("canvas");
                  (i.width = 1), (i.height = 1);
                  const s = i.getContext("2d"),
                    n = document.createElement("img");
                  n.crossOrigin = "Anonymous";
                  const r = () => {
                    try {
                      s.drawImage(n, 0, 0), i.toDataURL(), (ae[e] = !0);
                    } catch (t) {
                      ae[e] = !1;
                    }
                  };
                  n.onload = r;
                  try {
                    (n.src = t), n.complete && r();
                  } catch (o) {
                    ae[e] = !1;
                  }
                }
                G.register("Features", ae),
                  (ae.canvasPNGOutput = le("image/png")),
                  (ae.canvasJPEGOutput = le("image/jpeg")),
                  (ae.canvasGIFOutput = le("image/gif")),
                  (ae.canvasICONOutput = le("image/x-icon")),
                  de(
                    "canvasPNGInput",
                    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2NkYGD4DwABCQEBtxmN7wAAAABJRU5ErkJggg=="
                  ),
                  de(
                    "canvasJPEGInput",
                    "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAABAAEDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD8qqKKKAP/2Q=="
                  ),
                  de(
                    "canvasSVGInput",
                    "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3cG9ydD0iMCAwIDEgMSIgd2lkdGg9IjEiIGhlaWdodD0iMSIgPg0KICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiByeD0iMCIgcnk9IjAiIHN0eWxlPSJmaWxsOiBibGFjazsgc3Ryb2tlOiBub25lOyI+PC9yZWN0Pg0KPC9zdmc+DQo="
                  ),
                  de(
                    "canvasGIFInput",
                    "data:image/gif;base64,R0lGODlhAQABAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAABAAEAAAICRAEAOw=="
                  );
                const ce = document.createElement("canvas"),
                  ue = ce.getContext("2d");
                (ae.toDataURLHD = oe(ce, "toDataURLHD")),
                  (ae.createImageDataHD = oe(ue, "createImageDataHD")),
                  (ae.getImageDataHD = oe(ue, "getImageDataHD")),
                  (ae.putImageDataHD = oe(ue, "putImageDataHD")),
                  (ae.currentTransform = oe(ue, "currentTransform")),
                  (ae.canvasFilter = oe(ue, "filter"));
                const pe = document.createElement("span"),
                  ge = document.createElement("div");
                (ae.textStroke = oe(pe.style, "textStroke")),
                  (ae.textStrokeColor = oe(pe.style, "textStrokeColor")),
                  (ae.textStrokeWidth = oe(pe.style, "textStrokeWidth")),
                  (ae.transform = oe(ge.style, "transform")),
                  (ae.transformOrigin = oe(ge.style, "transformOrigin")),
                  (ae.backfaceVisibility = oe(ge.style, "backfaceVisibility")),
                  (ae.borderRadius = oe(ge.style, "borderRadius")),
                  (ae.userSelect = oe(ge.style, "userSelect")),
                  (ae.touchAction = oe(ge.style, "touchAction")),
                  (ae.touchCallout = oe(ge.style, "touchCallout")),
                  (ae.userDrag = oe(ge.style, "userDrag")),
                  (ae.tapHighlightColor = oe(ge.style, "tapHighlightColor")),
                  (ae.fontSmoothing = oe(ge.style, "fontSmoothing")),
                  (ae.requestAnimationFrame = oe(
                    window,
                    "requestAnimationFrame"
                  )),
                  (ae.cancelAnimationFrame = oe(
                    window,
                    "cancelAnimationFrame"
                  )),
                  (ae.setStyle = (e, t, i) => {
                    void 0 !== t && (e.style[t] = i);
                  }),
                  (ae.passive = !1),
                  window.addEventListener(
                    "test",
                    null,
                    Object.defineProperty({}, "passive", {
                      get: () => {
                        ae.passive = !0;
                      },
                    })
                  );
                const me = ae;
                var Ae = i(2550),
                  ye = i(1617),
                  fe = i(1005),
                  Pe = i(2643);
                const be = ["normal", "italic", "oblique"],
                  ve = ["normal", "small-caps"],
                  Ve = [
                    "normal",
                    "bold",
                    "bolder",
                    "lighter",
                    "100",
                    "200",
                    "300",
                    "400",
                    "500",
                    "600",
                    "700",
                    "800",
                    "900",
                  ],
                  we = [
                    "normal",
                    "ultra-condensed",
                    "extra-condensed",
                    "condensed",
                    "semi-condensed",
                    "semi-expanded",
                    "expanded",
                    "extra-expanded",
                    "ultra-expanded",
                  ];
                class Ee extends ye.Z {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        style: "normal",
                        variant: "normal",
                        weight: "normal",
                        stretch: "normal",
                        size: "10px",
                        lineHeight: "normal",
                        family: "sans-serif",
                        phetioType: Ee.FontIO,
                        tandem: fe.Z.OPTIONAL,
                      },
                      e
                    );
                    super(t),
                      (this._style = t.style),
                      (this._variant = t.variant),
                      (this._weight = "" + t.weight),
                      (this._stretch = t.stretch),
                      (this._size = Ee.castSize(t.size)),
                      (this._lineHeight = t.lineHeight),
                      (this._family = t.family),
                      (this._font = this.computeShorthand());
                  }
                  getFont() {
                    return this._font;
                  }
                  get font() {
                    return this.getFont();
                  }
                  getStyle() {
                    return this._style;
                  }
                  get style() {
                    return this.getStyle();
                  }
                  getVariant() {
                    return this._variant;
                  }
                  get variant() {
                    return this.getVariant();
                  }
                  getWeight() {
                    return this._weight;
                  }
                  get weight() {
                    return this.getWeight();
                  }
                  getStretch() {
                    return this._stretch;
                  }
                  get stretch() {
                    return this.getStretch();
                  }
                  getSize() {
                    return this._size;
                  }
                  get size() {
                    return this.getSize();
                  }
                  getNumericSize() {
                    const e = this._size.match(/^(\d+)px$/);
                    if (e) return Number(e[1]);
                    const t = this._size.match(/^(\d+)pt$/);
                    if (t) return 0.75 * Number(t[1]);
                    const i = this._size.match(/^(\d+)em$/);
                    return i ? Number(i[1]) / 16 : 12;
                  }
                  get numericSize() {
                    return this.getNumericSize();
                  }
                  getLineHeight() {
                    return this._lineHeight;
                  }
                  get lineHeight() {
                    return this.getLineHeight();
                  }
                  getFamily() {
                    return this._family;
                  }
                  get family() {
                    return this.getFamily();
                  }
                  copy(e) {
                    return new Ee(
                      (0, Ae.JA)(
                        {
                          style: this._style,
                          variant: this._variant,
                          weight: this._weight,
                          stretch: this._stretch,
                          size: this._size,
                          lineHeight: this._lineHeight,
                          family: this._family,
                        },
                        e
                      )
                    );
                  }
                  computeShorthand() {
                    let e = "";
                    return (
                      "normal" !== this._style && (e += this._style + " "),
                      "normal" !== this._variant && (e += this._variant + " "),
                      "normal" !== this._weight && (e += this._weight + " "),
                      "normal" !== this._stretch && (e += this._stretch + " "),
                      (e += this._size),
                      "normal" !== this._lineHeight &&
                        (e += "/" + this._lineHeight),
                      (e += " " + this._family),
                      e
                    );
                  }
                  toCSS() {
                    return this.getFont();
                  }
                  static castSize(e) {
                    return "number" == typeof e ? e + "px" : e;
                  }
                  static isFontStyle(e) {
                    return be.includes(e);
                  }
                  static isFontVariant(e) {
                    return ve.includes(e);
                  }
                  static isFontWeight(e) {
                    return Ve.includes(e);
                  }
                  static isFontStretch(e) {
                    return we.includes(e);
                  }
                  static fromCSS(e) {
                    const t = {},
                      i = _.filter(
                        e.split(/[\x09\x0A\x0C\x0D\x20]/),
                        (e) => e.length > 0
                      );
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s];
                      if ("normal" === e);
                      else if (Ee.isFontStyle(e)) t.style = e;
                      else if (Ee.isFontVariant(e)) t.variant = e;
                      else if (Ee.isFontWeight(e)) t.weight = e;
                      else {
                        if (!Ee.isFontStretch(e)) {
                          const n = e.split(/\//);
                          (t.size = n[0]),
                            n[1] && (t.lineHeight = n[1]),
                            (t.family = i.slice(s + 1).join(" "));
                          break;
                        }
                        t.stretch = e;
                      }
                    }
                    return new Ee(t);
                  }
                }
                _defineProperty(Ee, "DEFAULT", new Ee()),
                  G.register("Font", Ee),
                  (Ee.FontIO = new j.Z("FontIO", {
                    valueType: Ee,
                    documentation:
                      "Font handling for text drawing. Options:<ul><li><strong>style:</strong> normal      &mdash; normal | italic | oblique </li><li><strong>variant:</strong> normal    &mdash; normal | small-caps </li><li><strong>weight:</strong> normal     &mdash; normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 </li><li><strong>stretch:</strong> normal    &mdash; normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded </li><li><strong>size:</strong> 10px         &mdash; absolute-size | relative-size | length | percentage -- unitless number interpreted as px. absolute suffixes: cm, mm, in, pt, pc, px. relative suffixes: em, ex, ch, rem, vw, vh, vmin, vmax. </li><li><strong>lineHeight:</strong> normal &mdash; normal | number | length | percentage -- NOTE: Canvas spec forces line-height to normal </li><li><strong>family:</strong> sans-serif &mdash; comma-separated list of families, including generic families (serif, sans-serif, cursive, fantasy, monospace). ideally escape with double-quotes</li></ul>",
                    toStateObject: (e) => ({
                      style: e.getStyle(),
                      variant: e.getVariant(),
                      weight: e.getWeight(),
                      stretch: e.getStretch(),
                      size: e.getSize(),
                      lineHeight: e.getLineHeight(),
                      family: e.getFamily(),
                    }),
                    fromStateObject: (e) => new Ee(e),
                    stateSchema: {
                      style: Pe.Z,
                      variant: Pe.Z,
                      weight: Pe.Z,
                      stretch: Pe.Z,
                      size: Pe.Z,
                      lineHeight: Pe.Z,
                      family: Pe.Z,
                    },
                  }));
                const Se = {};
                G.register("Renderer", Se),
                  (Se.numActiveRenderers = 4),
                  (Se.bitsPerRenderer = 5),
                  (Se.bitmaskRendererArea = 255),
                  (Se.bitmaskCurrentRendererArea = 15),
                  (Se.bitmaskLacksOffset = 65536),
                  (Se.bitmaskLacksShift = 16),
                  (Se.bitmaskNodeDefault = Se.bitmaskRendererArea),
                  (Se.bitmaskCanvas = 1),
                  (Se.bitmaskSVG = 2),
                  (Se.bitmaskDOM = 4),
                  (Se.bitmaskWebGL = 8),
                  (Se.bitmaskSingleCanvas = 256),
                  (Se.bitmaskSingleSVG = 512),
                  (Se.bitmaskNotPainted = 4096),
                  (Se.bitmaskBoundsValid = 8192),
                  (Se.bitmaskNoPDOM = 16384),
                  (Se.bitmaskLacksCanvas =
                    Se.bitmaskCanvas << Se.bitmaskLacksShift),
                  (Se.bitmaskLacksSVG = Se.bitmaskSVG << Se.bitmaskLacksShift),
                  (Se.bitmaskLacksDOM = Se.bitmaskDOM << Se.bitmaskLacksShift),
                  (Se.bitmaskLacksWebGL =
                    Se.bitmaskWebGL << Se.bitmaskLacksShift),
                  (Se.isCanvas = function (e) {
                    return 0 != (e & Se.bitmaskCanvas);
                  }),
                  (Se.isSVG = function (e) {
                    return 0 != (e & Se.bitmaskSVG);
                  }),
                  (Se.isDOM = function (e) {
                    return 0 != (e & Se.bitmaskDOM);
                  }),
                  (Se.isWebGL = function (e) {
                    return 0 != (e & Se.bitmaskWebGL);
                  });
                const Te = {
                  canvas: Se.bitmaskCanvas,
                  svg: Se.bitmaskSVG,
                  dom: Se.bitmaskDOM,
                  webgl: Se.bitmaskWebGL,
                };
                (Se.fromName = function (e) {
                  return Te[e];
                }),
                  (Se.stripBitmask = function (e) {
                    return e & Se.bitmaskRendererArea;
                  }),
                  (Se.createOrderBitmask = function (e, t, i, s) {
                    return (
                      (e = e || 0) |
                      ((t = t || 0) << 5) |
                      ((i = i || 0) << 10) |
                      ((s = s || 0) << 15)
                    );
                  }),
                  (Se.bitmaskOrder = function (e, t) {
                    return (
                      t > 0 && (e >>= 5 * t), e & Se.bitmaskCurrentRendererArea
                    );
                  }),
                  (Se.bitmaskOrderFirst = function (e) {
                    return e & Se.bitmaskCurrentRendererArea;
                  }),
                  (Se.bitmaskOrderSecond = function (e) {
                    return (e >> 5) & Se.bitmaskCurrentRendererArea;
                  }),
                  (Se.bitmaskOrderThird = function (e) {
                    return (e >> 10) & Se.bitmaskCurrentRendererArea;
                  }),
                  (Se.bitmaskOrderFourth = function (e) {
                    return (e >> 15) & Se.bitmaskCurrentRendererArea;
                  }),
                  (Se.pushOrderBitmask = function (e, t) {
                    let i = t;
                    const s = Se.bitsPerRenderer * Se.numActiveRenderers;
                    for (let n = 0; n <= s; n += Se.bitsPerRenderer) {
                      const s = (e >> n) & Se.bitmaskCurrentRendererArea;
                      if (s === i) return e;
                      if (0 === s) return (e |= i << n);
                      if (
                        ((e &= ~(Se.bitmaskCurrentRendererArea << n)),
                        (e |= i << n),
                        (i = s),
                        i === t)
                      )
                        return e;
                    }
                    throw new Error("pushOrderBitmask overflow");
                  }),
                  (Se.createSelfDrawable = function (e, t, i, s) {
                    let n;
                    if (Se.isCanvas(i)) n = t.createCanvasDrawable(i, e);
                    else if (Se.isSVG(i)) n = t.createSVGDrawable(i, e);
                    else if (Se.isDOM(i)) n = t.createDOMDrawable(i, e);
                    else {
                      if (!Se.isWebGL(i))
                        throw new Error("Unrecognized renderer: " + i);
                      n = t.createWebGLDrawable(i, e);
                    }
                    return n.setFittable(s), n;
                  }),
                  (Se.webglCustom = 1),
                  (Se.webglTexturedTriangles = 2),
                  (Se.webglVertexColorPolygons = 3);
                const xe = Se,
                  Ce = "http://www.w3.org/2000/svg";
                G.register("svgns", Ce);
                const Ie = Ce,
                  De = "http://www.w3.org/1999/xlink";
                G.register("xlinkns", De);
                const ke = De;
                var Oe = i(1603),
                  Le = i(9972),
                  Be = i(7320),
                  Me = i(668),
                  Ne = i(2823);
                function Re(e, t) {
                  return new Me.Z(e, t);
                }
                const qe = me.transform,
                  Fe = me.transformOrigin || "transformOrigin";
                let Ze,
                  He = !0;
                const Ye = {
                  prepareForTransform(e) {
                    e.style[Fe] = "top left";
                  },
                  applyPreparedTransform(e, t) {
                    t.style[qe] = e.getCSSTransform();
                  },
                  setTransform(e, t) {
                    t.style[qe] = e;
                  },
                  unsetTransform(e) {
                    e.style[qe] = "";
                  },
                  polyfillRequestAnimationFrame() {
                    (window.requestAnimationFrame &&
                      window.cancelAnimationFrame) ||
                      (me.requestAnimationFrame && me.cancelAnimationFrame
                        ? ((window.requestAnimationFrame =
                            window[me.requestAnimationFrame]),
                          (window.cancelAnimationFrame =
                            window[me.cancelAnimationFrame]))
                        : ((window.requestAnimationFrame = (e) => {
                            const t = Date.now();
                            return window.setTimeout(() => {
                              e(Date.now() - t);
                            }, 16);
                          }),
                          (window.cancelAnimationFrame = clearTimeout)));
                  },
                  backingStorePixelRatio: (e) =>
                    e.webkitBackingStorePixelRatio ||
                    e.mozBackingStorePixelRatio ||
                    e.msBackingStorePixelRatio ||
                    e.oBackingStorePixelRatio ||
                    e.backingStorePixelRatio ||
                    1,
                  backingScale(e) {
                    if ("devicePixelRatio" in window) {
                      const t = Ye.backingStorePixelRatio(e);
                      return window.devicePixelRatio / t;
                    }
                    return 1;
                  },
                  supportsNativeCanvasFilter: () => !!me.canvasFilter,
                  supportsImageDataCanvasFilter: () =>
                    1 === Ye.backingStorePixelRatio(G.scratchContext),
                  scanBounds(e, t, i) {
                    const s = _.map(_.range(t), () => !1),
                      n = _.map(_.range(t), () => !1);
                    for (let d = 0; d < t; d++)
                      for (let i = 0; i < t; i++) {
                        const r = 4 * (i * t + d);
                        (0 === e.data[r] &&
                          0 === e.data[r + 1] &&
                          0 === e.data[r + 2] &&
                          0 === e.data[r + 3]) ||
                          ((s[d] = !0), (n[i] = !0));
                      }
                    const r = _.indexOf(s, !0),
                      o = _.lastIndexOf(s, !0),
                      a = _.indexOf(n, !0),
                      h = _.lastIndexOf(n, !0),
                      l = t / 16;
                    return {
                      minBounds: new Oe.Z(
                        r < 1 || r >= t - 1
                          ? Number.POSITIVE_INFINITY
                          : i.inversePosition2(Re(r + 1 + l, 0)).x,
                        a < 1 || a >= t - 1
                          ? Number.POSITIVE_INFINITY
                          : i.inversePosition2(Re(0, a + 1 + l)).y,
                        o < 1 || o >= t - 1
                          ? Number.NEGATIVE_INFINITY
                          : i.inversePosition2(Re(o - l, 0)).x,
                        h < 1 || h >= t - 1
                          ? Number.NEGATIVE_INFINITY
                          : i.inversePosition2(Re(0, h - l)).y
                      ),
                      maxBounds: new Oe.Z(
                        r < 1 || r >= t - 1
                          ? Number.NEGATIVE_INFINITY
                          : i.inversePosition2(Re(r - 1 - l, 0)).x,
                        a < 1 || a >= t - 1
                          ? Number.NEGATIVE_INFINITY
                          : i.inversePosition2(Re(0, a - 1 - l)).y,
                        o < 1 || o >= t - 1
                          ? Number.POSITIVE_INFINITY
                          : i.inversePosition2(Re(o + 2 + l, 0)).x,
                        h < 1 || h >= t - 1
                          ? Number.POSITIVE_INFINITY
                          : i.inversePosition2(Re(0, h + 2 + l)).y
                      ),
                    };
                  },
                  canvasAccurateBounds(e, t) {
                    const i = t && t.precision ? t.precision : 0.001,
                      s = t && t.resolution ? t.resolution : 128,
                      n = t && t.initialScale ? t.initialScale : 1 / 16;
                    let r = Oe.Z.NOTHING,
                      o = Oe.Z.EVERYTHING;
                    const a = document.createElement("canvas");
                    (a.width = s), (a.height = s);
                    const h = a.getContext("2d");
                    function l(t) {
                      h.save(),
                        t.matrix.canvasSetTransform(h),
                        e(h),
                        h.restore();
                      const i = h.getImageData(0, 0, s, s),
                        n = Ye.scanBounds(i, s, t);
                      return h.clearRect(0, 0, s, s), n;
                    }
                    function d(e) {
                      const t = (s - 4) / (e.maxX - e.minX),
                        i = (s - 4) / (e.maxY - e.minY),
                        n = -t * e.minX + 2,
                        r = -i * e.minY + 2;
                      return new Be.Z(
                        Le.Z.translation(n, r).timesMatrix(Le.Z.scaling(t, i))
                      );
                    }
                    const c = new Be.Z();
                    c.append(Le.Z.translation(s / 2, s / 2)),
                      c.append(Le.Z.scaling(n));
                    const u = l(c);
                    let p, g, m;
                    for (
                      r = r.union(u.minBounds),
                        o = o.intersection(u.maxBounds),
                        p = o.minY,
                        g = o.maxY;
                      isFinite(r.minX) &&
                      isFinite(o.minX) &&
                      Math.abs(r.minX - o.minX) > i;

                    ) {
                      if (
                        ((m = l(d(new Oe.Z(o.minX, p, r.minX, g)))),
                        r.minX <= m.minBounds.minX &&
                          o.minX >= m.maxBounds.minX)
                      ) {
                        0;
                        break;
                      }
                      (r = r.withMinX(Math.min(r.minX, m.minBounds.minX))),
                        (o = o.withMinX(Math.max(o.minX, m.maxBounds.minX))),
                        (p = Math.max(p, m.maxBounds.minY)),
                        (g = Math.min(g, m.maxBounds.maxY));
                    }
                    for (
                      p = o.minY, g = o.maxY;
                      isFinite(r.maxX) &&
                      isFinite(o.maxX) &&
                      Math.abs(r.maxX - o.maxX) > i;

                    ) {
                      if (
                        ((m = l(d(new Oe.Z(r.maxX, p, o.maxX, g)))),
                        r.maxX >= m.minBounds.maxX &&
                          o.maxX <= m.maxBounds.maxX)
                      ) {
                        0;
                        break;
                      }
                      (r = r.withMaxX(Math.max(r.maxX, m.minBounds.maxX))),
                        (o = o.withMaxX(Math.min(o.maxX, m.maxBounds.maxX))),
                        (p = Math.max(p, m.maxBounds.minY)),
                        (g = Math.min(g, m.maxBounds.maxY));
                    }
                    for (
                      p = o.minX, g = o.maxX;
                      isFinite(r.minY) &&
                      isFinite(o.minY) &&
                      Math.abs(r.minY - o.minY) > i;

                    ) {
                      if (
                        ((m = l(d(new Oe.Z(p, o.minY, g, r.minY)))),
                        r.minY <= m.minBounds.minY &&
                          o.minY >= m.maxBounds.minY)
                      ) {
                        0;
                        break;
                      }
                      (r = r.withMinY(Math.min(r.minY, m.minBounds.minY))),
                        (o = o.withMinY(Math.max(o.minY, m.maxBounds.minY))),
                        (p = Math.max(p, m.maxBounds.minX)),
                        (g = Math.min(g, m.maxBounds.maxX));
                    }
                    for (
                      p = o.minX, g = o.maxX;
                      isFinite(r.maxY) &&
                      isFinite(o.maxY) &&
                      Math.abs(r.maxY - o.maxY) > i;

                    ) {
                      if (
                        ((m = l(d(new Oe.Z(p, r.maxY, g, o.maxY)))),
                        r.maxY >= m.minBounds.maxY &&
                          o.maxY <= m.maxBounds.maxY)
                      ) {
                        0;
                        break;
                      }
                      (r = r.withMaxY(Math.max(r.maxY, m.minBounds.maxY))),
                        (o = o.withMaxY(Math.min(o.maxY, m.maxBounds.maxY))),
                        (p = Math.max(p, m.maxBounds.minX)),
                        (g = Math.min(g, m.maxBounds.maxX));
                    }
                    const A = new Oe.Z(
                      isFinite(r.minX) && isFinite(o.minX)
                        ? (r.minX + o.minX) / 2
                        : Number.POSITIVE_INFINITY,
                      isFinite(r.minY) && isFinite(o.minY)
                        ? (r.minY + o.minY) / 2
                        : Number.POSITIVE_INFINITY,
                      isFinite(r.maxX) && isFinite(o.maxX)
                        ? (r.maxX + o.maxX) / 2
                        : Number.NEGATIVE_INFINITY,
                      isFinite(r.maxY) && isFinite(o.maxY)
                        ? (r.maxY + o.maxY) / 2
                        : Number.NEGATIVE_INFINITY
                    );
                    return (
                      (A.minBounds = r),
                      (A.maxBounds = o),
                      (A.isConsistent = o.containsBounds(r)),
                      (A.precision = Math.max(
                        Math.abs(r.minX - o.minX),
                        Math.abs(r.minY - o.minY),
                        Math.abs(r.maxX - o.maxX),
                        Math.abs(r.maxY - o.maxY)
                      )),
                      A
                    );
                  },
                  toPowerOf2(e) {
                    let t = 1;
                    for (; t < e; ) t *= 2;
                    return t;
                  },
                  createShader(e, t, i) {
                    const s = e.createShader(i);
                    return (
                      e.shaderSource(s, t),
                      e.compileShader(s),
                      e.getShaderParameter(s, e.COMPILE_STATUS) ||
                        (console.log("GLSL compile error:"),
                        console.log(e.getShaderInfoLog(s)),
                        console.log(t)),
                      s
                    );
                  },
                  applyWebGLContextDefaults(e) {
                    e.clearColor(0, 0, 0, 0),
                      e.enable(e.BLEND),
                      e.blendFunc(e.ONE, e.ONE_MINUS_SRC_ALPHA);
                  },
                  setWebGLEnabled(e) {
                    He = e;
                  },
                  checkWebGLSupport(e) {
                    if (!He) return !1;
                    const t = document.createElement("canvas"),
                      i = { failIfMajorPerformanceCaveat: !0 };
                    try {
                      const s =
                        !!window.WebGLRenderingContext &&
                        (t.getContext("webgl", i) ||
                          t.getContext("experimental-webgl", i));
                      if (!s) return !1;
                      if (e)
                        for (let t = 0; t < e.length; t++)
                          if (null === s.getExtension(e[t])) return !1;
                      return !0;
                    } catch (s) {
                      return !1;
                    }
                  },
                  checkIE11StencilSupport() {
                    const e = document.createElement("canvas");
                    try {
                      const t =
                        !!window.WebGLRenderingContext &&
                        (e.getContext("webgl") ||
                          e.getContext("experimental-webgl"));
                      return !!t && (t.clearStencil(0), 0 === t.getError());
                    } catch (t) {
                      return !1;
                    }
                  },
                  get isWebGLSupported() {
                    return void 0 === Ze && (Ze = Ye.checkWebGLSupport()), Ze;
                  },
                  loseContext(e) {
                    const t = e.getExtension("WEBGL_lose_context");
                    t &&
                      (t.loseContext(),
                      setTimeout(() => {
                        t.restoreContext();
                      }, 1e3));
                  },
                  safariEmbeddingMarkWorkaround: (e) =>
                    Ne.Z.safari ? e.split("").join("​") : e,
                };
                G.register("Utils", Ye);
                const Ge = Ye;
                var We = i(0);
                class ze {
                  constructor(e, t) {
                    (this.display = e), (this.trail = t);
                  }
                }
                (s = ze),
                  _defineProperty(
                    ze,
                    "FocusIO",
                    new j.Z("FocusIO", {
                      valueType: s,
                      documentation:
                        "A IO Type for the instance in the simulation which currently has keyboard focus. FocusIO is serialized into and Object with key `focusedPhetioElement` that is a list of PhET-iO elements, from parent-most to child-most corresponding to the PhET-iO element that was instrumented.",
                      toStateObject: (e) => {
                        const t = [];
                        return (
                          e.trail.nodes.forEach((e, i) => {
                            e.isPhetioInstrumented() &&
                              t.push(e.tandem.phetioID);
                          }),
                          { focusedPhetioElement: t }
                        );
                      },
                      stateSchema: { focusedPhetioElement: (0, We.Z)(Pe.Z) },
                    })
                  ),
                  G.register("Focus", ze);
                const Xe = ze;
                var Qe = i(7959);
                const Ue = ["ArrowRight", "ArrowLeft", "ArrowUp", "ArrowDown"],
                  je = ["KeyW", "KeyS", "KeyA", "KeyD"],
                  Ke = [
                    "Digit0",
                    "Digit1",
                    "Digit2",
                    "Digit3",
                    "Digit4",
                    "Digit5",
                    "Digit6",
                    "Digit7",
                    "Digit8",
                    "Digit9",
                  ],
                  Je = ["ShiftLeft", "ShiftRight"],
                  _e = ["ControlLeft", "ControlRight"],
                  $e = ["AltLeft", "AltRight"],
                  et = { valueType: Event },
                  tt = [],
                  it = {
                    KEY_SPACE: "Space",
                    KEY_ENTER: "Enter",
                    KEY_TAB: "Tab",
                    KEY_RIGHT_ARROW: "ArrowRight",
                    KEY_LEFT_ARROW: "ArrowLeft",
                    KEY_UP_ARROW: "ArrowUp",
                    KEY_DOWN_ARROW: "ArrowDown",
                    KEY_SHIFT_LEFT: "ShiftLeft",
                    KEY_SHIFT_RIGHT: "ShiftRight",
                    KEY_ALT_LEFT: "AltLeft",
                    KEY_ALT_RIGHT: "AltRight",
                    KEY_CONTROL_LEFT: "ControlLeft",
                    KEY_CONTROL_RIGHT: "ControlRight",
                    KEY_ESCAPE: "Escape",
                    KEY_DELETE: "Delete",
                    KEY_BACKSPACE: "Backspace",
                    KEY_PAGE_UP: "PageUp",
                    KEY_PAGE_DOWN: "PageDown",
                    KEY_END: "End",
                    KEY_HOME: "Home",
                    KEY_0: "Digit0",
                    KEY_1: "Digit1",
                    KEY_2: "Digit2",
                    KEY_3: "Digit3",
                    KEY_4: "Digit4",
                    KEY_5: "Digit5",
                    KEY_6: "Digit6",
                    KEY_7: "Digit7",
                    KEY_8: "Digit8",
                    KEY_9: "Digit9",
                    KEY_A: "KeyA",
                    KEY_B: "KeyB",
                    KEY_C: "KeyC",
                    KEY_D: "KeyD",
                    KEY_E: "KeyE",
                    KEY_F: "KeyF",
                    KEY_G: "KeyG",
                    KEY_H: "KeyH",
                    KEY_I: "KeyI",
                    KEY_J: "KeyJ",
                    KEY_K: "KeyK",
                    KEY_L: "KeyL",
                    KEY_M: "KeyM",
                    KEY_N: "KeyN",
                    KEY_O: "KeyO",
                    KEY_P: "KeyP",
                    KEY_Q: "KeyQ",
                    KEY_R: "KeyR",
                    KEY_S: "KeyS",
                    KEY_T: "KeyT",
                    KEY_U: "KeyU",
                    KEY_V: "KeyV",
                    KEY_W: "KeyW",
                    KEY_X: "KeyX",
                    KEY_Y: "KeyY",
                    KEY_Z: "KeyZ",
                    KEY_EQUALS: "Equal",
                    KEY_PLUS: "Equal",
                    KEY_MINUS: "Minus",
                    KEY_PERIOD: "Period",
                    ARROW_KEYS: Ue,
                    WASD_KEYS: je,
                    MOVEMENT_KEYS: Ue.concat(je),
                    SHIFT_KEYS: Je,
                    CONTROL_KEYS: _e,
                    ALT_KEYS: $e,
                    isArrowKey: (e) => it.isAnyKeyEvent(e, Ue),
                    isRangeKey: (e) =>
                      it.isArrowKey(e) ||
                      it.isAnyKeyEvent(e, [
                        it.KEY_PAGE_UP,
                        it.KEY_PAGE_DOWN,
                        it.KEY_HOME,
                        it.KEY_END,
                      ]),
                    isNumberKey: (e) => it.isAnyKeyEvent(e, Ke),
                    getNumberFromCode: (e) =>
                      it.isNumberKey(e) && e instanceof KeyboardEvent
                        ? Number(e.code.replace("Digit", ""))
                        : null,
                    isShiftKey: (e) => it.isAnyKeyEvent(e, Je),
                    isAltKey: (e) => it.isAnyKeyEvent(e, $e),
                    isControlKey: (e) => it.isAnyKeyEvent(e, _e),
                    isWASDKey: (e) => it.isAnyKeyEvent(e, je),
                    isMovementKey: (e) => it.isAnyKeyEvent(e, it.MOVEMENT_KEYS),
                    isAnyKeyEvent(e, t) {
                      (0, Qe.Z)(e, et);
                      const i = it.getEventCode(e);
                      return !!i && t.includes(i);
                    },
                    isKeyEvent: (e, t) => it.getEventCode(e) === t,
                    getEventCode: (e) =>
                      e instanceof KeyboardEvent && e.code ? e.code : null,
                    ALL_KEYS: tt,
                  };
                for (const _ in it)
                  it.hasOwnProperty(_) &&
                    "string" == typeof it[_] &&
                    tt.push(it[_]);
                G.register("KeyboardUtils", it);
                const st = it,
                  nt = {
                    q: st.KEY_Q,
                    w: st.KEY_W,
                    e: st.KEY_E,
                    r: st.KEY_R,
                    t: st.KEY_T,
                    y: st.KEY_Y,
                    u: st.KEY_U,
                    i: st.KEY_I,
                    o: st.KEY_O,
                    p: st.KEY_P,
                    a: st.KEY_A,
                    s: st.KEY_S,
                    d: st.KEY_D,
                    f: st.KEY_F,
                    g: st.KEY_G,
                    h: st.KEY_H,
                    j: st.KEY_J,
                    k: st.KEY_K,
                    l: st.KEY_L,
                    z: st.KEY_Z,
                    x: st.KEY_X,
                    c: st.KEY_C,
                    v: st.KEY_V,
                    b: st.KEY_B,
                    n: st.KEY_N,
                    m: st.KEY_M,
                    0: st.KEY_0,
                    1: st.KEY_1,
                    2: st.KEY_2,
                    3: st.KEY_3,
                    4: st.KEY_4,
                    5: st.KEY_5,
                    6: st.KEY_6,
                    7: st.KEY_7,
                    8: st.KEY_8,
                    9: st.KEY_9,
                    ctrl: st.KEY_CONTROL_LEFT,
                    alt: st.KEY_ALT_LEFT,
                    shift: st.KEY_SHIFT_LEFT,
                    enter: st.KEY_ENTER,
                    tab: st.KEY_TAB,
                    equals: st.KEY_EQUALS,
                    plus: st.KEY_PLUS,
                    minus: st.KEY_MINUS,
                    period: st.KEY_PERIOD,
                    escape: st.KEY_ESCAPE,
                    delete: st.KEY_DELETE,
                    backspace: st.KEY_BACKSPACE,
                    page_up: st.KEY_PAGE_UP,
                    page_down: st.KEY_PAGE_DOWN,
                    end: st.KEY_END,
                    home: st.KEY_HOME,
                    space: st.KEY_SPACE,
                    arrowLeft: st.KEY_LEFT_ARROW,
                    arrowRight: st.KEY_RIGHT_ARROW,
                    arrowUp: st.KEY_UP_ARROW,
                    arrowDown: st.KEY_DOWN_ARROW,
                  };
                G.register("EnglishStringToCodeMap", nt);
                const rt = nt;
                var ot = i(5602),
                  at = i(2306),
                  ht = i(170);
                const lt = new j.Z("EventIO", {
                  valueType: window.Event,
                  documentation: "A DOM Event",
                  toStateObject: (e) => Ca.serializeDomEvent(e),
                  fromStateObject: (e) => Ca.deserializeDomEvent(e),
                  stateSchema: () => ({
                    pointerId: (0, at.Z)(K.Z),
                    pointerType: (0, at.Z)(Pe.Z),
                    clientX: (0, at.Z)(K.Z),
                    clientY: (0, at.Z)(K.Z),
                    ctrlKey: (0, at.Z)(ot.Z),
                    shiftKey: (0, at.Z)(ot.Z),
                    altKey: (0, at.Z)(ot.Z),
                    metaKey: (0, at.Z)(ot.Z),
                    button: (0, at.Z)(K.Z),
                    relatedTarget: (0, at.Z)(ht.Z),
                    pageX: (0, at.Z)(K.Z),
                    pageY: (0, at.Z)(K.Z),
                    which: (0, at.Z)(K.Z),
                    type: (0, at.Z)(Pe.Z),
                    target: (0, at.Z)(ht.Z),
                    keyCode: (0, at.Z)(K.Z),
                    key: (0, at.Z)(Pe.Z),
                    deltaX: (0, at.Z)(K.Z),
                    deltaY: (0, at.Z)(K.Z),
                    deltaZ: (0, at.Z)(K.Z),
                    deltaMode: (0, at.Z)(K.Z),
                    charCode: (0, at.Z)(K.Z),
                    scale: (0, at.Z)(K.Z),
                  }),
                });
                G.register("EventIO", lt);
                const dt = lt,
                  ct = document.createElement("style");
                (ct.type = "text/css"), document.head.appendChild(ct);
                const ut =
                    document.styleSheets[document.styleSheets.length - 1],
                  pt = {
                    stylesheet: ut,
                    styleElement: ct,
                    addRule(e) {
                      this.stylesheet.insertRule(e, 0);
                    },
                  };
                G.register("SceneryStyle", pt);
                const gt = pt;
                class mt {
                  constructor(e, t) {
                    (this.canvas = e), (this.context = t), this.resetStyles();
                  }
                  resetStyles() {
                    (this.fillStyle = void 0),
                      (this.strokeStyle = void 0),
                      (this.lineWidth = void 0),
                      (this.lineCap = void 0),
                      (this.lineJoin = void 0),
                      (this.lineDash = void 0),
                      (this.lineDashOffset = void 0),
                      (this.miterLimit = void 0),
                      (this.font = void 0),
                      (this.direction = void 0);
                  }
                  setDimensions(e, t) {
                    (this.canvas.width = e),
                      (this.canvas.height = t),
                      this.resetStyles();
                  }
                  setFillStyle(e) {
                    e && e instanceof X.Z && (e = e.value),
                      e && e.getCanvasStyle && (e = e.getCanvasStyle()),
                      this.fillStyle !== e &&
                        ((this.fillStyle = e), (this.context.fillStyle = e));
                  }
                  setStrokeStyle(e) {
                    e && e instanceof X.Z && (e = e.value),
                      e && e.getCanvasStyle && (e = e.getCanvasStyle()),
                      this.strokeStyle !== e &&
                        ((this.strokeStyle = e),
                        (this.context.strokeStyle = e));
                  }
                  setLineWidth(e) {
                    this.lineWidth !== e &&
                      ((this.lineWidth = e), (this.context.lineWidth = e));
                  }
                  setLineCap(e) {
                    this.lineCap !== e &&
                      ((this.lineCap = e), (this.context.lineCap = e));
                  }
                  setLineJoin(e) {
                    this.lineJoin !== e &&
                      ((this.lineJoin = e), (this.context.lineJoin = e));
                  }
                  setMiterLimit(e) {
                    this.miterLimit !== e &&
                      ((this.miterLimit = e), (this.context.miterLimit = e));
                  }
                  setLineDash(e) {
                    this.lineDash !== e &&
                      ((this.lineDash = e),
                      this.context.setLineDash
                        ? this.context.setLineDash(null === e ? [] : e)
                        : void 0 !== this.context.mozDash
                        ? (this.context.mozDash = e)
                        : void 0 !== this.context.webkitLineDash &&
                          (this.context.webkitLineDash = e || []));
                  }
                  setLineDashOffset(e) {
                    this.lineDashOffset !== e &&
                      ((this.lineDashOffset = e),
                      void 0 !== this.context.lineDashOffset
                        ? (this.context.lineDashOffset = e)
                        : void 0 !== this.context.webkitLineDashOffset &&
                          (this.context.webkitLineDashOffset = e));
                  }
                  setFont(e) {
                    this.font !== e &&
                      ((this.font = e), (this.context.font = e));
                  }
                  setDirection(e) {
                    this.direction !== e &&
                      ((this.direction = e), (this.context.direction = e));
                  }
                }
                G.register("CanvasContextWrapper", mt);
                const At = mt;
                var yt = i(592);
                function ft(e, t, i) {
                  return void 0 !== e["on" + t]
                    ? t
                    : void 0 !== e["onmoz" + t]
                    ? "moz" + t
                    : void 0 !== e["onMoz" + t]
                    ? "Moz" + t
                    : void 0 !== e["onwebkit" + t]
                    ? "webkit" + t
                    : void 0 !== e["onms" + t]
                    ? "ms" + t
                    : void 0 !== e["ono" + t]
                    ? "o" + t
                    : void 0;
                }
                ne.Z.register("detectPrefixEvent", ft);
                const Pt = ft,
                  bt =
                    oe(document, "exitFullscreen") ||
                    oe(document, "cancelFullScreen"),
                  vt =
                    oe(document, "fullscreenElement") ||
                    oe(document, "fullScreenElement"),
                  Vt =
                    oe(document, "fullscreenEnabled") ||
                    oe(document, "fullScreenEnabled");
                let wt = Pt(document, "fullscreenchange");
                "msfullscreenchange" === wt && (wt = "MSFullscreenChange");
                const Et = {
                  isFullScreen: () => !!document[vt],
                  isFullScreenEnabled: () => document[Vt] && !Ne.Z.safari7,
                  enterFullScreen(e) {
                    const t =
                      oe(document.body, "requestFullscreen") ||
                      oe(document.body, "requestFullScreen");
                    e.domElement[t] && e.domElement[t]();
                  },
                  exitFullScreen() {
                    document[bt] && document[bt]();
                  },
                  toggleFullScreen(e) {
                    Et.isFullScreen()
                      ? Et.exitFullScreen()
                      : Et.enterFullScreen(e);
                  },
                  isFullScreenProperty: new yt.Z(!1),
                };
                document.addEventListener(wt, (e) => {
                  Et.isFullScreenProperty.set(Et.isFullScreen());
                }),
                  G.register("FullScreen", Et);
                const St = Et;
                var Tt = i(8803);
                class xt {
                  constructor(e, t) {
                    (this.create = e),
                      (this.destroy = t),
                      (this.map = new Map());
                  }
                  increment(e) {
                    let t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : 1;
                    if (this.map.has(e)) this.map.get(e).count += t;
                    else {
                      const i = this.create(e),
                        s = Ct.createFromPool(t, e, i);
                      this.map.set(e, s);
                    }
                  }
                  decrement(e) {
                    let t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : 1;
                    const i = this.map.get(e);
                    i &&
                      ((i.count -= t),
                      i.count < 1 &&
                        (this.destroy(e, i.value),
                        this.map.delete(e),
                        i.dispose()));
                  }
                  get(e) {
                    return this.map.get(e).value;
                  }
                  clear() {
                    this.map.clear();
                  }
                }
                class Ct {
                  constructor(e, t, i) {
                    this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    (this.count = e), (this.key = t), (this.value = i);
                  }
                  dispose() {
                    (this.key = null), (this.value = null), this.freeToPool();
                  }
                }
                Tt.Z.mixInto(Ct, { initialize: Ct.prototype.initialize }),
                  G.register("CountMap", xt);
                const It = xt;
                var Dt = i(9806),
                  kt = i(831);
                class Ot extends Dt.Z {
                  constructor(e, t) {
                    super(!1, (t = (0, kt.Z)({ display: null }, t))),
                      (this.node = e),
                      (this.display = t.display),
                      (this.updateListener = this.updateValue.bind(this)),
                      (this.changedInstanceListener =
                        this.changedInstance.bind(this)),
                      e.changedInstanceEmitter.addListener(
                        this.changedInstanceListener
                      );
                    const i = e.instances;
                    for (let s = 0; s < i.length; s++)
                      this.changedInstance(i[s], !0);
                  }
                  updateValue() {
                    this.value = this.node.wasVisuallyDisplayed(this.display);
                  }
                  changedInstance(e, t) {
                    t
                      ? e.visibleEmitter.addListener(this.updateListener)
                      : e.visibleEmitter.removeListener(this.updateListener),
                      this.updateValue();
                  }
                  dispose() {
                    const e = this.node.instances;
                    for (let t = 0; t < e.length; t++)
                      this.changedInstance(e[t], !1);
                    this.node.changedInstanceEmitter.removeListener(
                      this.changedInstanceListener
                    ),
                      super.dispose();
                  }
                }
                G.register("DisplayedProperty", Ot);
                const Lt = Ot;
                class Bt {
                  constructor(e) {
                    (this.scene = e),
                      (this.canvas = document.createElement("canvas")),
                      (this.context = this.canvas.getContext("2d")),
                      (this.img = document.createElement("img")),
                      this.update();
                  }
                  update(e) {
                    this.scene.updateScene(),
                      (this.canvas.width = this.scene.getSceneWidth()),
                      (this.canvas.height = this.scene.getSceneHeight()),
                      this.scene.renderToCanvas(
                        this.canvas,
                        this.context,
                        () => {
                          const t = this.toDataURL();
                          (this.img.onload = () => {
                            e(), delete this.img.onload;
                          }),
                            (this.img.src = t);
                        }
                      );
                  }
                }
                G.register("SceneImage", Bt);
                const Mt = new Dt.Z(
                  !(
                    null !== (n = window) &&
                    void 0 !== n &&
                    null !== (r = n.phet) &&
                    void 0 !== r &&
                    null !== (o = r.chipper) &&
                    void 0 !== o &&
                    o.queryParameters
                  ) ||
                    (null === (a = window) ||
                    void 0 === a ||
                    null === (h = a.phet) ||
                    void 0 === h ||
                    null === (l = h.chipper) ||
                    void 0 === l ||
                    null === (d = l.queryParameters) ||
                    void 0 === d
                      ? void 0
                      : d.allowLinks),
                  {
                    tandem:
                      fe.Z.GENERAL_MODEL.createTandem("allowLinksProperty"),
                  }
                );
                G.register("allowLinksProperty", Mt);
                const Nt = Mt;
                function Rt(e) {
                  let t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : Nt.value;
                  if (t) {
                    const t = window.open(e, "_blank");
                    t && t.focus();
                  }
                }
                G.register("openPopup", Rt);
                const qt = Rt;
                var Ft = i(5428);
                const Zt = (e, t) => {
                  const i = (0, Ae.ZP)()({ requiredOnly: !1 }, t),
                    s = [],
                    n = new LineBreaker(e);
                  n[Symbol.iterator] = () => ({
                    next() {
                      const e = n.nextBreak();
                      return null !== e ? { value: e, done: !1 } : { done: !0 };
                    },
                  });
                  let r = 0;
                  for (const o of n) {
                    const e = o.position;
                    (i.requiredOnly && !o.required) ||
                      (r !== e && s.push(new Ft.Z(r, e)), (r = o.position));
                  }
                  return r < e.length && s.push(new Ft.Z(r, e.length)), s;
                };
                G.register("getLineBreakRanges", Zt);
                const Ht = Zt;
                var Yt = i(6572),
                  Gt = i(2956),
                  Wt = i(4676),
                  zt = i(7232);
                const Xt = new Me.Z(0, 0),
                  Qt = Le.Z.IDENTITY.copy();
                class Ut extends Wt.Z {}
                _defineProperty(Ut, "TRANSLATION", new (c = Ut)()),
                  _defineProperty(Ut, "TRANSLATION_AND_SCALE", new c()),
                  _defineProperty(Ut, "TRANSLATION_AND_ROTATION", new c()),
                  _defineProperty(Ut, "AFFINE", new c()),
                  _defineProperty(
                    Ut,
                    "enumeration",
                    new Gt.Z(c, {
                      phetioDocumentation:
                        "Defines the available transform type for a SpriteInstance",
                    })
                  );
                class jt {
                  constructor() {
                    (this.sprite = null),
                      (this.matrix = new Le.Z().setToAffine(1, 0, 0, 0, 1, 0)),
                      (this.transformType = Ut.TRANSLATION),
                      (this.alpha = 1);
                  }
                  initialize() {}
                  getShape() {
                    return this.sprite
                      ? this.sprite.getShape().transformed(this.matrix)
                      : new Yt.bn();
                  }
                  containsPoint(e) {
                    if (!this.sprite) return !1;
                    const t = Xt.set(e);
                    return (
                      this.transformType === Ut.AFFINE
                        ? Qt.set(this.matrix).invert().multiplyVector2(t)
                        : ((t.x -= this.matrix.m02()),
                          (t.y -= this.matrix.m12()),
                          this.transformType === Ut.TRANSLATION_AND_SCALE
                            ? ((t.x /= this.matrix.m00()),
                              (t.y /= this.matrix.m11()))
                            : this.transformType ===
                                Ut.TRANSLATION_AND_ROTATION &&
                              t.rotate(-this.matrix.rotation)),
                      this.sprite.containsPoint(t)
                    );
                  }
                  freeToPool() {
                    jt.pool.freeToPool(this);
                  }
                }
                (u = jt),
                  _defineProperty(jt, "pool", new zt.Z(u, { maxSize: 1e3 })),
                  G.register("SpriteInstance", jt);
                var Kt = i(7464);
                class Jt {
                  constructor(e) {
                    this.rootBin = new _t(e, null);
                  }
                  allocate(e, t) {
                    const i = this.rootBin.findAvailableBin(e, t);
                    if (i) {
                      const s = i.split(e, t);
                      return s.use(), s;
                    }
                    return null;
                  }
                  deallocate(e) {
                    e.unuse();
                  }
                  toString() {
                    let e = "",
                      t = "";
                    return (
                      (function i(s) {
                        (e += t + s.toString() + "\n"),
                          (t += "  "),
                          _.each(s.children, i),
                          (t = t.substring(2));
                      })(this.rootBin),
                      e
                    );
                  }
                }
                Kt.Z.register("BinPacker", Jt);
                class _t {
                  constructor(e, t) {
                    (this.bounds = e),
                      (this.parent = t),
                      (this.isSplit = !1),
                      (this.isUsed = !1),
                      (this.children = []);
                  }
                  findAvailableBin(e, t) {
                    if (this.isUsed) return null;
                    if (this.bounds.width < e || this.bounds.height < t)
                      return null;
                    if (this.isSplit) {
                      for (let i = 0; i < this.children.length; i++) {
                        const s = this.children[i].findAvailableBin(e, t);
                        if (s) return s;
                      }
                      return null;
                    }
                    return this;
                  }
                  split(e, t) {
                    if (e === this.bounds.width && t === this.bounds.height)
                      return this;
                    this.isSplit = !0;
                    const i = this.bounds.minX + e,
                      s = this.bounds.minY + t,
                      n = new Oe.Z(this.bounds.minX, this.bounds.minY, i, s),
                      r = new Oe.Z(i, this.bounds.minY, this.bounds.maxX, s),
                      o = new Oe.Z(
                        this.bounds.minX,
                        s,
                        this.bounds.maxX,
                        this.bounds.maxY
                      ),
                      a = new _t(n, this);
                    return (
                      this.children.push(a),
                      r.hasNonzeroArea() && this.children.push(new _t(r, this)),
                      o.hasNonzeroArea() && this.children.push(new _t(o, this)),
                      a
                    );
                  }
                  use() {
                    this.isUsed = !0;
                  }
                  unuse() {
                    (this.isUsed = !1),
                      this.parent && this.parent.attemptToCollapse();
                  }
                  attemptToCollapse() {
                    for (let e = 0; e < this.children.length; e++) {
                      const t = this.children[e];
                      if (t.isSplit || t.isUsed) return;
                    }
                    (this.children = []),
                      (this.isSplit = !1),
                      this.parent && this.parent.attemptToCollapse();
                  }
                  toString() {
                    return (
                      this.bounds.toString() + (this.isUsed ? " used" : "")
                    );
                  }
                }
                Jt.Bin = _t;
                var $t = i(6243);
                const ei = new $t.Z(1024, 1024);
                class ti {
                  constructor(e) {
                    (this.useMipmaps = e),
                      (this.gl = null),
                      (this.texture = null),
                      (this.bounds = new Oe.Z(0, 0, ei.width, ei.height)),
                      (this.width = this.bounds.width),
                      (this.height = this.bounds.height),
                      (this.canvas = document.createElement("canvas")),
                      (this.canvas.width = this.width),
                      (this.canvas.height = this.height),
                      (this.context = this.canvas.getContext("2d")),
                      (this.binPacker = new Jt(this.bounds)),
                      (this.dirty = !0),
                      (this.usedSprites = []),
                      (this.unusedSprites = []);
                  }
                  initializeContext(e) {
                    (this.gl = e), this.createTexture();
                  }
                  createTexture() {
                    const e = this.gl;
                    (this.texture = e.createTexture()),
                      e.bindTexture(e.TEXTURE_2D, this.texture),
                      e.texParameteri(
                        e.TEXTURE_2D,
                        e.TEXTURE_WRAP_S,
                        e.CLAMP_TO_EDGE
                      ),
                      e.texParameteri(
                        e.TEXTURE_2D,
                        e.TEXTURE_WRAP_T,
                        e.CLAMP_TO_EDGE
                      ),
                      e.texParameteri(
                        e.TEXTURE_2D,
                        e.TEXTURE_MIN_FILTER,
                        this.useMipmaps ? e.LINEAR_MIPMAP_LINEAR : e.LINEAR
                      ),
                      e.texParameteri(
                        e.TEXTURE_2D,
                        e.TEXTURE_MAG_FILTER,
                        e.LINEAR
                      ),
                      e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, !1),
                      e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0),
                      e.texImage2D(
                        e.TEXTURE_2D,
                        0,
                        e.RGBA,
                        e.RGBA,
                        e.UNSIGNED_BYTE,
                        this.canvas
                      ),
                      this.useMipmaps &&
                        (e.hint(e.GENERATE_MIPMAP_HINT, e.NICEST),
                        e.generateMipmap(e.TEXTURE_2D)),
                      e.bindTexture(e.TEXTURE_2D, null),
                      (this.dirty = !1);
                  }
                  updateTexture() {
                    if (this.dirty) {
                      this.dirty = !1;
                      const e = this.gl;
                      e.bindTexture(e.TEXTURE_2D, this.texture),
                        e.texImage2D(
                          e.TEXTURE_2D,
                          0,
                          e.RGBA,
                          e.RGBA,
                          e.UNSIGNED_BYTE,
                          this.canvas
                        ),
                        this.useMipmaps &&
                          (e.hint(e.GENERATE_MIPMAP_HINT, e.NICEST),
                          e.generateMipmap(e.TEXTURE_2D)),
                        e.bindTexture(e.TEXTURE_2D, null);
                    }
                  }
                  addImage(e, t, i) {
                    let s, n;
                    for (s = 0; s < this.usedSprites.length; s++) {
                      const t = this.usedSprites[s];
                      if (t.image === e) return t.count++, t;
                    }
                    for (s = 0; s < this.unusedSprites.length; s++) {
                      const t = this.unusedSprites[s];
                      if (t.image === e)
                        return (
                          t.count++,
                          this.unusedSprites.splice(s, 1),
                          this.usedSprites.push(t),
                          t
                        );
                    }
                    for (
                      ;
                      !(n = this.binPacker.allocate(t + 2 + 1, i + 2 + 1)) &&
                      this.unusedSprites.length;

                    ) {
                      const e = this.unusedSprites.shift();
                      this.dirty = !0;
                      const t = e.bin.bounds;
                      this.context.clearRect(t.x, t.y, t.width, t.height),
                        this.binPacker.deallocate(e.bin);
                    }
                    if (n) {
                      const s = new Oe.Z(
                          (n.bounds.minX + 1) / this.width,
                          (n.bounds.minY + 1) / this.height,
                          (n.bounds.maxX - 1 - 1) / this.width,
                          (n.bounds.maxY - 1 - 1) / this.height
                        ),
                        r = new ii(this, n, s, e, 1);
                      return (
                        this.copyImageWithGutter(
                          e,
                          t,
                          i,
                          n.bounds.x,
                          n.bounds.y
                        ),
                        (this.dirty = !0),
                        this.usedSprites.push(r),
                        r
                      );
                    }
                    return null;
                  }
                  removeImage(e) {
                    let t, i;
                    for (i = 0; i < this.usedSprites.length; i++)
                      if (this.usedSprites[i].image === e) {
                        t = this.usedSprites[i];
                        break;
                      }
                    --t.count <= 0 &&
                      (this.usedSprites.splice(i, 1),
                      this.unusedSprites.push(t));
                  }
                  containsImage(e) {
                    let t;
                    for (t = 0; t < this.usedSprites.length; t++)
                      if (this.usedSprites[t].image === e) return !0;
                    for (t = 0; t < this.unusedSprites.length; t++)
                      if (this.unusedSprites[t].image === e) return !0;
                    return !1;
                  }
                  copyImageWithGutter(e, t, i, s, n) {
                    this.copyImageRegion(e, 1, 1, 0, 0, s, n),
                      this.copyImageRegion(e, 1, 1, t - 1, 0, s + 1 + t, n),
                      this.copyImageRegion(
                        e,
                        1,
                        1,
                        t - 1,
                        i - 1,
                        s + 1 + t,
                        n + 1 + i
                      ),
                      this.copyImageRegion(e, 1, 1, 0, i - 1, s, n + 1 + i),
                      this.copyImageRegion(e, t, 1, 0, 0, s + 1, n),
                      this.copyImageRegion(e, t, 1, 0, i - 1, s + 1, n + 1 + i),
                      this.copyImageRegion(e, 1, i, 0, 0, s, n + 1),
                      this.copyImageRegion(e, 1, i, t - 1, 0, s + 1 + t, n + 1),
                      this.context.drawImage(e, s + 1, n + 1);
                  }
                  copyImageRegion(e, t, i, s, n, r, o) {
                    this.context.drawImage(e, s, n, t, i, r, o, t, i);
                  }
                }
                _defineProperty(ti, "MAX_DIMENSION", ei),
                  G.register("SpriteSheet", ti);
                class ii {
                  constructor(e, t, i, s, n) {
                    (this.spriteSheet = e),
                      (this.bin = t),
                      (this.uvBounds = i),
                      (this.image = s),
                      (this.count = n);
                  }
                }
                ti.Sprite = ii;
                class si {
                  constructor(e, t, i, s) {
                    const n = (0, Ae.ZP)()({ attributes: [], uniforms: [] }, s);
                    (this.vertexSource = t),
                      (this.fragmentSource = i),
                      (this.attributeNames = n.attributes),
                      (this.uniformNames = n.uniforms),
                      this.initialize(e);
                  }
                  initialize(e) {
                    (this.gl = e),
                      (this.used = !1),
                      (this.program = this.gl.createProgram()),
                      (this.vertexShader = Ge.createShader(
                        this.gl,
                        this.vertexSource,
                        this.gl.VERTEX_SHADER
                      )),
                      (this.fragmentShader = Ge.createShader(
                        this.gl,
                        this.fragmentSource,
                        this.gl.FRAGMENT_SHADER
                      )),
                      this.gl.attachShader(this.program, this.vertexShader),
                      this.gl.attachShader(this.program, this.fragmentShader),
                      this.gl.linkProgram(this.program),
                      this.gl.getProgramParameter(
                        this.program,
                        this.gl.LINK_STATUS
                      ) ||
                        (console.log("GLSL link error:"),
                        console.log(this.gl.getProgramInfoLog(this.program)),
                        console.log("for vertex shader"),
                        console.log(this.vertexSource),
                        console.log("for fragment shader"),
                        console.log(this.fragmentSource)),
                      this.gl.deleteShader(this.vertexShader),
                      this.gl.deleteShader(this.fragmentShader),
                      (this.uniformLocations = {}),
                      (this.attributeLocations = {}),
                      (this.activeAttributes = {}),
                      _.each(this.attributeNames, (e) => {
                        (this.attributeLocations[e] = this.gl.getAttribLocation(
                          this.program,
                          e
                        )),
                          (this.activeAttributes[e] = !0);
                      }),
                      _.each(this.uniformNames, (e) => {
                        this.uniformLocations[e] = this.gl.getUniformLocation(
                          this.program,
                          e
                        );
                      }),
                      (this.isInitialized = !0);
                  }
                  use() {
                    this.used ||
                      ((this.used = !0),
                      this.gl.useProgram(this.program),
                      _.each(this.attributeNames, (e) => {
                        this.activeAttributes[e] &&
                          this.enableVertexAttribArray(e);
                      }));
                  }
                  activateAttribute(e) {
                    this.activeAttributes[e] ||
                      ((this.activeAttributes[e] = !0),
                      this.used && this.enableVertexAttribArray(e));
                  }
                  enableVertexAttribArray(e) {
                    this.gl.enableVertexAttribArray(this.attributeLocations[e]);
                  }
                  unuse() {
                    this.used &&
                      ((this.used = !1),
                      _.each(this.attributeNames, (e) => {
                        this.activeAttributes[e] &&
                          this.disableVertexAttribArray(e);
                      }));
                  }
                  disableVertexAttribArray(e) {
                    this.gl.disableVertexAttribArray(
                      this.attributeLocations[e]
                    );
                  }
                  deactivateAttribute(e) {
                    this.activeAttributes[e] &&
                      ((this.activeAttributes[e] = !1),
                      this.used && this.disableVertexAttribArray(e));
                  }
                  dispose() {
                    this.gl.deleteProgram(this.program);
                  }
                }
                G.register("ShaderProgram", si);
                class ni extends yt.Z {
                  constructor(e, t) {
                    super(
                      e,
                      (0, Ae.ZP)()(
                        { valueType: se, phetioValueType: se.ColorIO },
                        t
                      )
                    );
                  }
                }
                G.register("ColorProperty", ni);
                let ri, oi;
                const ai = {};
                let hi = !1;
                const li = {
                  approximateSVGBounds(e, t) {
                    if (!ri.parentNode) {
                      if (!document.body)
                        throw new Error(
                          "No document.body and trying to get approximate SVG bounds of a Text node"
                        );
                      document.body.appendChild(ri);
                    }
                    li.setSVGTextAttributes(oi, e, t);
                    const i = oi.getBBox();
                    return 0 === i.width && 0 === i.height && t.length > 0
                      ? (hi ||
                          ((hi = !0),
                          console.log(
                            "WARNING: Guessing text bounds, is the simulation hidden? See https://github.com/phetsims/chipper/issues/768"
                          )),
                        li.guessSVGBounds(e, t))
                      : new Oe.Z(i.x, i.y, i.x + i.width, i.y + i.height);
                  },
                  guessSVGBounds(e, t) {
                    const i = e.getNumericSize(),
                      s = "bold" === e.weight;
                    return new Oe.Z(
                      0,
                      -0.9 * i,
                      (s ? 0.435 : 0.4) * i * t.length,
                      0.22 * i
                    );
                  },
                  accurateCanvasBounds(e) {
                    const t = li.approximateSVGBounds(e._font, e.renderedText);
                    if (!e.renderedText.length || 0 === t.width) return t;
                    const i = Ge.canvasAccurateBounds(
                      (t) => {
                        if (
                          ((t.font = e._font.toCSS()),
                          (t.direction = "ltr"),
                          t.fillText(e.renderedText, 0, 0),
                          e.hasPaintableStroke())
                        ) {
                          const i = new At(null, t);
                          e.beforeCanvasStroke(i),
                            t.strokeText(e.renderedText, 0, 0),
                            e.afterCanvasStroke(i);
                        }
                      },
                      {
                        precision: 0.5,
                        resolution: 128,
                        initialScale:
                          32 /
                          Math.max(
                            Math.abs(t.minX),
                            Math.abs(t.minY),
                            Math.abs(t.maxX),
                            Math.abs(t.maxY)
                          ),
                      }
                    );
                    return i.isFinite() ? i : t;
                  },
                  getVerticalBounds(e) {
                    const t = e.toCSS();
                    let i = ai[t];
                    return (
                      i || (i = ai[t] = li.approximateSVGBounds(e, "m")), i
                    );
                  },
                  approximateCanvasWidth(e, t) {
                    const i = G.scratchContext;
                    return (
                      (i.font = e.toCSS()),
                      (i.direction = "ltr"),
                      i.measureText(t).width
                    );
                  },
                  approximateHybridBounds(e, t) {
                    const i = li.getVerticalBounds(e),
                      s = li.approximateCanvasWidth(e, t);
                    return new Oe.Z(0, i.minY, s, i.maxY);
                  },
                  approximateDOMBounds(e, t) {
                    const i = document.createElement("div");
                    $(i).css({
                      position: "absolute",
                      left: 0,
                      top: 0,
                      padding: "0 !important",
                      margin: "0 !important",
                      display: "hidden",
                    });
                    const s = document.createElement("span");
                    $(s).css("font", e.toCSS()),
                      s.appendChild(t),
                      s.setAttribute("direction", "ltr");
                    const n = document.createElement("div");
                    $(n).css({
                      "vertical-align": "baseline",
                      display: "inline-block",
                      width: 0,
                      height: "1024px",
                      margin: "0 !important",
                      padding: "0 !important",
                    }),
                      i.appendChild(s),
                      i.appendChild(n),
                      document.body.appendChild(i);
                    const r = s.getBoundingClientRect(),
                      o = i.getBoundingClientRect(),
                      a = new Oe.Z(
                        r.left,
                        r.top - 1024,
                        r.right + 1,
                        r.bottom - 1024
                      ).shiftedXY(-o.left, -o.top);
                    return document.body.removeChild(i), a;
                  },
                  approximateImprovedDOMBounds(e, t) {
                    const i = document.createElement("div");
                    (i.style.display = "inline-block"),
                      (i.style.font = e.toCSS()),
                      (i.style.color = "transparent"),
                      (i.style.padding = "0 !important"),
                      (i.style.margin = "0 !important"),
                      (i.style.position = "absolute"),
                      (i.style.left = "0"),
                      (i.style.top = "0"),
                      i.setAttribute("direction", "ltr"),
                      i.appendChild(t),
                      document.body.appendChild(i);
                    const s = new Oe.Z(
                      i.offsetLeft,
                      i.offsetTop,
                      i.offsetLeft + i.offsetWidth + 1,
                      i.offsetTop + i.offsetHeight + 1
                    );
                    document.body.removeChild(i);
                    const n = li.getVerticalBounds(e);
                    return s.shiftedY(n.minY);
                  },
                  setSVGTextAttributes(e, t, i) {
                    e.setAttribute("direction", "ltr"),
                      e.setAttribute("font-family", t.getFamily()),
                      e.setAttribute("font-size", t.getSize()),
                      e.setAttribute("font-style", t.getStyle()),
                      e.setAttribute("font-weight", t.getWeight()),
                      e.setAttribute("font-stretch", t.getStretch()),
                      (e.lastChild.nodeValue = i);
                  },
                  initializeTextBounds() {
                    (ri = document.getElementById("sceneryTextSizeContainer")),
                      ri ||
                        ((ri = document.createElementNS(Ie, "svg")),
                        ri.setAttribute("width", "2"),
                        ri.setAttribute("height", "2"),
                        ri.setAttribute("id", "sceneryTextSizeContainer"),
                        ri.setAttribute(
                          "style",
                          "visibility: hidden; pointer-events: none; position: absolute; left: -65535px; right: -65535px;"
                        )),
                      (oi = document.getElementById("sceneryTextSizeElement")),
                      oi ||
                        ((oi = document.createElementNS(Ie, "text")),
                        oi.appendChild(document.createTextNode("")),
                        oi.setAttribute("dominant-baseline", "alphabetic"),
                        oi.setAttribute("text-rendering", "geometricPrecision"),
                        oi.setAttributeNS(
                          "http://www.w3.org/XML/1998/namespace",
                          "xml:space",
                          "preserve"
                        ),
                        oi.setAttribute("id", "sceneryTextSizeElement"),
                        ri.appendChild(oi));
                  },
                };
                G.register("TextBounds", li);
                const di = li;
                class ci {
                  constructor(e, t, i) {
                    (this.pdomInstance = e),
                      (this.trail = t),
                      (this.isRoot = i),
                      (this.fullTrail = this.pdomInstance.trail.copy());
                    for (
                      let s = this.isRoot ? 0 : 1;
                      s < this.trail.length;
                      s++
                    )
                      this.fullTrail.addDescendant(this.trail.nodes[s]);
                  }
                }
                G.register("PartialPDOMTrail", ci);
                const ui = ci;
                gt.addRule(
                  ".a11y-pdom-element{position: fixed;pointer-events: none;top: 0px;left: 0px;transform-origin: left top 0px;border-width: 0px;border: 0px;padding: 1px 1px;margin: 0px;white-space: nowrap;outline: none;box-shadow:none;border-color:transparent;font-size: 1px;clip: rect(1px, 1px, 1px, 1px);}"
                ),
                  gt.addRule(
                    ".a11y-pdom-root{position: absolute;z-index: 1;opacity: 0.0001;}"
                  ),
                  gt.addRule(".a11y-pdom-list-item{list-style: none;");
                const pi = {
                  SIBLING_CLASS_NAME: "a11y-pdom-element",
                  ROOT_CLASS_NAME: "a11y-pdom-root",
                  LIST_ITEM_CLASS_NAME: "a11y-pdom-list-item",
                };
                G.register("PDOMSiblingStyle", pi);
                const gi = pi;
                var mi = i(4865),
                  Ai = i(8377);
                const yi = [
                    "A",
                    "AREA",
                    "INPUT",
                    "SELECT",
                    "TEXTAREA",
                    "BUTTON",
                    "IFRAME",
                  ],
                  fi = [
                    "B",
                    "STRONG",
                    "I",
                    "EM",
                    "MARK",
                    "SMALL",
                    "DEL",
                    "INS",
                    "SUB",
                    "SUP",
                    "BR",
                  ],
                  Pi = ["INPUT"];
                function bi(e) {
                  const t = e.getElementsByTagName("*"),
                    i = [];
                  for (let s = 0; s < t.length; s++)
                    t[s].nodeType === Node.ELEMENT_NODE && (i[s] = t[s]);
                  return i;
                }
                function vi(e, t) {
                  const i = bi(t || document.body),
                    s = document.activeElement,
                    n = "NEXT" === e ? 1 : -1;
                  let r = i.indexOf(s) + n;
                  for (; r < i.length && r >= 0; ) {
                    const e = i[r];
                    if (((r += n), wi.isElementFocusable(e))) return e;
                  }
                  return s;
                }
                function Vi(e) {
                  return !_.includes(Pi, e.toUpperCase());
                }
                const wi = {
                  unwrapStringProperty(e) {
                    const t =
                      null === e ? null : "string" == typeof e ? e : e.value;
                    return t;
                  },
                  getNextFocusable: (e) => vi("NEXT", e),
                  getPreviousFocusable: (e) => vi("PREVIOUS", e),
                  getFirstFocusable(e) {
                    const t = bi(e || document.body);
                    let i = document.body,
                      s = 0;
                    for (; s < t.length; ) {
                      const e = t[s];
                      if ((s++, wi.isElementFocusable(e))) {
                        i = e;
                        break;
                      }
                    }
                    return i;
                  },
                  getRandomFocusable(e) {
                    const t = bi(document.body),
                      i = [];
                    for (let s = 0; s < t.length; s++)
                      wi.isElementFocusable(t[s]) && i.push(t[s]);
                    return i[e.nextInt(i.length)];
                  },
                  containsFormattingTags(e) {
                    if (null === e) return !1;
                    let t = 0;
                    const i = [],
                      s = [];
                    for (; t < e.length; ) {
                      const n = e.indexOf("<", t),
                        r = e.indexOf(">", t);
                      n > -1 && (i.push(n), (t = n + 1)),
                        r > -1 ? (s.push(r), (t = r + 1)) : t++;
                    }
                    if (i.length !== s.length || 0 === i.length) return !1;
                    let n = !0;
                    const r = e.toUpperCase();
                    for (let o = 0; o < i.length; o++) {
                      let e = r.substring(i[o] + 1, s[o]);
                      e = e.replace("/", "");
                      const t = e.replace(/^\s+/, "");
                      e.length - t.length > 0 || _.includes(fi, e) || (n = !1);
                    }
                    return n;
                  },
                  setTextContent(e, t) {
                    if (null === t) e.innerHTML = "";
                    else {
                      const i = t.replaceAll("<br>", "<br/>"),
                        s = (0, Ai.Z)(i);
                      (0, Qe.Z)(s, mi.Z.STRING_WITHOUT_TEMPLATE_VARS_VALIDATOR),
                        Vi(e.tagName) &&
                          (wi.containsFormattingTags(s)
                            ? (e.innerHTML = s)
                            : (e.textContent = s));
                    }
                  },
                  tagIsDefaultFocusable: (e) => _.includes(yi, e.toUpperCase()),
                  isElementFocusable: (e) =>
                    !!document.body.contains(e) &&
                    !(function e(t) {
                      return (
                        !!t.hidden ||
                        (t !== document.body && e(t.parentElement))
                      );
                    })(e) &&
                    !_.includes(fi, e.tagName) &&
                    "true" === e.getAttribute("data-focusable"),
                  tagNameSupportsContent: (e) => Vi(e),
                  removeElements(e, t) {
                    for (let i = 0; i < t.length; i++) {
                      const s = t[i];
                      e.removeChild(s);
                    }
                  },
                  insertElements(e, t, i) {
                    for (let s = 0; s < t.length; s++) {
                      const n = t[s];
                      e.insertBefore(n, i || null);
                    }
                  },
                  createElement(e, t, i) {
                    const s = (i = (0, kt.Z)({ namespace: null, id: null }, i))
                      .namespace
                      ? document.createElementNS(i.namespace, e)
                      : document.createElement(e);
                    return (
                      i.id && (s.id = i.id),
                      wi.overrideFocusWithTabIndex(s, t),
                      s.classList.add(gi.SIBLING_CLASS_NAME),
                      s
                    );
                  },
                  overrideFocusWithTabIndex(e, t) {
                    wi.tagIsDefaultFocusable(e.tagName) !== t
                      ? (e.tabIndex = t ? 0 : -1)
                      : e.removeAttribute("tabindex"),
                      e.setAttribute("data-focusable", t);
                  },
                  TAGS: {
                    INPUT: "INPUT",
                    LABEL: "LABEL",
                    BUTTON: "BUTTON",
                    TEXTAREA: "TEXTAREA",
                    SELECT: "SELECT",
                    OPTGROUP: "OPTGROUP",
                    DATALIST: "DATALIST",
                    OUTPUT: "OUTPUT",
                    DIV: "DIV",
                    A: "A",
                    P: "P",
                    B: "B",
                    STRONG: "STRONG",
                    I: "I",
                    EM: "EM",
                    MARK: "MARK",
                    SMALL: "SMALL",
                    DEL: "DEL",
                    INS: "INS",
                    SUB: "SUB",
                    SUP: "SUP",
                  },
                  FORM_ELEMENTS: [
                    "INPUT",
                    "BUTTON",
                    "TEXTAREA",
                    "SELECT",
                    "OPTGROUP",
                    "DATALIST",
                    "OUTPUT",
                    "A",
                  ],
                  DEFAULT_CONTAINER_TAG_NAME: "DIV",
                  DEFAULT_DESCRIPTION_TAG_NAME: "P",
                  DEFAULT_LABEL_TAG_NAME: "P",
                  ASSOCIATION_ATTRIBUTES: [
                    "aria-labelledby",
                    "aria-describedby",
                    "aria-activedescendant",
                  ],
                  INPUT_TYPES_THAT_SUPPORT_CHECKED: ["RADIO", "CHECKBOX"],
                  DOM_EVENTS: [
                    "focusin",
                    "focusout",
                    "input",
                    "change",
                    "click",
                    "keydown",
                    "keyup",
                  ],
                  USER_GESTURE_EVENTS: [
                    "input",
                    "change",
                    "click",
                    "keydown",
                    "keyup",
                  ],
                  BLOCKED_DOM_EVENTS: [
                    "touchstart",
                    "touchend",
                    "touchmove",
                    "touchcancel",
                    "mousedown",
                    "mouseup",
                    "mousemove",
                    "mouseover",
                    "mouseout",
                    "pointerdown",
                    "pointerup",
                    "pointermove",
                    "pointerover",
                    "pointerout",
                    "pointercancel",
                    "gotpointercapture",
                    "lostpointercapture",
                  ],
                  DATA_PDOM_UNIQUE_ID: "data-unique-id",
                  PDOM_UNIQUE_ID_SEPARATOR: "-",
                  DATA_EXCLUDE_FROM_INPUT: "data-exclude-from-input",
                };
                G.register("PDOMUtils", wi);
                const Ei = wi;
                var Si = i(8311);
                const Ti = _.hasIn(
                    window,
                    "phet.chipper.queryParameters.colorProfile"
                  )
                    ? phet.chipper.queryParameters.colorProfile
                    : z.DEFAULT_COLOR_PROFILE,
                  xi = _.hasIn(window, "phet.chipper.colorProfiles")
                    ? phet.chipper.colorProfiles
                    : [z.DEFAULT_COLOR_PROFILE],
                  Ci = new Si.Z(Ti, {
                    tandem: fe.Z.GENERAL_VIEW.createTandem(
                      "colorProfileProperty"
                    ),
                    phetioFeatured: !0,
                    validValues: xi,
                  });
                G.register("colorProfileProperty", Ci);
                const Ii = Ci;
                var Di = i(9059);
                const ki = [];
                class Oi extends ni {
                  constructor(e, t, i, s) {
                    const n = (0, Ae.ZP)()(
                      { tandem: fe.Z.OPTIONAL, useDeepEquality: !0 },
                      s
                    );
                    n.tandem;
                    (i = _.mapValues(i, (e) => se.toColor(e).setImmutable())),
                      super(
                        se.toColor(i[Ii.value] || i[z.DEFAULT_COLOR_PROFILE]),
                        n
                      ),
                      (this.colorProfileMap = i),
                      Ii.link((e) => {
                        this.value = se.toColor(
                          this.colorProfileMap[e] ||
                            this.colorProfileMap[z.DEFAULT_COLOR_PROFILE]
                        );
                      }),
                      (this.name = `${e.name}.${t}`),
                      this.link((e) => {
                        window.parent !== window &&
                          window.parent.postMessage(
                            JSON.stringify({
                              type: "reportColor",
                              name: this.name,
                              value: e.toHexString(),
                              alpha: e.getAlpha(),
                            }),
                            "*"
                          );
                      }),
                      ki.push(this);
                  }
                  dispose() {
                    (0, Di.Z)(ki, this), super.dispose();
                  }
                }
                _defineProperty(Oi, "TANDEM_NAME_SUFFIX", "ColorProperty"),
                  window.addEventListener("message", (e) => {
                    let t;
                    try {
                      t = JSON.parse(e.data);
                    } catch (i) {}
                    if (t && "setColor" === t.type)
                      for (let s = 0; s < ki.length; s++) {
                        const e = ki[s];
                        e.name === t.name &&
                          ((e.colorProfileMap[Ii.value] = new se(
                            t.value
                          ).withAlpha(t.alpha)),
                          (e.value = se.toColor(e.colorProfileMap[Ii.value])));
                      }
                  }),
                  G.register("ProfileColorProperty", Oi);
                let Li = 1;
                class Bi {
                  constructor() {
                    (this.id = "paint" + Li++), (this.transformMatrix = null);
                  }
                  setTransformMatrix(e) {
                    return (
                      this.transformMatrix !== e && (this.transformMatrix = e),
                      this
                    );
                  }
                  toString() {
                    return this.id;
                  }
                }
                (Bi.prototype.isPaint = !0), G.register("Paint", Bi);
                var Mi = i(5853);
                class Ni extends Bi {
                  constructor() {
                    super(),
                      (this.stops = []),
                      (this.lastStopRatio = 0),
                      (this.canvasGradient = null),
                      (this.colorStopsDirty = !1),
                      (this.lastColorStopValues = []);
                  }
                  addColorStop(e, t) {
                    if (this.lastStopRatio > e)
                      throw new Error(
                        "Color stops not specified in the order of increasing ratios"
                      );
                    return (
                      (this.lastStopRatio = e),
                      this.stops.push({ ratio: e, color: t }),
                      this.lastColorStopValues.push(""),
                      this
                    );
                  }
                  getSVGStops() {
                    return this.stops;
                  }
                  invalidateCanvasGradient() {
                    this.colorStopsDirty = !0;
                  }
                  haveCanvasColorStopsChanged() {
                    if (null === this.lastColorStopValues) return !0;
                    for (let e = 0; e < this.stops.length; e++)
                      if (
                        Ni.colorToString(this.stops[e].color) !==
                        this.lastColorStopValues[e]
                      )
                        return !0;
                    return !1;
                  }
                  getCanvasStyle() {
                    if (
                      !this.canvasGradient ||
                      (this.colorStopsDirty &&
                        this.haveCanvasColorStopsChanged())
                    ) {
                      (this.colorStopsDirty = !1),
                        (0, Mi.Z)(this.lastColorStopValues),
                        (this.canvasGradient = this.createCanvasGradient());
                      for (let e = 0; e < this.stops.length; e++) {
                        const t = this.stops[e],
                          i = Ni.colorToString(t.color);
                        this.canvasGradient.addColorStop(t.ratio, i),
                          this.lastColorStopValues.push(i);
                      }
                    }
                    return this.canvasGradient;
                  }
                  static colorToString(e) {
                    return (
                      e instanceof X.Z && (e = e.value),
                      null === e && (e = "transparent"),
                      e instanceof se && (e = e.toCSS()),
                      e
                    );
                  }
                }
                (Ni.prototype.isGradient = !0), G.register("Gradient", Ni);
                class Ri extends Ni {
                  constructor(e, t, i, s) {
                    super(),
                      (this.start = new Me.Z(e, t)),
                      (this.end = new Me.Z(i, s));
                  }
                  createCanvasGradient() {
                    return G.scratchContext.createLinearGradient(
                      this.start.x,
                      this.start.y,
                      this.end.x,
                      this.end.y
                    );
                  }
                  createSVGPaint(e) {
                    return ur.pool.create(e, this);
                  }
                  toString() {
                    let e = `new scenery.LinearGradient( ${this.start.x}, ${this.start.y}, ${this.end.x}, ${this.end.y} )`;
                    return (
                      _.each(this.stops, (t) => {
                        e += `.addColorStop( ${t.ratio}, ${Xi.scenerySerialize(
                          t.color
                        )} )`;
                      }),
                      e
                    );
                  }
                }
                (Ri.prototype.isLinearGradient = !0),
                  G.register("LinearGradient", Ri);
                class qi extends Ni {
                  constructor(e, t, i, s, n, r) {
                    if (
                      (super(),
                      (this.start = new Me.Z(e, t)),
                      (this.end = new Me.Z(s, n)),
                      Ne.Z.safari)
                    ) {
                      const i = (e + s) / 2,
                        r = (t + n) / 2;
                      (this.start.x = i),
                        (this.start.y = r),
                        (this.end.x = i),
                        (this.end.y = r);
                    }
                    (this.startRadius = i),
                      (this.endRadius = r),
                      (this.focalPoint = this.start.plus(
                        this.end
                          .minus(this.start)
                          .times(
                            this.startRadius /
                              (this.startRadius - this.endRadius)
                          )
                      )),
                      (this.startIsLarger = this.startRadius > this.endRadius),
                      (this.largePoint = this.startIsLarger
                        ? this.start
                        : this.end),
                      (this.maxRadius = Math.max(
                        this.startRadius,
                        this.endRadius
                      )),
                      (this.minRadius = Math.min(
                        this.startRadius,
                        this.endRadius
                      )),
                      this.startRadius,
                      this.endRadius;
                  }
                  createCanvasGradient() {
                    return G.scratchContext.createRadialGradient(
                      this.start.x,
                      this.start.y,
                      this.startRadius,
                      this.end.x,
                      this.end.y,
                      this.endRadius
                    );
                  }
                  createSVGPaint(e) {
                    return pr.pool.create(e, this);
                  }
                  getSVGStops() {
                    const e = this.startIsLarger,
                      t = this.maxRadius,
                      i = this.minRadius;
                    const s = this.stops.map(function (s) {
                      let n = e ? 1 - s.ratio : s.ratio;
                      var r, o;
                      return (
                        i > 0 &&
                          (n =
                            (o = i / t) + ((n - (r = 0)) * (1 - o)) / (1 - r)),
                        { ratio: n, color: s.color }
                      );
                    });
                    return e && s.reverse(), s;
                  }
                  toString() {
                    let e = `new scenery.RadialGradient( ${this.start.x}, ${this.start.y}, ${this.startRadius}, ${this.end.x}, ${this.end.y}, ${this.endRadius} )`;
                    return (
                      _.each(this.stops, (t) => {
                        e += `.addColorStop( ${t.ratio}, ${Xi.scenerySerialize(
                          t.color
                        )} )`;
                      }),
                      e
                    );
                  }
                }
                (qi.prototype.isRadialGradient = !0),
                  G.register("RadialGradient", qi);
                class Fi extends Bi {
                  constructor(e) {
                    super(),
                      (this.image = e),
                      (this.canvasPattern = G.scratchContext.createPattern(
                        e,
                        "repeat"
                      ));
                  }
                  getCanvasStyle() {
                    return this.canvasPattern;
                  }
                  createSVGPaint(e) {
                    return gr.pool.create(this);
                  }
                  toString() {
                    return `new scenery.Pattern( $( '<img src="${this.image.src}"/>' )[0] )`;
                  }
                }
                (Fi.prototype.isPattern = !0), G.register("Pattern", Fi);
                class Zi extends Fi {
                  constructor(e, t, i, s, n, r) {
                    let o =
                      arguments.length > 6 && void 0 !== arguments[6]
                        ? arguments[6]
                        : Le.Z.IDENTITY;
                    const a = document.createElement("img");
                    new Ds({ scale: t, children: [e] }).toCanvas(
                      function (e, t, i, s, n) {
                        a.src = e.toDataURL();
                      },
                      -i * t,
                      -s * t,
                      n * t,
                      r * t
                    ),
                      super(a),
                      this.setTransformMatrix(
                        o.timesMatrix(Le.Z.scaling(1 / t))
                      );
                  }
                }
                G.register("NodePattern", Zi);
                let Hi = 1;
                class Yi {
                  constructor() {
                    (this.id = "filter" + Hi++),
                      (this.filterRegionPercentageIncrease = 0);
                  }
                  isDOMCompatible() {
                    return !1;
                  }
                  isSVGCompatible() {
                    return !1;
                  }
                  isCanvasCompatible() {
                    return !!me.canvasFilter && this.isDOMCompatible();
                  }
                  isWebGLCompatible() {
                    return !1;
                  }
                  toString() {
                    return this.id;
                  }
                  static applyColorMatrix(e, t, i, s) {
                    const n = document.createElementNS(Ie, "feColorMatrix");
                    n.setAttribute("type", "matrix"),
                      n.setAttribute("values", e),
                      n.setAttribute("in", i),
                      n.setAttribute("color-interpolation-filters", "sRGB"),
                      s && n.setAttribute("result", s),
                      t.appendChild(n);
                  }
                }
                G.register("Filter", Yi);
                var Gi = i(1039),
                  Wi = i(9883);
                const zi = {
                  isColorDef: (e) =>
                    null === e ||
                    "string" == typeof e ||
                    e instanceof se ||
                    (e instanceof X.Z &&
                      (null === e.value ||
                        "string" == typeof e.value ||
                        e.value instanceof se)),
                  scenerySerialize: (e) =>
                    null === e
                      ? "null"
                      : e instanceof se
                      ? `'${e.toCSS()}'`
                      : "string" == typeof e
                      ? `'${e}'`
                      : zi.scenerySerialize(e.value),
                  ColorDefIO: null,
                };
                (zi.ColorDefIO = new j.Z("ColorDefIO", {
                  isValidValue: zi.isColorDef,
                  supertype: (0, at.Z)(
                    (0, Gi.Z)([
                      Pe.Z,
                      se.ColorIO,
                      (0, Wi.Z)(
                        (0, X.f)((0, at.Z)((0, Gi.Z)([Pe.Z, se.ColorIO])))
                      ),
                    ])
                  ),
                })),
                  G.register("ColorDef", zi);
                const Xi = zi,
                  Qi = {
                    isPaintDef: (e) =>
                      null === e ||
                      "string" == typeof e ||
                      e instanceof se ||
                      e instanceof Bi ||
                      (e instanceof X.Z &&
                        (null === e.value ||
                          "string" == typeof e.value ||
                          e.value instanceof se)),
                    toColor(e) {
                      if ("string" == typeof e) return new se(e);
                      if (e instanceof se) return e.copy();
                      if (e instanceof X.Z) return Qi.toColor(e.value);
                      if (e instanceof Ni) {
                        let t = se.TRANSPARENT;
                        const i = 0;
                        return (
                          e.stops.forEach((e) => {
                            t = t.blend(Qi.toColor(e.color), 1 / (i + 1));
                          }),
                          t
                        );
                      }
                      return se.TRANSPARENT;
                    },
                  };
                G.register("PaintDef", Qi);
                const Ui = Qi;
                var ji = i(5870);
                const Ki = Ge.supportsImageDataCanvasFilter(),
                  Ji = Ne.Z.chromium;
                class _i extends Yi {
                  constructor(
                    e,
                    t,
                    i,
                    s,
                    n,
                    r,
                    o,
                    a,
                    h,
                    l,
                    d,
                    c,
                    u,
                    p,
                    g,
                    m,
                    A,
                    y,
                    f,
                    P
                  ) {
                    super(),
                      (this.m00 = e),
                      (this.m01 = t),
                      (this.m02 = i),
                      (this.m03 = s),
                      (this.m04 = n),
                      (this.m10 = r),
                      (this.m11 = o),
                      (this.m12 = a),
                      (this.m13 = h),
                      (this.m14 = l),
                      (this.m20 = d),
                      (this.m21 = c),
                      (this.m22 = u),
                      (this.m23 = p),
                      (this.m24 = g),
                      (this.m30 = m),
                      (this.m31 = A),
                      (this.m32 = y),
                      (this.m33 = f),
                      (this.m34 = P);
                  }
                  applySVGFilter(e, t, i) {
                    Yi.applyColorMatrix(
                      `${(0, ji.Z)(this.m00)} ${(0, ji.Z)(this.m01)} ${(0,
                      ji.Z)(this.m02)} ${(0, ji.Z)(this.m03)} ${(0, ji.Z)(
                        this.m04
                      )} ${(0, ji.Z)(this.m10)} ${(0, ji.Z)(this.m11)} ${(0,
                      ji.Z)(this.m12)} ${(0, ji.Z)(this.m13)} ${(0, ji.Z)(
                        this.m14
                      )} ${(0, ji.Z)(this.m20)} ${(0, ji.Z)(this.m21)} ${(0,
                      ji.Z)(this.m22)} ${(0, ji.Z)(this.m23)} ${(0, ji.Z)(
                        this.m24
                      )} ${(0, ji.Z)(this.m30)} ${(0, ji.Z)(this.m31)} ${(0,
                      ji.Z)(this.m32)} ${(0, ji.Z)(this.m33)} ${(0, ji.Z)(
                        this.m34
                      )}`,
                      e,
                      t,
                      i
                    );
                  }
                  applyCanvasFilter(e) {
                    const t = e.canvas.width,
                      i = e.canvas.height,
                      s = e.context.getImageData(0, 0, t, i),
                      n = t * i;
                    for (let r = 0; r < n; r++) {
                      const e = 4 * r;
                      if (Ji) {
                        const t = 1.45,
                          i = Math.pow(s.data[e + 0] / 255, t),
                          n = Math.pow(s.data[e + 1] / 255, t),
                          r = Math.pow(s.data[e + 2] / 255, t),
                          o = Math.pow(s.data[e + 3] / 255, t);
                        (s.data[e + 0] =
                          255 *
                          Math.pow(
                            i * this.m00 +
                              n * this.m01 +
                              r * this.m02 +
                              o * this.m03 +
                              this.m04,
                            1 / t
                          )),
                          (s.data[e + 1] =
                            255 *
                            Math.pow(
                              i * this.m10 +
                                n * this.m11 +
                                r * this.m12 +
                                o * this.m13 +
                                this.m14,
                              1 / t
                            )),
                          (s.data[e + 2] =
                            255 *
                            Math.pow(
                              i * this.m20 +
                                n * this.m21 +
                                r * this.m22 +
                                o * this.m23 +
                                this.m24,
                              1 / t
                            )),
                          (s.data[e + 3] =
                            255 *
                            Math.pow(
                              i * this.m30 +
                                n * this.m31 +
                                r * this.m32 +
                                o * this.m33 +
                                this.m34,
                              1 / t
                            ));
                      } else {
                        const t = s.data[e + 0],
                          i = s.data[e + 1],
                          n = s.data[e + 2],
                          r = s.data[e + 3];
                        (s.data[e + 0] =
                          t * this.m00 +
                          i * this.m01 +
                          n * this.m02 +
                          r * this.m03 +
                          this.m04),
                          (s.data[e + 1] =
                            t * this.m10 +
                            i * this.m11 +
                            n * this.m12 +
                            r * this.m13 +
                            this.m14),
                          (s.data[e + 2] =
                            t * this.m20 +
                            i * this.m21 +
                            n * this.m22 +
                            r * this.m23 +
                            this.m24),
                          (s.data[e + 3] =
                            t * this.m30 +
                            i * this.m31 +
                            n * this.m32 +
                            r * this.m33 +
                            this.m34);
                      }
                    }
                    e.context.putImageData(s, 0, 0);
                  }
                  isSVGCompatible() {
                    return !0;
                  }
                  isCanvasCompatible() {
                    return super.isCanvasCompatible() || Ki;
                  }
                  getCSSFilterString() {
                    throw new Error("unimplemented");
                  }
                }
                G.register("ColorMatrixFilter", _i);
                class $i extends _i {
                  constructor(e) {
                    super(
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ),
                      (this.amount = e);
                  }
                  getCSSFilterString() {
                    return `brightness(${(0, ji.Z)(this.amount)})`;
                  }
                  isDOMCompatible() {
                    return !0;
                  }
                }
                _defineProperty($i, "BLACKEN", new $i(0)),
                  G.register("Brightness", $i);
                class es extends _i {
                  constructor(e) {
                    super(
                      e,
                      0,
                      0,
                      0,
                      -0.5 * e + 0.5,
                      0,
                      e,
                      0,
                      0,
                      -0.5 * e + 0.5,
                      0,
                      0,
                      e,
                      0,
                      -0.5 * e + 0.5,
                      0,
                      0,
                      0,
                      1,
                      0
                    ),
                      (this.amount = e);
                  }
                  getCSSFilterString() {
                    return `contrast(${(0, ji.Z)(this.amount)})`;
                  }
                  isDOMCompatible() {
                    return !0;
                  }
                }
                _defineProperty(es, "GRAY", new es(0)),
                  G.register("Contrast", es);
                G.register(
                  "DropShadow",
                  class extends Yi {
                    constructor(e, t, i) {
                      let s =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : 15;
                      super(),
                        (this.offset = e),
                        (this.blurRadius = t),
                        (this.color = i),
                        (this.colorCSS = Ui.toColor(i).toCSS()),
                        (this.filterRegionPercentageIncrease = s);
                    }
                    getCSSFilterString() {
                      return `drop-shadow(${(0, ji.Z)(this.offset.x)}px ${(0,
                      ji.Z)(this.offset.y)}px ${(0, ji.Z)(this.blurRadius)}px ${
                        this.colorCSS
                      })`;
                    }
                    isDOMCompatible() {
                      return !0;
                    }
                    applyCanvasFilter() {
                      throw new Error("unimplemented");
                    }
                    applySVGFilter(e, t, i) {
                      throw new Error("unimplemented");
                    }
                  }
                );
                G.register(
                  "GaussianBlur",
                  class extends Yi {
                    constructor(e) {
                      let t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : 15;
                      super(),
                        (this.standardDeviation = e),
                        (this.filterRegionPercentageIncrease = t);
                    }
                    getCSSFilterString() {
                      return `blur(${(0, ji.Z)(this.standardDeviation)}px)`;
                    }
                    applySVGFilter(e, t, i) {
                      const s = document.createElementNS(Ie, "feGaussianBlur");
                      s.setAttribute(
                        "stdDeviation",
                        (0, ji.Z)(this.standardDeviation)
                      ),
                        s.setAttribute("edgeMode", "none"),
                        e.appendChild(s),
                        s.setAttribute("in", t),
                        i && s.setAttribute("result", i),
                        e.appendChild(s);
                    }
                    isDOMCompatible() {
                      return !0;
                    }
                    isSVGCompatible() {
                      return !0;
                    }
                    applyCanvasFilter(e) {
                      throw new Error("unimplemented");
                    }
                  }
                );
                class ts extends _i {
                  constructor() {
                    let e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1;
                    const t = 1 - e;
                    super(
                      0.2126 + 0.7874 * t,
                      0.7152 - 0.7152 * t,
                      0.0722 - 0.0722 * t,
                      0,
                      0,
                      0.2126 - 0.2126 * t,
                      0.7152 + 0.2848 * t,
                      0.0722 - 0.0722 * t,
                      0,
                      0,
                      0.2126 - 0.2126 * t,
                      0.7152 - 0.7152 * t,
                      0.0722 + 0.9278 * t,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ),
                      (this.amount = e);
                  }
                  getCSSFilterString() {
                    return `grayscale(${(0, ji.Z)(this.amount)})`;
                  }
                  isDOMCompatible() {
                    return !0;
                  }
                }
                _defineProperty(ts, "FULL", new ts(1)),
                  G.register("Grayscale", ts);
                G.register(
                  "HueRotate",
                  class extends _i {
                    constructor(e) {
                      const t = Math.cos(e),
                        i = Math.sin(e);
                      super(
                        0.213 + 0.787 * t - 0.213 * i,
                        0.715 - 0.715 * t - 0.715 * i,
                        0.072 - 0.072 * t + 0.928 * i,
                        0,
                        0,
                        0.213 - 0.213 * t + 0.143 * i,
                        0.715 + 0.285 * t + 0.14 * i,
                        0.072 - 0.072 * t - 0.283 * i,
                        0,
                        0,
                        0.213 - 0.213 * t - 0.787 * i,
                        0.715 - 0.715 * t + 0.715 * i,
                        0.072 + 0.928 * t + 0.072 * i,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ),
                        (this.amount = e);
                    }
                    getCSSFilterString() {
                      return `hue-rotate(${(0, ji.Z)(
                        U.Z.toDegrees(this.amount)
                      )}deg)`;
                    }
                    isDOMCompatible() {
                      return !0;
                    }
                  }
                );
                class is extends Yi {
                  constructor() {
                    let e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1;
                    super(), (this.amount = e);
                  }
                  getCSSFilterString() {
                    return `invert(${(0, ji.Z)(this.amount)})`;
                  }
                  isDOMCompatible() {
                    return !0;
                  }
                  applyCanvasFilter(e) {
                    throw new Error("unimplemented");
                  }
                  applySVGFilter(e, t, i) {
                    throw new Error("unimplemented");
                  }
                }
                _defineProperty(is, "FULL", new is(1)),
                  G.register("Invert", is);
                G.register(
                  "Opacity",
                  class extends Yi {
                    constructor(e) {
                      super(), (this.amount = e);
                    }
                    getCSSFilterString() {
                      return `opacity(${(0, ji.Z)(this.amount)})`;
                    }
                    isDOMCompatible() {
                      return !0;
                    }
                    applyCanvasFilter(e) {
                      throw new Error("unimplemented");
                    }
                    applySVGFilter(e, t, i) {
                      throw new Error("unimplemented");
                    }
                  }
                );
                G.register(
                  "Saturate",
                  class extends _i {
                    constructor(e) {
                      super(
                        0.213 + 0.787 * e,
                        0.715 - 0.715 * e,
                        0.072 - 0.072 * e,
                        0,
                        0,
                        0.213 - 0.213 * e,
                        0.715 - 0.285 * e,
                        0.072 - 0.072 * e,
                        0,
                        0,
                        0.213 - 0.213 * e,
                        0.715 - 0.715 * e,
                        0.072 - 0.928 * e,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ),
                        (this.amount = e);
                    }
                    getCSSFilterString() {
                      return `saturate(${(0, ji.Z)(this.amount)})`;
                    }
                    isDOMCompatible() {
                      return !0;
                    }
                  }
                );
                class ss extends _i {
                  constructor() {
                    let e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : 1;
                    super(
                      0.393 + 0.607 * (1 - e),
                      0.769 - 0.769 * (1 - e),
                      0.189 - 0.189 * (1 - e),
                      0,
                      0,
                      0.349 - 0.349 * (1 - e),
                      0.686 + 0.314 * (1 - e),
                      0.168 - 0.168 * (1 - e),
                      0,
                      0,
                      0.272 - 0.272 * (1 - e),
                      0.534 - 0.534 * (1 - e),
                      0.131 + 0.869 * (1 - e),
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ),
                      (this.amount = e);
                  }
                  getCSSFilterString() {
                    return `sepia(${(0, ji.Z)(this.amount)})`;
                  }
                  isDOMCompatible() {
                    return !0;
                  }
                }
                function ns(e, t, i, s, n) {
                  (i = i || []),
                    (s = s || []),
                    (n = n || []),
                    Array.prototype.push.apply(i, e),
                    Array.prototype.push.apply(s, t);
                  e: for (let r = 0; r < i.length; r++) {
                    const e = i[r];
                    for (let t = 0; t < s.length; t++) {
                      if (e === s[t]) {
                        if (
                          (n.push(e),
                          i.splice(r, 1),
                          s.splice(t, 1),
                          (t = 0),
                          r === i.length)
                        )
                          break e;
                        r -= 1;
                      }
                    }
                  }
                  return i;
                }
                _defineProperty(ss, "FULL", new ss(1)),
                  G.register("Sepia", ss),
                  ne.Z.register("arrayDifference", ns);
                const rs = ns;
                var os = i(8292),
                  as = i(7922),
                  hs = i(7857);
                class ls extends os.Z {
                  constructor(e, t, i) {
                    super(e, i), t && (this.targetPropertyInstrumented = t);
                  }
                  setValueOrTargetProperty(e, t, i) {
                    if ((0, hs.i)(i)) this.setTargetProperty(e, t, i);
                    else {
                      const e = this.get();
                      this.clearTargetProperty(),
                        this.setPropertyValue(i),
                        this.areValuesEqual(e, i) || this.notifyListeners(e);
                    }
                  }
                  setTargetProperty(e, t, i) {
                    if (this.targetProperty === i) return e;
                    this.targetProperty &&
                      this.targetProperty instanceof X.Z &&
                      this.targetProperty.isPhetioInstrumented();
                    const s = this.targetProperty;
                    this.ownedPhetioProperty &&
                      i !== this.ownedPhetioProperty &&
                      this.disposeOwnedPhetioProperty(),
                      e &&
                        null !== t &&
                        e.updateLinkedElementForProperty(t, s, i);
                    const n = this.get();
                    return (
                      this.clearTargetProperty(),
                      (this.targetProperty = i),
                      this.targetProperty
                        ? (this.targetProperty.lazyLink(
                            this.forwardingListener
                          ),
                          this.setPropertyValue(this.targetProperty.value))
                        : this.setPropertyValue(n),
                      this.areValuesEqual(n, this.get()) ||
                        this.notifyListeners(n),
                      e
                    );
                  }
                  clearTargetProperty() {
                    (this.forwardingListener =
                      this.forwardingListener ||
                      this.onTargetPropertyChange.bind(this)),
                      this.targetProperty &&
                        this.targetProperty.unlink(this.forwardingListener),
                      (this.targetProperty = null);
                  }
                  onTargetPropertyChange(e) {
                    super.set(e);
                  }
                  set(e) {
                    return (
                      this.targetProperty
                        ? this.targetProperty.set(e)
                        : super.set(e),
                      this
                    );
                  }
                  setTargetPropertyInstrumented(e, t) {
                    return (this.targetPropertyInstrumented = e), t;
                  }
                  getTargetPropertyInstrumented() {
                    return this.targetPropertyInstrumented || !1;
                  }
                  initializePhetio(e, t, i) {
                    !this.targetProperty && this.targetPropertyInstrumented
                      ? ((this.ownedPhetioProperty = i()),
                        this.setTargetProperty(e, t, this.ownedPhetioProperty))
                      : this.targetProperty &&
                        this.targetProperty instanceof X.Z &&
                        this.targetProperty.isPhetioInstrumented() &&
                        e.updateLinkedElementForProperty(
                          t,
                          null,
                          this.targetProperty
                        );
                  }
                  disposeOwnedPhetioProperty() {
                    this.ownedPhetioProperty &&
                      (this.ownedPhetioProperty.dispose(),
                      delete this.ownedPhetioProperty);
                  }
                  dispose() {
                    this.clearTargetProperty(),
                      this.disposeOwnedPhetioProperty(),
                      super.dispose();
                  }
                }
                as.Z.register("TinyForwardingProperty", ls);
                Ei.TAGS.INPUT;
                const ds = Ei.TAGS.P,
                  cs = ds,
                  us = ds,
                  ps = (e, t, i) => (
                    (t.labelTagName = "h" + e.headingLevel),
                    (t.labelContent = i),
                    t
                  ),
                  gs = (e) => {
                    const t =
                      null === e ? null : "string" == typeof e ? e : e.value;
                    return t;
                  },
                  ms =
                    (Ei.FORM_ELEMENTS,
                    Ei.INPUT_TYPES_THAT_SUPPORT_CHECKED,
                    Ei.ASSOCIATION_ATTRIBUTES,
                    [
                      "focusable",
                      "tagName",
                      "accessibleName",
                      "accessibleNameBehavior",
                      "helpText",
                      "helpTextBehavior",
                      "pdomHeading",
                      "pdomHeadingBehavior",
                      "containerTagName",
                      "containerAriaRole",
                      "innerContent",
                      "inputType",
                      "inputValue",
                      "pdomChecked",
                      "pdomNamespace",
                      "ariaLabel",
                      "ariaRole",
                      "ariaValueText",
                      "labelTagName",
                      "labelContent",
                      "appendLabel",
                      "descriptionTagName",
                      "descriptionContent",
                      "appendDescription",
                      "focusHighlight",
                      "focusHighlightLayerable",
                      "groupFocusHighlight",
                      "pdomVisible",
                      "pdomOrder",
                      "ariaLabelledbyAssociations",
                      "ariaDescribedbyAssociations",
                      "activeDescendantAssociations",
                      "positionInPDOM",
                      "pdomTransformSourceNode",
                    ]);
                class As extends ye.Z {
                  constructor(e) {
                    super(e),
                      (this._tagName = null),
                      (this._containerTagName = null),
                      (this._labelTagName = null),
                      (this._descriptionTagName = null),
                      (this._inputType = null),
                      (this._inputValue = null),
                      (this._pdomChecked = !1),
                      (this._appendLabel = !1),
                      (this._appendDescription = !1),
                      (this._pdomAttributes = []),
                      (this._pdomClasses = []),
                      (this._labelContent = null),
                      (this._innerContentProperty = new ls(null, !1)),
                      this._innerContentProperty.lazyLink(
                        this.onInnerContentPropertyChange.bind(this)
                      ),
                      (this._descriptionContent = null),
                      (this._pdomNamespace = null),
                      (this._ariaLabel = null),
                      (this._ariaRole = null),
                      (this._containerAriaRole = null),
                      (this._ariaValueText = null),
                      (this._ariaLabelledbyAssociations = []),
                      (this._nodesThatAreAriaLabelledbyThisNode = []),
                      (this._ariaDescribedbyAssociations = []),
                      (this._nodesThatAreAriaDescribedbyThisNode = []),
                      (this._activeDescendantAssociations = []),
                      (this._nodesThatAreActiveDescendantToThisNode = []),
                      (this._focusableOverride = null),
                      (this._focusHighlight = null),
                      (this._focusHighlightLayerable = !1),
                      (this._groupFocusHighlight = !1),
                      (this._pdomVisible = !0),
                      (this._pdomOrder = null),
                      (this._pdomParent = null),
                      (this._pdomTransformSourceNode = null),
                      (this._pdomDisplaysInfo = new qs(this)),
                      (this._pdomInstances = []),
                      (this._positionInPDOM = !1),
                      (this.excludeLabelSiblingFromInput = !1),
                      (this._accessibleName = null),
                      (this._accessibleNameBehavior =
                        As.BASIC_ACCESSIBLE_NAME_BEHAVIOR),
                      (this._helpText = null),
                      (this._helpTextBehavior = As.HELP_TEXT_AFTER_CONTENT),
                      (this._pdomHeading = null),
                      (this._headingLevel = null),
                      (this._pdomHeadingBehavior = ps),
                      (this.focusHighlightChangedEmitter = new Q.Z()),
                      (this.pdomDisplaysEmitter = new Q.Z()),
                      (this.pdomBoundInputEnabledListener =
                        this.pdomInputEnabledListener.bind(this));
                  }
                  disposeParallelDOM() {
                    this.inputEnabledProperty.unlink(
                      this.pdomBoundInputEnabledListener
                    ),
                      (this.pdomOrder = null),
                      this.setPDOMTransformSourceNode(null),
                      this.setAriaLabelledbyAssociations([]),
                      this.setAriaDescribedbyAssociations([]),
                      this.setActiveDescendantAssociations([]),
                      this._innerContentProperty.dispose();
                  }
                  pdomInputEnabledListener(e) {
                    this.setPDOMAttribute("aria-disabled", !e),
                      this.setPDOMAttribute("onclick", e ? "" : "return false");
                  }
                  isFocused() {
                    for (let e = 0; e < this._pdomInstances.length; e++) {
                      if (this._pdomInstances[e].peer.isFocused()) return !0;
                    }
                    return !1;
                  }
                  get focused() {
                    return this.isFocused();
                  }
                  focus() {
                    if (this._pdomInstances.length > 0) {
                      const e = this._pdomInstances[0].peer;
                      e.focus();
                    }
                  }
                  blur() {
                    if (this._pdomInstances.length > 0) {
                      const e = this._pdomInstances[0].peer;
                      e.blur();
                    }
                  }
                  pdomAudit() {
                    this.hasPDOMContent;
                    for (let e = 0; e < this.children.length; e++)
                      this.children[e].pdomAudit();
                  }
                  setAccessibleName(e) {
                    const t = gs(e);
                    this._accessibleName !== t &&
                      ((this._accessibleName = t), this.onPDOMContentChange());
                  }
                  set accessibleName(e) {
                    this.setAccessibleName(e);
                  }
                  get accessibleName() {
                    return this.getAccessibleName();
                  }
                  getAccessibleName() {
                    return this._accessibleName;
                  }
                  removeFromPDOM() {
                    this.tagName = null;
                  }
                  setAccessibleNameBehavior(e) {
                    this._accessibleNameBehavior !== e &&
                      ((this._accessibleNameBehavior = e),
                      this.onPDOMContentChange());
                  }
                  set accessibleNameBehavior(e) {
                    this.setAccessibleNameBehavior(e);
                  }
                  get accessibleNameBehavior() {
                    return this.getAccessibleNameBehavior();
                  }
                  getAccessibleNameBehavior() {
                    return this._accessibleNameBehavior;
                  }
                  setPDOMHeading(e) {
                    const t = gs(e);
                    this._pdomHeading !== t &&
                      ((this._pdomHeading = t), this.onPDOMContentChange());
                  }
                  set pdomHeading(e) {
                    this.setPDOMHeading(e);
                  }
                  get pdomHeading() {
                    return this.getPDOMHeading();
                  }
                  getPDOMHeading() {
                    return this._pdomHeading;
                  }
                  setPDOMHeadingBehavior(e) {
                    this._pdomHeadingBehavior !== e &&
                      ((this._pdomHeadingBehavior = e),
                      this.onPDOMContentChange());
                  }
                  set pdomHeadingBehavior(e) {
                    this.setPDOMHeadingBehavior(e);
                  }
                  get pdomHeadingBehavior() {
                    return this.getPDOMHeadingBehavior();
                  }
                  getPDOMHeadingBehavior() {
                    return this._pdomHeadingBehavior;
                  }
                  getHeadingLevel() {
                    return this._headingLevel;
                  }
                  get headingLevel() {
                    return this.getHeadingLevel();
                  }
                  computeHeadingLevel() {
                    if (!this._pdomParent)
                      return this._pdomHeading
                        ? ((this._headingLevel = 1), 1)
                        : 0;
                    if (this._pdomHeading) {
                      const e = this._pdomParent.computeHeadingLevel() + 1;
                      return (this._headingLevel = e), e;
                    }
                    return this._pdomParent.computeHeadingLevel();
                  }
                  setHelpText(e) {
                    const t = gs(e);
                    this._helpText !== t &&
                      ((this._helpText = t), this.onPDOMContentChange());
                  }
                  set helpText(e) {
                    this.setHelpText(e);
                  }
                  get helpText() {
                    return this.getHelpText();
                  }
                  getHelpText() {
                    return this._helpText;
                  }
                  setHelpTextBehavior(e) {
                    this._helpTextBehavior !== e &&
                      ((this._helpTextBehavior = e),
                      this.onPDOMContentChange());
                  }
                  set helpTextBehavior(e) {
                    this.setHelpTextBehavior(e);
                  }
                  get helpTextBehavior() {
                    return this.getHelpTextBehavior();
                  }
                  getHelpTextBehavior() {
                    return this._helpTextBehavior;
                  }
                  setTagName(e) {
                    e !== this._tagName &&
                      ((this._tagName = e), this.onPDOMContentChange());
                  }
                  set tagName(e) {
                    this.setTagName(e);
                  }
                  get tagName() {
                    return this.getTagName();
                  }
                  getTagName() {
                    return this._tagName;
                  }
                  setLabelTagName(e) {
                    e !== this._labelTagName &&
                      ((this._labelTagName = e), this.onPDOMContentChange());
                  }
                  set labelTagName(e) {
                    this.setLabelTagName(e);
                  }
                  get labelTagName() {
                    return this.getLabelTagName();
                  }
                  getLabelTagName() {
                    return this._labelTagName;
                  }
                  setDescriptionTagName(e) {
                    e !== this._descriptionTagName &&
                      ((this._descriptionTagName = e),
                      this.onPDOMContentChange());
                  }
                  set descriptionTagName(e) {
                    this.setDescriptionTagName(e);
                  }
                  get descriptionTagName() {
                    return this.getDescriptionTagName();
                  }
                  getDescriptionTagName() {
                    return this._descriptionTagName;
                  }
                  setInputType(e) {
                    if (e !== this._inputType) {
                      this._inputType = e;
                      for (let t = 0; t < this._pdomInstances.length; t++) {
                        const i = this._pdomInstances[t].peer;
                        null === e
                          ? i.removeAttributeFromElement("type")
                          : i.setAttributeToElement("type", e);
                      }
                    }
                  }
                  set inputType(e) {
                    this.setInputType(e);
                  }
                  get inputType() {
                    return this.getInputType();
                  }
                  getInputType() {
                    return this._inputType;
                  }
                  setAppendLabel(e) {
                    this._appendLabel !== e &&
                      ((this._appendLabel = e), this.onPDOMContentChange());
                  }
                  set appendLabel(e) {
                    this.setAppendLabel(e);
                  }
                  get appendLabel() {
                    return this.getAppendLabel();
                  }
                  getAppendLabel() {
                    return this._appendLabel;
                  }
                  setAppendDescription(e) {
                    this._appendDescription !== e &&
                      ((this._appendDescription = e),
                      this.onPDOMContentChange());
                  }
                  set appendDescription(e) {
                    this.setAppendDescription(e);
                  }
                  get appendDescription() {
                    return this.getAppendDescription();
                  }
                  getAppendDescription() {
                    return this._appendDescription;
                  }
                  setContainerTagName(e) {
                    this._containerTagName !== e &&
                      ((this._containerTagName = e),
                      this.onPDOMContentChange());
                  }
                  set containerTagName(e) {
                    this.setContainerTagName(e);
                  }
                  get containerTagName() {
                    return this.getContainerTagName();
                  }
                  getContainerTagName() {
                    return this._containerTagName;
                  }
                  setLabelContent(e) {
                    const t = gs(e);
                    if (this._labelContent !== t) {
                      (this._labelContent = t),
                        this._labelTagName || this.setLabelTagName(us);
                      for (let e = 0; e < this._pdomInstances.length; e++) {
                        this._pdomInstances[e].peer.setLabelSiblingContent(
                          this._labelContent
                        );
                      }
                    }
                  }
                  set labelContent(e) {
                    this.setLabelContent(e);
                  }
                  get labelContent() {
                    return this.getLabelContent();
                  }
                  getLabelContent() {
                    return this._labelContent;
                  }
                  setInnerContent(e) {
                    this._innerContentProperty.setValueOrTargetProperty(
                      this,
                      null,
                      e
                    );
                  }
                  set innerContent(e) {
                    this.setInnerContent(e);
                  }
                  get innerContent() {
                    return this.getInnerContent();
                  }
                  getInnerContent() {
                    return this._innerContentProperty.value;
                  }
                  onInnerContentPropertyChange(e) {
                    for (let t = 0; t < this._pdomInstances.length; t++) {
                      this._pdomInstances[t].peer.setPrimarySiblingContent(e);
                    }
                  }
                  setDescriptionContent(e) {
                    const t = gs(e);
                    if (this._descriptionContent !== t) {
                      (this._descriptionContent = t),
                        this._descriptionTagName ||
                          this.setDescriptionTagName(cs);
                      for (let e = 0; e < this._pdomInstances.length; e++) {
                        this._pdomInstances[
                          e
                        ].peer.setDescriptionSiblingContent(
                          this._descriptionContent
                        );
                      }
                    }
                  }
                  set descriptionContent(e) {
                    this.setDescriptionContent(e);
                  }
                  get descriptionContent() {
                    return this.getDescriptionContent();
                  }
                  getDescriptionContent() {
                    return this._descriptionContent;
                  }
                  setAriaRole(e) {
                    this._ariaRole !== e &&
                      ((this._ariaRole = e),
                      null !== e
                        ? this.setPDOMAttribute("role", e)
                        : this.removePDOMAttribute("role"));
                  }
                  set ariaRole(e) {
                    this.setAriaRole(e);
                  }
                  get ariaRole() {
                    return this.getAriaRole();
                  }
                  getAriaRole() {
                    return this._ariaRole;
                  }
                  setContainerAriaRole(e) {
                    this._containerAriaRole !== e &&
                      ((this._containerAriaRole = e),
                      null === e
                        ? this.removePDOMAttribute("role", {
                            elementName: sa.CONTAINER_PARENT,
                          })
                        : this.setPDOMAttribute("role", e, {
                            elementName: sa.CONTAINER_PARENT,
                          }));
                  }
                  set containerAriaRole(e) {
                    this.setContainerAriaRole(e);
                  }
                  get containerAriaRole() {
                    return this.getContainerAriaRole();
                  }
                  getContainerAriaRole() {
                    return this._containerAriaRole;
                  }
                  setAriaValueText(e) {
                    const t = gs(e);
                    this._ariaValueText !== t &&
                      ((this._ariaValueText = t),
                      null === t
                        ? this.removePDOMAttribute("aria-valuetext")
                        : this.setPDOMAttribute("aria-valuetext", t));
                  }
                  set ariaValueText(e) {
                    this.setAriaValueText(e);
                  }
                  get ariaValueText() {
                    return this.getAriaValueText();
                  }
                  getAriaValueText() {
                    return this._ariaValueText;
                  }
                  setPDOMNamespace(e) {
                    return (
                      this._pdomNamespace !== e &&
                        ((this._pdomNamespace = e), this.onPDOMContentChange()),
                      this
                    );
                  }
                  set pdomNamespace(e) {
                    this.setPDOMNamespace(e);
                  }
                  get pdomNamespace() {
                    return this.getPDOMNamespace();
                  }
                  getPDOMNamespace() {
                    return this._pdomNamespace;
                  }
                  setAriaLabel(e) {
                    const t = gs(e);
                    this._ariaLabel !== t &&
                      ((this._ariaLabel = t),
                      null === t
                        ? this.removePDOMAttribute("aria-label")
                        : this.setPDOMAttribute("aria-label", t));
                  }
                  set ariaLabel(e) {
                    this.setAriaLabel(e);
                  }
                  get ariaLabel() {
                    return this.getAriaLabel();
                  }
                  getAriaLabel() {
                    return this._ariaLabel;
                  }
                  setFocusHighlight(e) {
                    this._focusHighlight !== e &&
                      ((this._focusHighlight = e),
                      this._focusHighlightLayerable && (e.visible = !1),
                      this.focusHighlightChangedEmitter.emit());
                  }
                  set focusHighlight(e) {
                    this.setFocusHighlight(e);
                  }
                  get focusHighlight() {
                    return this.getFocusHighlight();
                  }
                  getFocusHighlight() {
                    return this._focusHighlight;
                  }
                  setFocusHighlightLayerable(e) {
                    this._focusHighlightLayerable !== e &&
                      ((this._focusHighlightLayerable = e),
                      this._focusHighlight &&
                        ((this._focusHighlight.visible = !1),
                        this.focusHighlightChangedEmitter.emit()));
                  }
                  set focusHighlightLayerable(e) {
                    this.setFocusHighlightLayerable(e);
                  }
                  get focusHighlightLayerable() {
                    return this.getFocusHighlightLayerable();
                  }
                  getFocusHighlightLayerable() {
                    return this._focusHighlightLayerable;
                  }
                  setGroupFocusHighlight(e) {
                    this._groupFocusHighlight = e;
                  }
                  set groupFocusHighlight(e) {
                    this.setGroupFocusHighlight(e);
                  }
                  get groupFocusHighlight() {
                    return this.getGroupFocusHighlight();
                  }
                  getGroupFocusHighlight() {
                    return this._groupFocusHighlight;
                  }
                  setAriaLabelledbyAssociations(e) {
                    let t, i;
                    if (
                      0 === e.length &&
                      0 === this._ariaLabelledbyAssociations.length
                    )
                      return;
                    const s = [],
                      n = [],
                      r = [];
                    for (
                      rs(e, this._ariaLabelledbyAssociations, n, s, r), i = 0;
                      i < s.length;
                      i++
                    )
                      (t = s[i]), this.removeAriaLabelledbyAssociation(t);
                    for (i = 0; i < n.length; i++) {
                      const t = e[i];
                      this.addAriaLabelledbyAssociation(t);
                    }
                  }
                  set ariaLabelledbyAssociations(e) {
                    this.setAriaLabelledbyAssociations(e);
                  }
                  get ariaLabelledbyAssociations() {
                    return this.getAriaLabelledbyAssociations();
                  }
                  getAriaLabelledbyAssociations() {
                    return this._ariaLabelledbyAssociations;
                  }
                  addAriaLabelledbyAssociation(e) {
                    this._ariaLabelledbyAssociations.push(e),
                      e.otherNode._nodesThatAreAriaLabelledbyThisNode.push(
                        this
                      ),
                      this.updateAriaLabelledbyAssociationsInPeers();
                  }
                  removeAriaLabelledbyAssociation(e) {
                    this._ariaLabelledbyAssociations
                      .splice(
                        _.indexOf(this._ariaLabelledbyAssociations, e),
                        1
                      )[0]
                      .otherNode.removeNodeThatIsAriaLabelledByThisNode(this),
                      this.updateAriaLabelledbyAssociationsInPeers();
                  }
                  removeNodeThatIsAriaLabelledByThisNode(e) {
                    const t = _.indexOf(
                      this._nodesThatAreAriaLabelledbyThisNode,
                      e
                    );
                    this._nodesThatAreAriaLabelledbyThisNode.splice(t, 1);
                  }
                  updateAriaLabelledbyAssociationsInPeers() {
                    for (let e = 0; e < this.pdomInstances.length; e++) {
                      this.pdomInstances[
                        e
                      ].peer.onAriaLabelledbyAssociationChange();
                    }
                  }
                  updateOtherNodesAriaLabelledby() {
                    for (
                      let e = 0;
                      e < this._nodesThatAreAriaLabelledbyThisNode.length;
                      e++
                    ) {
                      this._nodesThatAreAriaLabelledbyThisNode[
                        e
                      ].updateAriaLabelledbyAssociationsInPeers();
                    }
                  }
                  getNodesThatAreAriaLabelledbyThisNode() {
                    return this._nodesThatAreAriaLabelledbyThisNode;
                  }
                  get nodesThatAreAriaLabelledbyThisNode() {
                    return this.getNodesThatAreAriaLabelledbyThisNode();
                  }
                  setAriaDescribedbyAssociations(e) {
                    let t;
                    if (
                      0 === e.length &&
                      0 === this._ariaDescribedbyAssociations.length
                    )
                      return;
                    const i = [],
                      s = [],
                      n = [];
                    let r;
                    for (
                      rs(e, this._ariaDescribedbyAssociations, s, i, n), r = 0;
                      r < i.length;
                      r++
                    )
                      (t = i[r]), this.removeAriaDescribedbyAssociation(t);
                    for (r = 0; r < s.length; r++) {
                      const t = e[r];
                      this.addAriaDescribedbyAssociation(t);
                    }
                  }
                  set ariaDescribedbyAssociations(e) {
                    this.setAriaDescribedbyAssociations(e);
                  }
                  get ariaDescribedbyAssociations() {
                    return this.getAriaDescribedbyAssociations();
                  }
                  getAriaDescribedbyAssociations() {
                    return this._ariaDescribedbyAssociations;
                  }
                  addAriaDescribedbyAssociation(e) {
                    this._ariaDescribedbyAssociations.push(e),
                      e.otherNode._nodesThatAreAriaDescribedbyThisNode.push(
                        this
                      ),
                      this.updateAriaDescribedbyAssociationsInPeers();
                  }
                  hasAriaDescribedbyAssociation(e) {
                    return _.includes(this._ariaDescribedbyAssociations, e);
                  }
                  removeAriaDescribedbyAssociation(e) {
                    this._ariaDescribedbyAssociations
                      .splice(
                        _.indexOf(this._ariaDescribedbyAssociations, e),
                        1
                      )[0]
                      .otherNode.removeNodeThatIsAriaDescribedByThisNode(this),
                      this.updateAriaDescribedbyAssociationsInPeers();
                  }
                  removeNodeThatIsAriaDescribedByThisNode(e) {
                    const t = _.indexOf(
                      this._nodesThatAreAriaDescribedbyThisNode,
                      e
                    );
                    this._nodesThatAreAriaDescribedbyThisNode.splice(t, 1);
                  }
                  updateAriaDescribedbyAssociationsInPeers() {
                    for (let e = 0; e < this.pdomInstances.length; e++) {
                      this.pdomInstances[
                        e
                      ].peer.onAriaDescribedbyAssociationChange();
                    }
                  }
                  updateOtherNodesAriaDescribedby() {
                    for (
                      let e = 0;
                      e < this._nodesThatAreAriaDescribedbyThisNode.length;
                      e++
                    ) {
                      this._nodesThatAreAriaDescribedbyThisNode[
                        e
                      ].updateAriaDescribedbyAssociationsInPeers();
                    }
                  }
                  getNodesThatAreAriaDescribedbyThisNode() {
                    return this._nodesThatAreAriaDescribedbyThisNode;
                  }
                  get nodesThatAreAriaDescribedbyThisNode() {
                    return this.getNodesThatAreAriaDescribedbyThisNode();
                  }
                  setActiveDescendantAssociations(e) {
                    let t;
                    if (
                      0 === e.length &&
                      0 === this._activeDescendantAssociations.length
                    )
                      return;
                    const i = [],
                      s = [],
                      n = [];
                    let r;
                    for (
                      rs(e, this._activeDescendantAssociations, s, i, n), r = 0;
                      r < i.length;
                      r++
                    )
                      (t = i[r]), this.removeActiveDescendantAssociation(t);
                    for (r = 0; r < s.length; r++) {
                      const t = e[r];
                      this.addActiveDescendantAssociation(t);
                    }
                  }
                  set activeDescendantAssociations(e) {
                    this.setActiveDescendantAssociations(e);
                  }
                  get activeDescendantAssociations() {
                    return this.getActiveDescendantAssociations();
                  }
                  getActiveDescendantAssociations() {
                    return this._activeDescendantAssociations;
                  }
                  addActiveDescendantAssociation(e) {
                    this._activeDescendantAssociations.push(e),
                      e.otherNode._nodesThatAreActiveDescendantToThisNode.push(
                        this
                      ),
                      this.updateActiveDescendantAssociationsInPeers();
                  }
                  removeActiveDescendantAssociation(e) {
                    this._activeDescendantAssociations
                      .splice(
                        _.indexOf(this._activeDescendantAssociations, e),
                        1
                      )[0]
                      .otherNode.removeNodeThatIsActiveDescendantThisNode(this),
                      this.updateActiveDescendantAssociationsInPeers();
                  }
                  removeNodeThatIsActiveDescendantThisNode(e) {
                    const t = _.indexOf(
                      this._nodesThatAreActiveDescendantToThisNode,
                      e
                    );
                    this._nodesThatAreActiveDescendantToThisNode.splice(t, 1);
                  }
                  updateActiveDescendantAssociationsInPeers() {
                    for (let e = 0; e < this.pdomInstances.length; e++) {
                      this.pdomInstances[
                        e
                      ].peer.onActiveDescendantAssociationChange();
                    }
                  }
                  updateOtherNodesActiveDescendant() {
                    for (
                      let e = 0;
                      e < this._nodesThatAreActiveDescendantToThisNode.length;
                      e++
                    ) {
                      this._nodesThatAreActiveDescendantToThisNode[
                        e
                      ].updateActiveDescendantAssociationsInPeers();
                    }
                  }
                  getNodesThatAreActiveDescendantToThisNode() {
                    return this._nodesThatAreActiveDescendantToThisNode;
                  }
                  get nodesThatAreActiveDescendantToThisNode() {
                    return this.getNodesThatAreActiveDescendantToThisNode();
                  }
                  setPDOMOrder(e) {
                    if (this._pdomOrder !== e) {
                      const t = this._pdomOrder;
                      (this._pdomOrder = null === e ? null : e.slice()),
                        ua.pdomOrderChange(this, t, e),
                        this.rendererSummaryRefreshEmitter.emit();
                    }
                  }
                  set pdomOrder(e) {
                    this.setPDOMOrder(e);
                  }
                  get pdomOrder() {
                    return this.getPDOMOrder();
                  }
                  getPDOMOrder() {
                    return this._pdomOrder
                      ? this._pdomOrder.slice(0)
                      : this._pdomOrder;
                  }
                  hasPDOMOrder() {
                    return (
                      null !== this._pdomOrder &&
                      0 !== this._pdomOrder.length &&
                      (this._pdomOrder.length > 1 ||
                        null !== this._pdomOrder[0])
                    );
                  }
                  getPDOMParent() {
                    return this._pdomParent;
                  }
                  get pdomParent() {
                    return this.getPDOMParent();
                  }
                  getEffectiveChildren() {
                    const e = [];
                    for (let t = 0; t < this._children.length; t++) {
                      const i = this._children[t];
                      i._pdomParent || e.push(i);
                    }
                    if (this.hasPDOMOrder()) {
                      const t = this.pdomOrder.slice(),
                        i = t.indexOf(null);
                      return (
                        i >= 0
                          ? (e.unshift(i, 1),
                            Array.prototype.splice.apply(t, e))
                          : Array.prototype.push.apply(t, e),
                        t
                      );
                    }
                    return e;
                  }
                  setPDOMVisible(e) {
                    this._pdomVisible !== e &&
                      ((this._pdomVisible = e),
                      this._pdomDisplaysInfo.onPDOMVisibilityChange(e));
                  }
                  set pdomVisible(e) {
                    this.setPDOMVisible(e);
                  }
                  get pdomVisible() {
                    return this.isPDOMVisible();
                  }
                  isPDOMVisible() {
                    return this._pdomVisible;
                  }
                  isPDOMDisplayed() {
                    for (let e = 0; e < this._pdomInstances.length; e++)
                      if (this._pdomInstances[e].isGloballyVisible()) return !0;
                    return !1;
                  }
                  get pdomDisplayed() {
                    return this.isPDOMDisplayed();
                  }
                  setInputValue(e) {
                    if (
                      ((e instanceof X.Z || e instanceof os.Z) && (e = e.value),
                      (e = "" + e) !== this._inputValue)
                    ) {
                      this._inputValue = e;
                      for (let e = 0; e < this.pdomInstances.length; e++) {
                        this.pdomInstances[e].peer.onInputValueChange();
                      }
                    }
                  }
                  set inputValue(e) {
                    this.setInputValue(e);
                  }
                  get inputValue() {
                    return this.getInputValue();
                  }
                  getInputValue() {
                    return this._inputValue;
                  }
                  setPDOMChecked(e) {
                    this._tagName,
                      this._inputType,
                      this._pdomChecked !== e &&
                        ((this._pdomChecked = e),
                        this.setPDOMAttribute("checked", e, {
                          asProperty: !0,
                        }));
                  }
                  set pdomChecked(e) {
                    this.setPDOMChecked(e);
                  }
                  get pdomChecked() {
                    return this.getPDOMChecked();
                  }
                  getPDOMChecked() {
                    return this._pdomChecked;
                  }
                  getPDOMAttributes() {
                    return this._pdomAttributes.slice(0);
                  }
                  get pdomAttributes() {
                    return this.getPDOMAttributes();
                  }
                  setPDOMAttribute(e, t, i) {
                    "boolean" != typeof t &&
                      "number" != typeof t &&
                      (t = gs(t));
                    const s = (0, Ae.ZP)()(
                      {
                        namespace: null,
                        asProperty: !1,
                        elementName: sa.PRIMARY_SIBLING,
                      },
                      i
                    );
                    for (let n = 0; n < this._pdomAttributes.length; n++) {
                      const t = this._pdomAttributes[n];
                      t.attribute === e &&
                        t.options.namespace === s.namespace &&
                        t.options.elementName === s.elementName &&
                        (t.options.asProperty === s.asProperty
                          ? this._pdomAttributes.splice(n, 1)
                          : this.removePDOMAttribute(t.attribute, t.options));
                    }
                    this._pdomAttributes.push({
                      attribute: e,
                      value: t,
                      options: s,
                    });
                    for (let n = 0; n < this._pdomInstances.length; n++) {
                      this._pdomInstances[n].peer.setAttributeToElement(
                        e,
                        t,
                        s
                      );
                    }
                  }
                  removePDOMAttribute(e, t) {
                    const i = (0, Ae.ZP)()(
                      { namespace: null, elementName: sa.PRIMARY_SIBLING },
                      t
                    );
                    let s = !1;
                    for (let n = 0; n < this._pdomAttributes.length; n++)
                      this._pdomAttributes[n].attribute === e &&
                        this._pdomAttributes[n].options.namespace ===
                          i.namespace &&
                        this._pdomAttributes[n].options.elementName ===
                          i.elementName &&
                        (this._pdomAttributes.splice(n, 1), (s = !0));
                    for (let n = 0; n < this._pdomInstances.length; n++) {
                      this._pdomInstances[n].peer.removeAttributeFromElement(
                        e,
                        i
                      );
                    }
                  }
                  removePDOMAttributes() {
                    const e = this.getPDOMAttributes();
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t].attribute;
                      this.removePDOMAttribute(i);
                    }
                  }
                  hasPDOMAttribute(e, t) {
                    const i = (0, Ae.ZP)()(
                      { namespace: null, elementName: sa.PRIMARY_SIBLING },
                      t
                    );
                    let s = !1;
                    for (let n = 0; n < this._pdomAttributes.length; n++)
                      this._pdomAttributes[n].attribute === e &&
                        this._pdomAttributes[n].options.namespace ===
                          i.namespace &&
                        this._pdomAttributes[n].options.elementName ===
                          i.elementName &&
                        (s = !0);
                    return s;
                  }
                  setPDOMClass(e, t) {
                    const i = (0, Ae.ZP)()(
                      { elementName: sa.PRIMARY_SIBLING },
                      t
                    );
                    for (let s = 0; s < this._pdomClasses.length; s++) {
                      const t = this._pdomClasses[s];
                      if (
                        t.className === e &&
                        t.options.elementName === i.elementName
                      )
                        return;
                    }
                    this._pdomClasses.push({ className: e, options: i });
                    for (let s = 0; s < this._pdomInstances.length; s++) {
                      this._pdomInstances[s].peer.setClassToElement(e, i);
                    }
                  }
                  removePDOMClass(e, t) {
                    const i = (0, Ae.ZP)()(
                      { elementName: sa.PRIMARY_SIBLING },
                      t
                    );
                    let s = !1;
                    for (let n = 0; n < this._pdomClasses.length; n++)
                      this._pdomClasses[n].className === e &&
                        this._pdomClasses[n].options.elementName ===
                          i.elementName &&
                        (this._pdomClasses.splice(n, 1), (s = !0));
                    for (let n = 0; n < this._pdomClasses.length; n++) {
                      this.pdomInstances[n].peer.removeClassFromElement(e, i);
                    }
                  }
                  getPDOMClasses() {
                    return this._pdomClasses.slice(0);
                  }
                  get pdomClasses() {
                    return this.getPDOMClasses();
                  }
                  setFocusable(e) {
                    if (this._focusableOverride !== e) {
                      this._focusableOverride = e;
                      for (let e = 0; e < this._pdomInstances.length; e++)
                        this._pdomInstances[e].peer.setFocusable(
                          this.focusable
                        );
                    }
                  }
                  set focusable(e) {
                    this.setFocusable(e);
                  }
                  get focusable() {
                    return this.isFocusable();
                  }
                  isFocusable() {
                    return null !== this._focusableOverride
                      ? this._focusableOverride
                      : null !== this._tagName &&
                          Ei.tagIsDefaultFocusable(this._tagName);
                  }
                  setPDOMTransformSourceNode(e) {
                    this._pdomTransformSourceNode = e;
                    for (let t = 0; t < this._pdomInstances.length; t++)
                      this._pdomInstances[t].peer.setPDOMTransformSourceNode(
                        this._pdomTransformSourceNode
                      );
                  }
                  set pdomTransformSourceNode(e) {
                    this.setPDOMTransformSourceNode(e);
                  }
                  get pdomTransformSourceNode() {
                    return this.getPDOMTransformSourceNode();
                  }
                  getPDOMTransformSourceNode() {
                    return this._pdomTransformSourceNode;
                  }
                  setPositionInPDOM(e) {
                    this._positionInPDOM = e;
                    for (let t = 0; t < this._pdomInstances.length; t++)
                      this._pdomInstances[t].peer.setPositionInPDOM(e);
                  }
                  set positionInPDOM(e) {
                    this.setPositionInPDOM(e);
                  }
                  get positionInPDOM() {
                    return this.getPositionInPDOM();
                  }
                  getPositionInPDOM() {
                    return this._positionInPDOM;
                  }
                  setExcludeLabelSiblingFromInput() {
                    (this.excludeLabelSiblingFromInput = !0),
                      this.onPDOMContentChange();
                  }
                  isInsidePhetioArchetype() {
                    let e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : this;
                    if (e.isPhetioInstrumented()) return e.phetioIsArchetype;
                    for (let t = 0; t < e.parents.length; t++)
                      if (this.isInsidePhetioArchetype(e.parents[t])) return !0;
                    return !1;
                  }
                  alertDescriptionUtterance(e) {
                    if (
                      _.hasIn(
                        window,
                        "phet.phetio.phetioEngine.phetioStateEngine"
                      ) &&
                      phet.phetio.phetioEngine.phetioStateEngine
                        .isSettingStateProperty.value
                    )
                      return;
                    if (fe.Z.PHET_IO_ENABLED && this.isInsidePhetioArchetype())
                      return;
                    const t = this.getConnectedDisplays();
                    for (let i = 0; i < t.length; i++) {
                      const s = t[i];
                      s.isAccessible() &&
                        s.descriptionUtteranceQueue.addToBack(e);
                    }
                  }
                  forEachUtteranceQueue(e) {
                    const t = this.getConnectedDisplays();
                    for (let i = 0; i < t.length; i++) {
                      const s = t[i];
                      s.isAccessible() && e(s.descriptionUtteranceQueue);
                    }
                  }
                  getBaseOptions() {
                    const e = {};
                    for (let t = 0; t < ms.length; t++) {
                      const i = ms[t];
                      e[i] = this[i];
                    }
                    return e;
                  }
                  getNestedPDOMOrder() {
                    const e = new nn(this);
                    let t = [];
                    const i = [],
                      s = [i];
                    return (
                      (function i(n, r) {
                        let o = 0;
                        if (
                          (_.each(t, (e) => {
                            n === e && o++;
                          }),
                          o > 1 || (1 === o && !r))
                        )
                          return;
                        if (n.hasPDOMContent) {
                          const t = { trail: e.copy(), children: [] };
                          s[s.length - 1].push(t), s.push(t.children);
                        }
                        const a = null === n._pdomOrder ? [] : n._pdomOrder;
                        (t = t.concat(a)),
                          _.each(a, (t) => {
                            _.each(n.getLeafTrailsTo(t), (s) => {
                              s.removeAncestor(),
                                e.addDescendantTrail(s),
                                i(t, !0),
                                e.removeDescendantTrail(s);
                            });
                          });
                        const h = n._children.length;
                        for (let t = 0; t < h; t++) {
                          const s = n._children[t];
                          e.addDescendant(s, t), i(s, !1), e.removeDescendant();
                        }
                        _.each(a, () => {
                          t.pop();
                        }),
                          n.hasPDOMContent && s.pop();
                      })(this, !1),
                      i
                    );
                  }
                  onPDOMContentChange() {
                    ua.pdomContentChange(this),
                      this._pdomHeading && this.computeHeadingLevel(),
                      this.rendererSummaryRefreshEmitter.emit();
                  }
                  get hasPDOMContent() {
                    return !!this._tagName;
                  }
                  onPDOMAddChild(e) {
                    this._pdomDisplaysInfo.onAddChild(e), ua.addChild(this, e);
                  }
                  onPDOMRemoveChild(e) {
                    this._pdomDisplaysInfo.onRemoveChild(e),
                      ua.removeChild(this, e),
                      e.updateOtherNodesAriaLabelledby(),
                      e.updateOtherNodesAriaDescribedby(),
                      e.updateOtherNodesActiveDescendant();
                  }
                  onPDOMReorderedChildren() {
                    ua.childrenOrderChange(this);
                  }
                  updateLinkedElementForProperty(e, t, i) {
                    if (this.isPhetioInstrumented()) {
                      t &&
                        t instanceof X.Z &&
                        t.isPhetioInstrumented() &&
                        t instanceof ye.Z &&
                        this.removeLinkedElements(t);
                      const s = this.tandem.createTandem(e);
                      i &&
                        i instanceof X.Z &&
                        i.isPhetioInstrumented() &&
                        i instanceof ye.Z &&
                        s !== i.tandem &&
                        this.addLinkedElement(i, { tandem: s });
                    }
                  }
                  getPDOMInstances() {
                    return this._pdomInstances;
                  }
                  get pdomInstances() {
                    return this.getPDOMInstances();
                  }
                  addPDOMInstance(e) {
                    this._pdomInstances.push(e);
                  }
                  removePDOMInstance(e) {
                    const t = _.indexOf(this._pdomInstances, e);
                    this._pdomInstances.splice(t, 1);
                  }
                  static BASIC_ACCESSIBLE_NAME_BEHAVIOR(e, t, i) {
                    return (
                      "input" === e.tagName
                        ? ((t.labelTagName = "label"), (t.labelContent = i))
                        : Ei.tagNameSupportsContent(e.tagName)
                        ? (t.innerContent = i)
                        : (t.ariaLabel = i),
                      t
                    );
                  }
                  static HELP_TEXT_BEFORE_CONTENT(e, t, i) {
                    return (
                      (t.descriptionTagName = Ei.DEFAULT_DESCRIPTION_TAG_NAME),
                      (t.descriptionContent = i),
                      (t.appendDescription = !1),
                      t
                    );
                  }
                  static HELP_TEXT_AFTER_CONTENT(e, t, i) {
                    return (
                      (t.descriptionTagName = Ei.DEFAULT_DESCRIPTION_TAG_NAME),
                      (t.descriptionContent = i),
                      (t.appendDescription = !0),
                      t
                    );
                  }
                }
                G.register("ParallelDOM", As);
                var ys = i(6871);
                class fs extends os.Z {
                  constructor(e, t) {
                    super(e), (this.onAccessAttempt = t);
                  }
                  get() {
                    return this.onAccessAttempt(), super.get();
                  }
                  set(e) {
                    throw new Error("Cannot set a TinyStaticProperty value");
                  }
                  isSettable() {
                    return !1;
                  }
                  notifyListeners(e) {
                    this.emit(this.get(), e, this);
                  }
                  link(e) {
                    this.addListener(e), e(this.get(), null, this);
                  }
                  equalsValue(e) {
                    return this.areValuesEqual(e, this.get());
                  }
                }
                as.Z.register("TinyStaticProperty", fs);
                var Ps = i(8676),
                  bs = i(1731);
                let vs = 1;
                const Vs = Oe.Z.NOTHING.copy(),
                  ws = Oe.Z.NOTHING.copy(),
                  Es = new Le.Z(),
                  Ss = ys.Z.TANDEM_NAME,
                  Ts = [
                    "leftTop",
                    "centerTop",
                    "rightTop",
                    "leftCenter",
                    "center",
                    "rightCenter",
                    "leftBottom",
                    "centerBottom",
                    "rightBottom",
                    "left",
                    "right",
                    "top",
                    "bottom",
                    "centerX",
                    "centerY",
                  ],
                  xs = [
                    "children",
                    "cursor",
                    "phetioVisiblePropertyInstrumented",
                    "visibleProperty",
                    "visible",
                    "pickableProperty",
                    "pickable",
                    "phetioEnabledPropertyInstrumented",
                    "enabledProperty",
                    "enabled",
                    "phetioInputEnabledPropertyInstrumented",
                    "inputEnabledProperty",
                    "inputEnabled",
                    "inputListeners",
                    "opacity",
                    "disabledOpacity",
                    "filters",
                    "matrix",
                    "translation",
                    "x",
                    "y",
                    "rotation",
                    "scale",
                    "excludeInvisibleChildrenFromBounds",
                    "layoutOptions",
                    "localBounds",
                    "maxWidth",
                    "maxHeight",
                    "renderer",
                    "layerSplit",
                    "usesOpacity",
                    "cssTransform",
                    "excludeInvisible",
                    "webglScale",
                    "preventFit",
                    "mouseArea",
                    "touchArea",
                    "clipArea",
                    "transformBounds",
                    ...Ts,
                    ...bs.t,
                  ],
                  Cs = {
                    phetioVisiblePropertyInstrumented: !0,
                    visible: !0,
                    opacity: 1,
                    disabledOpacity: 1,
                    pickable: null,
                    enabled: !0,
                    phetioEnabledPropertyInstrumented: !1,
                    inputEnabled: !0,
                    phetioInputEnabledPropertyInstrumented: !1,
                    clipArea: null,
                    mouseArea: null,
                    touchArea: null,
                    cursor: null,
                    transformBounds: !1,
                    maxWidth: null,
                    maxHeight: null,
                    renderer: null,
                    usesOpacity: !1,
                    layerSplit: !1,
                    cssTransform: !1,
                    excludeInvisible: !1,
                    webglScale: null,
                    preventFit: !1,
                  };
                class Is extends As {
                  constructor(e) {
                    super(),
                      _defineProperty(this, "parentAddedEmitter", new Q.Z()),
                      _defineProperty(this, "parentRemovedEmitter", new Q.Z()),
                      _defineProperty(
                        this,
                        "_activeParentLayoutConstraint",
                        null
                      ),
                      (this._id = vs++),
                      (this._instances = []),
                      (this._rootedDisplays = []),
                      (this._drawables = []),
                      (this._visibleProperty = new ls(
                        Cs.visible,
                        Cs.phetioVisiblePropertyInstrumented,
                        this.onVisiblePropertyChange.bind(this)
                      )),
                      (this.opacityProperty = new os.Z(
                        Cs.opacity,
                        this.onOpacityPropertyChange.bind(this)
                      )),
                      (this.disabledOpacityProperty = new os.Z(
                        Cs.disabledOpacity,
                        this.onDisabledOpacityPropertyChange.bind(this)
                      )),
                      (this._pickableProperty = new ls(
                        Cs.pickable,
                        !1,
                        this.onPickablePropertyChange.bind(this)
                      )),
                      (this._enabledProperty = new ls(
                        Cs.enabled,
                        Cs.phetioEnabledPropertyInstrumented,
                        this.onEnabledPropertyChange.bind(this)
                      )),
                      (this._inputEnabledProperty = new ls(
                        Cs.inputEnabled,
                        Cs.phetioInputEnabledPropertyInstrumented
                      )),
                      (this.clipAreaProperty = new os.Z(Cs.clipArea)),
                      (this.voicingVisibleProperty = new os.Z(!0)),
                      (this._mouseArea = Cs.mouseArea),
                      (this._touchArea = Cs.touchArea),
                      (this._cursor = Cs.cursor),
                      (this._children = []),
                      (this._parents = []),
                      (this._transformBounds = Cs.transformBounds),
                      (this._transform = new Be.Z()),
                      (this._transformListener =
                        this.onTransformChange.bind(this)),
                      this._transform.changeEmitter.addListener(
                        this._transformListener
                      ),
                      (this._maxWidth = Cs.maxWidth),
                      (this._maxHeight = Cs.maxHeight),
                      (this._appliedScaleFactor = 1),
                      (this._inputListeners = []),
                      this.inputEnabledProperty.lazyLink(
                        this.pdomBoundInputEnabledListener
                      );
                    const t = this.onBoundsListenersAddedOrRemoved.bind(this),
                      i = this.validateBounds.bind(this),
                      s = this.validateSelfBounds.bind(this);
                    (this.boundsProperty = new fs(Oe.Z.NOTHING.copy(), i)),
                      (this.boundsProperty.changeCount = t),
                      (this.localBoundsProperty = new fs(
                        Oe.Z.NOTHING.copy(),
                        i
                      )),
                      (this.localBoundsProperty.changeCount = t),
                      (this.childBoundsProperty = new fs(
                        Oe.Z.NOTHING.copy(),
                        i
                      )),
                      (this.childBoundsProperty.changeCount = t),
                      (this.selfBoundsProperty = new fs(
                        Oe.Z.NOTHING.copy(),
                        s
                      )),
                      (this._localBoundsOverridden = !1),
                      (this._excludeInvisibleChildrenFromBounds = !1),
                      (this._layoutOptions = null),
                      (this._boundsDirty = !0),
                      (this._localBoundsDirty = !0),
                      (this._selfBoundsDirty = !0),
                      (this._childBoundsDirty = !0),
                      (this._filters = []),
                      (this._hints = {
                        renderer:
                          null === Cs.renderer ? 0 : xe.fromName(Cs.renderer),
                        usesOpacity: Cs.usesOpacity,
                        layerSplit: Cs.layerSplit,
                        cssTransform: Cs.cssTransform,
                        fullResolution: !1,
                        excludeInvisible: Cs.excludeInvisible,
                        webglScale: Cs.webglScale,
                        preventFit: Cs.preventFit,
                      }),
                      (this.childrenChangedEmitter = new Q.Z()),
                      (this.childInsertedEmitter = new Q.Z()),
                      (this.childRemovedEmitter = new Q.Z()),
                      (this.childrenReorderedEmitter = new Q.Z()),
                      (this.transformEmitter = new Q.Z()),
                      (this.instanceRefreshEmitter = new Q.Z()),
                      (this.rendererSummaryRefreshEmitter = new Q.Z()),
                      (this.filterChangeEmitter = new Q.Z()),
                      (this.changedInstanceEmitter = new Q.Z()),
                      (this.layoutOptionsChangedEmitter = new Q.Z()),
                      (this._rendererBitmask = xe.bitmaskNodeDefault),
                      (this._rendererSummary = new Ns(this)),
                      (this._boundsEventCount = 0),
                      (this._boundsEventSelfCount = 0),
                      (this._picker = new ks(this)),
                      (this._isGettingRemovedFromParent = !1),
                      e && this.mutate(e);
                  }
                  insertChild(e, t, i) {
                    return (
                      this._picker.onInsertChild(t),
                      this.changeBoundsEventCount(
                        t._boundsEventCount > 0 ? 1 : 0
                      ),
                      this._rendererSummary.summaryChange(
                        Ns.bitmaskAll,
                        t._rendererSummary.bitmask
                      ),
                      t._parents.push(this),
                      this._children.splice(e, 0, t),
                      t._rendererSummary.hasNoPDOM() || this.onPDOMAddChild(t),
                      t.invalidateBounds(),
                      (this._boundsDirty = !0),
                      this.childInsertedEmitter.emit(t, e),
                      t.parentAddedEmitter.emit(this),
                      !i && this.childrenChangedEmitter.emit(),
                      this
                    );
                  }
                  addChild(e, t) {
                    return this.insertChild(this._children.length, e, t), this;
                  }
                  removeChild(e, t) {
                    const i = _.indexOf(this._children, e);
                    return this.removeChildWithIndex(e, i, t), this;
                  }
                  removeChildAt(e, t) {
                    const i = this._children[e];
                    return this.removeChildWithIndex(i, e, t), this;
                  }
                  removeChildWithIndex(e, t, i) {
                    const s = _.indexOf(e._parents, this);
                    (e._isGettingRemovedFromParent = !0),
                      e._rendererSummary.hasNoPDOM() ||
                        this.onPDOMRemoveChild(e),
                      this._picker.onRemoveChild(e),
                      this.changeBoundsEventCount(
                        e._boundsEventCount > 0 ? -1 : 0
                      ),
                      this._rendererSummary.summaryChange(
                        e._rendererSummary.bitmask,
                        Ns.bitmaskAll
                      ),
                      e._parents.splice(s, 1),
                      this._children.splice(t, 1),
                      (e._isGettingRemovedFromParent = !1),
                      this.invalidateBounds(),
                      (this._childBoundsDirty = !0),
                      this.childRemovedEmitter.emit(e, t),
                      e.parentRemovedEmitter.emit(this),
                      !i && this.childrenChangedEmitter.emit();
                  }
                  moveChildToIndex(e, t) {
                    const i = this.indexOfChild(e);
                    return (
                      this._children[t] !== e &&
                        (this._children.splice(i, 1),
                        this._children.splice(t, 0, e),
                        this._rendererSummary.hasNoPDOM() ||
                          this.onPDOMReorderedChildren(),
                        this.childrenReorderedEmitter.emit(
                          Math.min(i, t),
                          Math.max(i, t)
                        ),
                        this.childrenChangedEmitter.emit()),
                      this
                    );
                  }
                  removeAllChildren() {
                    return this.setChildren([]), this;
                  }
                  setChildren(e) {
                    const t = [],
                      i = [],
                      s = [];
                    let n;
                    for (
                      rs(e, this._children, i, t, s), n = t.length - 1;
                      n >= 0;
                      n--
                    )
                      this.removeChild(t[n], !0);
                    let r = -1,
                      o = -1;
                    for (n = 0; n < s.length; n++) {
                      const e = s[n];
                      this._children[n] !== e &&
                        ((this._children[n] = e), -1 === r && (r = n), (o = n));
                    }
                    const a = -1 !== r;
                    if (
                      (a &&
                        (this._rendererSummary.hasNoPDOM() ||
                          this.onPDOMReorderedChildren(),
                        this.childrenReorderedEmitter.emit(r, o)),
                      i.length)
                    ) {
                      let t = 0,
                        s = i[t];
                      for (n = 0; n < e.length; n++)
                        e[n] === s &&
                          (this.insertChild(n, s, !0), (s = i[++t]));
                    }
                    return (
                      (0 !== t.length || 0 !== i.length || a) &&
                        this.childrenChangedEmitter.emit(),
                      this
                    );
                  }
                  set children(e) {
                    this.setChildren(e);
                  }
                  get children() {
                    return this.getChildren();
                  }
                  getChildren() {
                    return this._children.slice(0);
                  }
                  getChildrenCount() {
                    return this._children.length;
                  }
                  getParents() {
                    return this._parents.slice(0);
                  }
                  get parents() {
                    return this.getParents();
                  }
                  getParent() {
                    return this._parents.length ? this._parents[0] : null;
                  }
                  get parent() {
                    return this.getParent();
                  }
                  getChildAt(e) {
                    return this._children[e];
                  }
                  indexOfParent(e) {
                    return _.indexOf(this._parents, e);
                  }
                  indexOfChild(e) {
                    return _.indexOf(this._children, e);
                  }
                  moveToFront() {
                    return (
                      _.each(this._parents.slice(), (e) =>
                        e.moveChildToFront(this)
                      ),
                      this
                    );
                  }
                  moveChildToFront(e) {
                    return this.moveChildToIndex(e, this._children.length - 1);
                  }
                  moveForward() {
                    return (
                      this._parents.forEach((e) => e.moveChildForward(this)),
                      this
                    );
                  }
                  moveChildForward(e) {
                    const t = this.indexOfChild(e);
                    return (
                      t < this.getChildrenCount() - 1 &&
                        this.moveChildToIndex(e, t + 1),
                      this
                    );
                  }
                  moveBackward() {
                    return (
                      this._parents.forEach((e) => e.moveChildBackward(this)),
                      this
                    );
                  }
                  moveChildBackward(e) {
                    const t = this.indexOfChild(e);
                    return t > 0 && this.moveChildToIndex(e, t - 1), this;
                  }
                  moveToBack() {
                    return (
                      _.each(this._parents.slice(), (e) =>
                        e.moveChildToBack(this)
                      ),
                      this
                    );
                  }
                  moveChildToBack(e) {
                    return this.moveChildToIndex(e, 0);
                  }
                  replaceChild(e, t) {
                    const i = this.indexOfChild(e),
                      s = e.focused;
                    return (
                      this.removeChild(e, !0),
                      this.insertChild(i, t, !0),
                      this.childrenChangedEmitter.emit(),
                      s && t.focusable && t.focus(),
                      this
                    );
                  }
                  detach() {
                    return (
                      _.each(this._parents.slice(0), (e) =>
                        e.removeChild(this)
                      ),
                      this
                    );
                  }
                  changeBoundsEventCount(e) {
                    if (0 !== e) {
                      const t = 0 === this._boundsEventCount;
                      if (
                        ((this._boundsEventCount += e),
                        t !== (0 === this._boundsEventCount))
                      ) {
                        const e = t ? 1 : -1,
                          i = this._parents.length;
                        for (let t = 0; t < i; t++)
                          this._parents[t].changeBoundsEventCount(e);
                      }
                    }
                  }
                  validateSelfBounds() {
                    if (this._selfBoundsDirty) {
                      const e = Vs.set(this.selfBoundsProperty._value),
                        t = this.updateSelfBounds();
                      return (
                        (this._selfBoundsDirty = !1),
                        t && this.selfBoundsProperty.notifyListeners(e),
                        !0
                      );
                    }
                    return !1;
                  }
                  validateBounds() {
                    let e;
                    let t = this.validateSelfBounds();
                    const i = this.childBoundsProperty._value,
                      s = this.localBoundsProperty._value,
                      n = this.selfBoundsProperty._value,
                      r = this.boundsProperty._value;
                    if (this._childBoundsDirty) {
                      for (t = !0, e = this._children.length; e--; )
                        this._children[e].validateBounds();
                      const s = Vs.set(i);
                      for (
                        i.set(Oe.Z.NOTHING), e = this._children.length;
                        e--;

                      ) {
                        const t = this._children[e];
                        (this._excludeInvisibleChildrenFromBounds &&
                          !t.isVisible()) ||
                          i.includeBounds(t.bounds);
                      }
                      (this._childBoundsDirty = !1),
                        i.equals(s) ||
                          i.equalsEpsilon(s, 1e-13) ||
                          this.childBoundsProperty.notifyListeners(s);
                    }
                    if (this._localBoundsDirty) {
                      (t = !0), (this._localBoundsDirty = !1);
                      const e = Vs.set(s);
                      if (!this._localBoundsOverridden) {
                        s.set(n).includeBounds(i);
                        const e = this.clipArea;
                        e && s.constrainBounds(e.bounds);
                      }
                      (null === this._maxWidth && null === this._maxHeight) ||
                        this.updateMaxDimension(s),
                        s.equals(e) ||
                          ((this._boundsDirty = !0),
                          s.equalsEpsilon(e, 1e-13) ||
                            this.localBoundsProperty.notifyListeners(e));
                    }
                    if (this._boundsDirty) {
                      (t = !0), (this._boundsDirty = !1);
                      const i = Vs.set(r);
                      if (
                        this._transformBounds &&
                        !this._transform.getMatrix().isAxisAligned()
                      ) {
                        const e = Es.set(this.getMatrix());
                        r.set(Oe.Z.NOTHING),
                          this._includeTransformedSubtreeBounds(e, r);
                        const t = this.clipArea;
                        t && r.constrainBounds(t.getBoundsWithTransform(e));
                      } else r.set(s), this.transformBoundsFromLocalToParent(r);
                      if (!r.equals(i)) {
                        for (e = this._parents.length; e--; )
                          this._parents[e].invalidateBounds();
                        r.equalsEpsilon(i, 1e-13) ||
                          this.boundsProperty.notifyListeners(i);
                      }
                    }
                    return (
                      (this._childBoundsDirty || this._boundsDirty) &&
                        this.validateBounds(),
                      t
                    );
                  }
                  _includeTransformedSubtreeBounds(e, t) {
                    this.selfBounds.isEmpty() ||
                      t.includeBounds(this.getTransformedSelfBounds(e));
                    const i = this._children.length;
                    for (let s = 0; s < i; s++) {
                      const i = this._children[s];
                      e.multiplyMatrix(i._transform.getMatrix()),
                        i._includeTransformedSubtreeBounds(e, t),
                        e.multiplyMatrix(i._transform.getInverse());
                    }
                    return t;
                  }
                  validateWatchedBounds() {
                    for (; this.watchedBoundsScan(); );
                  }
                  watchedBoundsScan() {
                    if (0 !== this._boundsEventSelfCount)
                      return this.validateBounds();
                    if (this._boundsEventCount > 0 && this._childBoundsDirty) {
                      let e = !1;
                      const t = this._children.length;
                      for (let i = 0; i < t; i++)
                        e = this._children[i].watchedBoundsScan() || e;
                      return e;
                    }
                    return !1;
                  }
                  invalidateBounds() {
                    (this._boundsDirty = !0), (this._localBoundsDirty = !0);
                    let e = this._parents.length;
                    for (; e--; ) this._parents[e].invalidateChildBounds();
                  }
                  invalidateChildBounds() {
                    if (!this._childBoundsDirty) {
                      (this._childBoundsDirty = !0),
                        (this._localBoundsDirty = !0);
                      let e = this._parents.length;
                      for (; e--; ) this._parents[e].invalidateChildBounds();
                    }
                  }
                  invalidateSelf(e) {
                    const t = this.selfBoundsProperty._value;
                    if (e) {
                      if (((this._selfBoundsDirty = !1), !t.equals(e))) {
                        const i = Vs.set(t);
                        this.invalidateBounds(),
                          this._picker.onSelfBoundsDirty(),
                          t.set(e),
                          this.selfBoundsProperty.notifyListeners(i);
                      }
                    } else
                      (this._selfBoundsDirty = !0),
                        this.invalidateBounds(),
                        this._picker.onSelfBoundsDirty();
                  }
                  updateSelfBounds() {
                    return !1;
                  }
                  hasChild(e) {
                    const t = _.includes(this._children, e);
                    return t;
                  }
                  getSelfShape() {
                    return this.selfBounds.isEmpty()
                      ? new Yt.bn()
                      : Yt.bn.bounds(this.selfBounds);
                  }
                  getSelfBounds() {
                    return this.selfBoundsProperty.value;
                  }
                  get selfBounds() {
                    return this.getSelfBounds();
                  }
                  getSafeSelfBounds() {
                    return this.selfBoundsProperty.value;
                  }
                  get safeSelfBounds() {
                    return this.getSafeSelfBounds();
                  }
                  getChildBounds() {
                    return this.childBoundsProperty.value;
                  }
                  get childBounds() {
                    return this.getChildBounds();
                  }
                  getLocalBounds() {
                    return this.localBoundsProperty.value;
                  }
                  get localBounds() {
                    return this.getLocalBounds();
                  }
                  set localBounds(e) {
                    this.setLocalBounds(e);
                  }
                  get localBoundsOverridden() {
                    return this._localBoundsOverridden;
                  }
                  setLocalBounds(e) {
                    const t = this.localBoundsProperty._value,
                      i = t.copy();
                    if (null === e)
                      this._localBoundsOverridden &&
                        ((this._localBoundsOverridden = !1),
                        this.localBoundsProperty.notifyListeners(i),
                        this.invalidateBounds());
                    else {
                      const s = !e.equals(t) || !this._localBoundsOverridden;
                      s && t.set(e),
                        this._localBoundsOverridden ||
                          (this._localBoundsOverridden = !0),
                        s &&
                          (this.localBoundsProperty.notifyListeners(i),
                          this.invalidateBounds());
                    }
                    return this;
                  }
                  getTransformedSelfBounds(e) {
                    return this.selfBounds.transformed(e);
                  }
                  getTransformedSafeSelfBounds(e) {
                    return this.safeSelfBounds.transformed(e);
                  }
                  getSafeTransformedVisibleBounds(e) {
                    const t = (e || Le.Z.IDENTITY).timesMatrix(this.matrix),
                      i = Oe.Z.NOTHING.copy();
                    if (
                      this.visibleProperty.value &&
                      (this.selfBounds.isEmpty() ||
                        i.includeBounds(this.getTransformedSafeSelfBounds(t)),
                      this._children.length)
                    )
                      for (let s = 0; s < this._children.length; s++)
                        i.includeBounds(
                          this._children[s].getSafeTransformedVisibleBounds(t)
                        );
                    return i;
                  }
                  get safeTransformedVisibleBounds() {
                    return this.getSafeTransformedVisibleBounds();
                  }
                  setTransformBounds(e) {
                    return (
                      this._transformBounds !== e &&
                        ((this._transformBounds = e), this.invalidateBounds()),
                      this
                    );
                  }
                  set transformBounds(e) {
                    this.setTransformBounds(e);
                  }
                  get transformBounds() {
                    return this.getTransformBounds();
                  }
                  getTransformBounds() {
                    return this._transformBounds;
                  }
                  getBounds() {
                    return this.boundsProperty.value;
                  }
                  get bounds() {
                    return this.getBounds();
                  }
                  getVisibleLocalBounds() {
                    const e = this.selfBounds.copy();
                    let t = this._children.length;
                    for (; t--; )
                      e.includeBounds(this._children[t].getVisibleBounds());
                    return e;
                  }
                  get visibleLocalBounds() {
                    return this.getVisibleLocalBounds();
                  }
                  getVisibleBounds() {
                    return this.isVisible()
                      ? this.getVisibleLocalBounds().transform(this.getMatrix())
                      : Oe.Z.NOTHING;
                  }
                  get visibleBounds() {
                    return this.getVisibleBounds();
                  }
                  hitTest(e, t, i) {
                    return this._picker.hitTest(e, !!t, !!i);
                  }
                  trailUnderPointer(e) {
                    return null === e.point
                      ? null
                      : this.hitTest(e.point, e instanceof fa, e.isTouchLike());
                  }
                  containsPoint(e) {
                    return null !== this.hitTest(e);
                  }
                  containsPointSelf(e) {
                    return this.selfBounds.containsPoint(e);
                  }
                  intersectsBoundsSelf(e) {
                    return this.selfBounds.intersectsBounds(e);
                  }
                  isPhetioMouseHittable(e) {
                    if (!this.visible) return !1;
                    if (!1 === this.pickable) return !1;
                    const t = this._transform.getInverse().timesVector2(e);
                    return !(
                      null !== this.clipArea && !this.clipArea.containsPoint(t)
                    );
                  }
                  getPhetioMouseHit(e) {
                    if (!this.isPhetioMouseHittable(e)) return null;
                    const t = this._transform.getInverse().timesVector2(e);
                    for (let i = this._children.length - 1; i >= 0; i--) {
                      const e = this._children[i].getPhetioMouseHit(t);
                      if (e) return e.isPhetioInstrumented() ? e : this;
                    }
                    return this._mouseArea
                      ? this._mouseArea.containsPoint(t)
                        ? this
                        : null
                      : this.selfBounds.containsPoint(t) &&
                        this.containsPointSelf(t)
                      ? this
                      : null;
                  }
                  isPainted() {
                    return !1;
                  }
                  areSelfBoundsValid() {
                    return !0;
                  }
                  hasParent() {
                    return 0 !== this._parents.length;
                  }
                  hasChildren() {
                    return this._children.length > 0;
                  }
                  isChildIncludedInLayout(e) {
                    return (
                      e.bounds.isValid() &&
                      (!this._excludeInvisibleChildrenFromBounds || e.visible)
                    );
                  }
                  walkDepthFirst(e) {
                    e(this);
                    const t = this._children.length;
                    for (let i = 0; i < t; i++)
                      this._children[i].walkDepthFirst(e);
                  }
                  addInputListener(e) {
                    return (
                      _.includes(this._inputListeners, e) ||
                        (this._inputListeners.push(e),
                        this._picker.onAddInputListener()),
                      this
                    );
                  }
                  removeInputListener(e) {
                    const t = _.indexOf(this._inputListeners, e);
                    return (
                      t >= 0 &&
                        (this._inputListeners.splice(t, 1),
                        this._picker.onRemoveInputListener()),
                      this
                    );
                  }
                  hasInputListener(e) {
                    for (let t = 0; t < this._inputListeners.length; t++)
                      if (this._inputListeners[t] === e) return !0;
                    return !1;
                  }
                  interruptInput() {
                    const e = this.inputListeners;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      i.interrupt && i.interrupt();
                    }
                    return this;
                  }
                  interruptSubtreeInput() {
                    this.interruptInput();
                    const e = this._children.slice();
                    for (let t = 0; t < e.length; t++)
                      e[t].interruptSubtreeInput();
                    return this;
                  }
                  translate(e, t, i) {
                    if ("number" == typeof e) {
                      if (Math.abs(e) < 1e-12 && Math.abs(t) < 1e-12) return;
                      i
                        ? this.prependTranslation(e, t)
                        : this.appendMatrix(Es.setToTranslation(e, t));
                    } else {
                      const i = e;
                      if (!i.x && !i.y) return;
                      this.translate(i.x, i.y, t);
                    }
                  }
                  scale(e, t, i) {
                    if ("number" == typeof e)
                      if (void 0 === t || "boolean" == typeof t)
                        this.scale(e, e, t);
                      else {
                        if (1 === e && 1 === t) return;
                        i
                          ? this.prependMatrix(Le.Z.scaling(e, t))
                          : this.appendMatrix(Le.Z.scaling(e, t));
                      }
                    else {
                      const i = e;
                      this.scale(i.x, i.y, t);
                    }
                  }
                  rotate(e, t) {
                    e % (2 * Math.PI) != 0 &&
                      (t
                        ? this.prependMatrix(Le.Z.rotation2(e))
                        : this.appendMatrix(Le.Z.rotation2(e)));
                  }
                  rotateAround(e, t) {
                    let i = Le.Z.translation(-e.x, -e.y);
                    return (
                      (i = Le.Z.rotation2(t).timesMatrix(i)),
                      (i = Le.Z.translation(e.x, e.y).timesMatrix(i)),
                      this.prependMatrix(i),
                      this
                    );
                  }
                  setX(e) {
                    return this.translate(e - this.getX(), 0, !0), this;
                  }
                  set x(e) {
                    this.setX(e);
                  }
                  get x() {
                    return this.getX();
                  }
                  getX() {
                    return this._transform.getMatrix().m02();
                  }
                  setY(e) {
                    return this.translate(0, e - this.getY(), !0), this;
                  }
                  set y(e) {
                    this.setY(e);
                  }
                  get y() {
                    return this.getY();
                  }
                  getY() {
                    return this._transform.getMatrix().m12();
                  }
                  setScaleMagnitude(e, t) {
                    const i = this.getScaleVector();
                    return (
                      "number" == typeof e
                        ? (void 0 === t && (t = e),
                          this.appendMatrix(Le.Z.scaling(e / i.x, t / i.y)))
                        : this.appendMatrix(Le.Z.scaling(e.x / i.x, e.y / i.y)),
                      this
                    );
                  }
                  getScaleVector() {
                    return this._transform.getMatrix().getScaleVector();
                  }
                  setRotation(e) {
                    return (
                      this.appendMatrix(
                        Es.setToRotationZ(e - this.getRotation())
                      ),
                      this
                    );
                  }
                  set rotation(e) {
                    this.setRotation(e);
                  }
                  get rotation() {
                    return this.getRotation();
                  }
                  getRotation() {
                    return this._transform.getMatrix().getRotation();
                  }
                  setTranslation(e, t) {
                    const i = this._transform.getMatrix(),
                      s = i.m02(),
                      n = i.m12();
                    let r, o;
                    return (
                      "number" == typeof e
                        ? ((r = e - s), (o = t - n))
                        : ((r = e.x - s), (o = e.y - n)),
                      this.translate(r, o, !0),
                      this
                    );
                  }
                  set translation(e) {
                    this.setTranslation(e);
                  }
                  get translation() {
                    return this.getTranslation();
                  }
                  getTranslation() {
                    const e = this._transform.getMatrix();
                    return new Me.Z(e.m02(), e.m12());
                  }
                  appendMatrix(e) {
                    this._transform.append(e);
                  }
                  prependMatrix(e) {
                    this._transform.prepend(e);
                  }
                  prependTranslation(e, t) {
                    (e || t) && this._transform.prependTranslation(e, t);
                  }
                  setMatrix(e) {
                    this._transform.setMatrix(e);
                  }
                  set matrix(e) {
                    this.setMatrix(e);
                  }
                  get matrix() {
                    return this.getMatrix();
                  }
                  getMatrix() {
                    return this._transform.getMatrix();
                  }
                  getTransform() {
                    return this._transform;
                  }
                  get transform() {
                    return this.getTransform();
                  }
                  resetTransform() {
                    this.setMatrix(Le.Z.IDENTITY);
                  }
                  onTransformChange() {
                    this.invalidateBounds(),
                      this._picker.onTransformChange(),
                      this.transformEmitter.emit();
                  }
                  onSummaryChange(e, t) {
                    this._pdomDisplaysInfo.onSummaryChange(e, t);
                  }
                  updateMaxDimension(e) {
                    const t = this._appliedScaleFactor;
                    let i = 1;
                    if (null !== this._maxWidth) {
                      const t = e.width;
                      t > this._maxWidth &&
                        (i = Math.min(i, this._maxWidth / t));
                    }
                    if (null !== this._maxHeight) {
                      const t = e.height;
                      t > this._maxHeight &&
                        (i = Math.min(i, this._maxHeight / t));
                    }
                    const s = i / t;
                    1 !== s && ((this._appliedScaleFactor = i), this.scale(s));
                  }
                  auditMaxDimensions() {}
                  onMaxDimensionChange(e, t) {
                    null === e && null !== t
                      ? (this.changeBoundsEventCount(1),
                        this._boundsEventSelfCount++)
                      : null !== e &&
                        null === t &&
                        (this.changeBoundsEventCount(-1),
                        this._boundsEventSelfCount--);
                  }
                  setMaxWidth(e) {
                    this._maxWidth !== e &&
                      (this.onMaxDimensionChange(this._maxWidth, e),
                      (this._maxWidth = e),
                      this.updateMaxDimension(this.localBoundsProperty.value));
                  }
                  set maxWidth(e) {
                    this.setMaxWidth(e);
                  }
                  get maxWidth() {
                    return this.getMaxWidth();
                  }
                  getMaxWidth() {
                    return this._maxWidth;
                  }
                  setMaxHeight(e) {
                    this._maxHeight !== e &&
                      (this.onMaxDimensionChange(this._maxHeight, e),
                      (this._maxHeight = e),
                      this.updateMaxDimension(this.localBoundsProperty.value));
                  }
                  set maxHeight(e) {
                    this.setMaxHeight(e);
                  }
                  get maxHeight() {
                    return this.getMaxHeight();
                  }
                  getMaxHeight() {
                    return this._maxHeight;
                  }
                  setLeft(e) {
                    const t = this.getLeft();
                    return isFinite(t) && this.translate(e - t, 0, !0), this;
                  }
                  set left(e) {
                    this.setLeft(e);
                  }
                  get left() {
                    return this.getLeft();
                  }
                  getLeft() {
                    return this.getBounds().minX;
                  }
                  setRight(e) {
                    const t = this.getRight();
                    return isFinite(t) && this.translate(e - t, 0, !0), this;
                  }
                  set right(e) {
                    this.setRight(e);
                  }
                  get right() {
                    return this.getRight();
                  }
                  getRight() {
                    return this.getBounds().maxX;
                  }
                  setCenterX(e) {
                    const t = this.getCenterX();
                    return isFinite(t) && this.translate(e - t, 0, !0), this;
                  }
                  set centerX(e) {
                    this.setCenterX(e);
                  }
                  get centerX() {
                    return this.getCenterX();
                  }
                  getCenterX() {
                    return this.getBounds().getCenterX();
                  }
                  setCenterY(e) {
                    const t = this.getCenterY();
                    return isFinite(t) && this.translate(0, e - t, !0), this;
                  }
                  set centerY(e) {
                    this.setCenterY(e);
                  }
                  get centerY() {
                    return this.getCenterY();
                  }
                  getCenterY() {
                    return this.getBounds().getCenterY();
                  }
                  setTop(e) {
                    const t = this.getTop();
                    return isFinite(t) && this.translate(0, e - t, !0), this;
                  }
                  set top(e) {
                    this.setTop(e);
                  }
                  get top() {
                    return this.getTop();
                  }
                  getTop() {
                    return this.getBounds().minY;
                  }
                  setBottom(e) {
                    const t = this.getBottom();
                    return isFinite(t) && this.translate(0, e - t, !0), this;
                  }
                  set bottom(e) {
                    this.setBottom(e);
                  }
                  get bottom() {
                    return this.getBottom();
                  }
                  getBottom() {
                    return this.getBounds().maxY;
                  }
                  setLeftTop(e) {
                    const t = this.getLeftTop();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set leftTop(e) {
                    this.setLeftTop(e);
                  }
                  get leftTop() {
                    return this.getLeftTop();
                  }
                  getLeftTop() {
                    return this.getBounds().getLeftTop();
                  }
                  setCenterTop(e) {
                    const t = this.getCenterTop();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set centerTop(e) {
                    this.setCenterTop(e);
                  }
                  get centerTop() {
                    return this.getCenterTop();
                  }
                  getCenterTop() {
                    return this.getBounds().getCenterTop();
                  }
                  setRightTop(e) {
                    const t = this.getRightTop();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set rightTop(e) {
                    this.setRightTop(e);
                  }
                  get rightTop() {
                    return this.getRightTop();
                  }
                  getRightTop() {
                    return this.getBounds().getRightTop();
                  }
                  setLeftCenter(e) {
                    const t = this.getLeftCenter();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set leftCenter(e) {
                    this.setLeftCenter(e);
                  }
                  get leftCenter() {
                    return this.getLeftCenter();
                  }
                  getLeftCenter() {
                    return this.getBounds().getLeftCenter();
                  }
                  setCenter(e) {
                    const t = this.getCenter();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set center(e) {
                    this.setCenter(e);
                  }
                  get center() {
                    return this.getCenter();
                  }
                  getCenter() {
                    return this.getBounds().getCenter();
                  }
                  setRightCenter(e) {
                    const t = this.getRightCenter();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set rightCenter(e) {
                    this.setRightCenter(e);
                  }
                  get rightCenter() {
                    return this.getRightCenter();
                  }
                  getRightCenter() {
                    return this.getBounds().getRightCenter();
                  }
                  setLeftBottom(e) {
                    const t = this.getLeftBottom();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set leftBottom(e) {
                    this.setLeftBottom(e);
                  }
                  get leftBottom() {
                    return this.getLeftBottom();
                  }
                  getLeftBottom() {
                    return this.getBounds().getLeftBottom();
                  }
                  setCenterBottom(e) {
                    const t = this.getCenterBottom();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set centerBottom(e) {
                    this.setCenterBottom(e);
                  }
                  get centerBottom() {
                    return this.getCenterBottom();
                  }
                  getCenterBottom() {
                    return this.getBounds().getCenterBottom();
                  }
                  setRightBottom(e) {
                    const t = this.getRightBottom();
                    return t.isFinite() && this.translate(e.minus(t), !0), this;
                  }
                  set rightBottom(e) {
                    this.setRightBottom(e);
                  }
                  get rightBottom() {
                    return this.getRightBottom();
                  }
                  getRightBottom() {
                    return this.getBounds().getRightBottom();
                  }
                  getWidth() {
                    return this.getBounds().getWidth();
                  }
                  get width() {
                    return this.getWidth();
                  }
                  getHeight() {
                    return this.getBounds().getHeight();
                  }
                  get height() {
                    return this.getHeight();
                  }
                  getLocalWidth() {
                    return this.getLocalBounds().getWidth();
                  }
                  get localWidth() {
                    return this.getLocalWidth();
                  }
                  getLocalHeight() {
                    return this.getLocalBounds().getHeight();
                  }
                  get localHeight() {
                    return this.getLocalHeight();
                  }
                  getLocalLeft() {
                    return this.getLocalBounds().minX;
                  }
                  get localLeft() {
                    return this.getLocalLeft();
                  }
                  getLocalRight() {
                    return this.getLocalBounds().maxX;
                  }
                  get localRight() {
                    return this.getLocalRight();
                  }
                  getLocalCenterX() {
                    return this.getLocalBounds().getCenterX();
                  }
                  get localCenterX() {
                    return this.getLocalCenterX();
                  }
                  getLocalCenterY() {
                    return this.getLocalBounds().getCenterY();
                  }
                  get localCenterY() {
                    return this.getLocalCenterY();
                  }
                  getLocalTop() {
                    return this.getLocalBounds().minY;
                  }
                  get localTop() {
                    return this.getLocalTop();
                  }
                  getLocalBottom() {
                    return this.getLocalBounds().maxY;
                  }
                  get localBottom() {
                    return this.getLocalBottom();
                  }
                  getLocalLeftTop() {
                    return this.getLocalBounds().getLeftTop();
                  }
                  get localLeftTop() {
                    return this.getLocalLeftTop();
                  }
                  getLocalCenterTop() {
                    return this.getLocalBounds().getCenterTop();
                  }
                  get localCenterTop() {
                    return this.getLocalCenterTop();
                  }
                  getLocalRightTop() {
                    return this.getLocalBounds().getRightTop();
                  }
                  get localRightTop() {
                    return this.getLocalRightTop();
                  }
                  getLocalLeftCenter() {
                    return this.getLocalBounds().getLeftCenter();
                  }
                  get localLeftCenter() {
                    return this.getLocalLeftCenter();
                  }
                  getLocalCenter() {
                    return this.getLocalBounds().getCenter();
                  }
                  get localCenter() {
                    return this.getLocalCenter();
                  }
                  getLocalRightCenter() {
                    return this.getLocalBounds().getRightCenter();
                  }
                  get localRightCenter() {
                    return this.getLocalRightCenter();
                  }
                  getLocalLeftBottom() {
                    return this.getLocalBounds().getLeftBottom();
                  }
                  get localLeftBottom() {
                    return this.getLocalLeftBottom();
                  }
                  getLocalCenterBottom() {
                    return this.getLocalBounds().getCenterBottom();
                  }
                  get localCenterBottom() {
                    return this.getLocalCenterBottom();
                  }
                  getLocalRightBottom() {
                    return this.getLocalBounds().getRightBottom();
                  }
                  get localRightBottom() {
                    return this.getLocalRightBottom();
                  }
                  getId() {
                    return this._id;
                  }
                  get id() {
                    return this.getId();
                  }
                  onVisiblePropertyChange(e) {
                    this._picker.onVisibilityChange(),
                      this._pdomDisplaysInfo.onVisibilityChange(e);
                    for (let t = 0; t < this._parents.length; t++) {
                      const e = this._parents[t];
                      e._excludeInvisibleChildrenFromBounds &&
                        e.invalidateChildBounds();
                    }
                  }
                  setVisibleProperty(e) {
                    return this._visibleProperty.setTargetProperty(
                      this,
                      "visibleProperty",
                      e
                    );
                  }
                  set visibleProperty(e) {
                    this.setVisibleProperty(e);
                  }
                  get visibleProperty() {
                    return this.getVisibleProperty();
                  }
                  getVisibleProperty() {
                    return this._visibleProperty;
                  }
                  setVisible(e) {
                    return this.visibleProperty.set(e), this;
                  }
                  set visible(e) {
                    this.setVisible(e);
                  }
                  get visible() {
                    return this.isVisible();
                  }
                  isVisible() {
                    return this.visibleProperty.value;
                  }
                  setPhetioVisiblePropertyInstrumented(e) {
                    return this._visibleProperty.setTargetPropertyInstrumented(
                      e,
                      this
                    );
                  }
                  set phetioVisiblePropertyInstrumented(e) {
                    this.setPhetioVisiblePropertyInstrumented(e);
                  }
                  get phetioVisiblePropertyInstrumented() {
                    return this.getPhetioVisiblePropertyInstrumented();
                  }
                  getPhetioVisiblePropertyInstrumented() {
                    return this._visibleProperty.getTargetPropertyInstrumented();
                  }
                  swapVisibility(e) {
                    const t = this.visible ? this : e,
                      i = this.visible ? e : this,
                      s = t.focused;
                    return (
                      (t.visible = !1),
                      (i.visible = !0),
                      s && i.focusable && i.focus(),
                      this
                    );
                  }
                  setOpacity(e) {
                    if (e < 0 || e > 1)
                      throw new Error("opacity out of range: " + e);
                    this.opacityProperty.value = e;
                  }
                  set opacity(e) {
                    this.setOpacity(e);
                  }
                  get opacity() {
                    return this.getOpacity();
                  }
                  getOpacity() {
                    return this.opacityProperty.value;
                  }
                  setDisabledOpacity(e) {
                    if (e < 0 || e > 1)
                      throw new Error("disabledOpacity out of range: " + e);
                    return (this.disabledOpacityProperty.value = e), this;
                  }
                  set disabledOpacity(e) {
                    this.setDisabledOpacity(e);
                  }
                  get disabledOpacity() {
                    return this.getDisabledOpacity();
                  }
                  getDisabledOpacity() {
                    return this.disabledOpacityProperty.value;
                  }
                  getEffectiveOpacity() {
                    return (
                      this.opacityProperty.value *
                      (this.enabledProperty.value
                        ? 1
                        : this.disabledOpacityProperty.value)
                    );
                  }
                  get effectiveOpacity() {
                    return this.getEffectiveOpacity();
                  }
                  onOpacityPropertyChange() {
                    this.filterChangeEmitter.emit();
                  }
                  onDisabledOpacityPropertyChange() {
                    this._enabledProperty.value ||
                      this.filterChangeEmitter.emit();
                  }
                  setFilters(e) {
                    (this._filters.length = 0),
                      this._filters.push(...e),
                      this.invalidateHint(),
                      this.filterChangeEmitter.emit();
                  }
                  set filters(e) {
                    this.setFilters(e);
                  }
                  get filters() {
                    return this.getFilters();
                  }
                  getFilters() {
                    return this._filters.slice();
                  }
                  setPickableProperty(e) {
                    return this._pickableProperty.setTargetProperty(
                      this,
                      null,
                      e
                    );
                  }
                  set pickableProperty(e) {
                    this.setPickableProperty(e);
                  }
                  get pickableProperty() {
                    return this.getPickableProperty();
                  }
                  getPickableProperty() {
                    return this._pickableProperty;
                  }
                  setPickable(e) {
                    return this._pickableProperty.set(e), this;
                  }
                  set pickable(e) {
                    this.setPickable(e);
                  }
                  get pickable() {
                    return this.isPickable();
                  }
                  isPickable() {
                    return this._pickableProperty.value;
                  }
                  onPickablePropertyChange(e, t) {
                    this._picker.onPickableChange(t, e);
                  }
                  setEnabledProperty(e) {
                    return this._enabledProperty.setTargetProperty(this, Ss, e);
                  }
                  set enabledProperty(e) {
                    this.setEnabledProperty(e);
                  }
                  get enabledProperty() {
                    return this.getEnabledProperty();
                  }
                  getEnabledProperty() {
                    return this._enabledProperty;
                  }
                  setPhetioEnabledPropertyInstrumented(e) {
                    return this._enabledProperty.setTargetPropertyInstrumented(
                      e,
                      this
                    );
                  }
                  set phetioEnabledPropertyInstrumented(e) {
                    this.setPhetioEnabledPropertyInstrumented(e);
                  }
                  get phetioEnabledPropertyInstrumented() {
                    return this.getPhetioEnabledPropertyInstrumented();
                  }
                  getPhetioEnabledPropertyInstrumented() {
                    return this._enabledProperty.getTargetPropertyInstrumented();
                  }
                  setEnabled(e) {
                    return this._enabledProperty.set(e), this;
                  }
                  set enabled(e) {
                    this.setEnabled(e);
                  }
                  get enabled() {
                    return this.isEnabled();
                  }
                  isEnabled() {
                    return this._enabledProperty.value;
                  }
                  onEnabledPropertyChange(e) {
                    !e && this.interruptSubtreeInput(),
                      (this.inputEnabled = e),
                      1 !== this.disabledOpacityProperty.value &&
                        this.filterChangeEmitter.emit();
                  }
                  setInputEnabledProperty(e) {
                    return this._inputEnabledProperty.setTargetProperty(
                      this,
                      "inputEnabledProperty",
                      e
                    );
                  }
                  set inputEnabledProperty(e) {
                    this.setInputEnabledProperty(e);
                  }
                  get inputEnabledProperty() {
                    return this.getInputEnabledProperty();
                  }
                  getInputEnabledProperty() {
                    return this._inputEnabledProperty;
                  }
                  setPhetioInputEnabledPropertyInstrumented(e) {
                    return this._inputEnabledProperty.setTargetPropertyInstrumented(
                      e,
                      this
                    );
                  }
                  set phetioInputEnabledPropertyInstrumented(e) {
                    this.setPhetioInputEnabledPropertyInstrumented(e);
                  }
                  get phetioInputEnabledPropertyInstrumented() {
                    return this.getPhetioInputEnabledPropertyInstrumented();
                  }
                  getPhetioInputEnabledPropertyInstrumented() {
                    return this._inputEnabledProperty.getTargetPropertyInstrumented();
                  }
                  setInputEnabled(e) {
                    this.inputEnabledProperty.value = e;
                  }
                  set inputEnabled(e) {
                    this.setInputEnabled(e);
                  }
                  get inputEnabled() {
                    return this.isInputEnabled();
                  }
                  isInputEnabled() {
                    return this.inputEnabledProperty.value;
                  }
                  setInputListeners(e) {
                    for (; this._inputListeners.length; )
                      this.removeInputListener(this._inputListeners[0]);
                    for (let t = 0; t < e.length; t++)
                      this.addInputListener(e[t]);
                    return this;
                  }
                  set inputListeners(e) {
                    this.setInputListeners(e);
                  }
                  get inputListeners() {
                    return this.getInputListeners();
                  }
                  getInputListeners() {
                    return this._inputListeners.slice(0);
                  }
                  setCursor(e) {
                    this._cursor = "auto" === e ? null : e;
                  }
                  set cursor(e) {
                    this.setCursor(e);
                  }
                  get cursor() {
                    return this.getCursor();
                  }
                  getCursor() {
                    return this._cursor;
                  }
                  getEffectiveCursor() {
                    if (this._cursor) return this._cursor;
                    for (let e = 0; e < this._inputListeners.length; e++) {
                      const t = this._inputListeners[e];
                      if (t.cursor) return t.cursor;
                    }
                    return null;
                  }
                  setMouseArea(e) {
                    return (
                      this._mouseArea !== e &&
                        ((this._mouseArea = e),
                        this._picker.onMouseAreaChange()),
                      this
                    );
                  }
                  set mouseArea(e) {
                    this.setMouseArea(e);
                  }
                  get mouseArea() {
                    return this.getMouseArea();
                  }
                  getMouseArea() {
                    return this._mouseArea;
                  }
                  setTouchArea(e) {
                    return (
                      this._touchArea !== e &&
                        ((this._touchArea = e),
                        this._picker.onTouchAreaChange()),
                      this
                    );
                  }
                  set touchArea(e) {
                    this.setTouchArea(e);
                  }
                  get touchArea() {
                    return this.getTouchArea();
                  }
                  getTouchArea() {
                    return this._touchArea;
                  }
                  setClipArea(e) {
                    this.clipArea !== e &&
                      ((this.clipAreaProperty.value = e),
                      this.invalidateBounds(),
                      this._picker.onClipAreaChange());
                  }
                  set clipArea(e) {
                    this.setClipArea(e);
                  }
                  get clipArea() {
                    return this.getClipArea();
                  }
                  getClipArea() {
                    return this.clipAreaProperty.value;
                  }
                  hasClipArea() {
                    return null !== this.clipArea;
                  }
                  setRendererBitmask(e) {
                    e !== this._rendererBitmask &&
                      ((this._rendererBitmask = e),
                      this._rendererSummary.selfChange(),
                      this.instanceRefreshEmitter.emit());
                  }
                  invalidateSupportedRenderers() {}
                  invalidateHint() {
                    this.rendererSummaryRefreshEmitter.emit(),
                      this.instanceRefreshEmitter.emit();
                  }
                  setRenderer(e) {
                    let t = 0;
                    "canvas" === e
                      ? (t = xe.bitmaskCanvas)
                      : "svg" === e
                      ? (t = xe.bitmaskSVG)
                      : "dom" === e
                      ? (t = xe.bitmaskDOM)
                      : "webgl" === e && (t = xe.bitmaskWebGL),
                      this._hints.renderer !== t &&
                        ((this._hints.renderer = t), this.invalidateHint());
                  }
                  set renderer(e) {
                    this.setRenderer(e);
                  }
                  get renderer() {
                    return this.getRenderer();
                  }
                  getRenderer() {
                    return 0 === this._hints.renderer
                      ? null
                      : this._hints.renderer === xe.bitmaskCanvas
                      ? "canvas"
                      : this._hints.renderer === xe.bitmaskSVG
                      ? "svg"
                      : this._hints.renderer === xe.bitmaskDOM
                      ? "dom"
                      : this._hints.renderer === xe.bitmaskWebGL
                      ? "webgl"
                      : null;
                  }
                  setLayerSplit(e) {
                    e !== this._hints.layerSplit &&
                      ((this._hints.layerSplit = e), this.invalidateHint());
                  }
                  set layerSplit(e) {
                    this.setLayerSplit(e);
                  }
                  get layerSplit() {
                    return this.isLayerSplit();
                  }
                  isLayerSplit() {
                    return this._hints.layerSplit;
                  }
                  setUsesOpacity(e) {
                    e !== this._hints.usesOpacity &&
                      ((this._hints.usesOpacity = e), this.invalidateHint());
                  }
                  set usesOpacity(e) {
                    this.setUsesOpacity(e);
                  }
                  get usesOpacity() {
                    return this.getUsesOpacity();
                  }
                  getUsesOpacity() {
                    return this._hints.usesOpacity;
                  }
                  setCSSTransform(e) {
                    e !== this._hints.cssTransform &&
                      ((this._hints.cssTransform = e), this.invalidateHint());
                  }
                  set cssTransform(e) {
                    this.setCSSTransform(e);
                  }
                  get cssTransform() {
                    return this.isCSSTransformed();
                  }
                  isCSSTransformed() {
                    return this._hints.cssTransform;
                  }
                  setExcludeInvisible(e) {
                    e !== this._hints.excludeInvisible &&
                      ((this._hints.excludeInvisible = e),
                      this.invalidateHint());
                  }
                  set excludeInvisible(e) {
                    this.setExcludeInvisible(e);
                  }
                  get excludeInvisible() {
                    return this.isExcludeInvisible();
                  }
                  isExcludeInvisible() {
                    return this._hints.excludeInvisible;
                  }
                  setExcludeInvisibleChildrenFromBounds(e) {
                    e !== this._excludeInvisibleChildrenFromBounds &&
                      ((this._excludeInvisibleChildrenFromBounds = e),
                      this.invalidateBounds());
                  }
                  set excludeInvisibleChildrenFromBounds(e) {
                    this.setExcludeInvisibleChildrenFromBounds(e);
                  }
                  get excludeInvisibleChildrenFromBounds() {
                    return this.isExcludeInvisibleChildrenFromBounds();
                  }
                  isExcludeInvisibleChildrenFromBounds() {
                    return this._excludeInvisibleChildrenFromBounds;
                  }
                  setLayoutOptions(e) {
                    e !== this._layoutOptions &&
                      ((this._layoutOptions = e),
                      this.layoutOptionsChangedEmitter.emit());
                  }
                  set layoutOptions(e) {
                    this.setLayoutOptions(e);
                  }
                  get layoutOptions() {
                    return this.getLayoutOptions();
                  }
                  getLayoutOptions() {
                    return this._layoutOptions;
                  }
                  mutateLayoutOptions(e) {
                    this.layoutOptions = (0, Ae.lB)()(
                      {},
                      this.layoutOptions || {},
                      e
                    );
                  }
                  get widthSizable() {
                    return !1;
                  }
                  get heightSizable() {
                    return !1;
                  }
                  get extendsWidthSizable() {
                    return !1;
                  }
                  get extendsHeightSizable() {
                    return !1;
                  }
                  get extendsSizable() {
                    return !1;
                  }
                  setPreventFit(e) {
                    e !== this._hints.preventFit &&
                      ((this._hints.preventFit = e), this.invalidateHint());
                  }
                  set preventFit(e) {
                    this.setPreventFit(e);
                  }
                  get preventFit() {
                    return this.isPreventFit();
                  }
                  isPreventFit() {
                    return this._hints.preventFit;
                  }
                  setWebGLScale(e) {
                    e !== this._hints.webglScale &&
                      ((this._hints.webglScale = e), this.invalidateHint());
                  }
                  set webglScale(e) {
                    this.setWebGLScale(e);
                  }
                  get webglScale() {
                    return this.getWebGLScale();
                  }
                  getWebGLScale() {
                    return this._hints.webglScale;
                  }
                  getUniqueTrail(e) {
                    if (e) {
                      const t = this.getTrails(e);
                      return t[0];
                    }
                    {
                      const e = new nn();
                      let t = this;
                      for (; t; ) e.addAncestor(t), (t = t._parents[0]);
                      return e;
                    }
                  }
                  getUniqueTrailTo(e) {
                    return this.getUniqueTrail((t) => e === t);
                  }
                  getTrails(e) {
                    e = e || Is.defaultTrailPredicate;
                    const t = [],
                      i = new nn(this);
                    return nn.appendAncestorTrailsWithPredicate(t, i, e), t;
                  }
                  getTrailsTo(e) {
                    return this.getTrails((t) => t === e);
                  }
                  getLeafTrails(e) {
                    e = e || Is.defaultLeafTrailPredicate;
                    const t = [],
                      i = new nn(this);
                    return nn.appendDescendantTrailsWithPredicate(t, i, e), t;
                  }
                  getLeafTrailsTo(e) {
                    return this.getLeafTrails((t) => t === e);
                  }
                  getUniqueLeafTrail(e) {
                    const t = this.getLeafTrails(e);
                    return t[0];
                  }
                  getUniqueLeafTrailTo(e) {
                    return this.getUniqueLeafTrail((t) => t === e);
                  }
                  getConnectedNodes() {
                    const e = [];
                    let t = this._children.concat(this._parents).concat(this);
                    for (; t.length; ) {
                      const i = t.pop();
                      _.includes(e, i) ||
                        (e.push(i), (t = t.concat(i._children, i._parents)));
                    }
                    return e;
                  }
                  getSubtreeNodes() {
                    const e = [];
                    let t = this._children.concat(this);
                    for (; t.length; ) {
                      const i = t.pop();
                      _.includes(e, i) ||
                        (e.push(i), (t = t.concat(i._children)));
                    }
                    return e;
                  }
                  getTopologicallySortedNodes() {
                    const e = {},
                      t = [],
                      i = [];
                    let s;
                    function n(i) {
                      delete e[s.id][i.id],
                        _.every(e, (e) => !e[i.id]) && t.push(i);
                    }
                    for (
                      _.each(this.getConnectedNodes(), (i) => {
                        (e[i.id] = {}),
                          _.each(i._children, (t) => {
                            e[i.id][t.id] = !0;
                          }),
                          i.parents.length || t.push(i);
                      });
                      t.length;

                    )
                      (s = t.pop()), i.push(s), _.each(s._children, n);
                    return i;
                  }
                  canAddChild(e) {
                    if (this === e || _.includes(this._children, e)) return !1;
                    const t = {},
                      i = [],
                      s = [];
                    let n;
                    function r(e) {
                      delete t[n.id][e.id],
                        _.every(t, (t) => !t[e.id]) && i.push(e);
                    }
                    for (
                      _.each(
                        this.getConnectedNodes().concat(e.getConnectedNodes()),
                        (s) => {
                          (t[s.id] = {}),
                            _.each(s._children, (e) => {
                              t[s.id][e.id] = !0;
                            }),
                            s.parents.length || s === e || i.push(s);
                        }
                      ),
                        t[this.id][e.id] = !0;
                      i.length;

                    )
                      (n = i.pop()),
                        s.push(n),
                        _.each(n._children, r),
                        n === this && r(e);
                    return _.every(t, (e) => _.every(e, (e) => !1));
                  }
                  canvasPaintSelf(e, t) {}
                  renderToCanvasSelf(e, t) {
                    this.isPainted() &&
                      this._rendererBitmask & xe.bitmaskCanvas &&
                      this.canvasPaintSelf(e, t);
                  }
                  renderToCanvasSubtree(e, t) {
                    (t = t || Le.Z.identity()),
                      e.resetStyles(),
                      this.renderToCanvasSelf(e, t);
                    for (let i = 0; i < this._children.length; i++) {
                      const s = this._children[i];
                      if (s.isVisible() && s.bounds.isValid()) {
                        const i =
                          1 !== s.effectiveOpacity ||
                          s.clipArea ||
                          s._filters.length;
                        if (
                          (e.context.save(),
                          t.multiplyMatrix(s._transform.getMatrix()),
                          t.canvasSetTransform(e.context),
                          i)
                        ) {
                          const i = s.localBounds
                            .transformed(t)
                            .dilate(4)
                            .roundOut()
                            .constrainBounds(
                              ws.setMinMax(
                                0,
                                0,
                                e.canvas.width,
                                e.canvas.height
                              )
                            );
                          if (i.width > 0 && i.height > 0) {
                            const n = document.createElement("canvas");
                            (n.width = i.width), (n.height = i.height);
                            const r = n.getContext("2d"),
                              o = new At(n, r),
                              a = t.copy().prependTranslation(-i.minX, -i.minY);
                            a.canvasSetTransform(r),
                              s.renderToCanvasSubtree(o, a),
                              e.context.save(),
                              s.clipArea &&
                                (e.context.beginPath(),
                                s.clipArea.writeToContext(e.context),
                                e.context.clip()),
                              e.context.setTransform(1, 0, 0, 1, 0, 0),
                              (e.context.globalAlpha = s.effectiveOpacity);
                            let h = !1;
                            s._filters.length &&
                              (me.canvasFilter &&
                              _.every(s._filters, (e) => e.isDOMCompatible())
                                ? ((e.context.filter = s._filters
                                    .map((e) => e.getCSSFilterString())
                                    .join(" ")),
                                  (h = !0))
                                : s._filters.forEach((e) =>
                                    e.applyCanvasFilter(o)
                                  )),
                              e.context.drawImage(n, i.minX, i.minY),
                              e.context.restore(),
                              h && (e.context.filter = "none");
                          }
                        } else s.renderToCanvasSubtree(e, t);
                        t.multiplyMatrix(s._transform.getInverse()),
                          e.context.restore();
                      }
                    }
                  }
                  renderToCanvas(e, t, i, s) {
                    (e.width = e.width),
                      s &&
                        ((t.fillStyle = s),
                        t.fillRect(0, 0, e.width, e.height));
                    const n = new At(e, t);
                    this.renderToCanvasSubtree(n, Le.Z.identity()), i && i();
                  }
                  toCanvas(e, t, i, s, n) {
                    const r = this.getBounds().union(
                      this.localToParentBounds(this.getSafeSelfBounds())
                    );
                    (t = void 0 !== t ? t : Math.ceil(2 - r.minX)),
                      (i = void 0 !== i ? i : Math.ceil(2 - r.minY)),
                      (s = void 0 !== s ? s : Math.ceil(r.getWidth() + 4)),
                      (n = void 0 !== n ? n : Math.ceil(r.getHeight() + 4));
                    const o = document.createElement("canvas");
                    (o.width = s), (o.height = n);
                    const a = o.getContext("2d");
                    a.translate(t, i),
                      this._transform.getMatrix().canvasAppendTransform(a);
                    const h = new At(o, a);
                    this.renderToCanvasSubtree(
                      h,
                      Le.Z.translation(t, i).timesMatrix(
                        this._transform.getMatrix()
                      )
                    ),
                      e(o, t, i, s, n);
                  }
                  toDataURL(e, t, i, s, n) {
                    this.toCanvas(
                      (t, i, s, n, r) => {
                        e(t.toDataURL(), i, s, n, r);
                      },
                      t,
                      i,
                      s,
                      n
                    );
                  }
                  toImage(e, t, i, s, n) {
                    this.toDataURL(
                      (t, i, s) => {
                        const n = document.createElement("img");
                        (n.onload = () => {
                          e(n, i, s);
                          try {
                            delete n.onload;
                          } catch (t) {}
                        }),
                          (n.src = t);
                      },
                      t,
                      i,
                      s,
                      n
                    );
                  }
                  toImageNodeAsynchronous(e, t, i, s, n) {
                    this.toImage(
                      (t, i, s) => {
                        e(new Is({ children: [new En(t, { x: -i, y: -s })] }));
                      },
                      t,
                      i,
                      s,
                      n
                    );
                  }
                  toCanvasNodeSynchronous(e, t, i, s) {
                    let n = null;
                    return (
                      this.toCanvas(
                        (e, t, i) => {
                          n = new Is({
                            children: [new En(e, { x: -t, y: -i })],
                          });
                        },
                        e,
                        t,
                        i,
                        s
                      ),
                      n
                    );
                  }
                  toDataURLImageSynchronous(e, t, i, s) {
                    let n = null;
                    return (
                      this.toDataURL(
                        (e, t, i, s, r) => {
                          n = new En(e, {
                            x: -t,
                            y: -i,
                            initialWidth: s,
                            initialHeight: r,
                          });
                        },
                        e,
                        t,
                        i,
                        s
                      ),
                      n
                    );
                  }
                  toDataURLNodeSynchronous(e, t, i, s) {
                    return new Is({
                      children: [this.toDataURLImageSynchronous(e, t, i, s)],
                    });
                  }
                  rasterized(e) {
                    const t = (0, Ae.ZP)()(
                        {
                          resolution: 1,
                          sourceBounds: null,
                          useTargetBounds: !0,
                          wrap: !0,
                          useCanvas: !1,
                          imageOptions: {},
                        },
                        e
                      ),
                      i = t.resolution,
                      s = t.sourceBounds;
                    const n = new Is({ scale: i, children: [this] });
                    let r =
                      s ||
                      this.getSafeTransformedVisibleBounds()
                        .dilated(2)
                        .roundedOut();
                    1 !== i &&
                      ((r = new Oe.Z(
                        i * r.minX,
                        i * r.minY,
                        i * r.maxX,
                        i * r.maxY
                      )),
                      r.width % 1 != 0 && (r.maxX += 1 - (r.width % 1)),
                      r.height % 1 != 0 && (r.maxY += 1 - (r.height % 1)));
                    let o = null;
                    n.toCanvas(
                      function (e, s, n, r, a) {
                        const h = t.useCanvas ? e : e.toDataURL();
                        (o = new En(
                          h,
                          (0, Ae.JA)({}, t.imageOptions, {
                            x: -s,
                            y: -n,
                            initialWidth: r,
                            initialHeight: a,
                          })
                        )),
                          o.scale(1 / i, 1 / i, !0);
                      },
                      -r.minX,
                      -r.minY,
                      U.Z.roundSymmetric(r.width),
                      U.Z.roundSymmetric(r.height)
                    ),
                      n.dispose();
                    let a = this.getVisibleBounds();
                    if (
                      (s && (a = s.intersection(a)),
                      t.useTargetBounds &&
                        (o.imageBounds = o.parentToLocalBounds(a)),
                      t.wrap)
                    ) {
                      const e = new Is({ children: [o] });
                      return t.useTargetBounds && (e.localBounds = a), e;
                    }
                    return (
                      t.useTargetBounds &&
                        (o.localBounds = o.parentToLocalBounds(a)),
                      o
                    );
                  }
                  createDOMDrawable(e, t) {
                    throw new Error(
                      "createDOMDrawable is abstract. The subtype should either override this method, or not support the DOM renderer"
                    );
                  }
                  createSVGDrawable(e, t) {
                    throw new Error(
                      "createSVGDrawable is abstract. The subtype should either override this method, or not support the DOM renderer"
                    );
                  }
                  createCanvasDrawable(e, t) {
                    throw new Error(
                      "createCanvasDrawable is abstract. The subtype should either override this method, or not support the DOM renderer"
                    );
                  }
                  createWebGLDrawable(e, t) {
                    throw new Error(
                      "createWebGLDrawable is abstract. The subtype should either override this method, or not support the DOM renderer"
                    );
                  }
                  getInstances() {
                    return this._instances;
                  }
                  get instances() {
                    return this.getInstances();
                  }
                  addInstance(e) {
                    this._instances.push(e),
                      this.changedInstanceEmitter.emit(e, !0);
                  }
                  removeInstance(e) {
                    const t = _.indexOf(this._instances, e);
                    this._instances.splice(t, 1),
                      this.changedInstanceEmitter.emit(e, !1);
                  }
                  wasVisuallyDisplayed(e) {
                    for (let t = 0; t < this._instances.length; t++) {
                      const i = this._instances[t];
                      if (i.visible && (!e || i.display === e)) return !0;
                    }
                    return !1;
                  }
                  getRootedDisplays() {
                    return this._rootedDisplays;
                  }
                  get rootedDisplays() {
                    return this.getRootedDisplays();
                  }
                  addRootedDisplay(e) {
                    this._rootedDisplays.push(e),
                      this._pdomDisplaysInfo.onAddedRootedDisplay(e);
                  }
                  removeRootedDisplay(e) {
                    const t = _.indexOf(this._rootedDisplays, e);
                    this._rootedDisplays.splice(t, 1),
                      this._pdomDisplaysInfo.onRemovedRootedDisplay(e);
                  }
                  getRecursiveConnectedDisplays(e) {
                    this.rootedDisplays.length &&
                      e.push(...this.rootedDisplays);
                    for (let t = 0; t < this._parents.length; t++)
                      e.push(
                        ...this._parents[t].getRecursiveConnectedDisplays(e)
                      );
                    return _.uniq(e);
                  }
                  getConnectedDisplays() {
                    return _.uniq(this.getRecursiveConnectedDisplays([]));
                  }
                  localToParentPoint(e) {
                    return this._transform.transformPosition2(e);
                  }
                  localToParentBounds(e) {
                    return this._transform.transformBounds2(e);
                  }
                  parentToLocalPoint(e) {
                    return this._transform.inversePosition2(e);
                  }
                  parentToLocalBounds(e) {
                    return this._transform.inverseBounds2(e);
                  }
                  transformBoundsFromLocalToParent(e) {
                    return e.transform(this._transform.getMatrix());
                  }
                  transformBoundsFromParentToLocal(e) {
                    return e.transform(this._transform.getInverse());
                  }
                  getLocalToGlobalMatrix() {
                    let e = this;
                    const t = [];
                    for (; e; )
                      t.push(e._transform.getMatrix()), (e = e._parents[0]);
                    const i = Le.Z.identity();
                    for (let s = t.length - 1; s >= 0; s--)
                      i.multiplyMatrix(t[s]);
                    return i;
                  }
                  getUniqueTransform() {
                    return new Be.Z(this.getLocalToGlobalMatrix());
                  }
                  getGlobalToLocalMatrix() {
                    return this.getLocalToGlobalMatrix().invert();
                  }
                  localToGlobalPoint(e) {
                    let t = this;
                    const i = e.copy();
                    for (; t; )
                      t._transform.getMatrix().multiplyVector2(i),
                        (t = t._parents[0]);
                    return i;
                  }
                  globalToLocalPoint(e) {
                    let t = this;
                    const i = [];
                    for (; t; ) i.push(t._transform), (t = t._parents[0]);
                    const s = e.copy();
                    for (let n = i.length - 1; n >= 0; n--)
                      i[n].getInverse().multiplyVector2(s);
                    return s;
                  }
                  localToGlobalBounds(e) {
                    return e.transformed(this.getLocalToGlobalMatrix());
                  }
                  globalToLocalBounds(e) {
                    return e.transformed(this.getGlobalToLocalMatrix());
                  }
                  parentToGlobalPoint(e) {
                    return this.parents.length
                      ? this.parents[0].localToGlobalPoint(e)
                      : e;
                  }
                  parentToGlobalBounds(e) {
                    return this.parents.length
                      ? this.parents[0].localToGlobalBounds(e)
                      : e;
                  }
                  globalToParentPoint(e) {
                    return this.parents.length
                      ? this.parents[0].globalToLocalPoint(e)
                      : e;
                  }
                  globalToParentBounds(e) {
                    return this.parents.length
                      ? this.parents[0].globalToLocalBounds(e)
                      : e;
                  }
                  getGlobalBounds() {
                    return this.parentToGlobalBounds(this.getBounds());
                  }
                  get globalBounds() {
                    return this.getGlobalBounds();
                  }
                  boundsOf(e) {
                    return this.globalToLocalBounds(e.getGlobalBounds());
                  }
                  boundsTo(e) {
                    return e.globalToLocalBounds(this.getGlobalBounds());
                  }
                  attachDrawable(e) {
                    return this._drawables.push(e), this;
                  }
                  detachDrawable(e) {
                    const t = _.indexOf(this._drawables, e);
                    return this._drawables.splice(t, 1), this;
                  }
                  mutate(e) {
                    return e
                      ? (_.each(this._mutatorKeys, (t) => {
                          if (void 0 !== e[t]) {
                            const i = Object.getOwnPropertyDescriptor(
                              Is.prototype,
                              t
                            );
                            i && "function" == typeof i.value
                              ? this[t](e[t])
                              : (this[t] = e[t]);
                          }
                        }),
                        this.initializePhetioObject(
                          { phetioType: Is.NodeIO, phetioState: !1 },
                          e
                        ),
                        this)
                      : this;
                  }
                  initializePhetioObject(e, t) {
                    const i = this.isPhetioInstrumented();
                    super.initializePhetioObject(e, t),
                      fe.Z.PHET_IO_ENABLED &&
                        !i &&
                        this.isPhetioInstrumented() &&
                        (this._visibleProperty.initializePhetio(
                          this,
                          "visibleProperty",
                          () =>
                            new Dt.Z(
                              this.visible,
                              (0, Ae.JA)(
                                {
                                  phetioReadOnly: this.phetioReadOnly,
                                  tandem:
                                    this.tandem.createTandem("visibleProperty"),
                                  phetioDocumentation:
                                    "Controls whether the Node will be visible (and interactive).",
                                },
                                t.visiblePropertyOptions
                              )
                            )
                        ),
                        this._enabledProperty.initializePhetio(
                          this,
                          Ss,
                          () =>
                            new ys.Z(
                              this.enabled,
                              (0, Ae.JA)(
                                {
                                  phetioReadOnly: this.phetioReadOnly,
                                  phetioDocumentation:
                                    'Sets whether the node is enabled. This will set whether input is enabled for this Node and most often children as well. It will also control and toggle the "disabled look" of the node.',
                                  tandem: this.tandem.createTandem(Ss),
                                },
                                t.enabledPropertyOptions
                              )
                            )
                        ),
                        this._inputEnabledProperty.initializePhetio(
                          this,
                          "inputEnabledProperty",
                          () =>
                            new yt.Z(
                              this.inputEnabled,
                              (0, Ae.JA)(
                                {
                                  phetioReadOnly: this.phetioReadOnly,
                                  tandem: this.tandem.createTandem(
                                    "inputEnabledProperty"
                                  ),
                                  phetioValueType: ot.Z,
                                  phetioFeatured: !0,
                                  phetioDocumentation:
                                    "Sets whether the element will have input enabled, and hence be interactive.",
                                },
                                t.inputEnabledPropertyOptions
                              )
                            )
                        ));
                  }
                  setVoicingVisible(e) {
                    this.voicingVisibleProperty.value !== e &&
                      (this.voicingVisibleProperty.value = e);
                  }
                  set voicingVisible(e) {
                    this.setVoicingVisible(e);
                  }
                  get voicingVisible() {
                    return this.isVoicingVisible();
                  }
                  isVoicingVisible() {
                    return this.voicingVisibleProperty.value;
                  }
                  getDebugHTMLExtras() {
                    return "";
                  }
                  inspect() {
                    localStorage.scenerySnapshot = JSON.stringify({
                      type: "Subtree",
                      rootNodeId: this.id,
                      nodes: Ad(this),
                    });
                  }
                  toString(e, t) {
                    return `${this.constructor.name}#${this.id}`;
                  }
                  auditInstanceSubtreeForDisplay(e) {
                    0;
                  }
                  onBoundsListenersAddedOrRemoved(e) {
                    this.changeBoundsEventCount(e),
                      (this._boundsEventSelfCount += e);
                  }
                  dispose() {
                    this.disposeParallelDOM(),
                      this.removeAllChildren(),
                      this.detach(),
                      this._inputEnabledProperty.dispose(),
                      this._enabledProperty.dispose(),
                      this._pickableProperty.dispose(),
                      this._visibleProperty.dispose(),
                      super.dispose();
                  }
                  disposeSubtree() {
                    if (!this.isDisposed) {
                      const e = this.children;
                      this.dispose();
                      for (let t = 0; t < e.length; t++) e[t].disposeSubtree();
                    }
                  }
                  static defaultTrailPredicate(e) {
                    return 0 === e._parents.length;
                  }
                  static defaultLeafTrailPredicate(e) {
                    return 0 === e._children.length;
                  }
                }
                _defineProperty(Is, "REQUIRES_BOUNDS_OPTION_KEYS", Ts),
                  _defineProperty(Is, "DEFAULT_NODE_OPTIONS", Cs),
                  (Is.prototype._mutatorKeys = ms.concat(xs)),
                  (Is.prototype.drawableMarkFlags = []),
                  G.register("Node", Is),
                  (Is.NodeIO = new j.Z("NodeIO", {
                    valueType: Is,
                    documentation:
                      "The base type for graphical and potentially interactive objects.",
                    metadataDefaults: { phetioState: !1 },
                  }));
                const Ds = Is;
                class ks {
                  constructor(e) {
                    (this.node = e),
                      (this.selfPruned = !1),
                      (this.selfInclusive = !1),
                      (this.subtreePrunable = !0),
                      (this.subtreePickableCount = 0),
                      (this.mouseInclusiveBounds = Oe.Z.NOTHING.copy()),
                      (this.mouseExclusiveBounds = Oe.Z.NOTHING.copy()),
                      (this.touchInclusiveBounds = Oe.Z.NOTHING.copy()),
                      (this.touchExclusiveBounds = Oe.Z.NOTHING.copy()),
                      (this.mouseInclusiveDirty = !0),
                      (this.mouseExclusiveDirty = !0),
                      (this.touchInclusiveDirty = !0),
                      (this.touchExclusiveDirty = !0),
                      (this.scratchVector = new Me.Z(0, 0));
                  }
                  hitTest(e, t, i) {
                    const s = this.selfInclusive;
                    return (
                      t
                        ? s
                          ? this.validateMouseInclusive()
                          : this.validateMouseExclusive()
                        : i
                        ? s
                          ? this.validateTouchInclusive()
                          : this.validateTouchExclusive()
                        : this.node.validateBounds(),
                      this.recursiveHitTest(e, t, i, !1)
                    );
                  }
                  recursiveHitTest(e, t, i, s) {
                    if (
                      ((s = s || this.selfInclusive),
                      this.selfPruned || (!s && this.subtreePrunable))
                    )
                      return null;
                    let n;
                    if (
                      ((n = t
                        ? s
                          ? this.mouseInclusiveBounds
                          : this.mouseExclusiveBounds
                        : i
                        ? s
                          ? this.touchInclusiveBounds
                          : this.touchExclusiveBounds
                        : this.node.bounds),
                      !n.containsPoint(e))
                    )
                      return null;
                    const r = this.node._transform
                        .getInverse()
                        .multiplyVector2(this.scratchVector.set(e)),
                      o = this.node.clipArea;
                    if (null !== o && !o.containsPoint(r)) return null;
                    for (let a = this.node._children.length - 1; a >= 0; a--) {
                      const e = this.node._children[a]._picker.recursiveHitTest(
                        r,
                        t,
                        i,
                        s
                      );
                      if (e) return e.addAncestor(this.node, a);
                    }
                    return t && this.node._mouseArea
                      ? this.node._mouseArea.containsPoint(r)
                        ? new nn(this.node)
                        : null
                      : i && this.node._touchArea
                      ? this.node._touchArea.containsPoint(r)
                        ? new nn(this.node)
                        : null
                      : this.node.selfBounds.containsPoint(r) &&
                        this.node.containsPointSelf(r)
                      ? new nn(this.node)
                      : null;
                  }
                  invalidate(e, t) {
                    let i =
                      !!t ||
                      !this.mouseInclusiveDirty ||
                      !this.touchInclusiveDirty;
                    if (
                      ((this.mouseInclusiveDirty = !0),
                      (this.touchInclusiveDirty = !0),
                      e &&
                        ((i =
                          i ||
                          !this.mouseExclusiveDirty ||
                          !this.touchExclusiveDirty),
                        (this.mouseExclusiveDirty = !0),
                        (this.touchExclusiveDirty = !0)),
                      !this.selfPruned && i)
                    ) {
                      const t = this.node._parents;
                      for (let i = 0; i < t.length; i++)
                        t[i]._picker.invalidate(e || this.selfInclusive, !1);
                    }
                  }
                  validateMouseInclusive() {
                    if (!this.mouseInclusiveDirty) return;
                    this.mouseInclusiveBounds.set(this.node.selfBounds);
                    const e = this.node._children;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t]._picker;
                      i.selfPruned ||
                        (i.validateMouseInclusive(),
                        this.mouseInclusiveBounds.includeBounds(
                          i.mouseInclusiveBounds
                        ));
                    }
                    this.applyAreasAndTransform(
                      this.mouseInclusiveBounds,
                      this.node._mouseArea
                    ),
                      (this.mouseInclusiveDirty = !1);
                  }
                  validateMouseExclusive() {
                    if (!this.mouseExclusiveDirty) return;
                    this.mouseExclusiveBounds.set(this.node.selfBounds);
                    const e = this.node._children;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t]._picker;
                      i.subtreePrunable ||
                        (i.selfInclusive
                          ? (i.validateMouseInclusive(),
                            this.mouseExclusiveBounds.includeBounds(
                              i.mouseInclusiveBounds
                            ))
                          : (i.validateMouseExclusive(),
                            this.mouseExclusiveBounds.includeBounds(
                              i.mouseExclusiveBounds
                            )));
                    }
                    this.applyAreasAndTransform(
                      this.mouseExclusiveBounds,
                      this.node._mouseArea
                    ),
                      (this.mouseExclusiveDirty = !1);
                  }
                  validateTouchInclusive() {
                    if (!this.touchInclusiveDirty) return;
                    this.touchInclusiveBounds.set(this.node.selfBounds);
                    const e = this.node._children;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t]._picker;
                      i.selfPruned ||
                        (i.validateTouchInclusive(),
                        this.touchInclusiveBounds.includeBounds(
                          i.touchInclusiveBounds
                        ));
                    }
                    this.applyAreasAndTransform(
                      this.touchInclusiveBounds,
                      this.node._touchArea
                    ),
                      (this.touchInclusiveDirty = !1);
                  }
                  validateTouchExclusive() {
                    if (!this.touchExclusiveDirty) return;
                    this.touchExclusiveBounds.set(this.node.selfBounds);
                    const e = this.node._children;
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t]._picker;
                      i.subtreePrunable ||
                        (i.selfInclusive
                          ? (i.validateTouchInclusive(),
                            this.touchExclusiveBounds.includeBounds(
                              i.touchInclusiveBounds
                            ))
                          : (i.validateTouchExclusive(),
                            this.touchExclusiveBounds.includeBounds(
                              i.touchExclusiveBounds
                            )));
                    }
                    this.applyAreasAndTransform(
                      this.touchExclusiveBounds,
                      this.node._touchArea
                    ),
                      (this.touchExclusiveDirty = !1);
                  }
                  applyAreasAndTransform(e, t) {
                    t && e.includeBounds(t instanceof Oe.Z ? t : t.bounds);
                    const i = this.node.clipArea;
                    if (i) {
                      const t = i.bounds;
                      (e.minX = Math.max(e.minX, t.minX)),
                        (e.minY = Math.max(e.minY, t.minY)),
                        (e.maxX = Math.min(e.maxX, t.maxX)),
                        (e.maxY = Math.min(e.maxY, t.maxY));
                    }
                    this.node.transformBoundsFromLocalToParent(e);
                  }
                  onInsertChild(e) {
                    if (!e._picker.selfPruned) {
                      const t = e._picker.subtreePickableCount > 0;
                      t && this.changePickableCount(1), this.invalidate(t, !0);
                    }
                  }
                  onRemoveChild(e) {
                    if (!e._picker.selfPruned) {
                      const t = e._picker.subtreePickableCount > 0;
                      t && this.changePickableCount(-1), this.invalidate(t, !0);
                    }
                  }
                  onAddInputListener() {
                    this.checkSelfInclusive(),
                      this.checkSubtreePrunable(),
                      this.changePickableCount(1);
                  }
                  onRemoveInputListener() {
                    this.checkSelfInclusive(),
                      this.checkSubtreePrunable(),
                      this.changePickableCount(-1);
                  }
                  onPickableChange(e, t) {
                    this.checkSelfPruned(),
                      this.checkSelfInclusive(),
                      this.checkSubtreePrunable();
                    const i = (!0 === e ? -1 : 0) + (!0 === t ? 1 : 0);
                    i && this.changePickableCount(i);
                  }
                  onVisibilityChange() {
                    this.checkSelfPruned(), this.checkSubtreePrunable();
                  }
                  onMouseAreaChange() {
                    this.invalidate(!0);
                  }
                  onTouchAreaChange() {
                    this.invalidate(!0);
                  }
                  onTransformChange() {
                    this.invalidate(!0);
                  }
                  onSelfBoundsDirty() {
                    this.invalidate(!0);
                  }
                  onClipAreaChange() {
                    this.invalidate(!0);
                  }
                  checkSelfPruned() {
                    const e =
                      !1 === this.node.pickableProperty.value ||
                      !this.node.isVisible();
                    if (this.selfPruned !== e) {
                      this.selfPruned = e;
                      const t = this.node._parents;
                      for (let e = 0; e < t.length; e++) {
                        const i = t[e]._picker;
                        this.subtreePickableCount > 0
                          ? (i.invalidate(!0, !0),
                            i.changePickableCount(this.selfPruned ? -1 : 1))
                          : i.invalidate(!1, !0);
                      }
                    }
                  }
                  checkSelfInclusive() {
                    const e =
                      !0 === this.node.pickableProperty.value ||
                      this.node._inputListeners.length > 0;
                    this.selfInclusive !== e &&
                      ((this.selfInclusive = e), this.invalidate(!0, !0));
                  }
                  checkSubtreePrunable() {
                    const e =
                      !1 === this.node.pickableProperty.value ||
                      !this.node.isVisible() ||
                      (!0 !== this.node.pickableProperty.value &&
                        0 === this.subtreePickableCount);
                    this.subtreePrunable !== e &&
                      ((this.subtreePrunable = e), this.invalidate(!0, !0));
                  }
                  changePickableCount(e) {
                    if (0 === e) return;
                    const t = 0 === this.subtreePickableCount;
                    this.subtreePickableCount += e;
                    const i = 0 === this.subtreePickableCount;
                    if (
                      (this.checkSubtreePrunable(), !this.selfPruned && t !== i)
                    ) {
                      const e = this.node._parents.length;
                      for (let i = 0; i < e; i++)
                        this.node._parents[i]._picker.changePickableCount(
                          t ? 1 : -1
                        );
                    }
                  }
                  audit() {
                    0;
                  }
                }
                G.register("Picker", ks);
                const Os = [
                    xe.bitmaskCanvas,
                    xe.bitmaskSVG,
                    xe.bitmaskDOM,
                    xe.bitmaskWebGL,
                    xe.bitmaskSingleCanvas,
                    xe.bitmaskSingleSVG,
                    xe.bitmaskNotPainted,
                    xe.bitmaskBoundsValid,
                    xe.bitmaskNoPDOM,
                    xe.bitmaskLacksCanvas,
                    xe.bitmaskLacksSVG,
                    xe.bitmaskLacksDOM,
                    xe.bitmaskLacksWebGL,
                  ],
                  Ls = Os.length;
                let Bs = 0;
                for (let _ = 0; _ < Ls; _++) Bs |= Os[_];
                class Ms {
                  constructor(e) {
                    (this.node = e), (this._counts = {});
                    for (let i = 0; i < Ls; i++) this._counts[Os[i]] = 0;
                    (this.bitmask = Bs),
                      (this.selfBitmask = Ms.summaryBitmaskForNodeSelf(e)),
                      this.summaryChange(this.bitmask, this.selfBitmask);
                    const t = this.selfChange.bind(this);
                    this.node.filterChangeEmitter.addListener(t),
                      this.node.clipAreaProperty.lazyLink(t),
                      this.node.rendererSummaryRefreshEmitter.addListener(t);
                  }
                  summaryChange(e, t) {
                    const i = e ^ t;
                    let s = 0,
                      n = 0;
                    for (let r = 0; r < Ls; r++) {
                      const e = Os[r];
                      e & i &&
                        (e & t
                          ? (this._counts[e]--,
                            0 === this._counts[e] && (n |= e))
                          : (this._counts[e]++,
                            1 === this._counts[e] && (s |= e)));
                    }
                    if (s || n) {
                      const e = this.bitmask;
                      for (let i = 0; i < Ls; i++) {
                        const e = Os[i];
                        n & e && (this.bitmask |= e),
                          s & e && (this.bitmask ^= e);
                      }
                      this.node.instanceRefreshEmitter.emit(),
                        this.node.onSummaryChange(e, this.bitmask);
                      const t = this.node._parents.length;
                      for (let i = 0; i < t; i++)
                        this.node._parents[i]._rendererSummary.summaryChange(
                          s,
                          n
                        );
                    }
                  }
                  selfChange() {
                    const e = this.selfBitmask,
                      t = Ms.summaryBitmaskForNodeSelf(this.node);
                    e !== t &&
                      (this.summaryChange(e, t), (this.selfBitmask = t));
                  }
                  computeBitmask() {
                    let e = 0;
                    for (let t = 0; t < Ls; t++)
                      0 === this._counts[Os[t]] && (e |= Os[t]);
                    return e;
                  }
                  isSubtreeFullyCompatible(e) {
                    return !!(e & this.bitmask);
                  }
                  isSubtreeContainingCompatible(e) {
                    return !((e << xe.bitmaskLacksShift) & this.bitmask);
                  }
                  isSingleCanvasSupported() {
                    return !!(xe.bitmaskSingleCanvas & this.bitmask);
                  }
                  isSingleSVGSupported() {
                    return !!(xe.bitmaskSingleSVG & this.bitmask);
                  }
                  isNotPainted() {
                    return !!(xe.bitmaskNotPainted & this.bitmask);
                  }
                  hasNoPDOM() {
                    return !!(xe.bitmaskNoPDOM & this.bitmask);
                  }
                  areBoundsValid() {
                    return !!(xe.bitmaskBoundsValid & this.bitmask);
                  }
                  isSubtreeRenderedExclusivelySVG(e) {
                    if (!this.isSingleSVGSupported()) return !1;
                    for (let t = 0; t < xe.numActiveRenderers; t++) {
                      const i = xe.bitmaskOrder(e, t);
                      if (xe.bitmaskSVG & i) return !0;
                      if (this.isSubtreeContainingCompatible(i)) return !1;
                    }
                    return !1;
                  }
                  isSubtreeRenderedExclusivelyCanvas(e) {
                    if (!this.isSingleCanvasSupported()) return !1;
                    for (let t = 0; t < xe.numActiveRenderers; t++) {
                      const i = xe.bitmaskOrder(e, t);
                      if (xe.bitmaskCanvas & i) return !0;
                      if (this.isSubtreeContainingCompatible(i)) return !1;
                    }
                    return !1;
                  }
                  audit() {
                    0;
                  }
                  toString() {
                    let e = Ms.bitmaskToString(this.bitmask);
                    for (let t = 0; t < Ls; t++) {
                      const i = Os[t],
                        s = this._counts[i];
                      0 !== s && (e += ` ${Ms.bitToString(i)}:${s}`);
                    }
                    return e;
                  }
                  static summaryBitmaskForNodeSelf(e) {
                    let t = e._rendererBitmask;
                    e.isPainted()
                      ? (t |=
                          ((e._rendererBitmask &
                            xe.bitmaskCurrentRendererArea) ^
                            xe.bitmaskCurrentRendererArea) <<
                          xe.bitmaskLacksShift)
                      : (t |=
                          xe.bitmaskCurrentRendererArea <<
                          xe.bitmaskLacksShift);
                    const i = e._hints.cssTransform || e._hints.layerSplit,
                      s = e._hints.renderer;
                    return (
                      i ||
                        !xe.isSVG(e._rendererBitmask) ||
                        (s && !xe.isSVG(s)) ||
                        (t |= xe.bitmaskSingleSVG),
                      i ||
                        !xe.isCanvas(e._rendererBitmask) ||
                        (s && !xe.isCanvas(s)) ||
                        (t |= xe.bitmaskSingleCanvas),
                      e.isPainted() || (t |= xe.bitmaskNotPainted),
                      e.areSelfBoundsValid() && (t |= xe.bitmaskBoundsValid),
                      e.hasPDOMContent ||
                        e.hasPDOMOrder() ||
                        (t |= xe.bitmaskNoPDOM),
                      t
                    );
                  }
                  static bitToString(e) {
                    return e === xe.bitmaskCanvas
                      ? "Canvas"
                      : e === xe.bitmaskSVG
                      ? "SVG"
                      : e === xe.bitmaskDOM
                      ? "DOM"
                      : e === xe.bitmaskWebGL
                      ? "WebGL"
                      : e === xe.bitmaskLacksCanvas
                      ? "(-Canvas)"
                      : e === xe.bitmaskLacksSVG
                      ? "(-SVG)"
                      : e === xe.bitmaskLacksDOM
                      ? "(-DOM)"
                      : e === xe.bitmaskLacksWebGL
                      ? "(-WebGL)"
                      : e === xe.bitmaskSingleCanvas
                      ? "SingleCanvas"
                      : e === xe.bitmaskSingleSVG
                      ? "SingleSVG"
                      : e === xe.bitmaskNotPainted
                      ? "NotPainted"
                      : e === xe.bitmaskBoundsValid
                      ? "BoundsValid"
                      : e === xe.bitmaskNoPDOM
                      ? "NotAccessible"
                      : "?";
                  }
                  static bitmaskToString(e) {
                    let t = "";
                    for (let i = 0; i < Ls; i++) {
                      const s = Os[i];
                      e & s && (t += Ms.bitToString(s) + " ");
                    }
                    return t;
                  }
                }
                (Ms.bitmaskAll = Bs), G.register("RendererSummary", Ms);
                const Ns = Ms;
                class Rs extends yt.Z {
                  constructor(e, t, i, s) {
                    super(e[i], s),
                      (this.node = e),
                      (this.property = t),
                      (this.attribute = i),
                      (this.changeListener = () => this.set(e[i])),
                      this.property.lazyLink(this.changeListener);
                  }
                  dispose() {
                    this.property.unlink(this.changeListener),
                      super.dispose(),
                      (this.node = null);
                  }
                  setPropertyValue(e) {
                    (this.node[this.attribute] = e), super.setPropertyValue(e);
                  }
                }
                G.register("NodeProperty", Rs);
                class qs {
                  constructor(e) {
                    (this.node = e), (this.pdomDisplays = []);
                  }
                  onAddChild(e) {
                    e._pdomDisplaysInfo.canHavePDOMDisplays() &&
                      e._pdomDisplaysInfo.addPDOMDisplays(this.pdomDisplays);
                  }
                  onRemoveChild(e) {
                    e._pdomDisplaysInfo.canHavePDOMDisplays() &&
                      e._pdomDisplaysInfo.removePDOMDisplays(this.pdomDisplays);
                  }
                  onSummaryChange(e, t) {
                    if (this.node.visible && this.node.pdomVisible) {
                      const i = !(xe.bitmaskNoPDOM & e),
                        s = !(xe.bitmaskNoPDOM & t);
                      s && !i && this.addAllPDOMDisplays(),
                        !s && i && this.removeAllPDOMDisplays();
                    }
                  }
                  onVisibilityChange(e) {
                    this.node.pdomVisible &&
                      !this.node._rendererSummary.hasNoPDOM() &&
                      (e
                        ? this.addAllPDOMDisplays()
                        : this.removeAllPDOMDisplays());
                  }
                  onPDOMVisibilityChange(e) {
                    this.node.visible &&
                      !this.node._rendererSummary.hasNoPDOM() &&
                      (e
                        ? this.addAllPDOMDisplays()
                        : this.removeAllPDOMDisplays());
                  }
                  onAddedRootedDisplay(e) {
                    e._accessible &&
                      this.canHavePDOMDisplays() &&
                      this.addPDOMDisplays([e]);
                  }
                  onRemovedRootedDisplay(e) {
                    e._accessible &&
                      this.canHavePDOMDisplays() &&
                      this.removePDOMDisplays([e]);
                  }
                  canHavePDOMDisplays() {
                    return (
                      this.node.visible &&
                      this.node.pdomVisible &&
                      !this.node._rendererSummary.hasNoPDOM()
                    );
                  }
                  addAllPDOMDisplays() {
                    let e;
                    const t = [];
                    for (e = 0; e < this.node._parents.length; e++)
                      Array.prototype.push.apply(
                        t,
                        this.node._parents[e]._pdomDisplaysInfo.pdomDisplays
                      );
                    for (e = 0; e < this.node._rootedDisplays.length; e++) {
                      const i = this.node._rootedDisplays[e];
                      i._accessible && t.push(i);
                    }
                    this.addPDOMDisplays(t);
                  }
                  removeAllPDOMDisplays() {
                    this.removePDOMDisplays(this.pdomDisplays.slice());
                  }
                  addPDOMDisplays(e) {
                    if (0 !== e.length) {
                      Array.prototype.push.apply(this.pdomDisplays, e);
                      for (let t = 0; t < this.node._children.length; t++) {
                        this.node._children[
                          t
                        ]._pdomDisplaysInfo.canHavePDOMDisplays() &&
                          this.node._children[
                            t
                          ]._pdomDisplaysInfo.addPDOMDisplays(e);
                      }
                      this.node.pdomDisplaysEmitter.emit();
                    }
                  }
                  removePDOMDisplays(e) {
                    if (0 !== e.length) {
                      let t;
                      for (t = e.length - 1; t >= 0; t--) {
                        this.pdomDisplays.lastIndexOf(e[t]);
                        this.pdomDisplays.splice(t, 1);
                      }
                      for (t = 0; t < this.node._children.length; t++) {
                        const i = this.node._children[t];
                        i._pdomDisplaysInfo.canHavePDOMDisplays() &&
                          !i._isGettingRemovedFromParent &&
                          i._pdomDisplaysInfo.removePDOMDisplays(e);
                      }
                      this.node.pdomDisplaysEmitter.emit();
                    }
                  }
                }
                function Fs(e) {
                  const t = new Map();
                  return (i) => {
                    if (t.has(i)) return t.get(i);
                    {
                      const s = e(i);
                      return t.set(i, s), s;
                    }
                  };
                }
                G.register("PDOMDisplaysInfo", qs),
                  ne.Z.register("memoize", Fs);
                const Zs = Fs,
                  Hs = [
                    "preferredWidth",
                    "minimumWidth",
                    "localPreferredWidth",
                    "localMinimumWidth",
                    "widthSizable",
                  ],
                  Ys = Zs((e) => {
                    const t = Vn(
                      "WidthSizable",
                      Hs,
                      class extends e {
                        constructor() {
                          super(...arguments),
                            _defineProperty(
                              this,
                              "preferredWidthProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "minimumWidthProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "localPreferredWidthProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "localMinimumWidthProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "isWidthResizableProperty",
                              new os.Z(!0)
                            ),
                            _defineProperty(this, "_preferredSizeChanging", !1),
                            _defineProperty(this, "_minimumSizeChanging", !1),
                            _defineProperty(
                              this,
                              "_preferredSizeChangeAttemptDuringLock",
                              !1
                            ),
                            _defineProperty(
                              this,
                              "_minimumSizeChangeAttemptDuringLock",
                              !1
                            ),
                            (this._updatePreferredWidthListener =
                              this._updatePreferredWidth.bind(this)),
                            (this._updateLocalPreferredWidthListener =
                              this._updateLocalPreferredWidth.bind(this)),
                            (this._updateMinimumWidthListener =
                              this._updateMinimumWidth.bind(this)),
                            (this._updateLocalMinimumWidthListener =
                              this._updateLocalMinimumWidth.bind(this)),
                            this.preferredWidthProperty.lazyLink(
                              this._updateLocalPreferredWidthListener
                            ),
                            this.localPreferredWidthProperty.lazyLink(
                              this._updatePreferredWidthListener
                            ),
                            this.minimumWidthProperty.lazyLink(
                              this._updateLocalMinimumWidthListener
                            ),
                            this.localMinimumWidthProperty.lazyLink(
                              this._updateMinimumWidthListener
                            ),
                            this.transformEmitter.addListener(
                              this._updateLocalPreferredWidthListener
                            ),
                            this.transformEmitter.addListener(
                              this._updateMinimumWidthListener
                            );
                        }
                        get preferredWidth() {
                          return this.preferredWidthProperty.value;
                        }
                        set preferredWidth(e) {
                          this.preferredWidthProperty.value = e;
                        }
                        get localPreferredWidth() {
                          return this.localPreferredWidthProperty.value;
                        }
                        set localPreferredWidth(e) {
                          this.localPreferredWidthProperty.value = e;
                        }
                        get minimumWidth() {
                          return this.minimumWidthProperty.value;
                        }
                        set minimumWidth(e) {
                          this.minimumWidthProperty.value = e;
                        }
                        get localMinimumWidth() {
                          return this.localMinimumWidthProperty.value;
                        }
                        set localMinimumWidth(e) {
                          this.localMinimumWidthProperty.value = e;
                        }
                        get widthSizable() {
                          return this.isWidthResizableProperty.value;
                        }
                        set widthSizable(e) {
                          this.isWidthResizableProperty.value = e;
                        }
                        get extendsWidthSizable() {
                          return !0;
                        }
                        validateLocalPreferredWidth() {
                          0;
                        }
                        _calculateLocalPreferredWidth() {
                          return this.matrix.isAligned() &&
                            null !== this.preferredWidth
                            ? Math.abs(
                                this.transform.inverseDeltaX(
                                  this.preferredWidth
                                )
                              )
                            : null;
                        }
                        _onReentrantPreferredWidth() {
                          this._updateLocalPreferredWidthListener();
                        }
                        _updateLocalPreferredWidth() {
                          if (this._preferredSizeChanging)
                            this._preferredSizeChangeAttemptDuringLock = !0;
                          else {
                            this._preferredSizeChanging = !0;
                            do {
                              this._preferredSizeChangeAttemptDuringLock = !1;
                              const e = this._calculateLocalPreferredWidth();
                              (null ===
                                this.localPreferredWidthProperty.value ||
                                null === e ||
                                Math.abs(
                                  this.localPreferredWidthProperty.value - e
                                ) > 1e-9) &&
                                (this.localPreferredWidthProperty.value = e);
                            } while (
                              this._preferredSizeChangeAttemptDuringLock
                            );
                            this._preferredSizeChanging = !1;
                          }
                        }
                        _calculatePreferredWidth() {
                          return this.matrix.isAligned() &&
                            null !== this.localPreferredWidth
                            ? Math.abs(
                                this.transform.transformDeltaX(
                                  this.localPreferredWidth
                                )
                              )
                            : null;
                        }
                        _updatePreferredWidth() {
                          if (this._preferredSizeChanging)
                            this._preferredSizeChangeAttemptDuringLock = !0;
                          else {
                            (this._preferredSizeChanging = !0),
                              (this._preferredSizeChangeAttemptDuringLock = !1);
                            const e = this._calculatePreferredWidth();
                            (null === this.preferredWidthProperty.value ||
                              null === e ||
                              Math.abs(this.preferredWidthProperty.value - e) >
                                1e-9) &&
                              (this.preferredWidthProperty.value = e),
                              (this._preferredSizeChanging = !1),
                              this._preferredSizeChangeAttemptDuringLock &&
                                this._onReentrantPreferredWidth();
                          }
                        }
                        _calculateLocalMinimumWidth() {
                          return this.matrix.isAligned() &&
                            null !== this.minimumWidth
                            ? Math.abs(
                                this.transform.inverseDeltaX(this.minimumWidth)
                              )
                            : null;
                        }
                        _onReentrantLocalMinimumWidth() {
                          this._updateMinimumWidthListener();
                        }
                        _updateLocalMinimumWidth() {
                          if (this._minimumSizeChanging)
                            this._minimumSizeChangeAttemptDuringLock = !0;
                          else {
                            this._minimumSizeChanging = !0;
                            const e = this._calculateLocalMinimumWidth();
                            (this._minimumSizeChangeAttemptDuringLock = !1),
                              (null === this.localMinimumWidthProperty.value ||
                                null === e ||
                                Math.abs(
                                  this.localMinimumWidthProperty.value - e
                                ) > 1e-9) &&
                                (this.localMinimumWidthProperty.value = e),
                              (this._minimumSizeChanging = !1),
                              this._minimumSizeChangeAttemptDuringLock &&
                                this._onReentrantLocalMinimumWidth();
                          }
                        }
                        _calculateMinimumWidth() {
                          return this.matrix.isAligned() &&
                            null !== this.localMinimumWidth
                            ? Math.abs(
                                this.transform.transformDeltaX(
                                  this.localMinimumWidth
                                )
                              )
                            : null;
                        }
                        _updateMinimumWidth() {
                          if (this._minimumSizeChanging)
                            this._minimumSizeChangeAttemptDuringLock = !0;
                          else {
                            this._minimumSizeChanging = !0;
                            do {
                              this._minimumSizeChangeAttemptDuringLock = !1;
                              const e = this._calculateMinimumWidth();
                              (null === this.minimumWidthProperty.value ||
                                null === e ||
                                Math.abs(this.minimumWidthProperty.value - e) >
                                  1e-9) &&
                                (this.minimumWidthProperty.value = e);
                            } while (this._minimumSizeChangeAttemptDuringLock);
                            this._minimumSizeChanging = !1;
                          }
                        }
                      }
                    );
                    if (e.prototype._mutatorKeys) {
                      const i = e.prototype._mutatorKeys,
                        s = Hs,
                        n = i.indexOf(Ts[0]);
                      t.prototype._mutatorKeys = [
                        ...i.slice(0, n),
                        ...s,
                        ...i.slice(n),
                      ];
                    }
                    return t;
                  }),
                  Gs = (e) => e.widthSizable,
                  Ws = (e) => e.extendsWidthSizable;
                G.register("WidthSizable", Ys);
                const zs = Ys,
                  Xs = [
                    "preferredHeight",
                    "minimumHeight",
                    "localPreferredHeight",
                    "localMinimumHeight",
                    "heightSizable",
                  ],
                  Qs = Zs((e) => {
                    const t = Vn(
                      "HeightSizable",
                      Xs,
                      class extends e {
                        constructor() {
                          super(...arguments),
                            _defineProperty(
                              this,
                              "preferredHeightProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "minimumHeightProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "localPreferredHeightProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "localMinimumHeightProperty",
                              new os.Z(null)
                            ),
                            _defineProperty(
                              this,
                              "isHeightResizableProperty",
                              new os.Z(!0)
                            ),
                            _defineProperty(this, "_preferredSizeChanging", !1),
                            _defineProperty(this, "_minimumSizeChanging", !1),
                            _defineProperty(
                              this,
                              "_preferredSizeChangeAttemptDuringLock",
                              !1
                            ),
                            _defineProperty(
                              this,
                              "_minimumSizeChangeAttemptDuringLock",
                              !1
                            ),
                            (this._updatePreferredHeightListener =
                              this._updatePreferredHeight.bind(this)),
                            (this._updateLocalPreferredHeightListener =
                              this._updateLocalPreferredHeight.bind(this)),
                            (this._updateMinimumHeightListener =
                              this._updateMinimumHeight.bind(this)),
                            (this._updateLocalMinimumHeightListener =
                              this._updateLocalMinimumHeight.bind(this)),
                            this.preferredHeightProperty.lazyLink(
                              this._updateLocalPreferredHeightListener
                            ),
                            this.localPreferredHeightProperty.lazyLink(
                              this._updatePreferredHeightListener
                            ),
                            this.minimumHeightProperty.lazyLink(
                              this._updateLocalMinimumHeightListener
                            ),
                            this.localMinimumHeightProperty.lazyLink(
                              this._updateMinimumHeightListener
                            ),
                            this.transformEmitter.addListener(
                              this._updateLocalPreferredHeightListener
                            ),
                            this.transformEmitter.addListener(
                              this._updateMinimumHeightListener
                            );
                        }
                        get preferredHeight() {
                          return this.preferredHeightProperty.value;
                        }
                        set preferredHeight(e) {
                          this.preferredHeightProperty.value = e;
                        }
                        get localPreferredHeight() {
                          return this.localPreferredHeightProperty.value;
                        }
                        set localPreferredHeight(e) {
                          this.localPreferredHeightProperty.value = e;
                        }
                        get minimumHeight() {
                          return this.minimumHeightProperty.value;
                        }
                        set minimumHeight(e) {
                          this.minimumHeightProperty.value = e;
                        }
                        get localMinimumHeight() {
                          return this.localMinimumHeightProperty.value;
                        }
                        set localMinimumHeight(e) {
                          this.localMinimumHeightProperty.value = e;
                        }
                        get heightSizable() {
                          return this.isHeightResizableProperty.value;
                        }
                        set heightSizable(e) {
                          this.isHeightResizableProperty.value = e;
                        }
                        get extendsHeightSizable() {
                          return !0;
                        }
                        validateLocalPreferredHeight() {
                          0;
                        }
                        _calculateLocalPreferredHeight() {
                          return this.matrix.isAligned() &&
                            null !== this.preferredHeight
                            ? Math.abs(
                                this.transform.inverseDeltaY(
                                  this.preferredHeight
                                )
                              )
                            : null;
                        }
                        _onReentrantPreferredHeight() {
                          this._updateLocalPreferredHeightListener();
                        }
                        _updateLocalPreferredHeight() {
                          if (this._preferredSizeChanging)
                            this._preferredSizeChangeAttemptDuringLock = !0;
                          else {
                            this._preferredSizeChanging = !0;
                            do {
                              this._preferredSizeChangeAttemptDuringLock = !1;
                              const e = this._calculateLocalPreferredHeight();
                              (null ===
                                this.localPreferredHeightProperty.value ||
                                null === e ||
                                Math.abs(
                                  this.localPreferredHeightProperty.value - e
                                ) > 1e-9) &&
                                (this.localPreferredHeightProperty.value = e);
                            } while (
                              this._preferredSizeChangeAttemptDuringLock
                            );
                            this._preferredSizeChanging = !1;
                          }
                        }
                        _calculatePreferredHeight() {
                          return this.matrix.isAligned() &&
                            null !== this.localPreferredHeight
                            ? Math.abs(
                                this.transform.transformDeltaY(
                                  this.localPreferredHeight
                                )
                              )
                            : null;
                        }
                        _updatePreferredHeight() {
                          if (this._preferredSizeChanging)
                            this._preferredSizeChangeAttemptDuringLock = !0;
                          else {
                            (this._preferredSizeChanging = !0),
                              (this._preferredSizeChangeAttemptDuringLock = !1);
                            const e = this._calculatePreferredHeight();
                            (null === this.preferredHeightProperty.value ||
                              null === e ||
                              Math.abs(this.preferredHeightProperty.value - e) >
                                1e-9) &&
                              (this.preferredHeightProperty.value = e),
                              (this._preferredSizeChanging = !1),
                              this._preferredSizeChangeAttemptDuringLock &&
                                this._onReentrantPreferredHeight();
                          }
                        }
                        _calculateLocalMinimumHeight() {
                          return this.matrix.isAligned() &&
                            null !== this.minimumHeight
                            ? Math.abs(
                                this.transform.inverseDeltaY(this.minimumHeight)
                              )
                            : null;
                        }
                        _onReentrantLocalMinimumHeight() {
                          this._updateMinimumHeight();
                        }
                        _updateLocalMinimumHeight() {
                          if (this._minimumSizeChanging)
                            this._minimumSizeChangeAttemptDuringLock = !0;
                          else {
                            (this._minimumSizeChanging = !0),
                              (this._minimumSizeChangeAttemptDuringLock = !1);
                            const e = this._calculateLocalMinimumHeight();
                            (null === this.localMinimumHeightProperty.value ||
                              null === e ||
                              Math.abs(
                                this.localMinimumHeightProperty.value - e
                              ) > 1e-9) &&
                              (this.localMinimumHeightProperty.value = e),
                              (this._minimumSizeChanging = !1),
                              this._minimumSizeChangeAttemptDuringLock &&
                                this._onReentrantLocalMinimumHeight();
                          }
                        }
                        _calculateMinimumHeight() {
                          return this.matrix.isAligned() &&
                            null !== this.localMinimumHeight
                            ? Math.abs(
                                this.transform.transformDeltaY(
                                  this.localMinimumHeight
                                )
                              )
                            : null;
                        }
                        _updateMinimumHeight() {
                          if (!this._minimumSizeChanging) {
                            this._minimumSizeChanging = !0;
                            do {
                              this._minimumSizeChangeAttemptDuringLock = !1;
                              const e = this._calculateMinimumHeight();
                              (null === this.minimumHeightProperty.value ||
                                null === e ||
                                Math.abs(this.minimumHeightProperty.value - e) >
                                  1e-9) &&
                                (this.minimumHeightProperty.value = e);
                            } while (this._minimumSizeChangeAttemptDuringLock);
                            this._minimumSizeChanging = !1;
                          }
                        }
                      }
                    );
                    if (e.prototype._mutatorKeys) {
                      const i = e.prototype._mutatorKeys,
                        s = Xs,
                        n = i.indexOf(Ts[0]);
                      t.prototype._mutatorKeys = [
                        ...i.slice(0, n),
                        ...s,
                        ...i.slice(n),
                      ];
                    }
                    return t;
                  }),
                  Us = (e) => e.heightSizable,
                  js = (e) => e.extendsHeightSizable;
                G.register("HeightSizable", Qs);
                const Ks = Qs;
                var Js = i(6212);
                const _s = [
                    "preferredSize",
                    "minimumSize",
                    "localPreferredSize",
                    "localMinimumSize",
                    "sizable",
                  ],
                  $s = [
                    "preferredSize",
                    "minimumSize",
                    "localPreferredSize",
                    "localMinimumSize",
                    "sizable",
                    ...Hs,
                    ...Xs,
                  ],
                  en = Zs((e) => {
                    const t = zs(Ks(e)),
                      i = Vn(
                        "Sizable",
                        _s,
                        class extends t {
                          constructor() {
                            super(...arguments),
                              this.preferredWidthProperty.lazyLink(
                                this._updateLocalPreferredHeightListener
                              ),
                              this.preferredHeightProperty.lazyLink(
                                this._updateLocalPreferredWidthListener
                              ),
                              this.localPreferredWidthProperty.lazyLink(
                                this._updatePreferredHeightListener
                              ),
                              this.localPreferredHeightProperty.lazyLink(
                                this._updatePreferredWidthListener
                              ),
                              this.minimumWidthProperty.lazyLink(
                                this._updateLocalMinimumHeightListener
                              ),
                              this.minimumHeightProperty.lazyLink(
                                this._updateLocalMinimumWidthListener
                              ),
                              this.localMinimumWidthProperty.lazyLink(
                                this._updateMinimumHeightListener
                              ),
                              this.localMinimumHeightProperty.lazyLink(
                                this._updateMinimumWidthListener
                              );
                          }
                          get preferredSize() {
                            return null === this.preferredWidth ||
                              null === this.preferredHeight
                              ? null
                              : new $t.Z(
                                  this.preferredWidth,
                                  this.preferredHeight
                                );
                          }
                          set preferredSize(e) {
                            (this.preferredWidth = null === e ? null : e.width),
                              (this.preferredHeight =
                                null === e ? null : e.height);
                          }
                          get localPreferredSize() {
                            return null === this.localPreferredWidth ||
                              null === this.localPreferredHeight
                              ? null
                              : new $t.Z(
                                  this.localPreferredWidth,
                                  this.localPreferredHeight
                                );
                          }
                          set localPreferredSize(e) {
                            (this.localPreferredWidth =
                              null === e ? null : e.width),
                              (this.localPreferredHeight =
                                null === e ? null : e.height);
                          }
                          get minimumSize() {
                            return null === this.minimumWidth ||
                              null === this.minimumHeight
                              ? null
                              : new $t.Z(this.minimumWidth, this.minimumHeight);
                          }
                          set minimumSize(e) {
                            (this.minimumWidth = null === e ? null : e.width),
                              (this.minimumHeight =
                                null === e ? null : e.height);
                          }
                          get localMinimumSize() {
                            return null === this.localMinimumWidth ||
                              null === this.localMinimumHeight
                              ? null
                              : new $t.Z(
                                  this.localMinimumWidth,
                                  this.localMinimumHeight
                                );
                          }
                          set localMinimumSize(e) {
                            (this.localMinimumWidth =
                              null === e ? null : e.width),
                              (this.localMinimumHeight =
                                null === e ? null : e.height);
                          }
                          get sizable() {
                            return this.widthSizable;
                          }
                          set sizable(e) {
                            (this.widthSizable = e), (this.heightSizable = e);
                          }
                          get extendsSizable() {
                            return !0;
                          }
                          validateLocalPreferredSize() {
                            0;
                          }
                          mutate(e) {
                            return (
                              (0, Js.Z)(
                                e,
                                ["preferredSize"],
                                ["preferredWidth", "preferredHeight"]
                              ),
                              (0, Js.Z)(
                                e,
                                ["localPreferredSize"],
                                ["localPreferredWidth", "localPreferredHeight"]
                              ),
                              (0, Js.Z)(
                                e,
                                ["minimumSize"],
                                ["minimumWidth", "minimumHeight"]
                              ),
                              (0, Js.Z)(
                                e,
                                ["localMinimumSize"],
                                ["localMinimumWidth", "localMinimumHeight"]
                              ),
                              (0, Js.Z)(
                                e,
                                ["sizable"],
                                ["widthSizable", "heightSizable"]
                              ),
                              super.mutate(e)
                            );
                          }
                          _calculateLocalPreferredWidth() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.preferredWidth)
                                  return Math.abs(
                                    this.transform.inverseDeltaX(
                                      this.preferredWidth
                                    )
                                  );
                              } else if (null !== this.preferredHeight)
                                return Math.abs(
                                  this.transform.getInverse().m01() *
                                    this.preferredHeight
                                );
                            return null;
                          }
                          _calculateLocalPreferredHeight() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.preferredHeight)
                                  return Math.abs(
                                    this.transform.inverseDeltaY(
                                      this.preferredHeight
                                    )
                                  );
                              } else if (null !== this.preferredWidth)
                                return Math.abs(
                                  this.transform.getInverse().m10() *
                                    this.preferredWidth
                                );
                            return null;
                          }
                          _calculatePreferredWidth() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.localPreferredWidth)
                                  return Math.abs(
                                    this.transform.transformDeltaX(
                                      this.localPreferredWidth
                                    )
                                  );
                              } else if (null !== this.localPreferredHeight)
                                return Math.abs(
                                  this.transform.matrix.m01() *
                                    this.localPreferredHeight
                                );
                            return null;
                          }
                          _calculatePreferredHeight() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.localPreferredHeight)
                                  return Math.abs(
                                    this.transform.transformDeltaY(
                                      this.localPreferredHeight
                                    )
                                  );
                              } else if (null !== this.localPreferredWidth)
                                return Math.abs(
                                  this.transform.matrix.m10() *
                                    this.localPreferredWidth
                                );
                            return null;
                          }
                          _onReentrantLocalMinimumWidth() {
                            this._updateMinimumWidthListener(),
                              this._updateMinimumHeightListener();
                          }
                          _onReentrantLocalMinimumHeight() {
                            this._updateMinimumWidthListener(),
                              this._updateMinimumHeightListener();
                          }
                          _onReentrantPreferredWidth() {
                            this._updateLocalPreferredWidthListener(),
                              this._updateLocalPreferredHeightListener();
                          }
                          _onReentrantPreferredHeight() {
                            this._updateLocalPreferredWidthListener(),
                              this._updateLocalPreferredHeightListener();
                          }
                          _calculateLocalMinimumWidth() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.minimumWidth)
                                  return Math.abs(
                                    this.transform.inverseDeltaX(
                                      this.minimumWidth
                                    )
                                  );
                              } else if (null !== this.minimumHeight)
                                return Math.abs(
                                  this.transform.getInverse().m01() *
                                    this.minimumHeight
                                );
                            return null;
                          }
                          _calculateLocalMinimumHeight() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.minimumHeight)
                                  return Math.abs(
                                    this.transform.inverseDeltaY(
                                      this.minimumHeight
                                    )
                                  );
                              } else if (null !== this.minimumWidth)
                                return Math.abs(
                                  this.transform.getInverse().m10() *
                                    this.minimumWidth
                                );
                            return null;
                          }
                          _calculateMinimumWidth() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.localMinimumWidth)
                                  return Math.abs(
                                    this.transform.transformDeltaX(
                                      this.localMinimumWidth
                                    )
                                  );
                              } else if (null !== this.localMinimumHeight)
                                return Math.abs(
                                  this.transform.matrix.m01() *
                                    this.localMinimumHeight
                                );
                            return null;
                          }
                          _calculateMinimumHeight() {
                            if (this.matrix.isAxisAligned())
                              if (this.matrix.isAligned()) {
                                if (null !== this.localMinimumHeight)
                                  return Math.abs(
                                    this.transform.transformDeltaY(
                                      this.localMinimumHeight
                                    )
                                  );
                              } else if (null !== this.localMinimumWidth)
                                return Math.abs(
                                  this.transform.matrix.m10() *
                                    this.localMinimumWidth
                                );
                            return null;
                          }
                        }
                      );
                    if (t.prototype._mutatorKeys) {
                      const e = t.prototype._mutatorKeys,
                        s = _s,
                        n = e.indexOf(Ts[0]);
                      i.prototype._mutatorKeys = [
                        ...e.slice(0, n),
                        ...s,
                        ...e.slice(n),
                      ];
                    }
                    return i;
                  });
                G.register("Sizable", en);
                const tn = en,
                  sn = Ei.PDOM_UNIQUE_ID_SEPARATOR;
                class nn {
                  constructor(e) {
                    if (e instanceof nn) {
                      const t = e;
                      return (
                        (this.nodes = t.nodes.slice(0)),
                        (this.length = t.length),
                        (this.uniqueId = t.uniqueId),
                        void (this.indices = t.indices.slice(0))
                      );
                    }
                    if (
                      ((this.nodes = []),
                      (this.length = 0),
                      (this.uniqueId = ""),
                      (this.indices = []),
                      e)
                    )
                      if (e instanceof Ds) {
                        const t = e;
                        this.addDescendant(t);
                      } else {
                        const t = e.length;
                        for (let i = 0; i < t; i++) this.addDescendant(e[i]);
                      }
                  }
                  copy() {
                    return new nn(this);
                  }
                  isPainted() {
                    return this.lastNode().isPainted();
                  }
                  isValid() {
                    this.reindex();
                    const e = this.indices.length;
                    for (let t = 0; t < e; t++)
                      if (this.indices[t] < 0) return !1;
                    return !0;
                  }
                  isVisible() {
                    let e = this.nodes.length;
                    for (; e--; ) if (!this.nodes[e].isVisible()) return !1;
                    return !0;
                  }
                  isPDOMVisible() {
                    let e = this.nodes.length;
                    for (; e--; )
                      if (
                        !this.nodes[e].isVisible() ||
                        !this.nodes[e].isPDOMVisible()
                      )
                        return !1;
                    return !0;
                  }
                  getOpacity() {
                    let e = 1,
                      t = this.nodes.length;
                    for (; t--; ) e *= this.nodes[t].getOpacity();
                    return e;
                  }
                  isPickable() {
                    return (
                      !_.some(
                        this.nodes,
                        (e) => !1 === e.pickable || !e.visible
                      ) &&
                      !!_.some(
                        this.nodes,
                        (e) =>
                          e._inputListeners.length > 0 ||
                          !0 === e.pickableProperty.value
                      )
                    );
                  }
                  get(e) {
                    return e >= 0
                      ? this.nodes[e]
                      : this.nodes[this.nodes.length + e];
                  }
                  slice(e, t) {
                    return new nn(this.nodes.slice(e, t));
                  }
                  subtrailTo(e) {
                    let t =
                      arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    return this.slice(
                      0,
                      _.indexOf(this.nodes, e) + (t ? 0 : 1)
                    );
                  }
                  isEmpty() {
                    return 0 === this.nodes.length;
                  }
                  getMatrix() {
                    const e = Le.Z.identity(),
                      t = this.nodes,
                      i = t.length;
                    for (let s = 0; s < i; s++)
                      e.multiplyMatrix(t[s].getMatrix());
                    return e;
                  }
                  getAncestorMatrix() {
                    const e = Le.Z.identity(),
                      t = this.nodes,
                      i = t.length;
                    for (let s = 1; s < i; s++)
                      e.multiplyMatrix(t[s].getMatrix());
                    return e;
                  }
                  getParentMatrix() {
                    const e = Le.Z.identity(),
                      t = this.nodes,
                      i = t.length;
                    for (let s = 0; s < i - 1; s++)
                      e.multiplyMatrix(t[s].getMatrix());
                    return e;
                  }
                  getTransform() {
                    return new Be.Z(this.getMatrix());
                  }
                  getParentTransform() {
                    return new Be.Z(this.getParentMatrix());
                  }
                  addAncestor(e, t) {
                    if (this.nodes.length) {
                      const i = this.nodes[0];
                      this.indices.unshift(
                        void 0 === t ? _.indexOf(e._children, i) : t
                      );
                    }
                    return (
                      this.nodes.unshift(e),
                      this.length++,
                      (this.uniqueId = this.uniqueId
                        ? e.id + sn + this.uniqueId
                        : "" + e.id),
                      this
                    );
                  }
                  removeAncestor() {
                    return (
                      this.nodes.shift(),
                      this.indices.length && this.indices.shift(),
                      this.length--,
                      this.updateUniqueId(),
                      this
                    );
                  }
                  addDescendant(e, t) {
                    if (this.nodes.length) {
                      const i = this.lastNode();
                      this.indices.push(
                        void 0 === t ? _.indexOf(i._children, e) : t
                      );
                    }
                    return (
                      this.nodes.push(e),
                      this.length++,
                      (this.uniqueId = this.uniqueId
                        ? this.uniqueId + sn + e.id
                        : "" + e.id),
                      this
                    );
                  }
                  removeDescendant() {
                    return (
                      this.nodes.pop(),
                      this.indices.length && this.indices.pop(),
                      this.length--,
                      this.updateUniqueId(),
                      this
                    );
                  }
                  addDescendantTrail(e) {
                    const t = e.length;
                    t && this.addDescendant(e.nodes[0]);
                    for (let i = 1; i < t; i++)
                      this.addDescendant(e.nodes[i], this.indices[i - 1]);
                  }
                  removeDescendantTrail(e) {
                    for (let t = e.length - 1; t >= 0; t--)
                      this.removeDescendant();
                  }
                  reindex() {
                    const e = this.length;
                    for (let t = 1; t < e; t++) {
                      const e = this.indices[t - 1],
                        i = this.nodes[t - 1];
                      i._children[e] !== this.nodes[t] &&
                        (this.indices[t - 1] = _.indexOf(
                          i._children,
                          this.nodes[t]
                        ));
                    }
                  }
                  setImmutable() {
                    return this;
                  }
                  setMutable() {
                    return this;
                  }
                  areIndicesValid() {
                    for (let e = 1; e < this.length; e++) {
                      const t = this.indices[e - 1];
                      if (this.nodes[e - 1]._children[t] !== this.nodes[e])
                        return !1;
                    }
                    return !0;
                  }
                  equals(e) {
                    if (this.length !== e.length) return !1;
                    for (let t = 0; t < this.nodes.length; t++)
                      if (this.nodes[t] !== e.nodes[t]) return !1;
                    return !0;
                  }
                  upToNode(e) {
                    _.indexOf(this.nodes, e);
                    return this.slice(0, _.indexOf(this.nodes, e) + 1);
                  }
                  isExtensionOf(e, t) {
                    if (this.length <= e.length - (t ? 1 : 0)) return !1;
                    for (let i = 0; i < e.nodes.length; i++)
                      if (this.nodes[i] !== e.nodes[i]) return !1;
                    return !0;
                  }
                  containsNode(e) {
                    return _.includes(this.nodes, e);
                  }
                  getTransformTo(e) {
                    return new Be.Z(this.getMatrixTo(e));
                  }
                  getMatrixTo(e) {
                    this.reindex(), e.reindex();
                    const t = this.getBranchIndexTo(e);
                    let i,
                      s = Le.Z.IDENTITY;
                    for (i = this.length - 1; i >= t; i--)
                      s = this.nodes[i].getMatrix().timesMatrix(s);
                    for (i = t; i < e.length; i++)
                      s = e.nodes[i].getTransform().getInverse().timesMatrix(s);
                    return s;
                  }
                  getBranchIndexTo(e) {
                    let t;
                    const i = Math.min(this.length, e.length);
                    for (t = 0; t < i && this.nodes[t] === e.nodes[t]; t++);
                    return t;
                  }
                  getLastInputEnabledIndex() {
                    let e = -1;
                    for (
                      let t = 0;
                      t < this.length && this.nodes[t].inputEnabled;
                      t++
                    )
                      e = t;
                    return e;
                  }
                  getCursorCheckIndex() {
                    return this.getLastInputEnabledIndex();
                  }
                  nodeFromTop(e) {
                    return this.nodes[this.length - 1 - e];
                  }
                  lastNode() {
                    return this.nodeFromTop(0);
                  }
                  rootNode() {
                    return this.nodes[0];
                  }
                  previous() {
                    if (this.nodes.length <= 1) return null;
                    const e = this.nodeFromTop(0),
                      t = this.nodeFromTop(1),
                      i = _.indexOf(t._children, e),
                      s = this.nodes.slice(0, this.nodes.length - 1);
                    if (0 === i) return new nn(s);
                    for (
                      s.push(t._children[i - 1]);
                      0 !== s[s.length - 1]._children.length;

                    ) {
                      const e = s[s.length - 1];
                      s.push(e._children[e._children.length - 1]);
                    }
                    return new nn(s);
                  }
                  previousPainted() {
                    let e = this.previous();
                    for (; e && !e.isPainted(); ) e = e.previous();
                    return e;
                  }
                  next() {
                    const e = this.nodes.slice(0),
                      t = this.nodeFromTop(0);
                    if (t._children.length > 0)
                      return e.push(t._children[0]), new nn(e);
                    {
                      let t = this.nodes.length - 1;
                      for (; t > 0; ) {
                        const i = this.nodes[t],
                          s = this.nodes[t - 1];
                        e.pop();
                        const n = _.indexOf(s._children, i);
                        if (n !== s._children.length - 1)
                          return e.push(s._children[n + 1]), new nn(e);
                        t--;
                      }
                      return null;
                    }
                  }
                  nextPainted() {
                    let e = this.next();
                    for (; e && !e.isPainted(); ) e = e.next();
                    return e;
                  }
                  eachTrailUnder(e) {
                    new rn(this, !0).eachTrailBetween(new rn(this, !1), e);
                  }
                  compare(e) {
                    const t = Math.min(this.nodes.length, e.nodes.length);
                    for (let i = 0; i < t; i++)
                      if (this.nodes[i] !== e.nodes[i])
                        return this.nodes[i - 1].children.indexOf(
                          this.nodes[i]
                        ) < e.nodes[i - 1].children.indexOf(e.nodes[i])
                          ? -1
                          : 1;
                    return this.nodes.length < e.nodes.length
                      ? -1
                      : this.nodes.length > e.nodes.length
                      ? 1
                      : 0;
                  }
                  isBefore(e) {
                    return -1 === this.compare(e);
                  }
                  isAfter(e) {
                    return 1 === this.compare(e);
                  }
                  localToGlobalPoint(e) {
                    return this.getMatrix().timesVector2(e);
                  }
                  localToGlobalBounds(e) {
                    return e.transformed(this.getMatrix());
                  }
                  globalToLocalPoint(e) {
                    return this.getTransform().inversePosition2(e);
                  }
                  globalToLocalBounds(e) {
                    return this.getTransform().inverseBounds2(e);
                  }
                  parentToGlobalPoint(e) {
                    return this.getParentMatrix().timesVector2(e);
                  }
                  parentToGlobalBounds(e) {
                    return e.transformed(this.getParentMatrix());
                  }
                  globalToParentPoint(e) {
                    return this.getParentTransform().inversePosition2(e);
                  }
                  globalToParentBounds(e) {
                    return this.getParentTransform().inverseBounds2(e);
                  }
                  updateUniqueId() {
                    let e = "";
                    const t = this.nodes.length;
                    t > 0 && (e += this.nodes[0]._id);
                    for (let i = 1; i < t; i++) e += sn + this.nodes[i]._id;
                    this.uniqueId = e;
                  }
                  getUniqueId() {
                    return this.uniqueId;
                  }
                  toString() {
                    return (
                      this.reindex(),
                      this.length
                        ? `[Trail ${this.indices.join(
                            "."
                          )} ${this.getUniqueId()}]`
                        : "Empty Trail"
                    );
                  }
                  toPathString() {
                    return _.map(this.nodes, (e) => {
                      let t = e.constructor.name;
                      return "Node" === t && (t = "."), t;
                    }).join("/");
                  }
                  toDebugString() {
                    return `${this.toString()} ${this.toPathString()}`;
                  }
                  static eachPaintedTrailBetween(e, t, i, s, n) {
                    nn.eachTrailBetween(
                      e,
                      t,
                      (e) => !!e.isPainted() && i(e),
                      s,
                      n
                    );
                  }
                  static eachTrailBetween(e, t, i, s, n) {
                    const r = new rn(e ? e.copy() : new nn(n), !0),
                      o = t ? new rn(t.copy(), !0) : new rn(new nn(n), !1);
                    (s &&
                      (r.nestedForwards(),
                      o.nestedBackwards(),
                      1 === r.compareNested(o))) ||
                      r.depthFirstUntil(
                        o,
                        (e) => !!e.isBefore && i(e.trail),
                        !1
                      );
                  }
                  static branchIndex(e, t) {
                    let i;
                    const s = Math.min(e.length, t.length);
                    for (i = 0; i < s && e.nodes[i] === t.nodes[i]; i++);
                    return i;
                  }
                  static sharedTrail(e, t) {
                    return e.slice(0, nn.branchIndex(e, t));
                  }
                  static appendAncestorTrailsWithPredicate(e, t, i) {
                    const s = t.rootNode();
                    i(s) && e.push(t.copy());
                    const n = s._parents.length;
                    for (let r = 0; r < n; r++) {
                      const n = s._parents[r];
                      t.addAncestor(n),
                        nn.appendAncestorTrailsWithPredicate(e, t, i),
                        t.removeAncestor();
                    }
                  }
                  static appendDescendantTrailsWithPredicate(e, t, i) {
                    const s = t.lastNode();
                    i(s) && e.push(t.copy());
                    const n = s._children.length;
                    for (let r = 0; r < n; r++) {
                      const n = s._children[r];
                      t.addDescendant(n, r),
                        nn.appendDescendantTrailsWithPredicate(e, t, i),
                        t.removeDescendant();
                    }
                  }
                  static spannedSubtrees(e, t) {}
                  static fromUniqueId(e, t) {
                    const i = t.split(sn).map((e) => Number(e));
                    let s = e;
                    i.shift();
                    const n = [s];
                    for (; i.length > 0; ) {
                      const e = i.shift(),
                        t = (s.pdomOrder || []).concat(s.children);
                      for (let i = 0; i < t.length; i++)
                        if (null !== t[i] && t[i].id === e) {
                          const e = t[i];
                          n.push(e), (s = e);
                          break;
                        }
                    }
                    return new nn(n);
                  }
                }
                G.register("Trail", nn);
                class rn {
                  constructor(e, t) {
                    (this.trail = e), this.setBefore(t);
                  }
                  isActive() {
                    return !!this.trail;
                  }
                  copy() {
                    return new rn(this.trail.copy(), this.isBefore);
                  }
                  setBefore(e) {
                    (this.isBefore = e), (this.isAfter = !e);
                  }
                  getRenderSwappedPointer() {
                    const e = this.isBefore
                      ? this.trail.previous()
                      : this.trail.next();
                    return null === e ? null : new rn(e, !this.isBefore);
                  }
                  getRenderBeforePointer() {
                    return this.isBefore
                      ? this
                      : this.getRenderSwappedPointer();
                  }
                  getRenderAfterPointer() {
                    return this.isAfter ? this : this.getRenderSwappedPointer();
                  }
                  compareRender(e) {
                    const t = this.getRenderBeforePointer(),
                      i = e.getRenderBeforePointer();
                    return null !== t && null !== i
                      ? t.trail.compare(i.trail)
                      : t === i
                      ? 0
                      : null === t
                      ? 1
                      : -1;
                  }
                  compareNested(e) {
                    const t = this,
                      i = e,
                      s = t.trail.compare(i.trail);
                    return 0 === s
                      ? this.isBefore === e.isBefore
                        ? 0
                        : this.isBefore
                        ? -1
                        : 1
                      : t.trail.isExtensionOf(i.trail)
                      ? e.isBefore
                        ? 1
                        : -1
                      : i.trail.isExtensionOf(t.trail)
                      ? this.isBefore
                        ? -1
                        : 1
                      : s;
                  }
                  equalsRender(e) {
                    return 0 === this.compareRender(e);
                  }
                  equalsNested(e) {
                    return 0 === this.compareNested(e);
                  }
                  hasTrail() {
                    return !!this.trail;
                  }
                  nestedForwards() {
                    const e = this;
                    if (this.isBefore) {
                      const t = e.trail.lastNode()._children;
                      t.length > 0
                        ? e.trail.addDescendant(t[0], 0)
                        : this.setBefore(!1);
                    } else {
                      if (0 === e.trail.indices.length)
                        return (this.trail = null), null;
                      {
                        const t = e.trail.indices[e.trail.indices.length - 1];
                        e.trail.removeDescendant();
                        const i = e.trail.lastNode()._children;
                        i.length > t + 1 &&
                          (e.trail.addDescendant(i[t + 1], t + 1),
                          this.setBefore(!0));
                      }
                    }
                    return this;
                  }
                  nestedBackwards() {
                    const e = this;
                    if (this.isBefore) {
                      if (0 === e.trail.indices.length)
                        return (this.trail = null), null;
                      {
                        const t = e.trail.indices[e.trail.indices.length - 1];
                        e.trail.removeDescendant(),
                          t - 1 >= 0 &&
                            (e.trail.addDescendant(
                              e.trail.lastNode()._children[t - 1],
                              t - 1
                            ),
                            this.setBefore(!1));
                      }
                    } else if (e.trail.lastNode()._children.length > 0) {
                      const t = e.trail.lastNode()._children;
                      e.trail.addDescendant(t[t.length - 1], t.length - 1);
                    } else this.setBefore(!0);
                    return this;
                  }
                  eachNodeBetween(e, t) {
                    this.eachTrailBetween(e, (e) => t(e.lastNode()));
                  }
                  eachTrailBetween(e, t) {
                    this.isBefore && t(this.trail),
                      this.depthFirstUntil(
                        e,
                        (e) => !!e.isBefore && t(e.trail),
                        !0
                      );
                  }
                  depthFirstUntil(e, t, i) {
                    const s = e;
                    this.trail.reindex(), s.trail.reindex();
                    const n = this.copy();
                    n.trail.setMutable();
                    let r = !0;
                    for (; !n.equalsNested(e); ) {
                      let s = !1;
                      if (
                        (r ? (i || (s = t(n)), (r = !1)) : (s = t(n)),
                        s && n.isBefore)
                      ) {
                        if ((n.setBefore(!1), 1 === n.compareNested(e))) break;
                      } else n.nestedForwards();
                    }
                    i || t(n);
                  }
                  toString() {
                    return `[${this.isBefore ? "before" : "after"} ${this.trail
                      .toString()
                      .slice(1)}`;
                  }
                  static compareNested(e, t, i, s) {
                    const n = e.compare(i);
                    return 0 === n
                      ? t === s
                        ? 0
                        : t
                        ? -1
                        : 1
                      : e.isExtensionOf(i)
                      ? s
                        ? 1
                        : -1
                      : i.isExtensionOf(e)
                      ? t
                        ? -1
                        : 1
                      : n;
                  }
                }
                G.register("TrailPointer", rn);
                class on extends os.Z {
                  constructor(e, t) {
                    super([]),
                      _defineProperty(this, "listenedNodeSet", new Set()),
                      (this.rootNode = e),
                      (this.leafNode = t),
                      (this._trailUpdateListener = this.update.bind(this)),
                      this.update();
                  }
                  update() {
                    const e = [],
                      t = new Set(),
                      i = new nn(this.leafNode),
                      s = this.rootNode;
                    !(function n() {
                      const r = i.rootNode();
                      t.add(r),
                        r === s && e.push(i.copy()),
                        r.parents.forEach((e) => {
                          i.addAncestor(e), n(), i.removeAncestor();
                        });
                    })(),
                      t.forEach((e) => {
                        this.listenedNodeSet.has(e) || this.addNodeListener(e);
                      }),
                      this.listenedNodeSet.forEach((e) => {
                        t.has(e) || this.removeNodeListener(e);
                      });
                    const n = this.value;
                    let r = n.length === e.length;
                    if (r)
                      for (let o = 0; o < e.length; o++)
                        if (!n[o].equals(e[o])) {
                          r = !1;
                          break;
                        }
                    r || (this.value = e);
                  }
                  addNodeListener(e) {
                    this.listenedNodeSet.add(e),
                      e.parentAddedEmitter.addListener(
                        this._trailUpdateListener
                      ),
                      e.parentRemovedEmitter.addListener(
                        this._trailUpdateListener
                      );
                  }
                  removeNodeListener(e) {
                    this.listenedNodeSet.delete(e),
                      e.parentAddedEmitter.removeListener(
                        this._trailUpdateListener
                      ),
                      e.parentRemovedEmitter.removeListener(
                        this._trailUpdateListener
                      );
                  }
                  dispose() {
                    this.listenedNodeSet.forEach((e) =>
                      this.removeNodeListener(e)
                    ),
                      super.dispose();
                  }
                }
                G.register("TrailsBetweenProperty", on);
                var an = i(2573),
                  hn = i(1243);
                const ln = Ne.Z.safari5,
                  dn = [
                    "fill",
                    "fillPickable",
                    "stroke",
                    "strokePickable",
                    "lineWidth",
                    "lineCap",
                    "lineJoin",
                    "miterLimit",
                    "lineDash",
                    "lineDashOffset",
                    "cachedPaints",
                  ],
                  cn = {
                    fill: null,
                    fillPickable: !0,
                    stroke: null,
                    strokePickable: !1,
                    lineWidth: Yt.$.lineWidth,
                    lineCap: Yt.$.lineCap,
                    lineJoin: Yt.$.lineJoin,
                    lineDashOffset: Yt.$.lineDashOffset,
                    miterLimit: Yt.$.miterLimit,
                  },
                  un = [
                    "fill",
                    "stroke",
                    "lineWidth",
                    "lineOptions",
                    "cachedPaints",
                  ],
                  pn = Zs(
                    (e) =>
                      class extends e {
                        constructor() {
                          super(...arguments),
                            (0, an.Z)(this, ["_drawables"]),
                            (this._fill = cn.fill),
                            (this._fillPickable = cn.fillPickable),
                            (this._stroke = cn.stroke),
                            (this._strokePickable = cn.strokePickable),
                            (this._cachedPaints = []),
                            (this._lineDrawingStyles = new Yt.Ob());
                        }
                        setFill(e) {
                          return (
                            this._fill !== e &&
                              ((this._fill = e), this.invalidateFill()),
                            this
                          );
                        }
                        set fill(e) {
                          this.setFill(e);
                        }
                        get fill() {
                          return this.getFill();
                        }
                        getFill() {
                          return this._fill;
                        }
                        hasFill() {
                          return null !== this.getFillValue();
                        }
                        getFillValue() {
                          const e = this.getFill();
                          return e instanceof X.Z ? e.get() : e;
                        }
                        get fillValue() {
                          return this.getFillValue();
                        }
                        setStroke(e) {
                          return (
                            this._stroke !== e &&
                              ((this._stroke = e), this.invalidateStroke()),
                            this
                          );
                        }
                        set stroke(e) {
                          this.setStroke(e);
                        }
                        get stroke() {
                          return this.getStroke();
                        }
                        getStroke() {
                          return this._stroke;
                        }
                        hasStroke() {
                          return null !== this.getStrokeValue();
                        }
                        hasPaintableStroke() {
                          return this.hasStroke() && this.getLineWidth() > 0;
                        }
                        getStrokeValue() {
                          const e = this.getStroke();
                          return e instanceof X.Z ? e.get() : e;
                        }
                        get strokeValue() {
                          return this.getStrokeValue();
                        }
                        setFillPickable(e) {
                          return (
                            this._fillPickable !== e &&
                              ((this._fillPickable = e), this.invalidateFill()),
                            this
                          );
                        }
                        set fillPickable(e) {
                          this.setFillPickable(e);
                        }
                        get fillPickable() {
                          return this.isFillPickable();
                        }
                        isFillPickable() {
                          return this._fillPickable;
                        }
                        setStrokePickable(e) {
                          return (
                            this._strokePickable !== e &&
                              ((this._strokePickable = e),
                              this.invalidateStroke()),
                            this
                          );
                        }
                        set strokePickable(e) {
                          this.setStrokePickable(e);
                        }
                        get strokePickable() {
                          return this.isStrokePickable();
                        }
                        isStrokePickable() {
                          return this._strokePickable;
                        }
                        setLineWidth(e) {
                          if (this.getLineWidth() !== e) {
                            (this._lineDrawingStyles.lineWidth = e),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineWidth();
                          }
                          return this;
                        }
                        set lineWidth(e) {
                          this.setLineWidth(e);
                        }
                        get lineWidth() {
                          return this.getLineWidth();
                        }
                        getLineWidth() {
                          return this._lineDrawingStyles.lineWidth;
                        }
                        setLineCap(e) {
                          if (this._lineDrawingStyles.lineCap !== e) {
                            (this._lineDrawingStyles.lineCap = e),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineOptions();
                          }
                          return this;
                        }
                        set lineCap(e) {
                          this.setLineCap(e);
                        }
                        get lineCap() {
                          return this.getLineCap();
                        }
                        getLineCap() {
                          return this._lineDrawingStyles.lineCap;
                        }
                        setLineJoin(e) {
                          if (this._lineDrawingStyles.lineJoin !== e) {
                            (this._lineDrawingStyles.lineJoin = e),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineOptions();
                          }
                          return this;
                        }
                        set lineJoin(e) {
                          this.setLineJoin(e);
                        }
                        get lineJoin() {
                          return this.getLineJoin();
                        }
                        getLineJoin() {
                          return this._lineDrawingStyles.lineJoin;
                        }
                        setMiterLimit(e) {
                          if (this._lineDrawingStyles.miterLimit !== e) {
                            (this._lineDrawingStyles.miterLimit = e),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineOptions();
                          }
                          return this;
                        }
                        set miterLimit(e) {
                          this.setMiterLimit(e);
                        }
                        get miterLimit() {
                          return this.getMiterLimit();
                        }
                        getMiterLimit() {
                          return this._lineDrawingStyles.miterLimit;
                        }
                        setLineDash(e) {
                          if (this._lineDrawingStyles.lineDash !== e) {
                            (this._lineDrawingStyles.lineDash = e || []),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineOptions();
                          }
                          return this;
                        }
                        set lineDash(e) {
                          this.setLineDash(e);
                        }
                        get lineDash() {
                          return this.getLineDash();
                        }
                        getLineDash() {
                          return this._lineDrawingStyles.lineDash;
                        }
                        hasLineDash() {
                          return !!this._lineDrawingStyles.lineDash.length;
                        }
                        setLineDashOffset(e) {
                          if (this._lineDrawingStyles.lineDashOffset !== e) {
                            (this._lineDrawingStyles.lineDashOffset = e),
                              this.invalidateStroke();
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyLineOptions();
                          }
                          return this;
                        }
                        set lineDashOffset(e) {
                          this.setLineDashOffset(e);
                        }
                        get lineDashOffset() {
                          return this.getLineDashOffset();
                        }
                        getLineDashOffset() {
                          return this._lineDrawingStyles.lineDashOffset;
                        }
                        setLineStyles(e) {
                          return (
                            (this._lineDrawingStyles = e),
                            this.invalidateStroke(),
                            this
                          );
                        }
                        set lineStyles(e) {
                          this.setLineStyles(e);
                        }
                        get lineStyles() {
                          return this.getLineStyles();
                        }
                        getLineStyles() {
                          return this._lineDrawingStyles;
                        }
                        setCachedPaints(e) {
                          this._cachedPaints = e.filter((e) => e instanceof Bi);
                          const t = this._drawables.length;
                          for (let i = 0; i < t; i++)
                            this._drawables[i].markDirtyCachedPaints();
                          return this;
                        }
                        set cachedPaints(e) {
                          this.setCachedPaints(e);
                        }
                        get cachedPaints() {
                          return this.getCachedPaints();
                        }
                        getCachedPaints() {
                          return this._cachedPaints;
                        }
                        addCachedPaint(e) {
                          if (e instanceof Bi) {
                            this._cachedPaints.push(e);
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyCachedPaints();
                          }
                        }
                        removeCachedPaint(e) {
                          if (e instanceof Bi) {
                            (0, Di.Z)(this._cachedPaints, e);
                            const t = this._drawables.length;
                            for (let e = 0; e < t; e++)
                              this._drawables[e].markDirtyCachedPaints();
                          }
                        }
                        beforeCanvasFill(e) {
                          const t = this.getFillValue();
                          e.setFillStyle(t),
                            t.transformMatrix &&
                              (e.context.save(),
                              t.transformMatrix.canvasAppendTransform(
                                e.context
                              ));
                        }
                        afterCanvasFill(e) {
                          this.getFillValue().transformMatrix &&
                            e.context.restore();
                        }
                        beforeCanvasStroke(e) {
                          const t = this.getStrokeValue();
                          if (
                            (e.setStrokeStyle(this._stroke),
                            e.setLineCap(this.getLineCap()),
                            e.setLineJoin(this.getLineJoin()),
                            t.transformMatrix)
                          ) {
                            const i = t.transformMatrix.getScaleVector(),
                              s = 1 / i.x;
                            e.context.save(),
                              t.transformMatrix.canvasAppendTransform(
                                e.context
                              ),
                              e.setLineWidth(this.getLineWidth() * s),
                              e.setMiterLimit(this.getMiterLimit() * s),
                              e.setLineDash(
                                this.getLineDash().map((e) => e * s)
                              ),
                              e.setLineDashOffset(this.getLineDashOffset() * s);
                          } else
                            e.setLineWidth(this.getLineWidth()),
                              e.setMiterLimit(this.getMiterLimit()),
                              e.setLineDash(this.getLineDash()),
                              e.setLineDashOffset(this.getLineDashOffset());
                        }
                        afterCanvasStroke(e) {
                          this.getStrokeValue().transformMatrix &&
                            e.context.restore();
                        }
                        getCSSFill() {
                          const e = this.getFillValue();
                          return e ? (e.toCSS ? e.toCSS() : e) : "transparent";
                        }
                        getSimpleCSSStroke() {
                          const e = this.getStrokeValue();
                          return e ? (e.toCSS ? e.toCSS() : e) : "transparent";
                        }
                        appendFillablePropString(e, t) {
                          return (
                            this._fill &&
                              (t && (t += ",\n"),
                              "string" == typeof this.getFillValue()
                                ? (t += `${e}fill: '${this.getFillValue()}'`)
                                : (t += `${e}fill: ${this.getFillValue()}`)),
                            t
                          );
                        }
                        appendStrokablePropString(e, t) {
                          function i(i, s, n) {
                            t && (t += ",\n"),
                              (t +=
                                n || "string" != typeof s
                                  ? `${e + i}: ${s}`
                                  : `${e + i}: '${s}'`);
                          }
                          if (this._stroke) {
                            const e = new Yt.Ob(),
                              t = this.getStrokeValue();
                            "string" == typeof t
                              ? i("stroke", t)
                              : i("stroke", t ? t.toString() : "null", !0),
                              _.each(
                                [
                                  "lineWidth",
                                  "lineCap",
                                  "miterLimit",
                                  "lineJoin",
                                  "lineDashOffset",
                                ],
                                (t) => {
                                  this[t] !== e[t] && i(t, this[t]);
                                }
                              ),
                              this.lineDash.length &&
                                i(
                                  "lineDash",
                                  JSON.stringify(this.lineDash),
                                  !0
                                );
                          }
                          return t;
                        }
                        getFillRendererBitmask() {
                          let e = 0;
                          return (
                            (ln && this._fill instanceof Ni) ||
                              (e |= xe.bitmaskSVG),
                            (e |= xe.bitmaskCanvas),
                            (this.hasFill() &&
                              (this._fill instanceof Fi ||
                                this._fill instanceof Ni)) ||
                              ((e |= xe.bitmaskDOM), (e |= xe.bitmaskWebGL)),
                            e
                          );
                        }
                        getStrokeRendererBitmask() {
                          let e = 0;
                          return (
                            (e |= xe.bitmaskCanvas),
                            (e |= xe.bitmaskSVG),
                            this.hasStroke() ||
                              ((e |= xe.bitmaskDOM), (e |= xe.bitmaskWebGL)),
                            e
                          );
                        }
                        invalidateFill() {
                          this.invalidateSupportedRenderers();
                          const e = this._drawables.length;
                          for (let t = 0; t < e; t++)
                            this._drawables[t].markDirtyFill();
                        }
                        invalidateStroke() {
                          this.invalidateSupportedRenderers();
                          const e = this._drawables.length;
                          for (let t = 0; t < e; t++)
                            this._drawables[t].markDirtyStroke();
                        }
                      }
                  );
                G.register("Paintable", pn), (pn.DEFAULT_OPTIONS = cn);
                const gn =
                    Math.log2 ||
                    function (e) {
                      return Math.log(e) / Math.LN2;
                    },
                  mn = {
                    imageOpacity: 1,
                    initialWidth: 0,
                    initialHeight: 0,
                    mipmap: !1,
                    mipmapBias: 0,
                    mipmapInitialLevel: 4,
                    mipmapMaxLevel: 5,
                    hitTestPixels: !1,
                  };
                let An = null,
                  yn = null;
                const fn = () => (
                    An || (An = document.createElement("canvas")), An
                  ),
                  Pn = (e) =>
                    class extends e {
                      constructor() {
                        super(...arguments),
                          (this._image = null),
                          (this._initialWidth = mn.initialWidth),
                          (this._initialHeight = mn.initialHeight),
                          (this._imageOpacity = mn.imageOpacity),
                          (this._mipmap = mn.mipmap),
                          (this._mipmapBias = mn.mipmapBias),
                          (this._mipmapInitialLevel = mn.mipmapInitialLevel),
                          (this._mipmapMaxLevel = mn.mipmapMaxLevel),
                          (this._hitTestPixels = mn.hitTestPixels),
                          (this._mipmapCanvases = []),
                          (this._mipmapURLs = []),
                          (this._mipmapData = null),
                          (this._imageLoadListener =
                            this._onImageLoad.bind(this)),
                          (this._imageLoadListenerAttached = !1),
                          (this._hitTestImageData = null),
                          (this.mipmapEmitter = new Q.Z());
                      }
                      setImage(e) {
                        let t = this._image !== e;
                        if (
                          (t &&
                            "string" == typeof e &&
                            this._image &&
                            this._image instanceof HTMLImageElement &&
                            e === this._image.src &&
                            (t = !1),
                          t && e === this._mipmapData && (t = !1),
                          t)
                        ) {
                          if (
                            ((this._initialWidth = 0),
                            (this._initialHeight = 0),
                            this._image &&
                              this._imageLoadListenerAttached &&
                              this._detachImageLoadListener(),
                            (this._mipmapData = null),
                            "string" == typeof e)
                          ) {
                            const t = e;
                            (e = document.createElement("img")).src = t;
                          } else
                            Array.isArray(e) &&
                              ((this._mipmapData = e),
                              (e = e[0].img),
                              (this._mipmapInitialLevel = this._mipmapMaxLevel =
                                this._mipmapData.length),
                              (this._mipmap = !0));
                          (this._image = e),
                            !(this._image instanceof HTMLImageElement) ||
                              (this._image.width && this._image.height) ||
                              this._attachImageLoadListener(),
                            this.invalidateImage();
                        }
                        return this;
                      }
                      set image(e) {
                        this.setImage(e);
                      }
                      get image() {
                        return this.getImage();
                      }
                      getImage() {
                        return this._image;
                      }
                      invalidateImage() {
                        this.invalidateMipmaps(), this._invalidateHitTestData();
                      }
                      setImageWithSize(e, t, i) {
                        return (
                          this.setImage(e),
                          this.setInitialWidth(t),
                          this.setInitialHeight(i),
                          this
                        );
                      }
                      setImageOpacity(e) {
                        this._imageOpacity !== e && (this._imageOpacity = e);
                      }
                      set imageOpacity(e) {
                        this.setImageOpacity(e);
                      }
                      get imageOpacity() {
                        return this.getImageOpacity();
                      }
                      getImageOpacity() {
                        return this._imageOpacity;
                      }
                      setInitialWidth(e) {
                        return (
                          e !== this._initialWidth &&
                            ((this._initialWidth = e), this.invalidateImage()),
                          this
                        );
                      }
                      set initialWidth(e) {
                        this.setInitialWidth(e);
                      }
                      get initialWidth() {
                        return this.getInitialWidth();
                      }
                      getInitialWidth() {
                        return this._initialWidth;
                      }
                      setInitialHeight(e) {
                        return (
                          e !== this._initialHeight &&
                            ((this._initialHeight = e), this.invalidateImage()),
                          this
                        );
                      }
                      set initialHeight(e) {
                        this.setInitialHeight(e);
                      }
                      get initialHeight() {
                        return this.getInitialHeight();
                      }
                      getInitialHeight() {
                        return this._initialHeight;
                      }
                      setMipmap(e) {
                        return (
                          this._mipmap !== e &&
                            ((this._mipmap = e), this.invalidateMipmaps()),
                          this
                        );
                      }
                      set mipmap(e) {
                        this.setMipmap(e);
                      }
                      get mipmap() {
                        return this.isMipmap();
                      }
                      isMipmap() {
                        return this._mipmap;
                      }
                      setMipmapBias(e) {
                        return (
                          this._mipmapBias !== e &&
                            ((this._mipmapBias = e), this.invalidateMipmaps()),
                          this
                        );
                      }
                      set mipmapBias(e) {
                        this.setMipmapBias(e);
                      }
                      get mipmapBias() {
                        return this.getMipmapBias();
                      }
                      getMipmapBias() {
                        return this._mipmapBias;
                      }
                      setMipmapInitialLevel(e) {
                        return (
                          this._mipmapInitialLevel !== e &&
                            ((this._mipmapInitialLevel = e),
                            this.invalidateMipmaps()),
                          this
                        );
                      }
                      set mipmapInitialLevel(e) {
                        this.setMipmapInitialLevel(e);
                      }
                      get mipmapInitialLevel() {
                        return this.getMipmapInitialLevel();
                      }
                      getMipmapInitialLevel() {
                        return this._mipmapInitialLevel;
                      }
                      setMipmapMaxLevel(e) {
                        return (
                          this._mipmapMaxLevel !== e &&
                            ((this._mipmapMaxLevel = e),
                            this.invalidateMipmaps()),
                          this
                        );
                      }
                      set mipmapMaxLevel(e) {
                        this.setMipmapMaxLevel(e);
                      }
                      get mipmapMaxLevel() {
                        return this.getMipmapMaxLevel();
                      }
                      getMipmapMaxLevel() {
                        return this._mipmapMaxLevel;
                      }
                      setHitTestPixels(e) {
                        return (
                          this._hitTestPixels !== e &&
                            ((this._hitTestPixels = e),
                            this._invalidateHitTestData()),
                          this
                        );
                      }
                      set hitTestPixels(e) {
                        this.setHitTestPixels(e);
                      }
                      get hitTestPixels() {
                        return this.getHitTestPixels();
                      }
                      getHitTestPixels() {
                        return this._hitTestPixels;
                      }
                      _constructNextMipmap() {
                        const e = this._mipmapCanvases.length,
                          t = this._mipmapCanvases[e - 1];
                        if (t.width * t.height > 2) {
                          const e = document.createElement("canvas");
                          if (
                            ((e.width = Math.ceil(t.width / 2)),
                            (e.height = Math.ceil(t.height / 2)),
                            e.width > 0 && e.height > 0)
                          ) {
                            const i = e.getContext("2d");
                            i.scale(0.5, 0.5),
                              i.drawImage(t, 0, 0),
                              this._mipmapCanvases.push(e),
                              this._mipmapURLs.push(e.toDataURL());
                          }
                        }
                      }
                      invalidateMipmaps() {
                        if (
                          ((0, Mi.Z)(this._mipmapCanvases),
                          (0, Mi.Z)(this._mipmapURLs),
                          this._image && this._mipmap)
                        )
                          if (this._mipmapData)
                            for (let e = 0; e < this._mipmapData.length; e++) {
                              const t = this._mipmapData[e].url;
                              this._mipmapURLs.push(t);
                              const i = this._mipmapData[e].updateCanvas;
                              i && i(),
                                this._mipmapCanvases.push(
                                  this._mipmapData[e].canvas
                                );
                            }
                          else {
                            const e = document.createElement("canvas");
                            if (
                              ((e.width = this.getImageWidth()),
                              (e.height = this.getImageHeight()),
                              e.width && e.height)
                            ) {
                              e.getContext("2d").drawImage(this._image, 0, 0),
                                this._mipmapCanvases.push(e),
                                this._mipmapURLs.push(e.toDataURL());
                              let t = 0;
                              for (; ++t < this._mipmapInitialLevel; )
                                this._constructNextMipmap();
                            }
                          }
                        this.mipmapEmitter.emit();
                      }
                      getMipmapLevel(e) {
                        let t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : 0;
                        const i =
                          Pn.getApproximateMatrixScale(e) *
                          (window.devicePixelRatio || 1);
                        return this.getMipmapLevelFromScale(i, t);
                      }
                      getMipmapLevelFromScale(e) {
                        let t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : 0;
                        if (e >= 1) return 0;
                        let i = gn(1 / e);
                        if (
                          ((i = U.Z.roundSymmetric(
                            i + this._mipmapBias + t - 0.7
                          )),
                          i < 0 && (i = 0),
                          i > this._mipmapMaxLevel &&
                            (i = this._mipmapMaxLevel),
                          this.mipmap && !this._mipmapCanvases[i])
                        ) {
                          let e = this._mipmapCanvases.length - 1;
                          for (; ++e <= i; ) this._constructNextMipmap();
                          return Math.min(i, this._mipmapCanvases.length - 1);
                        }
                        return i;
                      }
                      getMipmapCanvas(e) {
                        if (this._mipmapData) {
                          const t =
                            this._mipmapData[e] &&
                            this._mipmapData[e].updateCanvas;
                          t && t();
                        }
                        return this._mipmapCanvases[e];
                      }
                      getMipmapURL(e) {
                        return this._mipmapURLs[e];
                      }
                      hasMipmaps() {
                        return this._mipmapCanvases.length > 0;
                      }
                      _invalidateHitTestData() {
                        this._hitTestPixels &&
                          null !== this._image &&
                          (this._hitTestImageData = Pn.getHitTestData(
                            this._image,
                            this.imageWidth,
                            this.imageHeight
                          ));
                      }
                      getImageWidth() {
                        if (null === this._image) return 0;
                        const e = this._mipmapData
                          ? this._mipmapData[0].width
                          : ("naturalWidth" in this._image
                              ? this._image.naturalWidth
                              : 0) || this._image.width;
                        return 0 === e ? this._initialWidth : e;
                      }
                      get imageWidth() {
                        return this.getImageWidth();
                      }
                      getImageHeight() {
                        if (null === this._image) return 0;
                        const e = this._mipmapData
                          ? this._mipmapData[0].height
                          : ("naturalHeight" in this._image
                              ? this._image.naturalHeight
                              : 0) || this._image.height;
                        return 0 === e ? this._initialHeight : e;
                      }
                      get imageHeight() {
                        return this.getImageHeight();
                      }
                      getImageURL() {
                        return this._image.src;
                      }
                      _attachImageLoadListener() {
                        this.isDisposed ||
                          (this._image.addEventListener(
                            "load",
                            this._imageLoadListener
                          ),
                          (this._imageLoadListenerAttached = !0));
                      }
                      _detachImageLoadListener() {
                        this._image.removeEventListener(
                          "load",
                          this._imageLoadListener
                        ),
                          (this._imageLoadListenerAttached = !1);
                      }
                      _onImageLoad() {
                        this.invalidateImage(), this._detachImageLoadListener();
                      }
                      dispose() {
                        this._image &&
                          this._imageLoadListenerAttached &&
                          this._detachImageLoadListener(),
                          super.dispose && super.dispose();
                      }
                    };
                (Pn.getHitTestData = (e, t, i) => {
                  if (
                    !(("naturalWidth" in e && e.naturalWidth) || e.width) ||
                    !(("naturalHeight" in e && e.naturalHeight) || e.height)
                  )
                    return null;
                  const s = fn(),
                    n = (yn || (yn = fn().getContext("2d")), yn);
                  return (
                    (s.width = t),
                    (s.height = i),
                    n.drawImage(e, 0, 0),
                    n.getImageData(0, 0, t, i)
                  );
                }),
                  (Pn.testHitTestData = (e, t, i, s) => {
                    const n =
                      4 *
                        (U.Z.clamp(
                          Math.floor((s.x / t) * e.width),
                          0,
                          e.width - 1
                        ) +
                          U.Z.clamp(
                            Math.floor((s.y / i) * e.height),
                            0,
                            e.height - 1
                          ) *
                            e.width) +
                      3;
                    return 0 !== e.data[n];
                  }),
                  (Pn.hitTestDataToShape = (e, t, i) => {
                    const s = t / e.width,
                      n = i / e.height,
                      r = new Yt.bn();
                    let o = !1,
                      a = 0;
                    for (let h = 0; h < e.height; h++) {
                      for (let t = 0; t < e.width; t++) {
                        const i = 4 * (t + h * e.width) + 3;
                        0 !== e.data[i]
                          ? o || ((o = !0), (a = t))
                          : o &&
                            ((o = !1), r.rect(a * s, h * s, s * (t - a), n));
                      }
                      o &&
                        ((o = !1), r.rect(a * s, h * s, s * (e.width - a), n));
                    }
                    return r.getSimplifiedAreaShape();
                  }),
                  (Pn.createSVGImage = (e, t, i) => {
                    const s = document.createElementNS(Ie, "image");
                    return (
                      s.setAttribute("x", "0"),
                      s.setAttribute("y", "0"),
                      s.setAttribute("width", t + "px"),
                      s.setAttribute("height", i + "px"),
                      s.setAttributeNS(ke, "xlink:href", e),
                      s
                    );
                  }),
                  (Pn.createFastMipmapFromCanvas = (e) => {
                    const t = [],
                      i = e.toDataURL(),
                      s = new window.Image();
                    (s.src = i),
                      t.push({
                        img: s,
                        url: i,
                        width: e.width,
                        height: e.height,
                        canvas: e,
                      });
                    let n = e;
                    for (; n.width >= 2 && n.height >= 2; ) {
                      const e = document.createElement("canvas");
                      (e.width = Math.ceil(n.width / 2)),
                        (e.height = Math.ceil(n.height / 2));
                      const i = e.getContext("2d");
                      i.setTransform(0.5, 0, 0, 0.5, 0, 0),
                        i.drawImage(n, 0, 0);
                      const s = {
                        width: e.width,
                        height: e.height,
                        canvas: e,
                        url: e.toDataURL(),
                        img: new window.Image(),
                      };
                      (s.img.src = s.url), (n = e), t.push(s);
                    }
                    return t;
                  }),
                  (Pn.getApproximateMatrixScale = (e) =>
                    (Math.sqrt(e.m00() * e.m00() + e.m10() * e.m10()) +
                      Math.sqrt(e.m01() * e.m01() + e.m11() * e.m11())) /
                    2),
                  (Pn.CANVAS_MIPMAP_BIAS_ADJUSTMENT = 0.5),
                  (Pn.DEFAULT_OPTIONS = mn),
                  G.register("Imageable", Pn);
                const bn = Pn,
                  vn = (e, t, i) => {
                    const s = `_${e}PendingOptions`,
                      n = `_${e}IsConstructed`;
                    return class extends i {
                      constructor() {
                        super(...arguments),
                          (this[n] = !0),
                          this.mutate(this[s]),
                          (this[s] = void 0);
                      }
                      mutate(e) {
                        return (
                          e &&
                            !this[n] &&
                            ((this[s] = (0, Ae.JA)(
                              this[s] || {},
                              _.pick(e, t)
                            )),
                            (e = _.omit(e, t))),
                          super.mutate(e)
                        );
                      }
                    };
                  };
                G.register("DelayedMutate", vn);
                const Vn = vn;
                var wn = i(538);
                class En extends bn(Ds) {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()({ image: e }, t);
                    super(),
                      (this._imageBounds = null),
                      this.mutate(i),
                      this.invalidateSupportedRenderers();
                  }
                  invalidateImage() {
                    this._image
                      ? this.invalidateSelf(
                          this._imageBounds ||
                            new Oe.Z(
                              0,
                              0,
                              this.getImageWidth(),
                              this.getImageHeight()
                            )
                        )
                      : this.invalidateSelf(Oe.Z.NOTHING);
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++)
                      this._drawables[t].markDirtyImage();
                    super.invalidateImage(),
                      this.invalidateSupportedRenderers();
                  }
                  invalidateSupportedRenderers() {
                    let e = xe.bitmaskCanvas;
                    this.getImageWidth() <= ti.MAX_DIMENSION.width &&
                      this.getImageHeight() <= ti.MAX_DIMENSION.height &&
                      (e |= xe.bitmaskWebGL),
                      this._image instanceof HTMLCanvasElement ||
                        (e |= xe.bitmaskSVG | xe.bitmaskDOM),
                      this.setRendererBitmask(e);
                  }
                  setImageOpacity(e) {
                    const t = this._imageOpacity !== e;
                    if ((super.setImageOpacity(e), t)) {
                      const e = this._drawables.length;
                      for (let t = 0; t < e; t++)
                        this._drawables[t].markDirtyImageOpacity();
                    }
                  }
                  setImageBounds(e) {
                    this._imageBounds !== e &&
                      ((this._imageBounds = e), this.invalidateImage());
                  }
                  set imageBounds(e) {
                    this.setImageBounds(e);
                  }
                  get imageBounds() {
                    return this._imageBounds;
                  }
                  getImageBounds() {
                    return this._imageBounds;
                  }
                  isPainted() {
                    return !0;
                  }
                  canvasPaintSelf(e, t) {
                    lc.prototype.paintCanvas(e, this, t);
                  }
                  createDOMDrawable(e, t) {
                    return cc.createFromPool(e, t);
                  }
                  createSVGDrawable(e, t) {
                    return pc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return lc.createFromPool(e, t);
                  }
                  createWebGLDrawable(e, t) {
                    return mc.createFromPool(e, t);
                  }
                  containsPointSelf(e) {
                    const t = Ds.prototype.containsPointSelf.call(this, e);
                    return t && this._hitTestPixels && this._hitTestImageData
                      ? bn.testHitTestData(
                          this._hitTestImageData,
                          this.imageWidth,
                          this.imageHeight,
                          e
                        )
                      : t;
                  }
                  getSelfShape() {
                    return this._hitTestPixels && this._hitTestImageData
                      ? bn.hitTestDataToShape(
                          this._hitTestImageData,
                          this.imageWidth,
                          this.imageHeight
                        )
                      : Ds.prototype.getSelfShape.call(this);
                  }
                  invalidateMipmaps() {
                    const e = this._image && this._mipmap && !this._mipmapData;
                    if ((super.invalidateMipmaps(), e)) {
                      const e = this._drawables.length;
                      for (let t = 0; t < e; t++)
                        this._drawables[t].markDirtyMipmap();
                    }
                  }
                }
                _defineProperty(
                  En,
                  "DEFAULT_IMAGE_OPTIONS",
                  (0, Ae.JA)({}, Ds.DEFAULT_NODE_OPTIONS, bn.DEFAULT_OPTIONS)
                ),
                  (En.prototype._mutatorKeys = [
                    "image",
                    "imageOpacity",
                    "imageBounds",
                    "initialWidth",
                    "initialHeight",
                    "mipmap",
                    "mipmapBias",
                    "mipmapInitialLevel",
                    "mipmapMaxLevel",
                    "hitTestPixels",
                    ...Ds.prototype._mutatorKeys,
                  ]),
                  (En.prototype.drawableMarkFlags = [
                    ...Ds.prototype.drawableMarkFlags,
                    "image",
                    "imageOpacity",
                    "mipmap",
                  ]),
                  (En.ImageIO = new j.Z("ImageIO", {
                    valueType: En,
                    supertype: Ds.NodeIO,
                    events: ["changed"],
                    methods: {
                      setImage: {
                        returnType: wn.Z,
                        parameterTypes: [Pe.Z],
                        implementation: function (e) {
                          const t = new window.Image();
                          (t.src = e), (this.image = t);
                        },
                        documentation: "Set the image from a base64 string",
                        invocableForReadOnlyElements: !1,
                      },
                    },
                  })),
                  G.register("Image", En);
                const Sn = { shape: null, boundsMethod: "accurate" };
                class Tn extends pn(Ds) {
                  constructor(e, t) {
                    e || (null != t && t.shape);
                    const i = (0, Ae.ZP)()(
                      { shape: e, boundsMethod: Sn.boundsMethod },
                      t
                    );
                    super(),
                      (this._shape = Sn.shape),
                      (this._strokedShape = null),
                      (this._boundsMethod = Sn.boundsMethod),
                      (this._invalidShapeListener =
                        this.invalidateShape.bind(this)),
                      (this._invalidShapeListenerAttached = !1),
                      this.invalidateSupportedRenderers(),
                      this.mutate(i);
                  }
                  setShape(e) {
                    return (
                      this._shape !== e &&
                        (this._invalidShapeListenerAttached &&
                          this.detachShapeListener(),
                        "string" == typeof e && (e = new Yt.bn(e)),
                        (this._shape = e),
                        this.invalidateShape(),
                        this._shape &&
                          !this._shape.isImmutable() &&
                          this.attachShapeListener()),
                      this
                    );
                  }
                  set shape(e) {
                    this.setShape(e);
                  }
                  get shape() {
                    return this.getShape();
                  }
                  getShape() {
                    return this._shape;
                  }
                  getStrokedShape() {
                    return (
                      this._strokedShape ||
                        (this._strokedShape = this.getShape().getStrokedShape(
                          this._lineDrawingStyles
                        )),
                      this._strokedShape
                    );
                  }
                  getPathRendererBitmask() {
                    return xe.bitmaskCanvas | xe.bitmaskSVG;
                  }
                  invalidateSupportedRenderers() {
                    this.setRendererBitmask(
                      this.getFillRendererBitmask() &
                        this.getStrokeRendererBitmask() &
                        this.getPathRendererBitmask()
                    );
                  }
                  invalidateShape() {
                    this.invalidatePath();
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++)
                      this._drawables[t].markDirtyShape();
                    this._invalidShapeListenerAttached &&
                      this._shape &&
                      this._shape.isImmutable() &&
                      this.detachShapeListener();
                  }
                  invalidatePath() {
                    (this._strokedShape = null), this.invalidateSelf();
                  }
                  attachShapeListener() {
                    this.isDisposed ||
                      (this._shape.invalidatedEmitter.addListener(
                        this._invalidShapeListener
                      ),
                      (this._invalidShapeListenerAttached = !0));
                  }
                  detachShapeListener() {
                    this._shape.invalidatedEmitter.removeListener(
                      this._invalidShapeListener
                    ),
                      (this._invalidShapeListenerAttached = !1);
                  }
                  updateSelfBounds() {
                    const e = this.hasShape()
                        ? this.computeShapeBounds()
                        : Oe.Z.NOTHING,
                      t = !e.equals(this.selfBoundsProperty._value);
                    return t && this.selfBoundsProperty._value.set(e), t;
                  }
                  setBoundsMethod(e) {
                    return (
                      this._boundsMethod !== e &&
                        ((this._boundsMethod = e),
                        this.invalidatePath(),
                        this.rendererSummaryRefreshEmitter.emit()),
                      this
                    );
                  }
                  set boundsMethod(e) {
                    this.setBoundsMethod(e);
                  }
                  get boundsMethod() {
                    return this.getBoundsMethod();
                  }
                  getBoundsMethod() {
                    return this._boundsMethod;
                  }
                  computeShapeBounds() {
                    const e = this.getShape();
                    if ("none" !== this._boundsMethod && e) {
                      if (
                        this.hasPaintableStroke() &&
                        "unstroked" !== this._boundsMethod
                      ) {
                        if ("accurate" === this._boundsMethod)
                          return e.getStrokedBounds(this.getLineStyles());
                        {
                          let t;
                          return (
                            (t =
                              "safePadding" === this._boundsMethod &&
                              "miter" === this.getLineJoin()
                                ? this.getMiterLimit()
                                : "square" === this.getLineCap()
                                ? Math.SQRT2
                                : 1),
                            e.bounds.dilated((t * this.getLineWidth()) / 2)
                          );
                        }
                      }
                      return e.bounds;
                    }
                    return Oe.Z.NOTHING;
                  }
                  areSelfBoundsValid() {
                    return (
                      "accurate" === this._boundsMethod ||
                      "safePadding" === this._boundsMethod ||
                      ("none" !== this._boundsMethod && !this.hasStroke())
                    );
                  }
                  getTransformedSelfBounds(e) {
                    return (
                      this._stroke ? this.getStrokedShape() : this.getShape()
                    ).getBoundsWithTransform(e);
                  }
                  getTransformedSafeSelfBounds(e) {
                    return this.getTransformedSelfBounds(e);
                  }
                  invalidateStroke() {
                    this.invalidatePath(),
                      this.rendererSummaryRefreshEmitter.emit(),
                      super.invalidateStroke();
                  }
                  hasShape() {
                    return !!this._shape;
                  }
                  canvasPaintSelf(e, t) {
                    vc.prototype.paintCanvas(e, this, t);
                  }
                  createSVGDrawable(e, t) {
                    return wc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return vc.createFromPool(e, t);
                  }
                  isPainted() {
                    return !0;
                  }
                  containsPointSelf(e) {
                    let t = !1;
                    return this.hasShape()
                      ? (this._fillPickable &&
                          (t = this.getShape().containsPoint(e)),
                        !t &&
                          this._strokePickable &&
                          (t = this.getStrokedShape().containsPoint(e)),
                        t)
                      : t;
                  }
                  getSelfShape() {
                    return Yt.bn.union([
                      ...(this.hasShape() && this._fillPickable
                        ? [this.getShape()]
                        : []),
                      ...(this.hasShape() && this._strokePickable
                        ? [this.getStrokedShape()]
                        : []),
                    ]);
                  }
                  intersectsBoundsSelf(e) {
                    return !!this._shape && this._shape.intersectsBounds(e);
                  }
                  requiresSVGBoundsWorkaround() {
                    if (
                      !(
                        this._stroke &&
                        this._stroke instanceof Bi &&
                        this.hasShape()
                      )
                    )
                      return !1;
                    const e = this.computeShapeBounds();
                    return e.x * e.y == 0;
                  }
                  getDebugHTMLExtras() {
                    return this._shape
                      ? ` (<span style="color: #88f" onclick="window.open( 'data:text/plain;charset=utf-8,' + encodeURIComponent( '${this._shape.getSVGPath()}' ) );">path</span>)`
                      : "";
                  }
                  dispose() {
                    this._invalidShapeListenerAttached &&
                      this.detachShapeListener(),
                      super.dispose();
                  }
                }
                function xn(e) {
                  return e
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;")
                    .replace(/"/g, "&quot;")
                    .replace(/'/g, "&#x27;")
                    .replace(/\//g, "&#x2F;");
                }
                _defineProperty(
                  Tn,
                  "DEFAULT_PATH_OPTIONS",
                  (0, Ae.JA)({}, Ds.DEFAULT_NODE_OPTIONS, Sn)
                ),
                  (Tn.prototype._mutatorKeys = [
                    ...dn,
                    "boundsMethod",
                    "shape",
                    ...Ds.prototype._mutatorKeys,
                  ]),
                  (Tn.prototype.drawableMarkFlags = [
                    ...Ds.prototype.drawableMarkFlags,
                    ...un,
                    "shape",
                  ]),
                  G.register("Path", Tn),
                  ne.Z.register("escapeHTML", xn);
                const Cn = xn;
                function In(e) {
                  return (
                    _.each(Array.prototype.slice.call(arguments, 1), (t) => {
                      if (t)
                        for (const i in t) {
                          const s = Object.getOwnPropertyDescriptor(t, i);
                          !s ||
                            ("function" != typeof s.get && void 0 === t[i]) ||
                            Object.defineProperty(e, i, s);
                        }
                    }),
                    e
                  );
                }
                ne.Z.register("extendDefined", In);
                const Dn = In,
                  kn = [
                    "boundsMethod",
                    "stringProperty",
                    "text",
                    "font",
                    "fontWeight",
                    "fontFamily",
                    "fontStretch",
                    "fontStyle",
                    "fontSize",
                  ],
                  On =
                    window.navigator.userAgent.includes(
                      "like Gecko) Version/5"
                    ) && window.navigator.userAgent.includes("Safari/");
                class Ln extends pn(Ds) {
                  constructor(e, t) {
                    super(),
                      (this._stringProperty = new ls(
                        "",
                        !0,
                        this.onStringPropertyChange.bind(this)
                      )),
                      (this._font = Ee.DEFAULT),
                      (this._boundsMethod = "hybrid"),
                      (this._isHTML = !1),
                      (this._cachedRenderedText = null);
                    const i = Dn(
                      {
                        fill: "#000000",
                        tandem: fe.Z.OPTIONAL,
                        tandemNameSuffix: "Text",
                        phetioType: Ln.TextIO,
                        phetioVisiblePropertyInstrumented: !1,
                      },
                      t
                    );
                    "string" == typeof e || "number" == typeof e
                      ? (i.text = e)
                      : (i.stringProperty = e),
                      (this.textTandem = i.tandem),
                      this.mutate(i),
                      this.invalidateSupportedRenderers();
                  }
                  mutate(e) {
                    return super.mutate(e);
                  }
                  setText(e) {
                    return (e = "" + e), this._stringProperty.set(e), this;
                  }
                  set text(e) {
                    this.setText(e);
                  }
                  get text() {
                    return this.getText();
                  }
                  getText() {
                    return this._stringProperty.value;
                  }
                  getRenderedText() {
                    return (
                      null === this._cachedRenderedText &&
                        ((this._cachedRenderedText = this.text.replace(
                          " ",
                          " "
                        )),
                        Ne.Z.edge &&
                          (this._cachedRenderedText = Ln.simplifyEmbeddingMarks(
                            this._cachedRenderedText
                          ))),
                      this._cachedRenderedText
                    );
                  }
                  get renderedText() {
                    return this.getRenderedText();
                  }
                  onStringPropertyChange() {
                    this._cachedRenderedText = null;
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++)
                      this._drawables[t].markDirtyText();
                    this.invalidateText();
                  }
                  setStringProperty(e) {
                    return this._stringProperty.setTargetProperty(
                      this,
                      Ln.STRING_PROPERTY_TANDEM_NAME,
                      e
                    );
                  }
                  set stringProperty(e) {
                    this.setStringProperty(e);
                  }
                  get stringProperty() {
                    return this.getStringProperty();
                  }
                  getStringProperty() {
                    return this._stringProperty;
                  }
                  initializePhetioObject(e, t) {
                    const i = this.isPhetioInstrumented();
                    super.initializePhetioObject(e, t),
                      fe.Z.PHET_IO_ENABLED &&
                        !i &&
                        this.isPhetioInstrumented() &&
                        this._stringProperty.initializePhetio(
                          this,
                          Ln.STRING_PROPERTY_TANDEM_NAME,
                          () =>
                            new Si.Z(
                              this.text,
                              (0, Ae.JA)(
                                {
                                  phetioReadOnly: !0,
                                  tandem: this.tandem.createTandem(
                                    Ln.STRING_PROPERTY_TANDEM_NAME
                                  ),
                                  phetioDocumentation:
                                    "Property for the displayed text",
                                },
                                t.stringPropertyOptions
                              )
                            )
                        );
                  }
                  setBoundsMethod(e) {
                    if (e !== this._boundsMethod) {
                      (this._boundsMethod = e),
                        this.invalidateSupportedRenderers();
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyBounds();
                      this.invalidateText(),
                        this.rendererSummaryRefreshEmitter.emit();
                    }
                    return this;
                  }
                  set boundsMethod(e) {
                    this.setBoundsMethod(e);
                  }
                  get boundsMethod() {
                    return this.getBoundsMethod();
                  }
                  getBoundsMethod() {
                    return this._boundsMethod;
                  }
                  getTextRendererBitmask() {
                    let e = 0;
                    return (
                      "fast" === this._boundsMethod ||
                        this._isHTML ||
                        (e |= xe.bitmaskCanvas),
                      this._isHTML || (e |= xe.bitmaskSVG),
                      (e |= xe.bitmaskDOM),
                      e
                    );
                  }
                  invalidateSupportedRenderers() {
                    this.setRendererBitmask(
                      this.getFillRendererBitmask() &
                        this.getStrokeRendererBitmask() &
                        this.getTextRendererBitmask()
                    );
                  }
                  invalidateText() {
                    this.invalidateSelf();
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++)
                      this._drawables[t].markDirtyBounds();
                    this.invalidateSupportedRenderers();
                  }
                  updateSelfBounds() {
                    let e;
                    (e =
                      this._isHTML || (On && "accurate" !== this._boundsMethod)
                        ? di.approximateDOMBounds(
                            this._font,
                            this.getDOMTextNode()
                          )
                        : "hybrid" === this._boundsMethod
                        ? di.approximateHybridBounds(
                            this._font,
                            this.renderedText
                          )
                        : "accurate" === this._boundsMethod
                        ? di.accurateCanvasBounds(this)
                        : di.approximateSVGBounds(
                            this._font,
                            this.renderedText
                          )),
                      this.hasStroke() && e.dilate(this.getLineWidth() / 2);
                    const t = !e.equals(this.selfBoundsProperty._value);
                    return t && this.selfBoundsProperty._value.set(e), t;
                  }
                  invalidateStroke() {
                    this.invalidateText(), super.invalidateStroke();
                  }
                  invalidateFill() {
                    this.invalidateText(), super.invalidateFill();
                  }
                  canvasPaintSelf(e, t) {
                    Wc.prototype.paintCanvas(e, this, t);
                  }
                  createDOMDrawable(e, t) {
                    return Qc.createFromPool(e, t);
                  }
                  createSVGDrawable(e, t) {
                    return Kc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return Wc.createFromPool(e, t);
                  }
                  getDOMTextNode() {
                    if (this._isHTML) {
                      const e = document.createElement("span");
                      return (e.innerHTML = this.text), e;
                    }
                    return document.createTextNode(this.renderedText);
                  }
                  getSafeSelfBounds() {
                    const e = this.getSelfBounds();
                    return e.dilatedXY(1 * e.width, 1 * e.height);
                  }
                  setFont(e) {
                    if (
                      e !==
                      ("string" == typeof e ? this._font.toCSS() : this._font)
                    ) {
                      this._font = "string" == typeof e ? Ee.fromCSS(e) : e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyFont();
                      this.invalidateText();
                    }
                    return this;
                  }
                  set font(e) {
                    this.setFont(e);
                  }
                  get font() {
                    return this.getFont();
                  }
                  getFont() {
                    return this._font.getFont();
                  }
                  setFontWeight(e) {
                    return this.setFont(this._font.copy({ weight: e }));
                  }
                  set fontWeight(e) {
                    this.setFontWeight(e);
                  }
                  get fontWeight() {
                    return this.getFontWeight();
                  }
                  getFontWeight() {
                    return this._font.getWeight();
                  }
                  setFontFamily(e) {
                    return this.setFont(this._font.copy({ family: e }));
                  }
                  set fontFamily(e) {
                    this.setFontFamily(e);
                  }
                  get fontFamily() {
                    return this.getFontFamily();
                  }
                  getFontFamily() {
                    return this._font.getFamily();
                  }
                  setFontStretch(e) {
                    return this.setFont(this._font.copy({ stretch: e }));
                  }
                  set fontStretch(e) {
                    this.setFontStretch(e);
                  }
                  get fontStretch() {
                    return this.getFontStretch();
                  }
                  getFontStretch() {
                    return this._font.getStretch();
                  }
                  setFontStyle(e) {
                    return this.setFont(this._font.copy({ style: e }));
                  }
                  set fontStyle(e) {
                    this.setFontStyle(e);
                  }
                  get fontStyle() {
                    return this.getFontStyle();
                  }
                  getFontStyle() {
                    return this._font.getStyle();
                  }
                  setFontSize(e) {
                    return this.setFont(this._font.copy({ size: e }));
                  }
                  set fontSize(e) {
                    this.setFontSize(e);
                  }
                  get fontSize() {
                    return this.getFontSize();
                  }
                  getFontSize() {
                    return this._font.getSize();
                  }
                  isPainted() {
                    return !0;
                  }
                  areSelfBoundsValid() {
                    return "accurate" === this._boundsMethod;
                  }
                  getDebugHTMLExtras() {
                    return ` "${Cn(this.renderedText)}"${
                      this._isHTML ? " (html)" : ""
                    }`;
                  }
                  dispose() {
                    super.dispose(), this._stringProperty.dispose();
                  }
                  static embeddedDebugString(e) {
                    return e
                      .replace(/\u202a/g, "[LTR]")
                      .replace(/\u202b/g, "[RTL]")
                      .replace(/\u202c/g, "[POP]");
                  }
                  static simplifyEmbeddingMarks(e) {
                    const t = { dir: null, children: [], parent: null };
                    let i = t;
                    for (let s = 0; s < e.length; s++) {
                      const t = e.charAt(s);
                      if (t === Bn || t === Mn) {
                        const e = { dir: t, children: [], parent: i };
                        i.children.push(e), (i = e);
                      } else t === Nn ? (i = i.parent) : i.children.push(t);
                    }
                    return (function e(t) {
                      if ("string" == typeof t) return t;
                      const i = t.children.map(e).join("");
                      return t.dir ? t.dir + i + "‬" : i;
                    })(
                      (function e(t) {
                        if ("string" != typeof t) {
                          for (let i = 0; i < t.children.length; i++)
                            e(t.children[i]);
                          !(function (e) {
                            1 === e.children.length &&
                              "string" != typeof e.children[0] &&
                              e.children[0].dir &&
                              ((e.dir = e.children[0].dir),
                              (e.children = e.children[0].children));
                          })(t),
                            (function (e) {
                              for (let t = e.children.length - 1; t >= 0; t--) {
                                const i = e.children[t];
                                "string" != typeof i &&
                                  e.dir === i.dir &&
                                  e.children.splice(t, 1, ...i.children);
                              }
                            })(t),
                            (function e(t) {
                              for (let i = t.children.length - 1; i >= 1; i--) {
                                const s = t.children[i - 1],
                                  n = t.children[i];
                                "string" != typeof n &&
                                  "string" != typeof s &&
                                  n.dir &&
                                  s.dir === n.dir &&
                                  ((s.children = s.children.concat(n.children)),
                                  t.children.splice(i, 1),
                                  e(s));
                              }
                            })(t);
                        }
                        return t;
                      })(t)
                    );
                  }
                }
                _defineProperty(Ln, "STRING_PROPERTY_NAME", "stringProperty"),
                  _defineProperty(
                    Ln,
                    "STRING_PROPERTY_TANDEM_NAME",
                    "stringProperty"
                  ),
                  (Ln.prototype._mutatorKeys = [
                    ...dn,
                    ...kn,
                    ...Ds.prototype._mutatorKeys,
                  ]),
                  (Ln.prototype.drawableMarkFlags = [
                    ...Ds.prototype.drawableMarkFlags,
                    ...un,
                    "text",
                    "font",
                    "bounds",
                  ]),
                  G.register("Text", Ln);
                const Bn = "‪",
                  Mn = "‫",
                  Nn = "‬";
                di.initializeTextBounds(),
                  (Ln.TextIO = new j.Z("TextIO", {
                    valueType: Ln,
                    supertype: Ds.NodeIO,
                    documentation:
                      "Text that is displayed in the simulation. TextIO has a nested PropertyIO.&lt;String&gt; for the current string value.",
                  }));
                class Rn extends Ds {
                  constructor(e) {
                    super(e), this.setRendererBitmask(xe.bitmaskCanvas);
                  }
                  setCanvasBounds(e) {
                    this.invalidateSelf(e);
                  }
                  set canvasBounds(e) {
                    this.setCanvasBounds(e);
                  }
                  get canvasBounds() {
                    return this.getCanvasBounds();
                  }
                  getCanvasBounds() {
                    return this.getSelfBounds();
                  }
                  isPainted() {
                    return !0;
                  }
                  invalidatePaint() {
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++) this._drawables[t].markDirty();
                  }
                  canvasPaintSelf(e, t) {
                    this.paintCanvas(e.context);
                  }
                  containsPointSelf(e) {
                    return !1;
                  }
                  getSelfShape() {
                    return new Yt.bn();
                  }
                  createCanvasDrawable(e, t) {
                    return $d.createFromPool(e, t);
                  }
                }
                (Rn.prototype._mutatorKeys = ["canvasBounds"].concat(
                  Ds.prototype._mutatorKeys
                )),
                  G.register("CanvasNode", Rn);
                class qn extends Tn {
                  constructor(e, t) {
                    super(null),
                      (this._radius = 0),
                      (t = "object" == typeof e ? e : Dn({ radius: e }, t)),
                      this.mutate(t);
                  }
                  getStrokeRendererBitmask() {
                    let e = super.getStrokeRendererBitmask();
                    return (
                      this.hasStroke() &&
                        !this.getStroke().isGradient &&
                        !this.getStroke().isPattern &&
                        this.getLineWidth() <= this.getRadius() &&
                        (e |= xe.bitmaskDOM),
                      e
                    );
                  }
                  getPathRendererBitmask() {
                    return (
                      xe.bitmaskCanvas |
                      xe.bitmaskSVG |
                      (me.borderRadius ? xe.bitmaskDOM : 0)
                    );
                  }
                  invalidateCircle() {
                    (this._shape = null), this.invalidatePath();
                  }
                  createCircleShape() {
                    return Yt.bn.circle(0, 0, this._radius).makeImmutable();
                  }
                  intersectsBoundsSelf(e) {
                    let t = Math.abs(e.centerX),
                      i = Math.abs(e.centerY);
                    const s = e.maxX - t,
                      n = e.maxY - i;
                    return (
                      !(t > s + this._radius || i > n + this._radius) &&
                      (t <= s ||
                        i <= n ||
                        ((t -= s),
                        (i -= n),
                        t * t + i * i <= this._radius * this._radius))
                    );
                  }
                  canvasPaintSelf(e, t) {
                    tc.prototype.paintCanvas(e, this, t);
                  }
                  createDOMDrawable(e, t) {
                    return sc.createFromPool(e, t);
                  }
                  createSVGDrawable(e, t) {
                    return rc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return tc.createFromPool(e, t);
                  }
                  setRadius(e) {
                    if (this._radius !== e) {
                      (this._radius = e), this.invalidateCircle();
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyRadius();
                    }
                    return this;
                  }
                  set radius(e) {
                    this.setRadius(e);
                  }
                  get radius() {
                    return this.getRadius();
                  }
                  getRadius() {
                    return this._radius;
                  }
                  computeShapeBounds() {
                    let e = new Oe.Z(
                      -this._radius,
                      -this._radius,
                      this._radius,
                      this._radius
                    );
                    return (
                      this._stroke && (e = e.dilated(this.getLineWidth() / 2)),
                      e
                    );
                  }
                  containsPointSelf(e) {
                    const t = e.x * e.x + e.y * e.y;
                    let i,
                      s = !0;
                    if (this._strokePickable) {
                      i = this.getLineWidth() / 2;
                      const e = this._radius + i;
                      s = s && t <= e * e;
                    }
                    if (this._fillPickable)
                      return this._strokePickable
                        ? s
                        : t <= this._radius * this._radius;
                    if (this._strokePickable) {
                      const e = this._radius - i;
                      return s && t >= e * e;
                    }
                    return !1;
                  }
                  setShape(e) {
                    if (null !== e)
                      throw new Error(
                        "Cannot set the shape of a Circle to something non-null"
                      );
                    return this.invalidatePath(), this;
                  }
                  getShape() {
                    return (
                      this._shape || (this._shape = this.createCircleShape()),
                      this._shape
                    );
                  }
                  hasShape() {
                    return !0;
                  }
                }
                (qn.prototype._mutatorKeys = ["radius"].concat(
                  Tn.prototype._mutatorKeys
                )),
                  (qn.prototype.drawableMarkFlags =
                    Tn.prototype.drawableMarkFlags
                      .concat(["radius"])
                      .filter((e) => "shape" !== e)),
                  G.register("Circle", qn);
                class Fn extends Ds {
                  constructor(e, t) {
                    ((e) => !(!e || !e.jquery))(e) && (e = e[0]),
                      super(),
                      (this._container = document.createElement("div")),
                      (this._$container = $(this._container)),
                      this._$container.css("position", "absolute"),
                      this._$container.css("left", 0),
                      this._$container.css("top", 0),
                      (this.invalidateDOMLock = !1),
                      (this._preventTransform = !1),
                      (t = Dn({ element: e }, t)),
                      this.mutate(t),
                      this.setRendererBitmask(xe.bitmaskDOM);
                  }
                  calculateDOMBounds() {
                    const e = $(this._element);
                    return new Oe.Z(0, 0, e.width(), e.height());
                  }
                  invalidateDOM() {
                    if (this.invalidateDOMLock) return;
                    this.invalidateDOMLock = !0;
                    const e = document.createElement("div");
                    $(e).css({
                      display: "hidden",
                      padding: "0 !important",
                      margin: "0 !important",
                      position: "absolute",
                      left: 0,
                      top: 0,
                      width: 65535,
                      height: 65535,
                    }),
                      this._container.removeChild(this._element),
                      e.appendChild(this._element),
                      document.body.appendChild(e);
                    const t = this.calculateDOMBounds();
                    this.invalidateSelf(t),
                      this._$container.width(t.getWidth()),
                      this._$container.height(t.getHeight()),
                      document.body.removeChild(e),
                      e.removeChild(this._element),
                      this._container.appendChild(this._element),
                      (this.invalidateDOMLock = !1);
                  }
                  createDOMDrawable(e, t) {
                    return ac.createFromPool(e, t);
                  }
                  isPainted() {
                    return !0;
                  }
                  setElement(e) {
                    return (
                      this._element !== e &&
                        (this._element &&
                          this._container.removeChild(this._element),
                        (this._element = e),
                        this._container.appendChild(this._element),
                        this.invalidateDOM()),
                      this
                    );
                  }
                  set element(e) {
                    this.setElement(e);
                  }
                  get element() {
                    return this.getElement();
                  }
                  getElement() {
                    return this._element;
                  }
                  setPreventTransform(e) {
                    this._preventTransform !== e &&
                      (this._preventTransform = e);
                  }
                  set preventTransform(e) {
                    this.setPreventTransform(e);
                  }
                  get preventTransform() {
                    return this.isTransformPrevented();
                  }
                  isTransformPrevented() {
                    return this._preventTransform;
                  }
                }
                (Fn.prototype._mutatorKeys = [
                  "element",
                  "preventTransform",
                ].concat(Ds.prototype._mutatorKeys)),
                  G.register("DOM", Fn);
                class Zn extends Tn {
                  constructor(e, t, i, s, n) {
                    super(null),
                      (this._x1 = 0),
                      (this._y1 = 0),
                      (this._x2 = 0),
                      (this._y2 = 0),
                      (n =
                        "object" == typeof e
                          ? e instanceof Me.Z
                            ? Dn(
                                {
                                  x1: e.x,
                                  y1: e.y,
                                  x2: t.x,
                                  y2: t.y,
                                  strokePickable: !0,
                                },
                                i
                              )
                            : Dn({ strokePickable: !0 }, e)
                          : Dn(
                              {
                                x1: e,
                                y1: t,
                                x2: i,
                                y2: s,
                                strokePickable: !0,
                              },
                              n
                            )),
                      this.mutate(n);
                  }
                  setLine(e, t, i, s) {
                    (this._x1 = e),
                      (this._y1 = t),
                      (this._x2 = i),
                      (this._y2 = s);
                    const n = this._drawables.length;
                    for (let r = 0; r < n; r++) {
                      this._drawables[r].markDirtyLine();
                    }
                    return this.invalidateLine(), this;
                  }
                  setPoint1(e, t) {
                    "number" == typeof e
                      ? ((this._x1 = e), (this._y1 = t))
                      : ((this._x1 = e.x), (this._y1 = e.y));
                    const i = this._drawables.length;
                    for (let s = 0; s < i; s++)
                      this._drawables[s].markDirtyP1();
                    return this.invalidateLine(), this;
                  }
                  set p1(e) {
                    this.setPoint1(e);
                  }
                  get p1() {
                    return new Me.Z(this._x1, this._y1);
                  }
                  setPoint2(e, t) {
                    "number" == typeof e
                      ? ((this._x2 = e), (this._y2 = t))
                      : ((this._x2 = e.x), (this._y2 = e.y));
                    const i = this._drawables.length;
                    for (let s = 0; s < i; s++)
                      this._drawables[s].markDirtyP2();
                    return this.invalidateLine(), this;
                  }
                  set p2(e) {
                    this.setPoint2(e);
                  }
                  get p2() {
                    return new Me.Z(this._x2, this._y2);
                  }
                  setX1(e) {
                    if (this._x1 !== e) {
                      this._x1 = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyX1();
                      this.invalidateLine();
                    }
                    return this;
                  }
                  set x1(e) {
                    this.setX1(e);
                  }
                  get x1() {
                    return this.getX1();
                  }
                  getX1() {
                    return this._x1;
                  }
                  setY1(e) {
                    if (this._y1 !== e) {
                      this._y1 = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyY1();
                      this.invalidateLine();
                    }
                    return this;
                  }
                  set y1(e) {
                    this.setY1(e);
                  }
                  get y1() {
                    return this.getY1();
                  }
                  getY1() {
                    return this._y1;
                  }
                  setX2(e) {
                    if (this._x2 !== e) {
                      this._x2 = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyX2();
                      this.invalidateLine();
                    }
                    return this;
                  }
                  set x2(e) {
                    this.setX2(e);
                  }
                  get x2() {
                    return this.getX2();
                  }
                  getX2() {
                    return this._x2;
                  }
                  setY2(e) {
                    if (this._y2 !== e) {
                      this._y2 = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyY2();
                      this.invalidateLine();
                    }
                    return this;
                  }
                  set y2(e) {
                    this.setY2(e);
                  }
                  get y2() {
                    return this.getY2();
                  }
                  getY2() {
                    return this._y2;
                  }
                  createLineShape() {
                    return Yt.bn
                      .lineSegment(this._x1, this._y1, this._x2, this._y2)
                      .makeImmutable();
                  }
                  invalidateLine() {
                    (this._shape = null), this.invalidatePath();
                  }
                  containsPointSelf(e) {
                    return !!this._strokePickable && super.containsPointSelf(e);
                  }
                  canvasPaintSelf(e, t) {
                    yc.prototype.paintCanvas(e, this, t);
                  }
                  computeShapeBounds() {
                    if (this._stroke) {
                      const e = this.getLineCap(),
                        t = this.getLineWidth() / 2;
                      if ("round" === e)
                        return new Oe.Z(
                          Math.min(this._x1, this._x2) - t,
                          Math.min(this._y1, this._y2) - t,
                          Math.max(this._x1, this._x2) + t,
                          Math.max(this._y1, this._y2) + t
                        );
                      {
                        const i = this._x2 - this._x1,
                          s = this._y2 - this._y1,
                          n = Math.sqrt(i * i + s * s);
                        if (0 === n)
                          return new Oe.Z(
                            this._x1 - t,
                            this._y1 - t,
                            this._x2 + t,
                            this._y2 + t
                          );
                        const r = (t * i) / n,
                          o = (t * s) / n,
                          a = Oe.Z.NOTHING.copy();
                        return (
                          "butt" === e
                            ? (a.addCoordinates(this._x1 - o, this._y1 + r),
                              a.addCoordinates(this._x1 + o, this._y1 - r),
                              a.addCoordinates(this._x2 - o, this._y2 + r),
                              a.addCoordinates(this._x2 + o, this._y2 - r))
                            : (a.addCoordinates(
                                this._x1 - r - o,
                                this._y1 - o + r
                              ),
                              a.addCoordinates(
                                this._x1 - r + o,
                                this._y1 - o - r
                              ),
                              a.addCoordinates(
                                this._x2 + r - o,
                                this._y2 + o + r
                              ),
                              a.addCoordinates(
                                this._x2 + r + o,
                                this._y2 + o - r
                              )),
                          a
                        );
                      }
                    }
                    {
                      const e = Oe.Z.NOTHING.copy();
                      return (
                        e.addCoordinates(this._x1, this._y1),
                        e.addCoordinates(this._x2, this._y2),
                        e
                      );
                    }
                  }
                  createSVGDrawable(e, t) {
                    return Pc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return yc.createFromPool(e, t);
                  }
                  setShape(e) {
                    if (null !== e)
                      throw new Error(
                        "Cannot set the shape of a Line to something non-null"
                      );
                    return this.invalidatePath(), this;
                  }
                  getShape() {
                    return (
                      this._shape || (this._shape = this.createLineShape()),
                      this._shape
                    );
                  }
                  hasShape() {
                    return !0;
                  }
                  getFillRendererBitmask() {
                    return (
                      xe.bitmaskCanvas |
                      xe.bitmaskSVG |
                      xe.bitmaskDOM |
                      xe.bitmaskWebGL
                    );
                  }
                }
                (Zn.prototype._mutatorKeys = [
                  "p1",
                  "p2",
                  "x1",
                  "y1",
                  "x2",
                  "y2",
                ].concat(Tn.prototype._mutatorKeys)),
                  (Zn.prototype.drawableMarkFlags =
                    Tn.prototype.drawableMarkFlags
                      .concat(["line", "p1", "p2", "x1", "x2", "y1", "y2"])
                      .filter((e) => "shape" !== e)),
                  G.register("Line", Zn);
                const Hn = tn(Tn);
                class Yn extends Hn {
                  constructor(e, t, i, s, n, r, o) {
                    super(null, { sizable: !1 });
                    let a = {};
                    (this._rectX = 0),
                      (this._rectY = 0),
                      (this._rectWidth = 0),
                      (this._rectHeight = 0),
                      (this._cornerXRadius = 0),
                      (this._cornerYRadius = 0),
                      (a =
                        "object" == typeof e
                          ? e instanceof Oe.Z
                            ? "number" != typeof t
                              ? (0, Ae.JA)(a, { rectBounds: e }, t)
                              : (0, Ae.JA)(
                                  a,
                                  {
                                    rectBounds: e,
                                    cornerXRadius: t,
                                    cornerYRadius: i,
                                  },
                                  s
                                )
                            : (0, Ae.JA)(a, e)
                          : void 0 === r
                          ? (0, Ae.JA)(
                              a,
                              {
                                rectX: e,
                                rectY: t,
                                rectWidth: i,
                                rectHeight: s,
                              },
                              n
                            )
                          : (0, Ae.JA)(
                              a,
                              {
                                rectX: e,
                                rectY: t,
                                rectWidth: i,
                                rectHeight: s,
                                cornerXRadius: n,
                                cornerYRadius: r,
                              },
                              o
                            )),
                      this.localPreferredWidthProperty.lazyLink(
                        this.updatePreferredSizes.bind(this)
                      ),
                      this.localPreferredHeightProperty.lazyLink(
                        this.updatePreferredSizes.bind(this)
                      ),
                      this.mutate(a);
                  }
                  getMaximumArcSize() {
                    return Math.min(this._rectWidth / 2, this._rectHeight / 2);
                  }
                  getStrokeRendererBitmask() {
                    let e = super.getStrokeRendererBitmask();
                    const t = this.getStroke();
                    return (
                      !t ||
                        t instanceof Ni ||
                        t instanceof Fi ||
                        this.hasLineDash() ||
                        (("miter" === this.getLineJoin() ||
                          ("round" === this.getLineJoin() &&
                            me.borderRadius)) &&
                          (e |= xe.bitmaskDOM)),
                      this.hasStroke() || (e |= xe.bitmaskWebGL),
                      e
                    );
                  }
                  getPathRendererBitmask() {
                    let e = xe.bitmaskCanvas | xe.bitmaskSVG;
                    const t = this.getMaximumArcSize();
                    return (
                      (!this.hasStroke() ||
                        (this.getLineWidth() <= this._rectHeight &&
                          this.getLineWidth() <= this._rectWidth)) &&
                        (!this.isRounded() ||
                          (me.borderRadius &&
                            this._cornerXRadius === this._cornerYRadius)) &&
                        this._cornerYRadius <= t &&
                        this._cornerXRadius <= t &&
                        (e |= xe.bitmaskDOM),
                      this.hasStroke() ||
                        this.isRounded() ||
                        (e |= xe.bitmaskWebGL),
                      e
                    );
                  }
                  setRect(e, t, i, s, n, r) {
                    const o = void 0 !== n,
                      a = void 0 !== r;
                    if (
                      !(
                        this._rectX !== e ||
                        this._rectY !== t ||
                        this._rectWidth !== i ||
                        this._rectHeight !== s ||
                        (o && this._cornerXRadius !== n) ||
                        (a && this._cornerYRadius !== r)
                      )
                    )
                      return this;
                    (this._rectX = e),
                      (this._rectY = t),
                      (this._rectWidth = i),
                      (this._rectHeight = s),
                      (this._cornerXRadius = o ? n : this._cornerXRadius),
                      (this._cornerYRadius = a ? r : this._cornerYRadius);
                    const h = this._drawables.length;
                    for (let l = 0; l < h; l++)
                      this._drawables[l].markDirtyRectangle();
                    return this.invalidateRectangle(), this;
                  }
                  setRectX(e) {
                    if (this._rectX !== e) {
                      this._rectX = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyX();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set rectX(e) {
                    this.setRectX(e);
                  }
                  get rectX() {
                    return this.getRectX();
                  }
                  getRectX() {
                    return this._rectX;
                  }
                  setRectY(e) {
                    if (this._rectY !== e) {
                      this._rectY = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyY();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set rectY(e) {
                    this.setRectY(e);
                  }
                  get rectY() {
                    return this.getRectY();
                  }
                  getRectY() {
                    return this._rectY;
                  }
                  setRectWidth(e) {
                    if (this._rectWidth !== e) {
                      this._rectWidth = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyWidth();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set rectWidth(e) {
                    this.setRectWidth(e);
                  }
                  get rectWidth() {
                    return this.getRectWidth();
                  }
                  getRectWidth() {
                    return this._rectWidth;
                  }
                  setRectHeight(e) {
                    if (this._rectHeight !== e) {
                      this._rectHeight = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyHeight();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set rectHeight(e) {
                    this.setRectHeight(e);
                  }
                  get rectHeight() {
                    return this.getRectHeight();
                  }
                  getRectHeight() {
                    return this._rectHeight;
                  }
                  setCornerXRadius(e) {
                    if (this._cornerXRadius !== e) {
                      this._cornerXRadius = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyCornerXRadius();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set cornerXRadius(e) {
                    this.setCornerXRadius(e);
                  }
                  get cornerXRadius() {
                    return this.getCornerXRadius();
                  }
                  getCornerXRadius() {
                    return this._cornerXRadius;
                  }
                  setCornerYRadius(e) {
                    if (this._cornerYRadius !== e) {
                      this._cornerYRadius = e;
                      const t = this._drawables.length;
                      for (let e = 0; e < t; e++)
                        this._drawables[e].markDirtyCornerYRadius();
                      this.invalidateRectangle();
                    }
                    return this;
                  }
                  set cornerYRadius(e) {
                    this.setCornerYRadius(e);
                  }
                  get cornerYRadius() {
                    return this.getCornerYRadius();
                  }
                  getCornerYRadius() {
                    return this._cornerYRadius;
                  }
                  setRectBounds(e) {
                    return this.setRect(e.x, e.y, e.width, e.height), this;
                  }
                  set rectBounds(e) {
                    this.setRectBounds(e);
                  }
                  get rectBounds() {
                    return this.getRectBounds();
                  }
                  getRectBounds() {
                    return Oe.Z.rect(
                      this._rectX,
                      this._rectY,
                      this._rectWidth,
                      this._rectHeight
                    );
                  }
                  setRectSize(e) {
                    return (
                      this.setRectWidth(e.width),
                      this.setRectHeight(e.height),
                      this
                    );
                  }
                  set rectSize(e) {
                    this.setRectSize(e);
                  }
                  get rectSize() {
                    return this.getRectSize();
                  }
                  getRectSize() {
                    return new $t.Z(this._rectWidth, this._rectHeight);
                  }
                  setRectWidthFromRight(e) {
                    if (this._rectWidth !== e) {
                      const t = this._rectX + this._rectWidth;
                      this.setRectWidth(e), this.setRectX(t - e);
                    }
                    return this;
                  }
                  set rectWidthFromRight(e) {
                    this.setRectWidthFromRight(e);
                  }
                  get rectWidthFromRight() {
                    return this.getRectWidth();
                  }
                  setRectHeightFromBottom(e) {
                    if (this._rectHeight !== e) {
                      const t = this._rectY + this._rectHeight;
                      this.setRectHeight(e), this.setRectY(t - e);
                    }
                    return this;
                  }
                  set rectHeightFromBottom(e) {
                    this.setRectHeightFromBottom(e);
                  }
                  get rectHeightFromBottom() {
                    return this.getRectHeight();
                  }
                  isRounded() {
                    return (
                      0 !== this._cornerXRadius && 0 !== this._cornerYRadius
                    );
                  }
                  computeShapeBounds() {
                    let e = new Oe.Z(
                      this._rectX,
                      this._rectY,
                      this._rectX + this._rectWidth,
                      this._rectY + this._rectHeight
                    );
                    return (
                      this._stroke && (e = e.dilated(this.getLineWidth() / 2)),
                      e
                    );
                  }
                  createRectangleShape() {
                    if (this.isRounded()) {
                      const e = Math.min(
                        this._rectWidth / 2,
                        this._rectHeight / 2
                      );
                      return Yt.bn
                        .roundRectangle(
                          this._rectX,
                          this._rectY,
                          this._rectWidth,
                          this._rectHeight,
                          Math.min(e, this._cornerXRadius),
                          Math.min(e, this._cornerYRadius)
                        )
                        .makeImmutable();
                    }
                    return Yt.bn
                      .rectangle(
                        this._rectX,
                        this._rectY,
                        this._rectWidth,
                        this._rectHeight
                      )
                      .makeImmutable();
                  }
                  invalidateRectangle() {
                    (this._shape = null),
                      this.invalidatePath(),
                      this.invalidateSupportedRenderers();
                  }
                  updatePreferredSizes() {
                    const e = this.localPreferredWidth,
                      t = this.localPreferredHeight;
                    null !== e &&
                      (this.rectWidth = this.hasStroke()
                        ? e - this.lineWidth
                        : e),
                      null !== t &&
                        (this.rectHeight = this.hasStroke()
                          ? t - this.lineWidth
                          : t);
                  }
                  invalidateStroke() {
                    super.invalidateStroke(), this.updatePreferredSizes();
                  }
                  containsPointSelf(e) {
                    const t = this._rectX,
                      i = this._rectY,
                      s = this._rectWidth,
                      n = this._rectHeight,
                      r = this._cornerXRadius,
                      o = this._cornerYRadius,
                      a = this.getLineWidth() / 2;
                    let h = !0;
                    if (this._strokePickable) {
                      const l = this.isRounded();
                      if (!l && "bevel" === this.getLineJoin())
                        return super.containsPointSelf(e);
                      const d = "miter" === this.getLineJoin() && !l;
                      h =
                        h &&
                        Yn.intersects(
                          t - a,
                          i - a,
                          s + 2 * a,
                          n + 2 * a,
                          d ? 0 : r + a,
                          d ? 0 : o + a,
                          e
                        );
                    }
                    return this._fillPickable
                      ? this._strokePickable
                        ? h
                        : Yn.intersects(t, i, s, n, r, o, e)
                      : !!this._strokePickable &&
                          h &&
                          !Yn.intersects(
                            t + a,
                            i + a,
                            s - 2 * a,
                            n - 2 * a,
                            r - a,
                            o - a,
                            e
                          );
                  }
                  intersectsBoundsSelf(e) {
                    return !this.computeShapeBounds().intersection(e).isEmpty();
                  }
                  canvasPaintSelf(e, t) {
                    Sc.prototype.paintCanvas(e, this, t);
                  }
                  createDOMDrawable(e, t) {
                    return Cc.createFromPool(e, t);
                  }
                  createSVGDrawable(e, t) {
                    return Dc.createFromPool(e, t);
                  }
                  createCanvasDrawable(e, t) {
                    return Sc.createFromPool(e, t);
                  }
                  createWebGLDrawable(e, t) {
                    return Lc.createFromPool(e, t);
                  }
                  setShape(e) {
                    if (null !== e)
                      throw new Error(
                        "Cannot set the shape of a Rectangle to something non-null"
                      );
                    return this.invalidatePath(), this;
                  }
                  getShape() {
                    return (
                      this._shape ||
                        (this._shape = this.createRectangleShape()),
                      this._shape
                    );
                  }
                  hasShape() {
                    return !0;
                  }
                  setCornerRadius(e) {
                    return (
                      this.setCornerXRadius(e), this.setCornerYRadius(e), this
                    );
                  }
                  set cornerRadius(e) {
                    this.setCornerRadius(e);
                  }
                  get cornerRadius() {
                    return this.getCornerRadius();
                  }
                  getCornerRadius() {
                    return this._cornerXRadius;
                  }
                  static intersects(e, t, i, s, n, r, o) {
                    const a =
                      o.x >= e && o.x <= e + i && o.y >= t && o.y <= t + s;
                    if (!a || n <= 0 || r <= 0) return a;
                    const h = Math.min(i / 2, s / 2);
                    let l, d;
                    (n = Math.min(h, n)), (r = Math.min(h, r));
                    let c = !1;
                    if (
                      (o.x < e + i / 2
                        ? ((l = e + n), (c = c || o.x >= l))
                        : ((l = e + i - n), (c = c || o.x <= l)),
                      c)
                    )
                      return !0;
                    if (
                      (o.y < t + s / 2
                        ? ((d = t + r), (c = c || o.y >= d))
                        : ((d = t + s - r), (c = c || o.y <= d)),
                      c)
                    )
                      return !0;
                    let u = o.x - l,
                      p = o.y - d;
                    return (u /= n), (p /= r), (u *= u), (p *= p), u + p <= 1;
                  }
                  static rect(e, t, i, s, n) {
                    return new Yn(e, t, i, s, 0, 0, n);
                  }
                  static roundedRect(e, t, i, s, n, r, o) {
                    return new Yn(e, t, i, s, n, r, o);
                  }
                  static bounds(e, t) {
                    return new Yn(e.minX, e.minY, e.width, e.height, t);
                  }
                  static roundedBounds(e, t, i, s) {
                    return new Yn(e.minX, e.minY, e.width, e.height, t, i, s);
                  }
                  static dimension(e, t) {
                    return new Yn(0, 0, e.width, e.height, 0, 0, t);
                  }
                }
                (Yn.prototype._mutatorKeys = [
                  "rectBounds",
                  "rectSize",
                  "rectX",
                  "rectY",
                  "rectWidth",
                  "rectHeight",
                  "cornerRadius",
                  "cornerXRadius",
                  "cornerYRadius",
                  ...Hn.prototype._mutatorKeys,
                ]),
                  (Yn.prototype.drawableMarkFlags =
                    Tn.prototype.drawableMarkFlags
                      .concat([
                        "x",
                        "y",
                        "width",
                        "height",
                        "cornerXRadius",
                        "cornerYRadius",
                      ])
                      .filter((e) => "shape" !== e)),
                  G.register("Rectangle", Yn);
                class Gn extends Ds {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        sprites: [],
                        spriteInstances: [],
                        hitTestSprites: !1,
                        renderer: "webgl",
                      },
                      e
                    );
                    super(),
                      (this._sprites = t.sprites),
                      (this._spriteInstances = t.spriteInstances),
                      (this._hitTestSprites = t.hitTestSprites),
                      this.setRendererBitmask(
                        xe.bitmaskCanvas | xe.bitmaskWebGL
                      ),
                      this.mutate(t);
                  }
                  setCanvasBounds(e) {
                    this.invalidateSelf(e);
                  }
                  set canvasBounds(e) {
                    this.setCanvasBounds(e);
                  }
                  get canvasBounds() {
                    return this.getCanvasBounds();
                  }
                  getCanvasBounds() {
                    return this.getSelfBounds();
                  }
                  canvasPaintSelf(e, t) {
                    Mc.prototype.paintCanvas(e, this, t);
                  }
                  createCanvasDrawable(e, t) {
                    return Mc.createFromPool(e, t);
                  }
                  createWebGLDrawable(e, t) {
                    return Yc.createFromPool(e, t);
                  }
                  containsPointSelf(e) {
                    return (
                      !!super.containsPointSelf(e) &&
                      (!this._hitTestSprites ||
                        !!this.getSpriteInstanceFromPoint(e))
                    );
                  }
                  getSpriteInstanceFromPoint(e) {
                    for (let t = this._spriteInstances.length - 1; t >= 0; t--)
                      if (this._spriteInstances[t].containsPoint(e))
                        return this._spriteInstances[t];
                    return null;
                  }
                  getSelfShape() {
                    return this._hitTestSprites
                      ? Yt.bn.union(
                          this._spriteInstances.map((e) => e.getShape())
                        )
                      : Yt.bn.bounds(this.selfBounds);
                  }
                  isPainted() {
                    return !0;
                  }
                  invalidatePaint() {
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++) this._drawables[t].markDirty();
                  }
                }
                (Gn.prototype._mutatorKeys = ["canvasBounds"].concat(
                  Ds.prototype._mutatorKeys
                )),
                  G.register("Sprites", Gn);
                class Wn extends Ds {
                  constructor(e, t) {
                    super(t),
                      this.setRendererBitmask(xe.bitmaskWebGL),
                      (this.painterType = e);
                  }
                  setCanvasBounds(e) {
                    return this.invalidateSelf(e), this;
                  }
                  set canvasBounds(e) {
                    this.setCanvasBounds(e);
                  }
                  get canvasBounds() {
                    return this.getCanvasBounds();
                  }
                  getCanvasBounds() {
                    return this.getSelfBounds();
                  }
                  isPainted() {
                    return !0;
                  }
                  invalidatePaint() {
                    const e = this._drawables.length;
                    for (let t = 0; t < e; t++) this._drawables[t].markDirty();
                  }
                  containsPointSelf(e) {
                    return !1;
                  }
                  getSelfShape() {
                    return new Yt.bn();
                  }
                  canvasPaintSelf(e, t) {}
                  renderToCanvasSelf(e, t) {
                    const i = e.canvas.width,
                      s = e.canvas.height,
                      n = document.createElement("canvas");
                    (n.width = i), (n.height = s);
                    const r = { antialias: !0, preserveDrawingBuffer: !0 },
                      o =
                        n.getContext("webgl", r) ||
                        n.getContext("experimental-webgl", r);
                    Ge.applyWebGLContextDefaults(o);
                    const a = new Le.Z().rowMajor(
                      2 / i,
                      0,
                      -1,
                      0,
                      -2 / s,
                      1,
                      0,
                      0,
                      1
                    );
                    o.viewport(0, 0, i, s);
                    const h = new (0, this.painterType)(o, this);
                    h.paint(t, a),
                      h.dispose(),
                      a.freeToPool(),
                      o.flush(),
                      e.context.setTransform(1, 0, 0, 1, 0, 0),
                      e.context.drawImage(n, 0, 0),
                      e.context.restore();
                  }
                  createWebGLDrawable(e, t) {
                    return _c.createFromPool(e, t);
                  }
                }
                _defineProperty(Wn, "PAINTED_NOTHING", 0),
                  _defineProperty(Wn, "PAINTED_SOMETHING", 1),
                  (Wn.prototype._mutatorKeys = ["canvasBounds"].concat(
                    Ds.prototype._mutatorKeys
                  )),
                  G.register("WebGLNode", Wn);
                class zn extends Yn {
                  constructor(e) {
                    super(-2e3, -2e3, 6e3, 6e3, e);
                  }
                }
                G.register("Plane", zn);
                const Xn = Zs(
                  (e) =>
                    class extends e {
                      constructor() {
                        super(...arguments);
                      }
                      insertChild(e, t) {
                        throw new Error("Attempt to insert child into Leaf");
                      }
                      removeChildWithIndex(e, t) {
                        throw new Error("Attempt to remove child from Leaf");
                      }
                    }
                );
                G.register("Leaf", Xn);
                const Qn = Xn;
                class Un extends Qn(Ds) {
                  constructor(e, t, i) {
                    super(),
                      (this.localBounds = new Oe.Z(0, 0, e, t)),
                      this.mutate(i);
                  }
                }
                G.register("Spacer", Un);
                class jn extends Un {
                  constructor(e, t) {
                    super(e, 0, t);
                  }
                }
                G.register("HStrut", jn);
                class Kn extends Un {
                  constructor(e, t) {
                    super(0, e, t);
                  }
                }
                function Jn(e, t, i) {
                  i &&
                    _.each(t, (t) => {
                      void 0 !== i[t] && (e[t] = i[t]);
                    });
                }
                G.register("VStrut", Kn), ne.Z.register("mutate", Jn);
                const _n = Jn;
                let $n = 1;
                const er = new Me.Z(0, 0);
                class tr extends bn(Object) {
                  constructor(e, t, i) {
                    const s = (0, Ae.ZP)()(
                      { hitTestPixels: !1, pickable: !0, image: e },
                      i
                    );
                    super(),
                      (this.id = $n++),
                      (this.offset = t),
                      (this.pickable = s.pickable),
                      (this.shape = null),
                      (this.imageData = null),
                      this.setImage(e),
                      _n(this, Object.keys(bn.DEFAULT_OPTIONS), s);
                  }
                  get width() {
                    return this.imageWidth;
                  }
                  get height() {
                    return this.imageHeight;
                  }
                  getShape() {
                    if (!this.pickable) return new Yt.bn();
                    if (!this.shape) {
                      if (this.hitTestPixels) {
                        if ((this.ensureImageData(), !this.imageData))
                          return new Yt.bn();
                        this.shape = bn.hitTestDataToShape(
                          this.imageData,
                          this.width,
                          this.height
                        );
                      } else {
                        if (!this.width || !this.height) return new Yt.bn();
                        this.shape = Yt.bn.rect(0, 0, this.width, this.height);
                      }
                      this.shape = this.shape.transformed(
                        Le.Z.translation(-this.offset.x, -this.offset.y)
                      );
                    }
                    return this.shape;
                  }
                  ensureImageData() {
                    !this.imageData &&
                      this.width &&
                      this.height &&
                      (this.imageData = bn.getHitTestData(
                        this.image,
                        this.width,
                        this.height
                      ));
                  }
                  containsPoint(e) {
                    if (!this.pickable) return !1;
                    const t = this.width,
                      i = this.height;
                    if (!t && !i) return !1;
                    const s = er.set(e).add(this.offset);
                    return (
                      !(s.x < 0 || s.y < 0 || s.x > t || s.y > i) &&
                      (!this.hitTestPixels ||
                        (this.ensureImageData(),
                        !!this.imageData &&
                          bn.testHitTestData(this.imageData, t, i, s)))
                    );
                  }
                }
                G.register("SpriteImage", tr);
                G.register(
                  "Sprite",
                  class {
                    constructor(e) {
                      this.imageProperty = new yt.Z(e);
                    }
                    getShape() {
                      return this.imageProperty.value.getShape();
                    }
                    containsPoint(e) {
                      return this.imageProperty.value.containsPoint(e);
                    }
                  }
                );
                class ir {
                  constructor(e) {
                    (this.primary = null),
                      (this.changeCallback = e),
                      (this.notifyChangeCallback =
                        this.notifyChanged.bind(this)),
                      (this.updateSecondaryListener =
                        this.updateSecondary.bind(this)),
                      (this.secondaryPropertyCountsMap = {});
                  }
                  setPrimary(e) {
                    e !== this.primary &&
                      (this.detachPrimary(this.primary),
                      (this.primary = e),
                      this.attachPrimary(e),
                      this.notifyChangeCallback());
                  }
                  clean() {
                    this.detachPrimary(this.primary), (this.primary = null);
                  }
                  updateSecondary(e, t, i) {
                    const s = this.secondaryPropertyCountsMap[i.id];
                    for (let n = 0; n < s; n++) this.attachSecondary(e);
                    this.notifyChangeCallback();
                  }
                  attachPrimary(e) {
                    if (e instanceof X.Z)
                      this.secondaryLazyLinkProperty(e),
                        this.attachSecondary(e.get());
                    else if (e instanceof se) e.setImmutable();
                    else if (e instanceof Ni)
                      for (let t = 0; t < e.stops.length; t++)
                        this.attachPrimary(e.stops[t].color);
                  }
                  detachPrimary(e) {
                    if (e instanceof X.Z) this.secondaryUnlinkProperty(e);
                    else if (e instanceof Ni)
                      for (let t = 0; t < e.stops.length; t++)
                        this.detachPrimary(e.stops[t].color);
                  }
                  attachSecondary(e) {
                    e instanceof se && e.setImmutable();
                  }
                  notifyChanged() {
                    this.primary instanceof Ni &&
                      this.primary.invalidateCanvasGradient(),
                      this.changeCallback();
                  }
                  secondaryLazyLinkProperty(e) {
                    const t = e.id;
                    this.secondaryPropertyCountsMap[t]
                      ? this.secondaryPropertyCountsMap[t]++
                      : ((this.secondaryPropertyCountsMap[t] = 1),
                        e.lazyLink(this.updateSecondaryListener));
                  }
                  secondaryUnlinkProperty(e) {
                    const t = e.id,
                      i = --this.secondaryPropertyCountsMap[t];
                    0 === i &&
                      (delete this.secondaryPropertyCountsMap[t],
                      e.isDisposed || e.unlink(this.updateSecondaryListener));
                  }
                }
                G.register("PaintObserver", ir);
                const sr = ir;
                class nr extends yt.Z {
                  constructor(e, t) {
                    const i = Ui.toColor(e),
                      s = (0, Ae.ZP)()(
                        { luminanceFactor: 0, useDeepEquality: !0 },
                        t
                      );
                    super(i, s),
                      (this._paint = null),
                      (this._luminanceFactor = s.luminanceFactor),
                      (this._changeListener = this.invalidatePaint.bind(this)),
                      (this._paintObserver = new sr(this._changeListener)),
                      this.setPaint(e);
                  }
                  setPaint(e) {
                    (this._paint = e), this._paintObserver.setPrimary(e);
                  }
                  set paint(e) {
                    this.setPaint(e);
                  }
                  get paint() {
                    return this.getPaint();
                  }
                  getPaint() {
                    return this._paint;
                  }
                  setLuminanceFactor(e) {
                    this.luminanceFactor !== e &&
                      ((this._luminanceFactor = e), this.invalidatePaint());
                  }
                  set luminanceFactor(e) {
                    this.setLuminanceFactor(e);
                  }
                  get luminanceFactor() {
                    return this.getLuminanceFactor();
                  }
                  getLuminanceFactor() {
                    return this._luminanceFactor;
                  }
                  invalidatePaint() {
                    this.value = Ui.toColor(this._paint).colorUtilsBrightness(
                      this._luminanceFactor
                    );
                  }
                  dispose() {
                    (this.paint = null), super.dispose();
                  }
                }
                G.register("PaintColorProperty", nr);
                class rr {
                  constructor() {
                    this.initialize();
                  }
                  initialize() {
                    (this.svgBlock = null),
                      (this.fillStyle = "none"),
                      (this.strokeStyle = "none"),
                      (this.fillPaint = null),
                      (this.strokePaint = null),
                      this.updateBaseStyle(),
                      (this.strokeDetailStyle = "");
                  }
                  dispose() {
                    this.releaseFillPaint(), this.releaseStrokePaint();
                  }
                  releaseFillPaint() {
                    this.fillPaint &&
                      (this.svgBlock.decrementPaint(this.fillPaint),
                      (this.fillPaint = null));
                  }
                  releaseStrokePaint() {
                    this.strokePaint &&
                      (this.svgBlock.decrementPaint(this.strokePaint),
                      (this.strokePaint = null));
                  }
                  updateFill(e, t) {
                    const i = or(t, e);
                    t !== this.fillPaint &&
                      (this.releaseFillPaint(),
                      t &&
                        t.isPaint &&
                        ((this.fillPaint = t), e.incrementPaint(t))),
                      i !== this.fillStyle &&
                        ((this.fillStyle = i), this.updateBaseStyle());
                  }
                  updateStroke(e, t) {
                    const i = or(t, e);
                    t !== this.strokePaint &&
                      (this.releaseStrokePaint(),
                      t &&
                        t.isPaint &&
                        ((this.strokePaint = t), e.incrementPaint(t))),
                      i !== this.strokeStyle &&
                        ((this.strokeStyle = i), this.updateBaseStyle());
                  }
                  updateBaseStyle() {
                    this.baseStyle = `fill: ${this.fillStyle}; stroke: ${this.strokeStyle};`;
                  }
                  updateStrokeDetailStyle(e) {
                    let t = "";
                    const i = e.getLineWidth();
                    1 !== i && (t += `stroke-width: ${i};`);
                    const s = e.getLineCap();
                    "butt" !== s && (t += `stroke-linecap: ${s};`);
                    const n = e.getLineJoin();
                    "miter" !== n && (t += `stroke-linejoin: ${n};`),
                      (t += `stroke-miterlimit: ${e.getMiterLimit()};`),
                      e.hasLineDash() &&
                        ((t += `stroke-dasharray: ${e
                          .getLineDash()
                          .join(",")};`),
                        (t += `stroke-dashoffset: ${e.getLineDashOffset()};`)),
                      (this.strokeDetailStyle = t);
                  }
                  updateSVGBlock(e) {
                    const t = this.svgBlock;
                    t &&
                      (this.fillPaint && t.decrementPaint(this.fillPaint),
                      this.strokePaint && t.decrementPaint(this.strokePaint)),
                      (this.svgBlock = e),
                      this.fillPaint && e.incrementPaint(this.fillPaint),
                      this.strokePaint && e.incrementPaint(this.strokePaint);
                  }
                }
                function or(e, t) {
                  return e
                    ? e.toCSS
                      ? e.toCSS()
                      : e.isPaint
                      ? `url(#${e.id}-${t ? t.id : "noblock"})`
                      : e
                    : "none";
                }
                G.register("PaintSVGState", rr);
                const ar = rr,
                  hr = new se("transparent");
                class lr {
                  constructor(e, t, i) {
                    this.initialize(e, t, i);
                  }
                  isActiveSVGGradientStop() {
                    return !!this.svgGradient;
                  }
                  initialize(e, t, i) {
                    return (
                      (this.svgGradient = e),
                      (this.color = i),
                      (this.ratio = t),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "stop")),
                      this.svgElement.setAttribute("offset", "" + t),
                      (this.dirty = !0),
                      this.update(),
                      (this.propertyListener =
                        this.propertyListener ||
                        this.onPropertyChange.bind(this)),
                      (this.colorListener =
                        this.colorListener || this.markDirty.bind(this)),
                      i instanceof X.Z
                        ? (i.lazyLink(this.propertyListener),
                          i.value instanceof se &&
                            i.value.changeEmitter.addListener(
                              this.colorListener
                            ))
                        : i instanceof se &&
                          i.changeEmitter.addListener(this.colorListener),
                      this
                    );
                  }
                  onPropertyChange(e, t) {
                    t instanceof se &&
                      t.changeEmitter.removeListener(this.colorListener),
                      e instanceof se &&
                        e.changeEmitter.addListener(this.colorListener),
                      this.markDirty();
                  }
                  markDirty() {
                    (this.dirty = !0), this.svgGradient.markDirty();
                  }
                  update() {
                    if (!this.dirty) return;
                    this.dirty = !1;
                    let e = this.color;
                    e instanceof X.Z && (e = e.value),
                      null === e && (e = "transparent"),
                      "string" == typeof e ? hr.setCSS(e) : hr.set(e);
                    const t = `stop-opacity: ${hr.a.toFixed(20)};`;
                    hr.alpha = 1;
                    const i = `stop-color: ${hr.toCSS()};`;
                    this.svgElement.setAttribute("style", `${i} ${t}`);
                  }
                  dispose() {
                    const e = this.color;
                    e instanceof X.Z
                      ? (e.hasListener(this.propertyListener) &&
                          e.unlink(this.propertyListener),
                        e.value instanceof se &&
                          e.value.changeEmitter.removeListener(
                            this.colorListener
                          ))
                      : e instanceof se &&
                        e.changeEmitter.removeListener(this.colorListener),
                      (this.color = null),
                      (this.svgGradient = null),
                      this.freeToPool();
                  }
                  freeToPool() {
                    lr.pool.freeToPool(this);
                  }
                }
                (p = lr),
                  _defineProperty(lr, "pool", new zt.Z(p)),
                  G.register("SVGGradientStop", lr);
                const dr = lr;
                class cr {
                  constructor(e, t) {
                    this.initialize(e, t);
                  }
                  isActiveSVGGradient() {
                    return !!this.svgBlock;
                  }
                  initialize(e, t) {
                    (this.svgBlock = e), (this.gradient = t);
                    const i = void 0 !== this.definition;
                    (this.definition =
                      this.definition || this.createDefinition()),
                      i ||
                        this.definition.setAttribute(
                          "gradientUnits",
                          "userSpaceOnUse"
                        ),
                      t.transformMatrix
                        ? this.definition.setAttribute(
                            "gradientTransform",
                            t.transformMatrix.getSVGTransform()
                          )
                        : this.definition.removeAttribute("gradientTransform");
                    const s = t.getSVGStops();
                    this.stops = (0, Mi.Z)(this.stops);
                    for (let n = 0; n < s.length; n++) {
                      const e = new dr(this, s[n].ratio, s[n].color);
                      this.stops.push(e),
                        this.definition.appendChild(e.svgElement);
                    }
                    this.dirty = !1;
                  }
                  markDirty() {
                    if (!this.dirty) {
                      const e = this;
                      (this.dirty = !0), e.svgBlock.markDirtyGradient(this);
                    }
                  }
                  update() {
                    if (this.dirty) {
                      this.dirty = !1;
                      for (let e = 0; e < this.stops.length; e++)
                        this.stops[e].update();
                    }
                  }
                  dispose() {
                    for (let e = 0; e < this.stops.length; e++) {
                      const t = this.stops[e];
                      this.definition.removeChild(t.svgElement), t.dispose();
                    }
                    (0, Mi.Z)(this.stops),
                      (this.svgBlock = null),
                      (this.gradient = null),
                      this.freeToPool();
                  }
                }
                G.register("SVGGradient", cr);
                class ur extends cr {
                  initialize(e, t) {
                    super.initialize(e, t);
                    const i = t;
                    this.definition.setAttribute("x1", "" + i.start.x),
                      this.definition.setAttribute("y1", "" + i.start.y),
                      this.definition.setAttribute("x2", "" + i.end.x),
                      this.definition.setAttribute("y2", "" + i.end.y);
                  }
                  createDefinition() {
                    return document.createElementNS(Ie, "linearGradient");
                  }
                  freeToPool() {
                    ur.pool.freeToPool(this);
                  }
                }
                (g = ur),
                  _defineProperty(ur, "pool", new zt.Z(g)),
                  G.register("SVGLinearGradient", ur);
                class pr extends cr {
                  initialize(e, t) {
                    return (
                      super.initialize(e, t),
                      this.definition.setAttribute("cx", "" + t.largePoint.x),
                      this.definition.setAttribute("cy", "" + t.largePoint.y),
                      this.definition.setAttribute("r", "" + t.maxRadius),
                      this.definition.setAttribute("fx", "" + t.focalPoint.x),
                      this.definition.setAttribute("fy", "" + t.focalPoint.y),
                      this
                    );
                  }
                  createDefinition() {
                    return document.createElementNS(Ie, "radialGradient");
                  }
                  freeToPool() {
                    pr.pool.freeToPool(this);
                  }
                }
                (m = pr),
                  _defineProperty(pr, "pool", new zt.Z(m)),
                  G.register("SVGRadialGradient", pr);
                class gr {
                  constructor(e) {
                    this.initialize(e);
                  }
                  initialize(e) {
                    const t = void 0 !== this.definition;
                    return (
                      (this.definition =
                        this.definition ||
                        document.createElementNS(Ie, "pattern")),
                      t ||
                        (this.definition.setAttribute(
                          "patternUnits",
                          "userSpaceOnUse"
                        ),
                        this.definition.setAttribute(
                          "patternContentUnits",
                          "userSpaceOnUse"
                        )),
                      e.transformMatrix
                        ? this.definition.setAttribute(
                            "patternTransform",
                            e.transformMatrix.getSVGTransform()
                          )
                        : this.definition.removeAttribute("patternTransform"),
                      this.definition.setAttribute("x", "0"),
                      this.definition.setAttribute("y", "0"),
                      this.definition.setAttribute("width", "" + e.image.width),
                      this.definition.setAttribute(
                        "height",
                        "" + e.image.height
                      ),
                      (this.imageElement =
                        this.imageElement ||
                        document.createElementNS(Ie, "image")),
                      this.imageElement.setAttribute("x", "0"),
                      this.imageElement.setAttribute("y", "0"),
                      this.imageElement.setAttribute(
                        "width",
                        e.image.width + "px"
                      ),
                      this.imageElement.setAttribute(
                        "height",
                        e.image.height + "px"
                      ),
                      this.imageElement.setAttributeNS(
                        ke,
                        "xlink:href",
                        e.image.src
                      ),
                      t || this.definition.appendChild(this.imageElement),
                      this
                    );
                  }
                  update() {}
                  dispose() {
                    this.freeToPool();
                  }
                  freeToPool() {
                    gr.pool.freeToPool(this);
                  }
                }
                (A = gr),
                  _defineProperty(gr, "pool", new zt.Z(A)),
                  G.register("SVGPattern", gr);
                class mr {
                  constructor(e, t) {
                    _defineProperty(this, "_matrices", null),
                      _defineProperty(this, "_dirtyIndex", 0),
                      _defineProperty(this, "_listeners", []),
                      _defineProperty(this, "_nodeTransformListeners", []);
                    const i = (0, Ae.ZP)()({ isStatic: !1 }, t);
                    (this._isStatic = i.isStatic),
                      (this.trail = e),
                      (this._nodeTransformListeners = []);
                    for (let s = 1; s < this.trail.length; s++) {
                      const t = ((e) => () => {
                        this.onTransformChange(e);
                      })(s - 1);
                      this._nodeTransformListeners.push(t),
                        e.nodes[s].transformEmitter.addListener(t);
                    }
                  }
                  dispose() {
                    for (let e = 1; e < this.trail.length; e++) {
                      const t = this._nodeTransformListeners[e - 1];
                      this.trail.nodes[e].transformEmitter.hasListener(t) &&
                        this.trail.nodes[e].transformEmitter.removeListener(t);
                    }
                  }
                  addListener(e) {
                    this._listeners.push(e);
                  }
                  removeListener(e) {
                    const t = _.indexOf(this._listeners, e);
                    this._listeners.splice(t, 1);
                  }
                  notifyListeners() {
                    let e = this._listeners;
                    this._isStatic || (e = e.slice());
                    const t = e.length;
                    for (let i = 0; i < t; i++) e[i]();
                  }
                  onTransformChange(e) {
                    (this._dirtyIndex = Math.min(this._dirtyIndex, e)),
                      this.notifyListeners();
                  }
                  getMatrix() {
                    if (null === this._matrices) {
                      this._matrices = [];
                      for (let e = 1; e < this.trail.length; e++)
                        this._matrices.push(new Le.Z());
                    }
                    if (this._matrices.length <= 0) return Le.Z.IDENTITY;
                    const e = this._matrices.length;
                    for (let t = this._dirtyIndex; t < e; t++) {
                      const e = this.trail.nodes[t + 1].matrix;
                      0 === t
                        ? this._matrices[t].set(e)
                        : (this._matrices[t].set(this._matrices[t - 1]),
                          this._matrices[t].multiplyMatrix(e));
                    }
                    return (this._dirtyIndex = e), this._matrices[e - 1];
                  }
                  get matrix() {
                    return this.getMatrix();
                  }
                }
                G.register("TransformTracker", mr);
                const Ar = mr;
                class yr {
                  constructor(e, t) {
                    (t = (0, kt.Z)({ isStatic: !1 }, t)),
                      (this.isStatic = t.isStatic),
                      (this.trail = e),
                      (this._listeners = []),
                      (this.trailVisibleProperty = new os.Z(
                        this.trail.isVisible()
                      )),
                      (this._nodeVisibilityListeners = []);
                    for (let i = 0; i < this.trail.length; i++) {
                      const t = () => {
                        this.trailVisibleProperty.set(e.isVisible());
                      };
                      this._nodeVisibilityListeners.push(t),
                        e.nodes[i].visibleProperty.link(t);
                    }
                    (this.boundTrailVisibilityChangedListener =
                      this.onVisibilityChange.bind(this)),
                      this.trailVisibleProperty.link(
                        this.boundTrailVisibilityChangedListener
                      );
                  }
                  addListener(e) {
                    this._listeners.push(e);
                  }
                  removeListener(e) {
                    const t = _.indexOf(this._listeners, e);
                    this._listeners.splice(t, 1);
                  }
                  dispose() {
                    for (let e = 0; e < this.trail.length; e++) {
                      const t = this._nodeVisibilityListeners[e];
                      this.trail.nodes[e].visibleProperty.hasListener(t) &&
                        this.trail.nodes[e].visibleProperty.removeListener(t);
                    }
                    this.trailVisibleProperty.unlink(
                      this.boundTrailVisibilityChangedListener
                    );
                  }
                  onVisibilityChange() {
                    this.notifyListeners();
                  }
                  notifyListeners() {
                    let e = this._listeners;
                    this._isStatic || (e = e.slice());
                    const t = e.length;
                    for (let i = 0; i < t; i++) e[i]();
                  }
                }
                G.register("TrailVisibilityTracker", yr);
                const fr = yr,
                  Pr = {
                    mutateNode(e, t) {
                      t
                        ? e.setPDOMAttribute("aria-haspopup", t)
                        : e.removePDOMAttribute("aria-haspopup"),
                        (e.positionInPDOM = !!t);
                    },
                  };
                G.register("AriaHasPopUpMutator", Pr);
                const br = Pr;
                class vr extends Ds {
                  constructor(e) {
                    const t = (0, Ae.ZP)()({ headingLevel: 1 }, e);
                    super(t),
                      (this.tagName = "h" + t.headingLevel),
                      (this.focusHighlight = "invisible");
                    const i = {
                      blur: () => {
                        this.focusable = !1;
                      },
                    };
                    this.addInputListener(i),
                      (this.disposeFocusableHeadingNode = () => {
                        this.removeInputListener(i);
                      });
                  }
                  focus() {
                    (this.focusable = !0), super.focus();
                  }
                  dispose() {
                    this.disposeFocusableHeadingNode(), super.dispose();
                  }
                }
                G.register("FocusableHeadingNode", vr);
                class Vr {
                  constructor(e) {
                    const t = this;
                    (this.outputUtteranceProperty = new yt.Z(
                      new wr(document.title, "off")
                    )),
                      (this.linearDOM = this.getLinearDOMElements(e)),
                      (this.activeElement = null),
                      (this.activeLine = null),
                      (this.letterPosition = 0),
                      (this.positionInLine = 0),
                      (this.wordPosition = 0),
                      (this.observers = []),
                      (this.keyState = {}),
                      document.addEventListener("keydown", (t) => {
                        let i;
                        this.keyState[t.keyCode] = !0;
                        const s = t.shiftKey ? "PREVIOUS" : "NEXT";
                        if (
                          ((this.linearDOM = this.getLinearDOMElements(e)),
                          this.updateLiveElementList(),
                          !this.activeElement ||
                            "application" !==
                              this.activeElement.getAttribute("role"))
                        ) {
                          if (this.keyState[40] && !this.keyState[45])
                            i = this.readNextPreviousLine("NEXT");
                          else if (this.keyState[38] && !this.keyState[45])
                            i = this.readNextPreviousLine("PREVIOUS");
                          else if (this.keyState[72]) {
                            const e = ["H1", "H2", "H3", "H4", "H5", "H6"];
                            i = this.readNextPreviousHeading(e, s);
                          } else
                            this.keyState[9] ||
                              (this.keyState[39] && !this.keyState[17]
                                ? (i = this.readNextPreviousCharacter("NEXT"))
                                : this.keyState[37] && !this.keyState[17]
                                ? (i =
                                    this.readNextPreviousCharacter("PREVIOUS"))
                                : this.keyState[37] && this.keyState[17]
                                ? (i = this.readNextPreviousWord("PREVIOUS"))
                                : this.keyState[39] && this.keyState[17]
                                ? (i = this.readNextPreviousWord("NEXT"))
                                : this.keyState[45] && this.keyState[38]
                                ? (i = this.readActiveLine())
                                : this.keyState[49]
                                ? (i = this.readNextPreviousHeading(["H1"], s))
                                : this.keyState[50]
                                ? (i = this.readNextPreviousHeading(["H2"], s))
                                : this.keyState[51]
                                ? (i = this.readNextPreviousHeading(["H3"], s))
                                : this.keyState[52]
                                ? (i = this.readNextPreviousHeading(["H4"], s))
                                : this.keyState[53]
                                ? (i = this.readNextPreviousHeading(["H5"], s))
                                : this.keyState[54]
                                ? (i = this.readNextPreviousHeading(["H6"], s))
                                : this.keyState[70]
                                ? (i = this.readNextPreviousFormElement(s))
                                : this.keyState[66]
                                ? (i = this.readNextPreviousButton(s))
                                : this.keyState[76]
                                ? (i = this.readNextPreviousList(s))
                                : this.keyState[73]
                                ? (i = this.readNextPreviousListItem(s))
                                : this.keyState[45] &&
                                  this.keyState[40] &&
                                  this.readEntireDocument());
                          this.activeElement &&
                            this.isFocusable(this.activeElement) &&
                            this.activeElement.focus(),
                            " " === i && (i = "space"),
                            i &&
                              this.outputUtteranceProperty.set(
                                new wr(i, "off")
                              );
                        }
                      }),
                      document.addEventListener("keyup", (e) => {
                        this.keyState[e.keyCode] = !1;
                      }),
                      document.addEventListener("focusin", function (e) {
                        if (e.target !== t.activeElement) {
                          t.activeElement = e.target;
                          const i = !0,
                            s = t.getAccessibleText(this.activeElement, i);
                          if (s) {
                            const e = t.activeElement.getAttribute("aria-live");
                            t.outputUtteranceProperty.set(new wr(s, e));
                          }
                        }
                      });
                  }
                  getLinearDOMElements(e) {
                    const t = e.getElementsByTagName("*"),
                      i = [];
                    for (let s = 0; s < t.length; s++)
                      t[s].nodeType === Node.ELEMENT_NODE && (i[s] = t[s]);
                    return i;
                  }
                  getLiveRole(e) {
                    let t = null;
                    return (
                      [
                        "log",
                        "status",
                        "alert",
                        "progressbar",
                        "marquee",
                        "timer",
                        "assertive",
                        "polite",
                      ].forEach((i) => {
                        (e.getAttribute("aria-live") !== i &&
                          e.getAttribute("role") !== i) ||
                          (t = i);
                      }),
                      t
                    );
                  }
                  getNextPreviousElement(e) {
                    this.activeElement ||
                      (this.activeElement = this.linearDOM[0]);
                    const t = "NEXT" === e ? 1 : -1,
                      i = this.linearDOM.indexOf(this.activeElement) + t;
                    return this.linearDOM[i];
                  }
                  getLabel(e) {
                    const t = document.getElementsByTagName("label");
                    let i;
                    return (
                      Array.prototype.forEach.call(t, (e) => {
                        e.getAttribute("for") && (i = e);
                      }),
                      i
                    );
                  }
                  getAccessibleText(e, t) {
                    let i = "";
                    if (!e) return "End of Document";
                    if ("ScreenView" === e.getAttribute("class")) return null;
                    if ("HEADER" === e.tagName) return null;
                    if ("SECTION" === e.tagName) return null;
                    if ("LABEL" === e.tagName) return null;
                    let s = e;
                    for (; s.parentElement; ) {
                      if (s.getAttribute("aria-hidden") || s.hidden)
                        return null;
                      s = s.parentElement;
                    }
                    if (
                      ("P" === e.tagName && (i += e.textContent),
                      "H1" === e.tagName &&
                        (i += "Heading Level 1, " + e.textContent),
                      "H2" === e.tagName &&
                        (i += "Heading Level 2, " + e.textContent),
                      "H3" === e.tagName &&
                        (i += "Heading Level 3, " + e.textContent),
                      "UL" === e.tagName)
                    ) {
                      const t = e.children.length;
                      i += `List with ${t} items`;
                    }
                    if (
                      ("LI" === e.tagName &&
                        (i += "List Item: " + e.textContent),
                      "BUTTON" === e.tagName)
                    ) {
                      const t = " Button";
                      if (e.getAttribute("aria-pressed")) {
                        let s = " toggle";
                        const n = " pressed",
                          r = " not";
                        (s += t + ","),
                          "true" === e.getAttribute("aria-pressed")
                            ? (s += n)
                            : (s += r + n),
                          (i += e.textContent + "," + s);
                      } else i += e.textContent + t;
                    }
                    if (
                      "INPUT" === e.tagName &&
                      ("reset" === e.type &&
                        (i += e.getAttribute("value") + " Button"),
                      "checkbox" === e.type)
                    ) {
                      const t = this.getLabel(e.id).textContent;
                      if ("switch" === e.getAttribute("role")) {
                        const s = e.getAttribute("aria-checked");
                        if (s) {
                          i += `${t + ", "}switch, ${
                            "true" === s ? "On" : "Off"
                          }`;
                        }
                      } else {
                        const t = e.checked ? " Checked" : " Not Checked";
                        i += `${e.textContent} Checkbox${t}`;
                      }
                    }
                    if (t) {
                      i.length > 0 && (i += ",");
                      const t = e.getAttribute("aria-label");
                      t && (i += " " + t + ",");
                      const n = e.getAttribute("aria-labelledBy");
                      if (n) {
                        const e = document.getElementById(n).textContent;
                        i += " " + e + ",";
                      }
                      let r;
                      for (s = e; s.parentElement; ) {
                        if (
                          ((r = s.getAttribute("role")),
                          "document" === r || "application" === r)
                        ) {
                          i += " " + r + ",";
                          break;
                        }
                        s = s.parentElement;
                      }
                      e.getAttribute("role") &&
                        ((r = e.getAttribute("role")),
                        "button" === r && (i += " Button")),
                        e.draggable && (i += " draggable,"),
                        "true" === e.getAttribute("aria-grabbed") &&
                          (i += " grabbed,");
                      const o = e.getAttribute("aria-describedby");
                      if (o) {
                        let e, t;
                        o.split(" ").forEach((s) => {
                          (e = document.getElementById(s)),
                            (t = e.textContent),
                            (i += " " + t);
                        });
                      }
                    }
                    return "," === i[i.length - 1] && (i = i.slice(0, -1)), i;
                  }
                  getNextPreviousElementWithPDOMContent(e) {
                    let t;
                    for (; !t; )
                      (this.activeElement = this.getNextPreviousElement(e)),
                        (t = this.getAccessibleText(this.activeElement, !1));
                    return this.activeElement;
                  }
                  getNextPreviousElementWithRole(e, t) {
                    let i = null;
                    const s = "NEXT" === t ? 1 : -1;
                    this.activeElement ||
                      (this.activeElement = this.linearDOM[0]);
                    let n = this.linearDOM.indexOf(this.activeElement) + s;
                    for (; this.linearDOM[n]; ) {
                      for (let t = 0; t < e.length; t++) {
                        const s = this.linearDOM[n].tagName,
                          r = this.linearDOM[n].type,
                          o = this.linearDOM[n].getAttribute("role"),
                          a = e[t];
                        if (s === a || o === a || r === a) {
                          i = this.linearDOM[n];
                          break;
                        }
                      }
                      if (i) break;
                      n += s;
                    }
                    return i;
                  }
                  readNextPreviousLine(e) {
                    let t = "";
                    (this.letterPosition = 0),
                      (this.wordPosition = 0),
                      this.activeElement ||
                        (this.activeElement =
                          this.getNextPreviousElementWithPDOMContent(e));
                    let i = this.getAccessibleText(
                      this.activeElement,
                      !1
                    ).split(" ");
                    if (
                      ("PREVIOUS" === e &&
                        (this.positionInLine = this.positionInLine - 30),
                      !i[this.positionInLine])
                    ) {
                      this.positionInLine = 0;
                      const t = this.activeElement;
                      (this.activeElement =
                        this.getNextPreviousElementWithPDOMContent(e)),
                        (i = this.getAccessibleText(
                          this.activeElement,
                          !1
                        ).split(" ")),
                        this.activeElement || (this.activeElement = t);
                    }
                    const s = this.positionInLine + 15;
                    for (let n = this.positionInLine; n < s; n++)
                      if (i[n]) {
                        if (
                          ((t += i[n]), (this.positionInLine += 1), !i[n + 1])
                        ) {
                          this.positionInLine +=
                            15 - (this.positionInLine % 15);
                          break;
                        }
                        t += " ";
                      }
                    return (this.activeLine = t), t;
                  }
                  readActiveLine() {
                    let e = "";
                    this.activeLine ||
                      (this.activeLine = this.readNextPreviousLine("NEXT"));
                    const t = this.activeLine.split(" ");
                    for (let i = 0; i < 15; i++)
                      if (t[i]) {
                        if (((e += t[i]), !t[i + 1])) break;
                        e += " ";
                      }
                    return e;
                  }
                  readNextPreviousWord(e) {
                    this.activeLine ||
                      (this.activeLine = this.readNextPreviousLine(e));
                    const t = this.activeLine.split(" ");
                    let i, s;
                    "NEXT" === e
                      ? ((s = t.length), (i = 1))
                      : "PREVIOUS" === e && ((s = 0), (i = -2)),
                      this.wordPosition === s &&
                        (this.activeLine = this.readNextPreviousLine(e));
                    const n = t[this.wordPosition];
                    return (this.wordPosition += i), n;
                  }
                  readNextPreviousHeading(e, t) {
                    let i, s, n;
                    for (; !i; )
                      (n = this.activeElement),
                        (s = this.getNextPreviousElementWithRole(e, t)),
                        (this.activeElement = s),
                        (i = this.getAccessibleText(s));
                    if (!s) {
                      this.activeElement = n;
                      const i = "NEXT" === t ? "more" : "previous";
                      if (1 === e.length) {
                        const t = `No ${i} headings at `,
                          s = e[0];
                        return (
                          t +
                          ("H1" === s
                            ? "Level 1"
                            : "H2" === s
                            ? "Level 2"
                            : "H3" === s
                            ? "Level 3"
                            : "H4" === s
                            ? "Level 4"
                            : "H5" === s
                            ? "Level 5"
                            : "Level 6")
                        );
                      }
                      return `No ${i} headings`;
                    }
                    return (this.activeElement = s), i;
                  }
                  readNextPreviousButton(e) {
                    const t = ["button", "BUTTON", "submit", "reset"];
                    let i, s, n;
                    for (; !s; )
                      (n = this.activeElement),
                        (i = this.getNextPreviousElementWithRole(t, e)),
                        (this.activeElement = i),
                        (s = this.getAccessibleText(i, !0));
                    if (!i) {
                      return (
                        (this.activeElement = n),
                        `No ${"NEXT" === e ? "more" : "previous"} buttons`
                      );
                    }
                    return (this.activeElement = i), s;
                  }
                  readNextPreviousFormElement(e) {
                    const t = ["INPUT", "BUTTON"].concat(["button"]);
                    let i, s, n;
                    for (; !s; )
                      (n = this.activeElement),
                        (i = this.getNextPreviousElementWithRole(t, e)),
                        (this.activeElement = i),
                        (s = this.getAccessibleText(i, !0));
                    if ("End of Document" === s) {
                      return (
                        (this.activeElement = n),
                        `No ${"NEXT" === e ? "next" : "previous"} form field`
                      );
                    }
                    return (this.activeElement = i), s;
                  }
                  readNextPreviousListItem(e) {
                    let t;
                    this.activeElement ||
                      (this.activeElement =
                        this.getNextPreviousElementWithPDOMContent(e));
                    const i = this.activeElement.parentElement;
                    if ("UL" === i.tagName || "OL" === i.tagName) {
                      const s = "NEXT" === e ? 1 : -1;
                      let n =
                        Array.prototype.indexOf.call(
                          i.children,
                          this.activeElement
                        ) + s;
                      for (; i.children[n]; ) {
                        if (((t = this.getAccessibleText(i.children[n])), t)) {
                          this.activeElement = i.children[n];
                          break;
                        }
                        n += s;
                      }
                      t || (t = this.readNextPreviousList(e));
                    } else t = this.readNextPreviousList(e);
                    if (!t) {
                      return `No ${
                        "NEXT" === e ? "more" : "previous"
                      } list items`;
                    }
                    return t;
                  }
                  readNextPreviousList(e) {
                    this.activeElement ||
                      (this.activeElement =
                        this.getNextPreviousElementWithPDOMContent(e));
                    const t = this.activeElement.parentElement;
                    let i;
                    ("UL" !== t.tagName && "OL" !== t.tagName) ||
                      ((i = this.activeElement), (this.activeElement = t));
                    const s = this.getNextPreviousElementWithRole(
                      ["UL", "OL"],
                      e
                    );
                    if (!s) {
                      return (
                        i && (this.activeElement = i),
                        `No ${"NEXT" === e ? "more" : "previous"} lists`
                      );
                    }
                    const n = this.getAccessibleText(s);
                    let r = "";
                    const o = s.children[0];
                    return (
                      o &&
                        ((r = this.getAccessibleText(o)),
                        (this.activeElement = o)),
                      `${n}, ${r}`
                    );
                  }
                  readNextPreviousCharacter(e) {
                    let t, i, s;
                    this.activeLine ||
                      (this.activeLine = this.readNextPreviousLine("NEXT")),
                      "NEXT" === e
                        ? ((t = this.activeLine.length), (i = 1), (s = 0))
                        : "PREVIOUS" === e && ((t = 2), (i = -1), (s = -2)),
                      this.letterPosition === t &&
                        ((this.activeLine = this.readNextPreviousLine(e)),
                        (this.letterPosition = this.activeLine.length));
                    const n = this.activeLine[this.letterPosition + s];
                    return (this.letterPosition += i), n;
                  }
                  updateLiveElementList() {
                    for (let e = 0; e < this.observers.length; e++)
                      this.observers[e] && this.observers[e].disconnect();
                    this.observers = [];
                    for (let e = 0; e < this.linearDOM.length; e++) {
                      const t = this.linearDOM[e];
                      if (this.getLiveRole(t)) {
                        const e = (e) => {
                            e.forEach((e) => {
                              let t,
                                i = e.target;
                              for (; !t; )
                                (t = this.getLiveRole(i)),
                                  (i = i.parentElement);
                              if (e.addedNodes[0]) {
                                const i = e.addedNodes[0].data;
                                this.outputUtteranceProperty.set(new wr(i, t));
                              }
                            });
                          },
                          i = new MutationObserver((t) => {
                            e(t);
                          }),
                          s = { childList: !0, subtree: !0 };
                        i.observe(t, s), this.observers.push(i);
                      }
                    }
                  }
                  readEntireDocument() {
                    let e = this.getAccessibleText(this.activeElement),
                      t = this.activeElement;
                    for (; "End of Document" !== e; )
                      (t = this.activeElement),
                        (e = this.readNextPreviousLine("NEXT")),
                        "End of Document" === e && (this.activeElement = t),
                        this.outputUtteranceProperty.set(new wr(e, "polite"));
                  }
                  isFocusable(e) {
                    let t = !1;
                    return (
                      ["tabindex", "BUTTON", "INPUT"].forEach((i) => {
                        (e.getAttribute(i) || e.tagName === i) && (t = !0);
                      }),
                      t
                    );
                  }
                }
                G.register("Cursor", Vr);
                class wr {
                  constructor(e, t) {
                    (this.text = e), (this.liveRole = t);
                  }
                }
                var Er = i(3061);
                class Sr {
                  constructor(e) {
                    (this.speakingStartedEmitter = new Er.Z({
                      parameters: [{ valueType: Object }],
                    })),
                      (this.speakingEndedEmitter = new Er.Z({
                        parameters: [{ valueType: Object }],
                      })),
                      (this.speaking = !1),
                      (this.politeUtterances = []);
                    const t = navigator.userAgent,
                      i = t.match(/Windows/),
                      s = !!(
                        t.match(/Version\/[5-9]\./) &&
                        t.match(/Safari\//) &&
                        t.match(/AppleWebKit/)
                      );
                    window.speechSynthesis &&
                    SpeechSynthesisUtterance &&
                    window.speechSynthesis.speak
                      ? ((this.synth = window.speechSynthesis),
                        e.outputUtteranceProperty.link((e) => {
                          const t = new SpeechSynthesisUtterance(e.text);
                          let n;
                          if (
                            (t.addEventListener("start", (t) => {
                              this.speakingStartedEmitter.emit(e);
                            }),
                            t.addEventListener("end", (t) => {
                              this.speakingEndedEmitter.emit(e);
                            }),
                            this.synth.getVoices().forEach((e) => {
                              e.default && (n = e);
                            }),
                            (t.voice = n),
                            (t.rate = 1.2),
                            "assertive" !== e.liveRole &&
                              "off" !== e.liveRole &&
                              e.liveRole)
                          ) {
                            if ("polite" === e.liveRole)
                              if (s) {
                                this.politeUtterances.push(t);
                                const e = () => {
                                  this.speaking = !0;
                                  const e = this.politeUtterances.shift();
                                  e
                                    ? this.synth.speak(e)
                                    : (this.speaking = !1);
                                };
                                if (this.speaking)
                                  setTimeout(() => {
                                    e();
                                  }, 2e3);
                                else {
                                  this.synth.speak(t);
                                  const e = this.politeUtterances.indexOf(t);
                                  e > 0 && this.politeUtterances.splice(e, 1);
                                }
                              } else this.synth.speak(t);
                          } else
                            (this.politeUtterances = []),
                              (this.speaking = !0),
                              i
                                ? (this.synth.pause(),
                                  this.synth.cancel(),
                                  this.synth.speak(t),
                                  this.synth.resume())
                                : (this.synth.cancel(), this.synth.speak(t));
                        }))
                      : e.outputUtteranceProperty.link(() => {
                          this.speakingStartedEmitter.emit({
                            text: "Sorry! Web Speech API not supported on this platform.",
                          });
                        });
                  }
                }
                G.register("Reader", Sr);
                var Tr = i(5281),
                  xr = i(2221),
                  Cr = i(2976);
                class Ir {
                  constructor(e) {
                    _defineProperty(this, "keyState", {}),
                      _defineProperty(this, "_lastKeyDown", null),
                      _defineProperty(this, "attachedToDocument", !1),
                      _defineProperty(this, "documentKeyupListener", null),
                      _defineProperty(this, "documentKeydownListener", null),
                      _defineProperty(this, "_enabled", !0),
                      _defineProperty(
                        this,
                        "keydownEmitter",
                        new Er.Z({ parameters: [{ valueType: KeyboardEvent }] })
                      ),
                      _defineProperty(
                        this,
                        "keyupEmitter",
                        new Er.Z({ parameters: [{ valueType: KeyboardEvent }] })
                      );
                    const t = (0, Ae.ZP)()({ tandem: fe.Z.OPTIONAL }, e);
                    (this.keydownUpdateAction = new Tr.Z(
                      (e) => {
                        const t = st.getEventCode(e);
                        if (t) {
                          if (
                            (this.correctModifierKeys(e), !this.isKeyDown(t))
                          ) {
                            const t = st.getEventCode(e);
                            this.keyState[t] = {
                              keyDown: !0,
                              key: t,
                              timeDown: 0,
                            };
                          }
                          (this._lastKeyDown = t), this.keydownEmitter.emit(e);
                        }
                      },
                      {
                        phetioPlayback: !0,
                        tandem: t.tandem.createTandem("keydownUpdateAction"),
                        parameters: [{ name: "event", phetioType: dt }],
                        phetioEventType: Cr.Z.USER,
                        phetioDocumentation:
                          "Action that executes whenever a keydown occurs from the input listeners this keyStateTracker adds (most likely to the document).",
                      }
                    )),
                      (this.keyupUpdateAction = new Tr.Z(
                        (e) => {
                          const t = st.getEventCode(e);
                          t &&
                            (this.correctModifierKeys(e),
                            this.isKeyDown(t) && delete this.keyState[t],
                            this.keyupEmitter.emit(e));
                        },
                        {
                          phetioPlayback: !0,
                          tandem: t.tandem.createTandem("keyupUpdateAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Action that executes whenever a keyup occurs from the input listeners this keyStateTracker adds (most likely to the document).",
                        }
                      ));
                    const i = this.step.bind(this);
                    xr.Z.addListener(i),
                      (this.disposeKeyStateTracker = () => {
                        xr.Z.removeListener(i),
                          this.attachedToDocument && this.detachFromDocument();
                      });
                  }
                  keydownUpdate(e) {
                    this.enabled && this.keydownUpdateAction.execute(e);
                  }
                  correctModifierKeys(e) {
                    const t = st.getEventCode(e);
                    e.shiftKey &&
                      !this.shiftKeyDown &&
                      (this.keyState[st.KEY_SHIFT_LEFT] = {
                        keyDown: !0,
                        key: t,
                        timeDown: 0,
                      }),
                      e.altKey &&
                        !this.altKeyDown &&
                        (this.keyState[st.KEY_ALT_LEFT] = {
                          keyDown: !0,
                          key: t,
                          timeDown: 0,
                        }),
                      e.ctrlKey &&
                        !this.ctrlKeyDown &&
                        (this.keyState[st.KEY_CONTROL_LEFT] = {
                          keyDown: !0,
                          key: t,
                          timeDown: 0,
                        }),
                      !e.shiftKey &&
                        this.shiftKeyDown &&
                        (delete this.keyState[st.KEY_SHIFT_LEFT],
                        delete this.keyState[st.KEY_SHIFT_RIGHT]),
                      !e.altKey &&
                        this.altKeyDown &&
                        (delete this.keyState[st.KEY_ALT_LEFT],
                        delete this.keyState[st.KEY_ALT_RIGHT]),
                      !e.ctrlKey &&
                        this.ctrlKeyDown &&
                        (delete this.keyState[st.KEY_CONTROL_LEFT],
                        delete this.keyState[st.KEY_CONTROL_RIGHT]);
                  }
                  keyupUpdate(e) {
                    this.enabled && this.keyupUpdateAction.execute(e);
                  }
                  get movementKeysDown() {
                    return this.isAnyKeyInListDown(st.MOVEMENT_KEYS);
                  }
                  getLastKeyDown() {
                    return this._lastKeyDown;
                  }
                  isKeyDown(e) {
                    return !!this.keyState[e] && this.keyState[e].keyDown;
                  }
                  isAnyKeyInListDown(e) {
                    for (let t = 0; t < e.length; t++)
                      if (this.isKeyDown(e[t])) return !0;
                    return !1;
                  }
                  areKeysDown(e) {
                    for (let t = 0; t < e.length; t++)
                      if (!this.isKeyDown(e[t])) return !1;
                    return !0;
                  }
                  keysAreDown() {
                    return Object.keys(this.keyState).length > 0;
                  }
                  get enterKeyDown() {
                    return this.isKeyDown(st.KEY_ENTER);
                  }
                  get shiftKeyDown() {
                    return this.isAnyKeyInListDown(st.SHIFT_KEYS);
                  }
                  get altKeyDown() {
                    return this.isAnyKeyInListDown(st.ALT_KEYS);
                  }
                  get ctrlKeyDown() {
                    return this.isAnyKeyInListDown(st.CONTROL_KEYS);
                  }
                  timeDownForKey(e) {
                    return this.keyState[e].timeDown;
                  }
                  clearState() {
                    this.keyState = {};
                  }
                  step(e) {
                    if (this.keysAreDown()) {
                      const t = 1e3 * e;
                      for (const e in this.keyState)
                        this.keyState.hasOwnProperty(e) &&
                          this.keyState[e].keyDown &&
                          (this.keyState[e].timeDown += t);
                    }
                  }
                  attachToWindow() {
                    (this.documentKeydownListener = (e) => {
                      this.keydownUpdate(e);
                    }),
                      (this.documentKeyupListener = (e) => {
                        this.keyupUpdate(e);
                      });
                    const e = () => {
                      window.addEventListener(
                        "keyup",
                        this.documentKeyupListener,
                        { capture: !0 }
                      ),
                        window.addEventListener(
                          "keydown",
                          this.documentKeydownListener,
                          { capture: !0 }
                        ),
                        (this.attachedToDocument = !0);
                    };
                    if (document) e();
                    else {
                      const t = () => {
                        e(), window.removeEventListener("load", t);
                      };
                      window.addEventListener("load", t);
                    }
                  }
                  setEnabled(e) {
                    this._enabled !== e &&
                      ((this._enabled = e), !e && this.clearState());
                  }
                  set enabled(e) {
                    this.setEnabled(e);
                  }
                  get enabled() {
                    return this.isEnabled();
                  }
                  isEnabled() {
                    return this._enabled;
                  }
                  detachFromDocument() {
                    window.removeEventListener(
                      "keyup",
                      this.documentKeyupListener
                    ),
                      window.removeEventListener(
                        "keydown",
                        this.documentKeydownListener
                      ),
                      (this.documentKeyupListener = null),
                      (this.documentKeydownListener = null),
                      (this.attachedToDocument = !1);
                  }
                  dispose() {
                    this.disposeKeyStateTracker();
                  }
                }
                G.register("KeyStateTracker", Ir);
                const Dr = Ir;
                const kr = new (class extends Dr {
                  constructor(e) {
                    super(e);
                  }
                })({
                  tandem:
                    fe.Z.GENERAL_CONTROLLER.createTandem("keyStateTracker"),
                });
                G.register("globalKeyStateTracker", kr);
                const Or = kr,
                  Lr = [
                    "interactiveHighlight",
                    "interactiveHighlightLayerable",
                    "interactiveHighlightEnabled",
                  ],
                  Br = (e) => {
                    const t = Vn(
                      "InteractiveHighlightingClass",
                      Lr,
                      class extends e {
                        constructor() {
                          super(...arguments),
                            (this._activationListener = {
                              enter: this._onPointerEntered.bind(this),
                              move: this._onPointerMove.bind(this),
                              exit: this._onPointerExited.bind(this),
                              down: this._onPointerDown.bind(this),
                            }),
                            (this._pointer = null),
                            (this.displays = {}),
                            (this._interactiveHighlight = null),
                            (this._interactiveHighlightLayerable = !1),
                            (this._interactiveHighlightEnabled = !0),
                            (this.interactiveHighlightChangedEmitter =
                              new Q.Z()),
                            (this._changedInstanceListener =
                              this.onChangedInstance.bind(this)),
                            this.changedInstanceEmitter.addListener(
                              this._changedInstanceListener
                            ),
                            (this._interactiveHighlightingEnabledListener =
                              this._onInteractiveHighlightingEnabledChange.bind(
                                this
                              ));
                          const e = this._onPointerRelease.bind(this),
                            t = this._onPointerCancel.bind(this);
                          this._pointerListener = {
                            up: e,
                            cancel: t,
                            interrupt: t,
                          };
                        }
                        get isInteractiveHighlighting() {
                          return !0;
                        }
                        static get _mixesInteractiveHighlighting() {
                          return !0;
                        }
                        setInteractiveHighlight(e) {
                          this._interactiveHighlight !== e &&
                            ((this._interactiveHighlight = e),
                            this._interactiveHighlightLayerable &&
                              (e.visible = !1),
                            this.interactiveHighlightChangedEmitter.emit());
                        }
                        set interactiveHighlight(e) {
                          this.setInteractiveHighlight(e);
                        }
                        get interactiveHighlight() {
                          return this.getInteractiveHighlight();
                        }
                        getInteractiveHighlight() {
                          return this._interactiveHighlight;
                        }
                        setInteractiveHighlightLayerable(e) {
                          this._interactiveHighlightLayerable !== e &&
                            ((this._interactiveHighlightLayerable = e),
                            this._interactiveHighlight &&
                              ((this._interactiveHighlight.visible = !1),
                              this.interactiveHighlightChangedEmitter.emit()));
                        }
                        set interactiveHighlightLayerable(e) {
                          this.setInteractiveHighlightLayerable(e);
                        }
                        get interactiveHighlightLayerable() {
                          return this.getInteractiveHighlightLayerable();
                        }
                        getInteractiveHighlightLayerable() {
                          return this._interactiveHighlightLayerable;
                        }
                        setInteractiveHighlightEnabled(e) {
                          this._interactiveHighlightEnabled = e;
                          const t = Object.keys(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            const e = this.displays[t[i]];
                            this._interactiveHighlightingEnabledListener(
                              e.focusManager.pointerHighlightsVisibleProperty
                                .value
                            );
                          }
                        }
                        getInteractiveHighlightEnabled() {
                          return this._interactiveHighlightEnabled;
                        }
                        set interactiveHighlightEnabled(e) {
                          this.setInteractiveHighlightEnabled(e);
                        }
                        get interactiveHighlightEnabled() {
                          return this.getInteractiveHighlightEnabled();
                        }
                        isInteractiveHighlightActivated() {
                          let e = !1;
                          const t = Object.keys(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            const s =
                              this.displays[t[i]].focusManager
                                .pointerFocusProperty.value;
                            if (s && s.trail.lastNode() === this) {
                              e = !0;
                              break;
                            }
                          }
                          return e;
                        }
                        get interactiveHighlightActivated() {
                          return this.isInteractiveHighlightActivated();
                        }
                        dispose() {
                          this.changedInstanceEmitter.removeListener(
                            this._changedInstanceListener
                          ),
                            this.hasInputListener(this._activationListener) &&
                              this.removeInputListener(
                                this._activationListener
                              );
                          const e = Object.keys(this.displays);
                          for (let t = 0; t < e.length; t++) {
                            this.displays[
                              e[t]
                            ].focusManager.pointerHighlightsVisibleProperty.unlink(
                              this._interactiveHighlightingEnabledListener
                            ),
                              delete this.displays[e[t]];
                          }
                          super.dispose && super.dispose();
                        }
                        _onPointerEntered(e) {
                          const t = Object.values(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            const s = t[i];
                            (null !==
                              s.focusManager.pointerFocusProperty.value &&
                              e.trail.equals(
                                s.focusManager.pointerFocusProperty.value.trail
                              )) ||
                              s.focusManager.pointerFocusProperty.set(
                                new Xe(s, e.trail)
                              );
                          }
                        }
                        _onPointerMove(e) {
                          const t = Object.values(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            const s = t[i],
                              n = e.trail.subtrailTo(this);
                            (null !==
                              s.focusManager.pointerFocusProperty.value &&
                              n.equals(
                                s.focusManager.pointerFocusProperty.value.trail
                              )) ||
                              this.getDescendantsUseHighlighting(e.trail) ||
                              s.focusManager.pointerFocusProperty.set(
                                new Xe(s, n)
                              );
                          }
                        }
                        _onPointerExited(e) {
                          const t = Object.values(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            t[i].focusManager.pointerFocusProperty.set(null),
                              e.trail.isPickable() || this._onPointerRelease(e);
                          }
                        }
                        _onPointerDown(e) {
                          if (null === this._pointer) {
                            const t = Object.values(this.displays);
                            for (let e = 0; e < t.length; e++) {
                              const i = t[e],
                                s = i.focusManager.pointerFocusProperty.value;
                              s &&
                                i.focusManager.lockedPointerFocusProperty.set(
                                  new Xe(s.display, s.trail.copy())
                                );
                            }
                            (this._pointer = e.pointer),
                              this._pointer.addInputListener(
                                this._pointerListener
                              );
                          }
                        }
                        _onPointerRelease(e) {
                          const t = Object.values(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            t[i].focusManager.lockedPointerFocusProperty.value =
                              null;
                          }
                          this._pointer &&
                            this._pointer.listeners.includes(
                              this._pointerListener
                            ) &&
                            (this._pointer.removeInputListener(
                              this._pointerListener
                            ),
                            (this._pointer = null));
                        }
                        _onPointerCancel(e) {
                          const t = Object.values(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            t[i].focusManager.pointerFocusProperty.set(null);
                          }
                          this._onPointerRelease(e);
                        }
                        _onInteractiveHighlightingEnabledChange(e) {
                          const t = e && this._interactiveHighlightEnabled,
                            i = this.hasInputListener(this._activationListener);
                          t && !i
                            ? this.addInputListener(this._activationListener)
                            : !t &&
                              i &&
                              this.removeInputListener(
                                this._activationListener
                              );
                        }
                        onChangedInstance(e, t) {
                          if (t)
                            (this.displays[e.trail.uniqueId] = e.display),
                              e.display.focusManager.pointerHighlightsVisibleProperty.hasListener(
                                this._interactiveHighlightingEnabledListener
                              ) ||
                                e.display.focusManager.pointerHighlightsVisibleProperty.link(
                                  this._interactiveHighlightingEnabledListener
                                );
                          else {
                            const t = this.displays[e.trail.uniqueId];
                            t &&
                              0 === e.node.instances.length &&
                              t.focusManager.pointerHighlightsVisibleProperty.unlink(
                                this._interactiveHighlightingEnabledListener
                              ),
                              delete this.displays[e.trail.uniqueId];
                          }
                        }
                        getDescendantsUseHighlighting(e) {
                          const t = e.nodes.indexOf(this),
                            i = e.nodes.slice(t + 1, e.nodes.length);
                          let s = !1;
                          for (let n = 0; n < i.length; n++)
                            if (i[n].isInteractiveHighlighting) {
                              s = !0;
                              break;
                            }
                          return s;
                        }
                      }
                    );
                    return (
                      (t.prototype._mutatorKeys = Lr.concat(
                        t.prototype._mutatorKeys
                      )),
                      t
                    );
                  };
                G.register("InteractiveHighlighting", Br);
                const Mr = Br;
                class Nr extends Mr(Ds) {
                  constructor(e) {
                    super(e);
                  }
                }
                G.register("InteractiveHighlightingNode", Nr);
                const Rr = Nr;
                var qr = i(621);
                class Fr extends qr.Z {
                  constructor(e) {
                    super(
                      (0, Ae.ZP)()(
                        {
                          respectResponseCollectorProperties: !0,
                          tandem: fe.Z.OPTIONAL,
                          phetioDocumentation:
                            "Announcer that manages the voicing feature, providing audio responses via WebAudio.",
                        },
                        e
                      )
                    );
                  }
                  initialize(e, t) {
                    super.initialize(e, t),
                      Or.keyupEmitter.addListener((e) => {
                        st.isControlKey(e) && this.cancel();
                      });
                  }
                }
                const Zr = new Fr({
                  tandem: fe.Z.GENERAL_VIEW.createTandem("voicingManager"),
                  phetioDocumentation:
                    'The Announcer responsible for announcing` to WebSpeech for the "voicing" feature.',
                });
                G.register("voicingManager", Zr);
                const Hr = Zr;
                var Yr = i(2391),
                  Gr = i(6692);
                let Wr = 1;
                class zr extends Wt.Z {
                  constructor(e) {
                    super(), (this.attributeString = e);
                  }
                }
                function Xr(e) {
                  const t = e.attributeString,
                    i = document.createElement("div");
                  for (let s = 1; s <= 4; s++) {
                    const e = document.createElement("p");
                    e.setAttribute("id", `elements-${Wr}-${t}-${s}`),
                      e.setAttribute("aria-live", t),
                      i.appendChild(e);
                  }
                  return i;
                }
                _defineProperty(zr, "POLITE", new (y = zr)("polite")),
                  _defineProperty(zr, "ASSERTIVE", new y("assertive")),
                  _defineProperty(zr, "enumeration", new Gt.Z(y));
                class Qr extends Yr.Z {
                  constructor(e) {
                    super(
                      (0, Ae.ZP)()(
                        { respectResponseCollectorProperties: !1 },
                        e
                      )
                    ),
                      (this.politeElementIndex = 0),
                      (this.assertiveElementIndex = 0),
                      (this.ariaLiveContainer = document.createElement("div")),
                      this.ariaLiveContainer.setAttribute(
                        "id",
                        "aria-live-elements-" + Wr
                      ),
                      this.ariaLiveContainer.setAttribute(
                        "style",
                        "position: absolute; left: 0px; top: 0px; width: 0px; height: 0px; clip: rect(0px 0px 0px 0px); pointer-events: none;"
                      );
                    const t = Xr(zr.POLITE),
                      i = Xr(zr.ASSERTIVE);
                    this.ariaLiveContainer.appendChild(t),
                      this.ariaLiveContainer.appendChild(i),
                      (this.politeElements = Array.from(t.children)),
                      (this.assertiveElements = Array.from(i.children)),
                      Wr++;
                  }
                  announce(e, t, i) {
                    const s = (0, Ae.ZP)()({ ariaLivePriority: zr.POLITE }, i);
                    if (((this.hasSpoken = !0), e))
                      if (s.ariaLivePriority === zr.POLITE) {
                        const i = this.politeElements[this.politeElementIndex];
                        this.updateLiveElement(i, e, t),
                          (this.politeElementIndex =
                            (this.politeElementIndex + 1) %
                            this.politeElements.length);
                      } else if (s.ariaLivePriority === zr.ASSERTIVE) {
                        const i =
                          this.assertiveElements[this.assertiveElementIndex];
                        this.updateLiveElement(i, e, t),
                          (this.assertiveElementIndex =
                            (this.assertiveElementIndex + 1) %
                            this.assertiveElements.length);
                      }
                    this.announcementCompleteEmitter.emit(t, e);
                  }
                  cancel() {}
                  cancelUtterance(e) {}
                  updateLiveElement(e, t, i) {
                    (e.textContent = ""),
                      (e.hidden = !1),
                      (this.readyToAnnounce = !1),
                      xr.Z.setTimeout(() => {
                        i.predicate() &&
                          (Ei.setTextContent(e, t),
                          xr.Z.setTimeout(() => {
                            Ne.Z.safari
                              ? (e.hidden = !0)
                              : (e.textContent = ""),
                              (this.readyToAnnounce = !0);
                          }, Qr.ARIA_LIVE_DELAY));
                      }, 0);
                  }
                }
                _defineProperty(Qr, "ARIA_LIVE_DELAY", 200),
                  _defineProperty(Qr, "AriaLive", zr),
                  Gr.Z.register("AriaLiveAnnouncer", Qr);
                const Ur = Qr;
                var jr = i(428);
                class Kr {
                  constructor(e) {
                    (this.utterance = e),
                      (this.timeInQueue = 0),
                      (this.stableTime = 0),
                      (this.announcingUtterancePriorityListener = null);
                  }
                  resetTimingVariables() {
                    (this.timeInQueue = 0), (this.stableTime = 0);
                  }
                }
                Gr.Z.register("UtteranceWrapper", Kr);
                const Jr = Kr;
                class _r extends ye.Z {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        debug: !1,
                        initialize: !0,
                        featureSpecificAnnouncingControlPropertyName: null,
                      },
                      t
                    );
                    super(i),
                      (this.announcer = e),
                      (this._initialized = i.initialize),
                      (this.featureSpecificAnnouncingControlPropertyName =
                        i.featureSpecificAnnouncingControlPropertyName),
                      (this.queue = []),
                      (this._muted = !1),
                      (this._enabled = !0),
                      (this.utteranceToPriorityListenerMap = new Map()),
                      (this.announcingUtteranceWrapper = null),
                      (this.debug = i.debug),
                      this.announcer.announcementCompleteEmitter.addListener(
                        (e) => {
                          if (
                            this.announcingUtteranceWrapper &&
                            e === this.announcingUtteranceWrapper.utterance
                          ) {
                            const e =
                              this.announcingUtteranceWrapper
                                .announcingUtterancePriorityListener;
                            this.announcingUtteranceWrapper.utterance.priorityProperty.hasListener(
                              e
                            ) &&
                              (this.announcingUtteranceWrapper.utterance.priorityProperty.unlink(
                                e
                              ),
                              (this.announcingUtteranceWrapper.announcingUtterancePriorityListener =
                                null),
                              (this.announcingUtteranceWrapper = null));
                          }
                        }
                      ),
                      (this.stepQueueListener = null),
                      this._initialized &&
                        ((this.stepQueueListener = this.stepQueue.bind(this)),
                        xr.Z.addListener(this.stepQueueListener));
                  }
                  get length() {
                    return this.queue.length;
                  }
                  addToBack(e) {
                    if (this.initializedAndEnabled)
                      if (this.announcer.hasSpoken) {
                        const t = this.prepareUtterance(e);
                        this.queue.push(t),
                          this.debug && console.log("addToBack"),
                          this.addPriorityListenerAndPrioritizeQueue(t);
                      } else this.announceImmediately(e);
                  }
                  addToFront(e) {
                    if (
                      ((0, Ps.Z)(
                        "`addToFront()` has been deprecated because it is confusing, and most of the time doesn't do what is expected, because Utterances are announced based on time-in-queue first, and then position in the queue. It is recommended to use addToBack, and then timing variables on Utterances, or instead call queue.clear() before adding a more important alert to the queue."
                      ),
                      !this.initializedAndEnabled)
                    )
                      return;
                    const t = this.prepareUtterance(e);
                    this.queue.unshift(t);
                  }
                  addPriorityListenerAndPrioritizeQueue(e) {
                    const t = () => {
                      this.prioritizeUtterances(e);
                    };
                    e.utterance.priorityProperty.lazyLink(t),
                      this.utteranceToPriorityListenerMap.set(e.utterance, t),
                      this.prioritizeUtterances(e);
                  }
                  prepareUtterance(e) {
                    e instanceof jr.Z || (e = new jr.Z({ alert: e }));
                    const t = new Jr(e);
                    return (
                      this.removeOthersAndUpdateUtteranceWrapper(t),
                      (t.stableTime = 0),
                      t
                    );
                  }
                  removeUtterance(e) {
                    const t = (t) => t.utterance === e,
                      i = _.remove(this.queue, t);
                    this.removePriorityListeners(i);
                  }
                  prioritizeUtterances(e) {
                    const t = this.queue.indexOf(e),
                      i = t >= 0;
                    let s;
                    s = i ? t - 1 : -1;
                    for (let n = s; n >= 0; n--) {
                      const t = this.queue[n];
                      this.shouldUtteranceCancelOther(
                        e.utterance,
                        t.utterance
                      ) && this.removeUtterance(t.utterance);
                    }
                    if (i) {
                      const i = this.queue[t + 1];
                      i &&
                        this.shouldUtteranceCancelOther(
                          i.utterance,
                          e.utterance
                        ) &&
                        this.removeUtterance(e.utterance);
                    }
                    this.queue.length > 0 &&
                      this.announcer.onUtterancePriorityChange(
                        this.queue[0].utterance
                      );
                  }
                  shouldUtteranceCancelOther(e, t) {
                    return this.announcer.shouldUtteranceCancelOther(e, t);
                  }
                  removeOthersAndUpdateUtteranceWrapper(e) {
                    const t = [];
                    for (let s = 0; s < this.queue.length; s++) {
                      const i = this.queue[s];
                      i.utterance === e.utterance && t.push(i.timeInQueue);
                    }
                    t.length >= 1 && (e.timeInQueue = Math.max(...t));
                    const i = _.remove(
                      this.queue,
                      (t) => t.utterance === e.utterance
                    );
                    this.removePriorityListeners(i);
                  }
                  get initializedAndEnabled() {
                    return this._enabled && this._initialized;
                  }
                  getNextUtterance() {
                    let e = null;
                    for (let t = 0; t < this.queue.length; t++) {
                      const i = this.queue[t];
                      if (
                        i.stableTime > i.utterance.alertStableDelay ||
                        i.timeInQueue > i.utterance.alertMaximumDelay
                      ) {
                        e = i;
                        break;
                      }
                    }
                    return e;
                  }
                  hasUtterance(e) {
                    for (let t = 0; t < this.queue.length; t++) {
                      if (e === this.queue[t].utterance) return !0;
                    }
                    return !1;
                  }
                  clear() {
                    this.removePriorityListeners(this.queue),
                      (this.queue.length = 0);
                  }
                  cancelUtterance(e) {
                    this.announcer.cancelUtterance(e),
                      this.hasUtterance(e) && this.removeUtterance(e);
                  }
                  cancel() {
                    this.clear(), this.announcer.cancel();
                  }
                  removePriorityListeners(e) {
                    e.forEach((e) => this.removePriorityListener(e.utterance));
                  }
                  removePriorityListener(e) {
                    const t = this.utteranceToPriorityListenerMap.get(e);
                    t &&
                      (e.priorityProperty.unlink(t),
                      this.utteranceToPriorityListenerMap.delete(e));
                  }
                  setMuted(e) {
                    this._muted = e;
                  }
                  set muted(e) {
                    this.setMuted(e);
                  }
                  get muted() {
                    return this.getMuted();
                  }
                  getMuted() {
                    return this._muted;
                  }
                  setEnabled(e) {
                    this._enabled = e;
                  }
                  set enabled(e) {
                    this.setEnabled(e);
                  }
                  get enabled() {
                    return this.isEnabled();
                  }
                  isEnabled() {
                    return this._enabled;
                  }
                  stepQueue(e) {
                    if (this._enabled && ((e *= 1e3), this.queue.length > 0)) {
                      for (let i = 0; i < this.queue.length; i++) {
                        const t = this.queue[i];
                        (t.timeInQueue += e), (t.stableTime += e);
                      }
                      const t = this.getNextUtterance();
                      t && this.attemptToAnnounce(t);
                    }
                  }
                  announceImmediately(e) {
                    if (
                      this.initializedAndEnabled &&
                      (this.debug && console.log("announceImmediately"),
                      e instanceof jr.Z || (e = new jr.Z({ alert: e })),
                      null === this.announcingUtteranceWrapper ||
                        this.announcer.shouldUtteranceCancelOther(
                          e,
                          this.announcingUtteranceWrapper.utterance
                        ))
                    ) {
                      const t = this.prepareUtterance(e);
                      (t.stableTime = Number.POSITIVE_INFINITY),
                        (t.timeInQueue = Number.POSITIVE_INFINITY),
                        this.queue.unshift(t),
                        this.addPriorityListenerAndPrioritizeQueue(t),
                        this.queue.includes(t) && this.attemptToAnnounce(t);
                    }
                  }
                  attemptToAnnounce(e) {
                    const t = e.utterance;
                    if (this.announcer.readyToAnnounce) {
                      const i = t.getAlertText(
                        this.announcer.respectResponseCollectorProperties
                      );
                      this.debug &&
                        console.log(
                          "ready to announce in attemptToAnnounce(): ",
                          i
                        );
                      const s =
                          !this.featureSpecificAnnouncingControlPropertyName ||
                          t[this.featureSpecificAnnouncingControlPropertyName]
                            .value,
                        n = t.canAnnounceProperty.value && t.predicate() && s;
                      !this._muted && n && "" !== i
                        ? ((this.announcingUtteranceWrapper = e),
                          (this.announcingUtteranceWrapper.announcingUtterancePriorityListener =
                            () => {
                              this.prioritizeUtterances(e);
                            }),
                          e.utterance.priorityProperty.link(
                            this.announcingUtteranceWrapper
                              .announcingUtterancePriorityListener
                          ),
                          this.debug && console.log("announcing: ", i),
                          this.announcer.announce(i, t, t.announcerOptions))
                        : this.debug &&
                          console.log(
                            "announcer readyToAnnounce but utterance cannot announce, will not be spoken: ",
                            i
                          ),
                        this.queue.includes(e) &&
                          this.removeUtterance(e.utterance);
                    } else
                      this.debug &&
                        console.log("announcer not readyToAnnounce");
                  }
                  dispose() {
                    this._initialized &&
                      xr.Z.removeListener(this.stepQueueListener),
                      super.dispose();
                  }
                  static fromFactory() {
                    const e = new Ur(),
                      t = new _r(e),
                      i = e.ariaLiveContainer;
                    document.body
                      ? document.body.appendChild(i)
                      : document.children[0].appendChild(i);
                    let s = 0;
                    const n = (e) => {
                      const t = e - s;
                      (s = e),
                        phet.axon.stepTimer.emit(t / 1e3),
                        window.requestAnimationFrame(n);
                    };
                    return window.requestAnimationFrame(n), t;
                  }
                }
                Gr.Z.register("UtteranceQueue", _r);
                const $r = _r,
                  eo = new $r(Hr, {
                    featureSpecificAnnouncingControlPropertyName:
                      "voicingCanAnnounceProperty",
                  });
                (eo.enabled = !1), G.register("voicingUtteranceQueue", eo);
                const to = eo;
                var io = i(6629),
                  so = i(6103);
                class no extends jr.Z {
                  constructor(e) {
                    super(e);
                  }
                }
                const ro = [
                    "voicingNameResponse",
                    "voicingObjectResponse",
                    "voicingContextResponse",
                    "voicingHintResponse",
                    "voicingUtterance",
                    "voicingResponsePatternCollection",
                    "voicingIgnoreVoicingManagerProperties",
                    "voicingFocusListener",
                  ],
                  oo = (e) => {
                    const t = Vn(
                      "Voicing",
                      ro,
                      class t extends Mr(e) {
                        constructor() {
                          super(...arguments),
                            (this._boundInstanceCanVoiceChangeListener =
                              this.onInstanceCanVoiceChange.bind(this)),
                            (this._voicingUtterance = null),
                            t.prototype.initialize.call(this);
                        }
                        initialize() {
                          for (
                            var e = arguments.length, t = new Array(e), i = 0;
                            i < e;
                            i++
                          )
                            t[i] = arguments[i];
                          return (
                            super.initialize && super.initialize(t),
                            (this._voicingCanSpeakProperty = new os.Z(!0)),
                            (this._voicingResponsePacket = new io.Z()),
                            (this._voicingFocusListener =
                              this.defaultFocusListener),
                            this.setVoicingUtterance(new no()),
                            (this._voicingCanSpeakCount = 0),
                            (this._boundInstancesChangedListener =
                              this.addOrRemoveInstanceListeners.bind(this)),
                            this.changedInstanceEmitter.addListener(
                              this._boundInstancesChangedListener
                            ),
                            (this._speakContentOnFocusListener = {
                              focus: (e) => {
                                this._voicingFocusListener &&
                                  this._voicingFocusListener(e);
                              },
                            }),
                            this.addInputListener(
                              this._speakContentOnFocusListener
                            ),
                            this
                          );
                        }
                        voicingSpeakFullResponse(e) {
                          const t = (0, Ae.JA)({}, e);
                          t.hasOwnProperty("nameResponse") ||
                            (t.nameResponse =
                              this._voicingResponsePacket.nameResponse),
                            t.hasOwnProperty("objectResponse") ||
                              (t.objectResponse =
                                this._voicingResponsePacket.objectResponse),
                            t.hasOwnProperty("contextResponse") ||
                              (t.contextResponse =
                                this._voicingResponsePacket.contextResponse),
                            t.hasOwnProperty("hintResponse") ||
                              (t.hintResponse =
                                this._voicingResponsePacket.hintResponse),
                            this.collectAndSpeakResponse(t);
                        }
                        voicingSpeakResponse(e) {
                          const t = (0, Ae.JA)(
                            {
                              nameResponse: null,
                              objectResponse: null,
                              contextResponse: null,
                              hintResponse: null,
                            },
                            e
                          );
                          this.collectAndSpeakResponse(t);
                        }
                        voicingSpeakNameResponse(e) {
                          const t = (0, Ae.JA)({}, e);
                          t.hasOwnProperty("nameResponse") ||
                            (t.nameResponse =
                              this._voicingResponsePacket.nameResponse),
                            this.collectAndSpeakResponse(t);
                        }
                        voicingSpeakObjectResponse(e) {
                          const t = (0, Ae.JA)({}, e);
                          t.hasOwnProperty("objectResponse") ||
                            (t.objectResponse =
                              this._voicingResponsePacket.objectResponse),
                            this.collectAndSpeakResponse(t);
                        }
                        voicingSpeakContextResponse(e) {
                          const t = (0, Ae.JA)({}, e);
                          t.hasOwnProperty("contextResponse") ||
                            (t.contextResponse =
                              this._voicingResponsePacket.contextResponse),
                            this.collectAndSpeakResponse(t);
                        }
                        voicingSpeakHintResponse(e) {
                          const t = (0, Ae.JA)({}, e);
                          t.hasOwnProperty("hintResponse") ||
                            (t.hintResponse =
                              this._voicingResponsePacket.hintResponse),
                            this.collectAndSpeakResponse(t);
                        }
                        collectAndSpeakResponse(e) {
                          this.speakContent(this.collectResponse(e));
                        }
                        collectResponse(e) {
                          const t = (0, Ae.JA)(
                            {
                              ignoreProperties:
                                this._voicingResponsePacket.ignoreProperties,
                              responsePatternCollection:
                                this._voicingResponsePacket
                                  .responsePatternCollection,
                              utterance: this.voicingUtterance,
                            },
                            e
                          );
                          let i = so.Z.collectResponses(t);
                          return (
                            t.utterance &&
                              ((t.utterance.alert = i), (i = t.utterance)),
                            i
                          );
                        }
                        speakContent(e) {
                          const t =
                            !fe.Z.PHET_IO_ENABLED ||
                            !this.isInsidePhetioArchetype();
                          e && t && to.addToBack(e);
                        }
                        setVoicingNameResponse(e) {
                          this._voicingResponsePacket.nameResponse = e;
                        }
                        set voicingNameResponse(e) {
                          this.setVoicingNameResponse(e);
                        }
                        get voicingNameResponse() {
                          return this.getVoicingNameResponse();
                        }
                        getVoicingNameResponse() {
                          return this._voicingResponsePacket.nameResponse;
                        }
                        setVoicingObjectResponse(e) {
                          this._voicingResponsePacket.objectResponse = e;
                        }
                        set voicingObjectResponse(e) {
                          this.setVoicingObjectResponse(e);
                        }
                        get voicingObjectResponse() {
                          return this.getVoicingObjectResponse();
                        }
                        getVoicingObjectResponse() {
                          return this._voicingResponsePacket.objectResponse;
                        }
                        setVoicingContextResponse(e) {
                          this._voicingResponsePacket.contextResponse = e;
                        }
                        set voicingContextResponse(e) {
                          this.setVoicingContextResponse(e);
                        }
                        get voicingContextResponse() {
                          return this.getVoicingContextResponse();
                        }
                        getVoicingContextResponse() {
                          return this._voicingResponsePacket.contextResponse;
                        }
                        setVoicingHintResponse(e) {
                          this._voicingResponsePacket.hintResponse = e;
                        }
                        set voicingHintResponse(e) {
                          this.setVoicingHintResponse(e);
                        }
                        get voicingHintResponse() {
                          return this.getVoicingHintResponse();
                        }
                        getVoicingHintResponse() {
                          return this._voicingResponsePacket.hintResponse;
                        }
                        setVoicingIgnoreVoicingManagerProperties(e) {
                          this._voicingResponsePacket.ignoreProperties = e;
                        }
                        set voicingIgnoreVoicingManagerProperties(e) {
                          this.setVoicingIgnoreVoicingManagerProperties(e);
                        }
                        get voicingIgnoreVoicingManagerProperties() {
                          return this.getVoicingIgnoreVoicingManagerProperties();
                        }
                        getVoicingIgnoreVoicingManagerProperties() {
                          return this._voicingResponsePacket.ignoreProperties;
                        }
                        setVoicingResponsePatternCollection(e) {
                          this._voicingResponsePacket.responsePatternCollection =
                            e;
                        }
                        set voicingResponsePatternCollection(e) {
                          this.setVoicingResponsePatternCollection(e);
                        }
                        get voicingResponsePatternCollection() {
                          return this.getVoicingResponsePatternCollection();
                        }
                        getVoicingResponsePatternCollection() {
                          return this._voicingResponsePacket
                            .responsePatternCollection;
                        }
                        setVoicingUtterance(e) {
                          this._voicingUtterance !== e &&
                            (this._voicingUtterance &&
                              this.cleanVoicingUtterance(),
                            oo.registerUtteranceToVoicingNode(e, this),
                            (this._voicingUtterance = e));
                        }
                        set voicingUtterance(e) {
                          this.setVoicingUtterance(e);
                        }
                        get voicingUtterance() {
                          return this.getVoicingUtterance();
                        }
                        getVoicingUtterance() {
                          return (
                            (function (e) {
                              if (!(e instanceof jr.Z))
                                throw new Error(
                                  "utterance is not an Utterance"
                                );
                            })(this._voicingUtterance),
                            this._voicingUtterance
                          );
                        }
                        getVoicingCanSpeakProperty() {
                          return this._voicingCanSpeakProperty;
                        }
                        get voicingCanSpeakProperty() {
                          return this.getVoicingCanSpeakProperty();
                        }
                        setVoicingFocusListener(e) {
                          this._voicingFocusListener = e;
                        }
                        set voicingFocusListener(e) {
                          this.setVoicingFocusListener(e);
                        }
                        get voicingFocusListener() {
                          return this.getVoicingFocusListener();
                        }
                        getVoicingFocusListener() {
                          return this._voicingFocusListener;
                        }
                        defaultFocusListener() {
                          this.voicingSpeakFullResponse({
                            contextResponse: null,
                          });
                        }
                        get isVoicing() {
                          return !0;
                        }
                        dispose() {
                          this.removeInputListener(
                            this._speakContentOnFocusListener
                          ),
                            this.changedInstanceEmitter.removeListener(
                              this._boundInstancesChangedListener
                            ),
                            this._voicingUtterance &&
                              (this.cleanVoicingUtterance(),
                              (this._voicingUtterance = null)),
                            super.dispose();
                        }
                        clean() {
                          this.removeInputListener(
                            this._speakContentOnFocusListener
                          ),
                            this.changedInstanceEmitter.removeListener(
                              this._boundInstancesChangedListener
                            ),
                            this._voicingUtterance &&
                              (this.cleanVoicingUtterance(),
                              (this._voicingUtterance = null)),
                            super.clean && super.clean();
                        }
                        onInstanceCanVoiceChange(e) {
                          e
                            ? this._voicingCanSpeakCount++
                            : this._voicingCanSpeakCount--,
                            (this._voicingCanSpeakProperty.value =
                              this._voicingCanSpeakCount > 0);
                        }
                        handleInstancesChanged(e, t) {
                          e.visible &&
                            e.voicingVisible &&
                            (this._voicingCanSpeakCount = t
                              ? this._voicingCanSpeakCount + 1
                              : this._voicingCanSpeakCount - 1),
                            (this._voicingCanSpeakProperty.value =
                              this._voicingCanSpeakCount > 0);
                        }
                        addOrRemoveInstanceListeners(e, t) {
                          t
                            ? e.canVoiceEmitter.addListener(
                                this._boundInstanceCanVoiceChangeListener
                              )
                            : e.canVoiceEmitter.removeListener(
                                this._boundInstanceCanVoiceChangeListener
                              ),
                            this.handleInstancesChanged(e, t);
                        }
                        cleanVoicingUtterance() {
                          this._voicingUtterance instanceof no
                            ? this._voicingUtterance.dispose()
                            : this._voicingUtterance &&
                              !this._voicingUtterance.isDisposed &&
                              oo.unregisterUtteranceToVoicingNode(
                                this._voicingUtterance,
                                this
                              );
                        }
                      }
                    );
                    return (
                      (t.prototype._mutatorKeys = ro.concat(
                        t.prototype._mutatorKeys
                      )),
                      t
                    );
                  };
                (oo.VOICING_OPTION_KEYS = ro),
                  (oo.alertUtterance = (e) => {
                    to.addToBack(e);
                  }),
                  (oo.registerUtteranceToVoicingNode = (e, t) => {
                    const i = e.voicingCanAnnounceProperties;
                    i.includes(t.voicingCanSpeakProperty) ||
                      (e.voicingCanAnnounceProperties = i.concat([
                        t.voicingCanSpeakProperty,
                      ]));
                  }),
                  (oo.unregisterUtteranceToVoicingNode = (e, t) => {
                    const i = e.voicingCanAnnounceProperties,
                      s = i.indexOf(t.voicingCanSpeakProperty);
                    e.voicingCanAnnounceProperties = i.splice(s, 1);
                  }),
                  (oo.registerUtteranceToNode = (e, t) => {
                    const i = e.voicingCanAnnounceProperties;
                    i.includes(t.visibleProperty) ||
                      (e.voicingCanAnnounceProperties =
                        e.voicingCanAnnounceProperties.concat([
                          t.visibleProperty,
                        ])),
                      i.includes(t.voicingVisibleProperty) ||
                        (e.voicingCanAnnounceProperties =
                          e.voicingCanAnnounceProperties.concat([
                            t.voicingVisibleProperty,
                          ]));
                  }),
                  (oo.unregisterUtteranceToNode = (e, t) => {
                    const i = e.voicingCanAnnounceProperties,
                      s = i.indexOf(t.visibleProperty),
                      n = i.splice(s, 1).indexOf(t.voicingVisibleProperty),
                      r = i.splice(n, 1);
                    e.voicingCanAnnounceProperties = r;
                  });
                G.register("Voicing", oo);
                const ao = oo;
                class ho extends jr.Z {
                  constructor(e, t) {
                    super(t), (this.readingBlockFocus = e);
                  }
                }
                G.register("ReadingBlockUtterance", ho);
                const lo = ho;
                class co {
                  constructor(e, t) {
                    _defineProperty(this, "node", null),
                      _defineProperty(this, "visibilityTracker", null);
                    const i = (0, Ae.ZP)()({ onRemoveFocus: _.noop }, t);
                    (this.focusProperty = e),
                      (this.onRemoveFocus = i.onRemoveFocus),
                      (this.boundVisibilityListener =
                        this.handleTrailVisibilityChange.bind(this)),
                      (this.boundInstancesChangedListener =
                        this.handleInstancesChange.bind(this)),
                      (this.boundFocusListener =
                        this.handleFocusChange.bind(this)),
                      this.focusProperty.link(this.boundFocusListener);
                  }
                  handleFocusChange(e) {
                    this.removeDisplayedListeners(),
                      e && this.addDisplayedListeners(e);
                  }
                  handleTrailVisibilityChange() {
                    this.visibilityTracker &&
                      !this.visibilityTracker.trailVisibleProperty.value &&
                      ((this.focusProperty.value = null), this.onRemoveFocus());
                  }
                  handleInstancesChange(e) {
                    e.node &&
                      0 === e.node.instances.length &&
                      ((this.focusProperty.value = null), this.onRemoveFocus());
                  }
                  addDisplayedListeners(e) {
                    (this.visibilityTracker = new fr(e.trail)),
                      this.visibilityTracker.addListener(
                        this.boundVisibilityListener
                      ),
                      (this.node = e.trail.lastNode()),
                      this.node.changedInstanceEmitter.addListener(
                        this.boundInstancesChangedListener
                      );
                  }
                  removeDisplayedListeners() {
                    this.visibilityTracker &&
                      (this.visibilityTracker.removeListener(
                        this.boundVisibilityListener
                      ),
                      this.visibilityTracker.dispose(),
                      (this.visibilityTracker = null)),
                      this.node &&
                        (this.node.changedInstanceEmitter.removeListener(
                          this.boundInstancesChangedListener
                        ),
                        (this.node = null));
                  }
                  dispose() {
                    this.removeDisplayedListeners(),
                      this.focusProperty.unlink(this.boundFocusListener),
                      (this.node = null),
                      (this.visibilityTracker = null),
                      (this.focusProperty = null);
                  }
                }
                G.register("FocusDisplayedController", co);
                const uo = co;
                var po = i(4075);
                class go {
                  constructor() {
                    (this.pointerFocusProperty = new yt.Z(null)),
                      (this.readingBlockFocusProperty = new yt.Z(null)),
                      (this.lockedPointerFocusProperty = new yt.Z(null)),
                      (this.pdomFocusHighlightsVisibleProperty = new Dt.Z(!0)),
                      (this.interactiveHighlightsVisibleProperty = new Dt.Z(
                        !1
                      )),
                      (this.readingBlockHighlightsVisibleProperty = new Dt.Z(
                        !1
                      )),
                      (this.voicingFullyEnabledListener = (e) => {
                        this.readingBlockHighlightsVisibleProperty.value = e;
                      }),
                      Hr.voicingFullyEnabledProperty.link(
                        this.voicingFullyEnabledListener
                      ),
                      (this.pointerHighlightsVisibleProperty = new po.ZP(
                        [
                          this.interactiveHighlightsVisibleProperty,
                          this.readingBlockHighlightsVisibleProperty,
                        ],
                        (e, t) => e || t
                      )),
                      (this.readingBlockFocusController = new uo(
                        this.readingBlockFocusProperty
                      )),
                      (this.startSpeakingListener = (e, t) => {
                        this.readingBlockFocusProperty.value =
                          t instanceof lo ? t.readingBlockFocus : null;
                      }),
                      Hr.startSpeakingEmitter.addListener(
                        this.startSpeakingListener
                      ),
                      (this.endSpeakingListener = (e, t) => {
                        t instanceof lo &&
                          this.readingBlockFocusProperty.value &&
                          t.readingBlockFocus.trail.equals(
                            this.readingBlockFocusProperty.value.trail
                          ) &&
                          (this.readingBlockFocusProperty.value = null);
                      }),
                      Hr.endSpeakingEmitter.addListener(
                        this.endSpeakingListener
                      ),
                      (this.pointerFocusDisplayedController = new uo(
                        this.pointerFocusProperty,
                        {
                          onRemoveFocus: () => {
                            this.lockedPointerFocusProperty.value = null;
                          },
                        }
                      ));
                  }
                  dispose() {
                    this.readingBlockFocusController.dispose(),
                      this.pointerFocusDisplayedController.dispose(),
                      this.pointerHighlightsVisibleProperty.dispose(),
                      Hr.startSpeakingEmitter.removeListener(
                        this.startSpeakingListener
                      ),
                      Hr.endSpeakingEmitter.removeListener(
                        this.endSpeakingListener
                      ),
                      Hr.voicingFullyEnabledProperty.unlink(
                        this.voicingFullyEnabledListener
                      );
                  }
                  static set pdomFocus(e) {
                    if (go.pdomFocusProperty.value !== e) {
                      let t;
                      go.pdomFocusProperty.value && (t = go.pdomFocusedNode),
                        (go.pdomFocusProperty.value = e),
                        t && !e && t.blur();
                    }
                  }
                  static get pdomFocus() {
                    return go.pdomFocusProperty.value;
                  }
                  static getPDOMFocusedNode() {
                    let e = null;
                    const t = go.pdomFocusProperty.get();
                    return t && (e = t.trail.lastNode()), e;
                  }
                  static get pdomFocusedNode() {
                    return this.getPDOMFocusedNode();
                  }
                }
                _defineProperty(
                  go,
                  "pdomFocusProperty",
                  new yt.Z(null, {
                    tandem:
                      fe.Z.GENERAL_MODEL.createTandem("pdomFocusProperty"),
                    phetioDocumentation:
                      "Stores the current focus in the Parallel DOM, null if nothing has focus. This is not updated based on mouse or touch input, only keyboard and other alternative inputs. Note that this only applies to simulations that support alternative input.",
                    phetioValueType: (0, at.Z)(Xe.FocusIO),
                    phetioState: !1,
                    phetioFeatured: !0,
                    phetioReadOnly: !0,
                  })
                ),
                  G.register("FocusManager", go);
                const mo = new se("rgba(212,19,106,0.5)"),
                  Ao = new se("rgba(250,40,135,0.9)"),
                  yo = new se("rgba(233,113,166,1.0)"),
                  fo = new se("rgba(233,113,166,1.0)"),
                  Po = new se("rgba(159,15,80,1.0)"),
                  bo = new se("rgba(159,15,80,1.0)");
                class vo extends Tn {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        outerStroke: mo,
                        innerStroke: Ao,
                        outerLineWidth: null,
                        innerLineWidth: null,
                        transformSourceNode: null,
                      },
                      t
                    );
                    super(e),
                      _defineProperty(
                        this,
                        "highlightChangedEmitter",
                        new Er.Z()
                      ),
                      (this._innerHighlightColor = i.innerStroke),
                      (this._outerHighlightColor = i.outerStroke);
                    const s = _.pick(i, Object.keys(Tn.DEFAULT_PATH_OPTIONS));
                    (this.innerLineWidth = i.innerLineWidth),
                      (this.outerLineWidth = i.outerLineWidth),
                      (this.transformSourceNode = i.transformSourceNode),
                      (i.stroke = i.outerStroke),
                      this.mutate(i);
                    const n = (0, Ae.JA)({}, s, { stroke: i.innerStroke });
                    (this.innerHighlightPath = new Tn(e, n)),
                      this.addChild(this.innerHighlightPath),
                      this.updateLineWidth();
                  }
                  mutateWithInnerHighlight(e) {
                    super.mutate(e),
                      this.innerHighlightPath &&
                        this.innerHighlightPath.mutate(e),
                      this.highlightChangedEmitter.emit();
                  }
                  makeDashed() {
                    this.mutateWithInnerHighlight({ lineDash: [7, 7] });
                  }
                  setShape(e) {
                    return (
                      super.setShape(e),
                      this.innerHighlightPath &&
                        this.innerHighlightPath.setShape(e),
                      this.highlightChangedEmitter &&
                        this.highlightChangedEmitter.emit(),
                      this
                    );
                  }
                  updateLineWidth(e) {
                    (e = e || this),
                      (this.lineWidth = this.getOuterLineWidth(e)),
                      (this.innerHighlightPath.lineWidth =
                        this.getInnerLineWidth(e)),
                      this.highlightChangedEmitter.emit();
                  }
                  getOuterLineWidth(e) {
                    return this.outerLineWidth
                      ? this.outerLineWidth
                      : vo.getOuterLineWidthFromNode(e);
                  }
                  getInnerLineWidth(e) {
                    return this.innerLineWidth
                      ? this.innerLineWidth
                      : vo.getInnerLineWidthFromNode(e);
                  }
                  setInnerHighlightColor(e) {
                    (this._innerHighlightColor = e),
                      this.innerHighlightPath.setStroke(e),
                      this.highlightChangedEmitter.emit();
                  }
                  set innerHighlightColor(e) {
                    this.setInnerHighlightColor(e);
                  }
                  get innerHighlightColor() {
                    return this.getInnerHighlightColor();
                  }
                  getInnerHighlightColor() {
                    return this._innerHighlightColor;
                  }
                  setOuterHighlightColor(e) {
                    (this._outerHighlightColor = e),
                      this.setStroke(e),
                      this.highlightChangedEmitter.emit();
                  }
                  set outerHighlightColor(e) {
                    this.setOuterHighlightColor(e);
                  }
                  get outerHighlightColor() {
                    return this.getOuterHighlightColor();
                  }
                  getOuterHighlightColor() {
                    return this._outerHighlightColor;
                  }
                  getUniqueHighlightTrail(e) {
                    const t = this.transformSourceNode;
                    let i = null;
                    if (t.instances.length <= 1) i = t.getUniqueTrail();
                    else {
                      const s = t
                        .getTrails()
                        .filter((t) => t.isExtensionOf(e, !0));
                      i = s[0];
                    }
                    return i;
                  }
                  static getInnerLineWidthFromNode(e) {
                    return 2.5 / vo.getWidthMagnitudeFromTransform(e);
                  }
                  static getOuterLineWidthFromNode(e) {
                    return 4 / vo.getWidthMagnitudeFromTransform(e);
                  }
                  static getWidthMagnitudeFromTransform(e) {
                    return e.transform.transformDelta2(Me.Z.X_UNIT).magnitude;
                  }
                  static getDilationCoefficient(e) {
                    return 0.75 * vo.getOuterLineWidthFromNode(e);
                  }
                  static getGroupDilationCoefficient(e) {
                    return 1.9 * vo.getOuterLineWidthFromNode(e);
                  }
                }
                _defineProperty(vo, "OUTER_FOCUS_COLOR", mo),
                  _defineProperty(vo, "INNER_FOCUS_COLOR", Ao),
                  _defineProperty(vo, "INNER_LIGHT_GROUP_FOCUS_COLOR", yo),
                  _defineProperty(vo, "OUTER_LIGHT_GROUP_FOCUS_COLOR", fo),
                  _defineProperty(vo, "INNER_DARK_GROUP_FOCUS_COLOR", Po),
                  _defineProperty(vo, "OUTER_DARK_GROUP_FOCUS_COLOR", bo),
                  _defineProperty(vo, "GROUP_OUTER_LINE_WIDTH", 2),
                  _defineProperty(vo, "GROUP_INNER_LINE_WIDTH", 2),
                  G.register("FocusHighlightPath", vo);
                const Vo = vo;
                class wo extends Vo {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        useLocalBounds: !0,
                        dilationCoefficient: null,
                        useGroupDilation: !1,
                      },
                      t
                    );
                    (i.transformSourceNode = e),
                      super(null, i),
                      _defineProperty(this, "observedBoundsProperty", null),
                      _defineProperty(this, "boundsListener", null),
                      (this.useLocalBounds = i.useLocalBounds),
                      (this.useGroupDilation = i.useGroupDilation),
                      (this.dilationCoefficient = i.dilationCoefficient),
                      e && this.setShapeFromNode(e);
                  }
                  setShapeFromNode(e) {
                    this.observedBoundsProperty &&
                      this.observedBoundsProperty.unlink(this.boundsListener),
                      (this.observedBoundsProperty = this.useLocalBounds
                        ? e.localBoundsProperty
                        : e.boundsProperty),
                      (this.boundsListener = (t) => {
                        if (!t.isFinite()) return;
                        let i = this.dilationCoefficient;
                        null === this.dilationCoefficient &&
                          (i = this.useGroupDilation
                            ? Vo.getGroupDilationCoefficient(e)
                            : Vo.getDilationCoefficient(e));
                        const s = t.dilated(i);
                        this.updateLineWidthFromNode(e),
                          this.setShape(Yt.bn.bounds(s));
                      }),
                      this.observedBoundsProperty.link(this.boundsListener);
                  }
                  updateLineWidthFromNode(e) {
                    (this.lineWidth = this.getOuterLineWidth(e)),
                      (this.innerHighlightPath.lineWidth =
                        this.getInnerLineWidth(e));
                  }
                }
                G.register("FocusHighlightFromNode", wo);
                const Eo = wo;
                class So extends Eo {
                  constructor(e, t) {
                    super(
                      e,
                      (0, Ae.ZP)()(
                        { outerStroke: "grey", innerStroke: "black" },
                        t
                      )
                    );
                  }
                }
                G.register("ReadingBlockHighlight", So);
                const To = So;
                var xo = i(6975);
                const Co = [
                  "readingBlockTagName",
                  "readingBlockNameResponse",
                  "readingBlockHintResponse",
                  "readingBlockResponsePatternCollection",
                  "readingBlockActiveHighlight",
                ];
                class Io extends lo {
                  constructor(e, t) {
                    super(e, t);
                  }
                }
                const Do = new xo.Z({ nameHint: "{{NAME}}. {{HINT}}" }),
                  ko = (e) => {
                    const t = Vn(
                      "ReadingBlock",
                      Co,
                      class extends ao(e) {
                        constructor() {
                          super(...arguments),
                            (this._readingBlockTagName = "button"),
                            (this._readingBlockDisabledTagName = "p"),
                            (this._readingBlockActiveHighlight = null),
                            (this.readingBlockActiveHighlightChangedEmitter =
                              new Q.Z()),
                            (this.readingBlockResponsePatternCollection = Do),
                            (this._localBoundsChangedListener =
                              this._onLocalBoundsChanged.bind(this)),
                            this.localBoundsProperty.link(
                              this._localBoundsChangedListener
                            ),
                            (this._readingBlockInputListener = {
                              focus: (e) =>
                                this._speakReadingBlockContentListener(e),
                              up: (e) =>
                                this._speakReadingBlockContentListener(e),
                              click: (e) =>
                                this._speakReadingBlockContentListener(e),
                            }),
                            (this._readingBlockFocusableChangeListener =
                              this._onReadingBlockFocusableChanged.bind(this)),
                            Hr.speechAllowedAndFullyEnabledProperty.link(
                              this._readingBlockFocusableChangeListener
                            ),
                            (this.focusHighlight = new To(this)),
                            (this.voicingUtterance = new Io(null));
                        }
                        get isReadingBlock() {
                          return !0;
                        }
                        setReadingBlockTagName(e) {
                          (this._readingBlockTagName = e),
                            this._onReadingBlockFocusableChanged(
                              Hr.speechAllowedAndFullyEnabledProperty.value
                            );
                        }
                        set readingBlockTagName(e) {
                          this.setReadingBlockTagName(e);
                        }
                        get readingBlockTagName() {
                          return this.getReadingBlockTagName();
                        }
                        getReadingBlockTagName() {
                          return this._readingBlockTagName;
                        }
                        setReadingBlockNameResponse(e) {
                          this._voicingResponsePacket.nameResponse = e;
                        }
                        set readingBlockNameResponse(e) {
                          this.setReadingBlockNameResponse(e);
                        }
                        get readingBlockNameResponse() {
                          return this.getReadingBlockNameResponse();
                        }
                        getReadingBlockNameResponse() {
                          return this._voicingResponsePacket.nameResponse;
                        }
                        setReadingBlockHintResponse(e) {
                          this._voicingResponsePacket.hintResponse = e;
                        }
                        set readingBlockHintResponse(e) {
                          this.setReadingBlockHintResponse(e);
                        }
                        get readingBlockHintResponse() {
                          return this.getReadingBlockHintResponse();
                        }
                        getReadingBlockHintResponse() {
                          return this._voicingResponsePacket.hintResponse;
                        }
                        setReadingBlockResponsePatternCollection(e) {
                          this._voicingResponsePacket.responsePatternCollection =
                            e;
                        }
                        set readingBlockResponsePatternCollection(e) {
                          this.setReadingBlockResponsePatternCollection(e);
                        }
                        get readingBlockResponsePatternCollection() {
                          return this.getReadingBlockResponsePatternCollection();
                        }
                        getReadingBlockResponsePatternCollection() {
                          return this._voicingResponsePacket
                            .responsePatternCollection;
                        }
                        setVoicingUtterance(e) {
                          super.setVoicingUtterance(e);
                        }
                        set voicingUtterance(e) {
                          super.voicingUtterance = e;
                        }
                        get voicingUtterance() {
                          return this.getVoicingUtterance();
                        }
                        getVoicingUtterance() {
                          const e = super.getVoicingUtterance();
                          return e;
                        }
                        setVoicingNameResponse() {}
                        getVoicingNameResponse() {}
                        setVoicingObjectResponse() {}
                        getVoicingObjectResponse() {}
                        setVoicingContextResponse() {}
                        getVoicingContextResponse() {}
                        setVoicingHintResponse() {}
                        getVoicingHintResponse() {}
                        setVoicingResponsePatternCollection() {}
                        getVoicingResponsePatternCollection() {}
                        setReadingBlockActiveHighlight(e) {
                          this._readingBlockActiveHighlight !== e &&
                            ((this._readingBlockActiveHighlight = e),
                            this.readingBlockActiveHighlightChangedEmitter.emit());
                        }
                        set readingBlockActiveHighlight(e) {
                          this.setReadingBlockActiveHighlight(e);
                        }
                        get readingBlockActiveHighlight() {
                          return this._readingBlockActiveHighlight;
                        }
                        getReadingBlockActiveHighlight() {
                          return this._readingBlockActiveHighlight;
                        }
                        isReadingBlockActivated() {
                          let e = !1;
                          const t = Object.keys(this.displays);
                          for (let i = 0; i < t.length; i++) {
                            const s =
                              this.displays[t[i]].focusManager
                                .readingBlockFocusProperty.value;
                            if (s && s.trail.lastNode() === this) {
                              e = !0;
                              break;
                            }
                          }
                          return e;
                        }
                        get readingBlockActivated() {
                          return this.isReadingBlockActivated();
                        }
                        _onReadingBlockFocusableChanged(e) {
                          (this.focusable = e),
                            e
                              ? ((this.tagName = this._readingBlockTagName),
                                this.hasInputListener(
                                  this._readingBlockInputListener
                                ) ||
                                  this.addInputListener(
                                    this._readingBlockInputListener
                                  ))
                              : ((this.tagName =
                                  this._readingBlockDisabledTagName),
                                this.hasInputListener(
                                  this._readingBlockInputListener
                                ) &&
                                  this.removeInputListener(
                                    this._readingBlockInputListener
                                  ));
                        }
                        _onLocalBoundsChanged(e) {
                          (this.mouseArea = e), (this.touchArea = e);
                        }
                        _speakReadingBlockContentListener(e) {
                          const t = this.getConnectedDisplays(),
                            i = this.voicingUtterance,
                            s = this.collectResponse({
                              nameResponse: this.getReadingBlockNameResponse(),
                              hintResponse: this.getReadingBlockHintResponse(),
                              ignoreProperties:
                                this.voicingIgnoreVoicingManagerProperties,
                              responsePatternCollection:
                                this._voicingResponsePacket
                                  .responsePatternCollection,
                              utterance: i,
                            });
                          if (s)
                            for (let n = 0; n < t.length; n++)
                              if (
                                !this.getDescendantsUseHighlighting(e.trail)
                              ) {
                                const r = e.trail.subtrailTo(this),
                                  o = la.guessVisualTrail(r, t[n].rootNode),
                                  a = new Xe(t[n], o);
                                (i.readingBlockFocus = a), this.speakContent(s);
                              }
                        }
                        cleanVoicingUtterance() {
                          this._voicingUtterance instanceof Io &&
                            this._voicingUtterance.dispose(),
                            super.cleanVoicingUtterance();
                        }
                        dispose() {
                          Hr.speechAllowedAndFullyEnabledProperty.unlink(
                            this._readingBlockFocusableChangeListener
                          ),
                            this.localBoundsProperty.unlink(
                              this._localBoundsChangedListener
                            ),
                            this.hasInputListener(
                              this._readingBlockInputListener
                            ) &&
                              this.removeInputListener(
                                this._readingBlockInputListener
                              ),
                            super.dispose();
                        }
                      }
                    );
                    return (
                      (t.prototype._mutatorKeys = Co.concat(
                        t.prototype._mutatorKeys
                      )),
                      t
                    );
                  };
                G.register("ReadingBlock", ko);
                const Oo = ko,
                  Lo = {
                    isPlatformMac: () =>
                      _.includes(window.navigator.platform, "Mac"),
                    getPlatformZoomMetaKey: () =>
                      Lo.isPlatformMac() ? "metaKey" : "ctrlKey",
                    isZoomCommand: (e, t) => {
                      const i = t ? st.KEY_EQUALS : st.KEY_MINUS;
                      return (
                        e[Lo.getPlatformZoomMetaKey()] && st.isKeyEvent(e, i)
                      );
                    },
                    isZoomResetCommand: (e) =>
                      e[Lo.getPlatformZoomMetaKey()] &&
                      st.isKeyEvent(e, st.KEY_0),
                  };
                G.register("KeyboardZoomUtils", Lo);
                const Bo = Lo;
                var Mo = i(7023);
                const No = {
                    INPUT: [
                      ...st.ARROW_KEYS,
                      st.KEY_PAGE_UP,
                      st.KEY_PAGE_DOWN,
                      st.KEY_HOME,
                      st.KEY_END,
                      st.KEY_ENTER,
                      st.KEY_SPACE,
                    ],
                    DIV: [...st.ARROW_KEYS, ...st.WASD_KEYS],
                    P: [st.KEY_ESCAPE],
                    BUTTON: [st.KEY_ENTER, st.KEY_SPACE],
                  },
                  Ro = st.ALL_KEYS;
                class qo {
                  constructor(e, t) {
                    (this.display = e),
                      (this.random = new Mo.Z({ seed: t })),
                      (this.numberOfComponentsTested = 10),
                      (this.keyupListeners = []),
                      (this.currentElement = null);
                  }
                  chooseNextElement() {
                    if (null === this.currentElement)
                      this.currentElement = document.activeElement;
                    else if (this.random.nextDouble() < 0.1) {
                      this.clearListeners();
                      const e = Ei.getRandomFocusable(this.random);
                      e.focus(), (this.currentElement = e);
                    }
                  }
                  clearListeners() {
                    this.keyupListeners.forEach((e) => {
                      xr.Z.clearTimeout(e.timeout), e();
                    });
                  }
                  triggerClickEvent() {
                    const e = document.activeElement;
                    e instanceof HTMLElement && e.click();
                  }
                  triggerKeyDownUpEvents(e) {
                    this.triggerDOMEvent("keydown", e);
                    const t = this.random.nextInt(100),
                      i = () => {
                        this.triggerDOMEvent("keyup", e),
                          this.keyupListeners.includes(i) &&
                            this.keyupListeners.splice(
                              this.keyupListeners.indexOf(i),
                              1
                            );
                      };
                    (i.timeout = xr.Z.setTimeout(i, 100 === t ? 2e3 : t)),
                      this.keyupListeners.push(i);
                  }
                  triggerRandomKeyDownUpEvents(e) {
                    const t =
                      Ro[
                        Math.floor(this.random.nextDouble() * (Ro.length - 1))
                      ];
                    this.triggerKeyDownUpEvents(t);
                  }
                  fuzzBoardEvents(e) {
                    if (
                      this.display &&
                      this.display._input &&
                      this.display._input.pdomPointer
                    ) {
                      const e = this.display._input.pdomPointer;
                      e && !e.blockTrustedEvents && (e.blockTrustedEvents = !0);
                    }
                    for (let t = 0; t < this.numberOfComponentsTested; t++) {
                      this.chooseNextElement();
                      for (
                        let t = 0;
                        t < e / this.numberOfComponentsTested;
                        t++
                      ) {
                        const e = document.activeElement;
                        if (e && No[e.tagName.toUpperCase()]) {
                          const t = this.random.nextDouble();
                          if (t < 0.6) {
                            const t = No[e.tagName],
                              i = this.random.sample(t);
                            this.triggerKeyDownUpEvents(i);
                          } else
                            t < 0.7
                              ? this.triggerClickEvent()
                              : this.triggerRandomKeyDownUpEvents(e);
                        } else e && this.triggerRandomKeyDownUpEvents(e);
                      }
                    }
                  }
                  triggerDOMEvent(e, t) {
                    if (document.activeElement) {
                      const i = new KeyboardEvent(e, {
                        bubbles: !0,
                        code: t,
                        shiftKey: Or.shiftKeyDown,
                        altKey: Or.altKeyDown,
                        ctrlKey: Or.ctrlKeyDown,
                      });
                      document.activeElement.dispatchEvent(i);
                    }
                  }
                }
                G.register("KeyboardFuzzer", qo);
                const Fo = qo;
                class Zo extends Eo {
                  constructor(e, t) {
                    super(
                      e,
                      (0, Ae.ZP)()(
                        {
                          outerStroke: Vo.OUTER_LIGHT_GROUP_FOCUS_COLOR,
                          innerStroke: Vo.INNER_LIGHT_GROUP_FOCUS_COLOR,
                          outerLineWidth: Vo.GROUP_OUTER_LINE_WIDTH,
                          innerLineWidth: Vo.GROUP_INNER_LINE_WIDTH,
                          useGroupDilation: !0,
                        },
                        t
                      )
                    );
                  }
                }
                G.register("GroupFocusHighlightFromNode", Zo);
                class Ho extends Eo {
                  constructor(e, t) {
                    super(
                      e,
                      (0, Ae.ZP)()(
                        {
                          innerStroke: null,
                          outerStroke: null,
                          fill: "rgba(255,255,0,0.5)",
                        },
                        t
                      )
                    );
                  }
                }
                _defineProperty(
                  Ho,
                  "ACTIVATED_HIGHLIGHT_COLOR",
                  "rgba(255,255,0,0.5)"
                ),
                  G.register("ActivatedReadingBlockHighlight", Ho);
                const Yo = Ho,
                  Go = Ei.TAGS.LABEL,
                  Wo = Ei.TAGS.INPUT,
                  zo = { attributes: !1, childList: !0, characterData: !0 };
                let Xo = 1;
                const Qo = new Oe.Z(0, 0, 0, 0),
                  Uo = new Oe.Z(0, 0, 0, 0),
                  jo = new Le.Z(),
                  Ko = new Le.Z(),
                  Jo = new Le.Z();
                class _o {
                  constructor(e, t) {
                    this.initializePDOMPeer(e, t);
                  }
                  initializePDOMPeer(e, t) {
                    return (
                      (t = (0, kt.Z)({ primarySibling: null }, t)),
                      (this.id = this.id || Xo++),
                      (this.pdomInstance = e),
                      (this.node = this.pdomInstance.node),
                      (this.display = e.display),
                      (this.trail = e.trail),
                      (this.visible = null),
                      (this.focusable = null),
                      (this._labelSibling = null),
                      (this._descriptionSibling = null),
                      (this._containerParent = null),
                      (this.topLevelElements = []),
                      (this.positionDirty = !1),
                      (this.childPositionDirty = !1),
                      (this.positionInPDOM = !1),
                      (this.mutationObserver =
                        this.mutationObserver ||
                        new MutationObserver(
                          this.invalidateCSSPositioning.bind(this)
                        )),
                      (this.transformListener =
                        this.transformListener ||
                        this.invalidateCSSPositioning.bind(this)),
                      this.pdomInstance.transformTracker.addListener(
                        this.transformListener
                      ),
                      (this._preservedDisabledValue = null),
                      (this.isDisposed = !1),
                      this.pdomInstance.isRootInstance &&
                        ((this._primarySibling = t.primarySibling),
                        this._primarySibling.classList.add(gi.ROOT_CLASS_NAME),
                        Ei.BLOCKED_DOM_EVENTS.forEach((e) => {
                          this._primarySibling.addEventListener(e, (e) => {
                            e.stopPropagation();
                          });
                        })),
                      this
                    );
                  }
                  update(e) {
                    let t = this.node.getBaseOptions();
                    const i = [];
                    null !== this.node.accessibleName &&
                      (t = this.node.accessibleNameBehavior(
                        this.node,
                        t,
                        this.node.accessibleName,
                        i
                      )),
                      null !== this.node.pdomHeading &&
                        (t = this.node.pdomHeadingBehavior(
                          this.node,
                          t,
                          this.node.pdomHeading,
                          i
                        )),
                      null !== this.node.helpText &&
                        (t = this.node.helpTextBehavior(
                          this.node,
                          t,
                          this.node.helpText,
                          i
                        )),
                      (this._primarySibling = $o(
                        t.tagName,
                        this.node.focusable,
                        { namespace: t.pdomNamespace }
                      )),
                      t.containerTagName &&
                        (this._containerParent = $o(t.containerTagName, !1)),
                      t.labelTagName &&
                        (this._labelSibling = $o(t.labelTagName, !1, {
                          excludeFromInput:
                            this.node.excludeLabelSiblingFromInput,
                        })),
                      t.descriptionTagName &&
                        (this._descriptionSibling = $o(
                          t.descriptionTagName,
                          !1
                        )),
                      e && this.updateIndicesStringAndElementIds(),
                      this.orderElements(t),
                      this.mutationObserver.disconnect(),
                      this.mutationObserver.observe(this._primarySibling, zo),
                      t.labelContent &&
                        null !== t.labelTagName &&
                        this.setLabelSiblingContent(t.labelContent),
                      t.innerContent &&
                        null !== t.tagName &&
                        this.setPrimarySiblingContent(t.innerContent),
                      t.descriptionContent &&
                        null !== t.descriptionTagName &&
                        this.setDescriptionSiblingContent(t.descriptionContent),
                      t.tagName.toUpperCase() === Wo &&
                        t.inputType &&
                        this.setAttributeToElement("type", t.inputType),
                      this.setFocusable(this.node.focusable),
                      this.setPositionInPDOM(this.node.positionInPDOM),
                      this.onAriaLabelledbyAssociationChange(),
                      this.onAriaDescribedbyAssociationChange(),
                      this.onActiveDescendantAssociationChange(),
                      this.onAttributeChange(t),
                      this.onClassChange(),
                      this.onInputValueChange(),
                      this.node.updateOtherNodesAriaLabelledby(),
                      this.node.updateOtherNodesAriaDescribedby(),
                      this.node.updateOtherNodesActiveDescendant(),
                      i.forEach((e) => {
                        e();
                      });
                  }
                  orderElements(e) {
                    this._containerParent
                      ? (this._containerParent.insertBefore(
                          this._primarySibling,
                          this._containerParent.children[0] || null
                        ),
                        (this.topLevelElements = [this._containerParent]))
                      : (this.topLevelElements = [
                          this._labelSibling,
                          this._descriptionSibling,
                          this._primarySibling,
                        ].filter(_.identity)),
                      this._labelSibling &&
                        this.arrangeContentElement(
                          this._labelSibling,
                          e.appendLabel
                        ),
                      this._descriptionSibling &&
                        this.arrangeContentElement(
                          this._descriptionSibling,
                          e.appendDescription
                        );
                  }
                  getPrimarySibling() {
                    return this._primarySibling;
                  }
                  get primarySibling() {
                    return this.getPrimarySibling();
                  }
                  getLabelSibling() {
                    return this._labelSibling;
                  }
                  get labelSibling() {
                    return this.getLabelSibling();
                  }
                  getDescriptionSibling() {
                    return this._descriptionSibling;
                  }
                  get descriptionSibling() {
                    return this.getDescriptionSibling();
                  }
                  getContainerParent() {
                    return this._containerParent;
                  }
                  get containerParent() {
                    return this.getContainerParent();
                  }
                  onAriaLabelledbyAssociationChange() {
                    this.removeAttributeFromAllElements("aria-labelledby");
                    for (
                      let e = 0;
                      e < this.node.ariaLabelledbyAssociations.length;
                      e++
                    ) {
                      const t = this.node.ariaLabelledbyAssociations[e];
                      this.setAssociationAttribute("aria-labelledby", t);
                    }
                  }
                  onAriaDescribedbyAssociationChange() {
                    this.removeAttributeFromAllElements("aria-describedby");
                    for (
                      let e = 0;
                      e < this.node.ariaDescribedbyAssociations.length;
                      e++
                    ) {
                      const t = this.node.ariaDescribedbyAssociations[e];
                      this.setAssociationAttribute("aria-describedby", t);
                    }
                  }
                  onActiveDescendantAssociationChange() {
                    this.removeAttributeFromAllElements(
                      "aria-activedescendant"
                    );
                    for (
                      let e = 0;
                      e < this.node.activeDescendantAssociations.length;
                      e++
                    ) {
                      const t = this.node.activeDescendantAssociations[e];
                      this.setAssociationAttribute("aria-activedescendant", t);
                    }
                  }
                  handleAttributeWithPDOMOption(e, t) {
                    "string" == typeof t
                      ? this.setAttributeToElement(e, t)
                      : this.removeAttributeFromElement(e);
                  }
                  onAttributeChange(e) {
                    for (let t = 0; t < this.node.pdomAttributes.length; t++) {
                      const e = this.node.pdomAttributes[t];
                      this.setAttributeToElement(
                        e.attribute,
                        e.value,
                        e.options
                      );
                    }
                    this.handleAttributeWithPDOMOption(
                      "aria-label",
                      e.ariaLabel
                    ),
                      this.handleAttributeWithPDOMOption("role", e.ariaRole);
                  }
                  onClassChange() {
                    for (let e = 0; e < this.node.pdomClasses.length; e++) {
                      const t = this.node.pdomClasses[e];
                      this.setClassToElement(t.className, t.options);
                    }
                  }
                  onInputValueChange() {
                    if (null === this.node.inputValue)
                      this.removeAttributeFromElement("value");
                    else {
                      const e = "" + this.node.inputValue;
                      this.setAttributeToElement("value", e, {
                        asProperty: !0,
                      });
                    }
                  }
                  getElementByName(e) {
                    if (e === _o.PRIMARY_SIBLING) return this._primarySibling;
                    if (e === _o.LABEL_SIBLING) return this._labelSibling;
                    if (e === _o.DESCRIPTION_SIBLING)
                      return this._descriptionSibling;
                    if (e === _o.CONTAINER_PARENT) return this._containerParent;
                    throw new Error("invalid elementName name: " + e);
                  }
                  setAttributeToElement(e, t, i) {
                    const s =
                      (i = (0, kt.Z)(
                        {
                          namespace: null,
                          asProperty: !1,
                          elementName: "PRIMARY_SIBLING",
                          element: null,
                        },
                        i
                      )).element || this.getElementByName(i.elementName);
                    let n = t;
                    "string" == typeof t && (n = (0, Ai.Z)(t)),
                      "disabled" !== e ||
                        this.display.interactive ||
                        (this._preservedDisabledValue = !i.asProperty || n),
                      i.namespace
                        ? s.setAttributeNS(i.namespace, e, n)
                        : i.asProperty
                        ? (s[e] = n)
                        : s.setAttribute(e, n);
                  }
                  removeAttributeFromElement(e, t) {
                    const i =
                      (t = (0, kt.Z)(
                        {
                          namespace: null,
                          elementName: "PRIMARY_SIBLING",
                          element: null,
                        },
                        t
                      )).element || this.getElementByName(t.elementName);
                    t.namespace
                      ? i.removeAttributeNS(t.namespace, e)
                      : "disabled" !== e || this.display.interactive
                      ? i.removeAttribute(e)
                      : (this._preservedDisabledValue = !1);
                  }
                  removeAttributeFromAllElements(e) {
                    this._primarySibling &&
                      this._primarySibling.removeAttribute(e),
                      this._labelSibling &&
                        this._labelSibling.removeAttribute(e),
                      this._descriptionSibling &&
                        this._descriptionSibling.removeAttribute(e),
                      this._containerParent &&
                        this._containerParent.removeAttribute(e);
                  }
                  setClassToElement(e, t) {
                    (t = (0, kt.Z)({ elementName: "PRIMARY_SIBLING" }, t)),
                      this.getElementByName(t.elementName).classList.add(e);
                  }
                  removeClassFromElement(e, t) {
                    (t = (0, kt.Z)({ elementName: "PRIMARY_SIBLING" }, t)),
                      this.getElementByName(t.elementName).classList.remove(e);
                  }
                  setAssociationAttribute(e, t) {
                    const i = t.otherNode.getPDOMInstances();
                    if (i.length > 0) {
                      const s = i[0];
                      s === this.pdomInstance && (s.peer = this);
                      const n = s.peer.getElementByName(t.otherElementName),
                        r = this.getElementByName(t.thisElementName);
                      if (r && n) {
                        const i = r.getAttribute(e) || "",
                          s = [i.trim(), n.id].join(" ").trim();
                        this.setAttributeToElement(e, s, {
                          elementName: t.thisElementName,
                        });
                      }
                    }
                  }
                  arrangeContentElement(e, t) {
                    if (this.topLevelElements[0] === this._containerParent)
                      t
                        ? this._containerParent.appendChild(e)
                        : this._containerParent.insertBefore(
                            e,
                            this._primarySibling
                          );
                    else {
                      (0, Di.Z)(this.topLevelElements, e);
                      const i = this.topLevelElements.indexOf(
                          this._primarySibling
                        ),
                        s = t ? this.topLevelElements.length : i;
                      this.topLevelElements.splice(s, 0, e);
                    }
                  }
                  isVisible() {
                    return null === this.visible || this.visible;
                  }
                  setVisible(e) {
                    if (this.visible !== e) {
                      this.visible = e;
                      for (let t = 0; t < this.topLevelElements.length; t++) {
                        const i = this.topLevelElements[t];
                        e
                          ? this.removeAttributeFromElement("hidden", {
                              element: i,
                            })
                          : this.setAttributeToElement("hidden", "", {
                              element: i,
                            });
                      }
                      this.invalidateCSSPositioning();
                    }
                  }
                  isFocused() {
                    const e = la.guessVisualTrail(
                      this.trail,
                      this.display.rootNode
                    );
                    return (
                      go.pdomFocusProperty.value &&
                      go.pdomFocusProperty.value.trail.equals(e)
                    );
                  }
                  focus() {
                    this._primarySibling.focus();
                  }
                  blur() {
                    this._primarySibling.blur();
                  }
                  setFocusable(e) {
                    const t = this.isFocused();
                    this.focusable !== e &&
                      ((this.focusable = e),
                      Ei.overrideFocusWithTabIndex(this.primarySibling, e),
                      t && !e && this.blur(),
                      this.invalidateCSSPositioning());
                  }
                  setLabelSiblingContent(e) {
                    this._labelSibling &&
                      (Ei.setTextContent(this._labelSibling, e),
                      this._labelSibling.tagName.toUpperCase() === Go &&
                        this.setAttributeToElement(
                          "for",
                          this._primarySibling.id,
                          { elementName: _o.LABEL_SIBLING }
                        ));
                  }
                  setDescriptionSiblingContent(e) {
                    this._descriptionSibling &&
                      Ei.setTextContent(this._descriptionSibling, e);
                  }
                  setPrimarySiblingContent(e) {
                    this._primarySibling &&
                      Ei.setTextContent(this._primarySibling, e);
                  }
                  setPDOMTransformSourceNode(e) {
                    this.pdomInstance.transformTracker.removeListener(
                      this.transformListener
                    ),
                      this.pdomInstance.updateTransformTracker(e),
                      this.pdomInstance.transformTracker.addListener(
                        this.transformListener
                      ),
                      this.invalidateCSSPositioning();
                  }
                  setPositionInPDOM(e) {
                    (this.positionInPDOM = e), this.invalidateCSSPositioning();
                  }
                  getElementId(e, t) {
                    return `display${this.display.id}-${e}-${t}`;
                  }
                  updateIndicesStringAndElementIds() {
                    const e = this.pdomInstance.getPDOMInstanceUniqueId();
                    this._primarySibling &&
                      (this._primarySibling.setAttribute(
                        Ei.DATA_PDOM_UNIQUE_ID,
                        e
                      ),
                      (this._primarySibling.id = this.getElementId(
                        "primary",
                        e
                      ))),
                      this._labelSibling &&
                        (this._labelSibling.setAttribute(
                          Ei.DATA_PDOM_UNIQUE_ID,
                          e
                        ),
                        (this._labelSibling.id = this.getElementId(
                          "label",
                          e
                        ))),
                      this._descriptionSibling &&
                        (this._descriptionSibling.setAttribute(
                          Ei.DATA_PDOM_UNIQUE_ID,
                          e
                        ),
                        (this._descriptionSibling.id = this.getElementId(
                          "description",
                          e
                        ))),
                      this._containerParent &&
                        (this._containerParent.setAttribute(
                          Ei.DATA_PDOM_UNIQUE_ID,
                          e
                        ),
                        (this._containerParent.id = this.getElementId(
                          "container",
                          e
                        )));
                  }
                  invalidateCSSPositioning() {
                    if (!this.positionDirty) {
                      this.positionDirty = !0;
                      let e = this.pdomInstance.parent;
                      for (; e; )
                        (e.peer.childPositionDirty = !0), (e = e.parent);
                    }
                  }
                  positionElements(e) {
                    if (e) {
                      const e = this.node.pdomTransformSourceNode || this.node;
                      if ((Qo.set(e.localBounds), Qo.isFinite())) {
                        Qo.transform(
                          this.pdomInstance.transformTracker.getMatrix()
                        );
                        const e = this.display.bounds;
                        if (e.intersectsBounds(Qo)) {
                          Qo.constrainBounds(e);
                          let t = ta(this._primarySibling),
                            i = t.width,
                            s = t.height;
                          i > 0 &&
                            s > 0 &&
                            (Uo.setMinMax(0, 0, i, s),
                            Uo.transform(ea(i, s, Qo)),
                            ia(this._primarySibling, Uo)),
                            this.labelSibling &&
                              ((t = ta(this._labelSibling)),
                              (i = t.width),
                              (s = t.height),
                              s > 0 &&
                                i > 0 &&
                                (Uo.setMinMax(0, 0, i, s),
                                Uo.transform(ea(i, s, Qo)),
                                ia(this._labelSibling, Uo)));
                        }
                      }
                    } else
                      Uo.set(_o.OFFSCREEN_SIBLING_BOUNDS),
                        ia(this._primarySibling, Uo),
                        this._labelSibling && ia(this._labelSibling, Uo);
                    this.positionDirty = !1;
                  }
                  updateSubtreePositioning() {
                    let e =
                      arguments.length > 0 &&
                      void 0 !== arguments[0] &&
                      arguments[0];
                    this.childPositionDirty = !1;
                    const t = this.positionInPDOM || e;
                    this.positionDirty && this.positionElements(t);
                    for (
                      let i = 0;
                      i < this.pdomInstance.children.length;
                      i++
                    ) {
                      const e = this.pdomInstance.children[i].peer;
                      (e.positionDirty || e.childPositionDirty) &&
                        this.pdomInstance.children[
                          i
                        ].peer.updateSubtreePositioning(t);
                    }
                  }
                  recursiveDisable(e) {
                    e
                      ? ((this._preservedDisabledValue =
                          this._primarySibling.disabled),
                        (this._primarySibling.disabled = !0))
                      : (this._primarySibling.disabled =
                          this._preservedDisabledValue);
                    for (let t = 0; t < this.pdomInstance.children.length; t++)
                      this.pdomInstance.children[t].peer.recursiveDisable(e);
                  }
                  dispose() {
                    (this.isDisposed = !0),
                      this.blur(),
                      this._primarySibling.removeEventListener(
                        "blur",
                        this.blurEventListener
                      ),
                      this._primarySibling.removeEventListener(
                        "focus",
                        this.focusEventListener
                      ),
                      this.pdomInstance.transformTracker.removeListener(
                        this.transformListener
                      ),
                      this.mutationObserver.disconnect(),
                      (this.pdomInstance = null),
                      (this.node = null),
                      (this.display = null),
                      (this.trail = null),
                      (this._primarySibling = null),
                      (this._labelSibling = null),
                      (this._descriptionSibling = null),
                      (this._containerParent = null),
                      (this.focusable = null),
                      this.freeToPool();
                  }
                }
                function $o(e, t, i) {
                  i = (0, kt.Z)({ siblingName: null, excludeFromInput: !1 }, i);
                  const s = Ei.createElement(e, t, i);
                  return (
                    i.excludeFromInput &&
                      s.setAttribute(Ei.DATA_EXCLUDE_FROM_INPUT, !0),
                    s
                  );
                }
                function ea(e, t, i) {
                  return (
                    jo.setToTranslation(i.minX, i.minY),
                    Ko.setToScale(i.width / e, i.height / t),
                    jo.multiplyMatrix(Ko).multiplyMatrix(Jo)
                  );
                }
                function ta(e) {
                  let t = e.clientWidth,
                    i = e.clientHeight;
                  if (0 === t && 0 === i) {
                    const s = e.getBoundingClientRect();
                    (t = s.width), (i = s.height);
                  }
                  return { width: t, height: i };
                }
                function ia(e, t) {
                  (e.style.top = t.top + "px"),
                    (e.style.left = t.left + "px"),
                    (e.style.width = t.width + "px"),
                    (e.style.height = t.height + "px");
                }
                (_o.PRIMARY_SIBLING = "PRIMARY_SIBLING"),
                  (_o.LABEL_SIBLING = "LABEL_SIBLING"),
                  (_o.DESCRIPTION_SIBLING = "DESCRIPTION_SIBLING"),
                  (_o.CONTAINER_PARENT = "CONTAINER_PARENT"),
                  (_o.OFFSCREEN_SIBLING_BOUNDS = new Oe.Z(0, 0, 1, 1)),
                  G.register("PDOMPeer", _o),
                  Tt.Z.mixInto(_o, {
                    initialize: _o.prototype.initializePDOMPeer,
                  });
                const sa = _o;
                var na = i(6918);
                class ra extends Wt.Z {}
                _defineProperty(ra, "INDICES", new (f = ra)()),
                  _defineProperty(ra, "TRAIL_ID", new f()),
                  _defineProperty(ra, "enumeration", new Gt.Z(f));
                const oa = ra.TRAIL_ID;
                let aa = 1;
                class ha {
                  constructor(e, t, i) {
                    _defineProperty(this, "relativeNodes", []),
                      _defineProperty(this, "relativeVisibilities", []),
                      _defineProperty(this, "relativeListeners", []),
                      _defineProperty(this, "transformTracker", null),
                      this.initializePDOMInstance(e, t, i);
                  }
                  initializePDOMInstance(e, t, i) {
                    if (
                      ((this.id = this.id || aa++),
                      (this.parent = e),
                      (this.display = t),
                      (this.trail = i),
                      (this.isRootInstance = null === e),
                      (this.node = this.isRootInstance ? null : i.lastNode()),
                      (this.children = (0, Mi.Z)(this.children)),
                      this.node && this.node.addPDOMInstance(this),
                      (this.invisibleCount = 0),
                      (this.relativeNodes = []),
                      (this.relativeVisibilities = []),
                      (this.relativeListeners = []),
                      (this.transformTracker = null),
                      this.updateTransformTracker(
                        this.node ? this.node.pdomTransformSourceNode : null
                      ),
                      (this.isDisposed = !1),
                      this.isRootInstance)
                    ) {
                      const e = document.createElement("div");
                      this.peer = sa.createFromPool(this, {
                        primarySibling: e,
                      });
                    } else {
                      (this.peer = sa.createFromPool(this)),
                        this.peer.update(oa === ra.TRAIL_ID);
                      const e = this.parent.trail;
                      for (let s = e.length; s < i.length; s++) {
                        const n = i.nodes[s];
                        this.relativeNodes.push(n);
                        const r = n._pdomDisplaysInfo.pdomDisplays,
                          o = _.includes(r, t);
                        this.relativeVisibilities.push(o),
                          o || this.invisibleCount++;
                        const a = this.checkAccessibleDisplayVisibility.bind(
                          this,
                          s - e.length
                        );
                        n.pdomDisplaysEmitter.addListener(a),
                          this.relativeListeners.push(a);
                      }
                      this.updateVisibility();
                    }
                    return this;
                  }
                  addConsecutiveInstances(e) {
                    const t = this.children.length > 0;
                    Array.prototype.push.apply(this.children, e);
                    for (let i = 0; i < e.length; i++)
                      Ei.insertElements(
                        this.peer.primarySibling,
                        e[i].peer.topLevelElements
                      );
                    t && this.sortChildren(),
                      oa === ra.INDICES && this.updateDescendantPeerIds(e);
                  }
                  removeInstancesForTrail(e) {
                    for (let t = 0; t < this.children.length; t++) {
                      const i = this.children[t],
                        s = i.trail;
                      let n = s.length < e.length;
                      if (!n)
                        for (let t = this.trail.length; t < e.length; t++)
                          if (e.nodes[t] !== s.nodes[t]) {
                            n = !0;
                            break;
                          }
                      n || (this.children.splice(t, 1), i.dispose(), (t -= 1));
                    }
                  }
                  removeAllChildren() {
                    for (; this.children.length; )
                      this.children.pop().dispose();
                  }
                  findChildWithTrail(e) {
                    for (let t = 0; t < this.children.length; t++) {
                      const i = this.children[t];
                      if (i.trail.equals(e)) return i;
                    }
                    return null;
                  }
                  removeSubtree(e) {
                    for (let t = this.children.length - 1; t >= 0; t--) {
                      const i = this.children[t];
                      i.trail.isExtensionOf(e, !0) &&
                        (this.children.splice(t, 1), i.dispose());
                    }
                  }
                  checkAccessibleDisplayVisibility(e) {
                    const t = _.includes(
                      this.relativeNodes[e]._pdomDisplaysInfo.pdomDisplays,
                      this.display
                    );
                    if (t !== this.relativeVisibilities[e]) {
                      this.relativeVisibilities[e] = t;
                      const i = 0 === this.invisibleCount;
                      (this.invisibleCount += t ? -1 : 1),
                        (0 === this.invisibleCount) !== i &&
                          this.updateVisibility();
                    }
                  }
                  updateVisibility() {
                    this.peer.setVisible(this.invisibleCount <= 0),
                      !this.peer.isVisible() &&
                        go.pdomFocusedNode &&
                        go.pdomFocusedNode.pdomInstances[0].trail.containsNode(
                          this.node
                        ) &&
                        (go.pdomFocus = null);
                  }
                  isGloballyVisible() {
                    return (
                      !!this.peer.isVisible() &&
                      (!this.parent || this.parent.isGloballyVisible())
                    );
                  }
                  getChildOrdering(e) {
                    const t = e.lastNode(),
                      i = t.getEffectiveChildren();
                    let s;
                    const n = [];
                    if (t.hasPDOMContent && t !== this.node) {
                      const i = t.pdomInstances;
                      e: for (s = 0; s < i.length; s++) {
                        const t = i[s];
                        if (t.parent === this) {
                          for (let i = 0; i < e.length; i++)
                            if (
                              e.nodes[i] !==
                              t.trail.nodes[i + t.trail.length - e.length]
                            )
                              continue e;
                          n.push(t);
                        }
                      }
                    } else
                      for (s = 0; s < i.length; s++)
                        e.addDescendant(i[s], s),
                          Array.prototype.push.apply(
                            n,
                            this.getChildOrdering(e)
                          ),
                          e.removeDescendant();
                    return n;
                  }
                  sortChildren() {
                    let e;
                    e = this.isRootInstance ? this.display.rootNode : this.node;
                    const t = this.getChildOrdering(new nn(e));
                    this.children = t;
                    const i = this.peer.primarySibling;
                    let s = i.childNodes.length - 1;
                    for (let n = this.children.length - 1; n >= 0; n--) {
                      const e = this.children[n].peer;
                      for (let t = e.topLevelElements.length - 1; t >= 0; t--) {
                        const n = e.topLevelElements[t];
                        i.childNodes[s] !== n &&
                          i.insertBefore(n, i.childNodes[s + 1]),
                          s--;
                      }
                    }
                    oa === ra.INDICES &&
                      this.updateDescendantPeerIds(this.children);
                  }
                  updateTransformTracker(e) {
                    this.transformTracker && this.transformTracker.dispose();
                    let t = null;
                    (t = e
                      ? e.getUniqueTrail()
                      : ha.guessVisualTrail(this.trail, this.display.rootNode)),
                      (this.transformTracker = new Ar(t));
                  }
                  getPDOMInstanceUniqueId() {
                    if (oa === ra.INDICES) {
                      const e = [];
                      let t = this;
                      for (; t.parent; ) {
                        const i = t.parent.children.indexOf(t);
                        if (-1 === i)
                          return "STILL_BEING_CREATED" + na.Z.nextDouble();
                        e.unshift(i), (t = t.parent);
                      }
                      return e.join(Ei.PDOM_UNIQUE_ID_SEPARATOR);
                    }
                    return this.trail.getUniqueId();
                  }
                  updateDescendantPeerIds(e) {
                    const t = Array.from(e);
                    for (; t.length > 0; ) {
                      const e = t.shift();
                      e.peer.updateIndicesStringAndElementIds(),
                        t.push(...e.children);
                    }
                  }
                  static uniqueIdToTrail(e, t) {
                    return oa === ra.INDICES
                      ? e.getTrailFromPDOMIndicesString(t)
                      : nn.fromUniqueId(e.rootNode, t);
                  }
                  dispose() {
                    const e = this.peer;
                    if (!this.isRootInstance) {
                      Ei.removeElements(
                        this.parent.peer.primarySibling,
                        e.topLevelElements
                      );
                      for (let e = 0; e < this.relativeNodes.length; e++)
                        this.relativeNodes[
                          e
                        ].pdomDisplaysEmitter.removeListener(
                          this.relativeListeners[e]
                        );
                    }
                    for (; this.children.length; )
                      this.children.pop().dispose();
                    e.dispose(),
                      this.transformTracker.dispose(),
                      (this.transformTracker = null),
                      this.node && this.node.removePDOMInstance(this),
                      (this.relativeNodes = null),
                      (this.display = null),
                      (this.trail = null),
                      (this.node = null),
                      (this.peer = null),
                      (this.isDisposed = !0),
                      this.freeToPool();
                  }
                  toString() {
                    return `${this.id}#{${this.trail.toString()}}`;
                  }
                  auditRoot() {
                    return void 0;
                  }
                  static guessVisualTrail(e, t) {
                    e.reindex();
                    const i = e.indices.lastIndexOf(-1);
                    if (i < 0) return e;
                    const s = i + 1,
                      n = e.nodes[s].getTrailsTo(t);
                    if (0 === n.length) return e;
                    const r = n[0];
                    for (let o = s + 1; o < e.length; o++)
                      r.addDescendant(e.nodes[o]);
                    return r;
                  }
                  static createFakePDOMTree(e) {
                    return {
                      node: null,
                      children: (function e(t) {
                        let i = _.flatten(t.getEffectiveChildren().map(e));
                        return (
                          t.hasPDOMContent && (i = [{ node: t, children: i }]),
                          i
                        );
                      })(e),
                    };
                  }
                }
                G.register("PDOMInstance", ha),
                  Tt.Z.mixInto(ha, {
                    initialize: ha.prototype.initializePDOMInstance,
                  });
                const la = ha;
                let da = null;
                const ca = {
                  addChild(e, t) {
                    const i = ca.beforeOp(t);
                    t._pdomParent || ca.addTree(e, t), ca.afterOp(i);
                  },
                  removeChild(e, t) {
                    const i = ca.beforeOp(t);
                    t._pdomParent || ca.removeTree(e, t), ca.afterOp(i);
                  },
                  childrenOrderChange(e) {
                    const t = ca.beforeOp(e);
                    ca.reorder(e), ca.afterOp(t);
                  },
                  pdomOrderChange(e, t, i) {
                    const s = ca.beforeOp(e),
                      n = [],
                      r = [];
                    let o, a;
                    rs(t || [], i || [], n, r);
                    const h = ca.findPDOMTrails(e);
                    for (o = 0; o < n.length; o++) {
                      const t = n[o];
                      t && (ca.removeTree(e, t, h), (t._pdomParent = null));
                    }
                    for (o = 0; o < r.length; o++) {
                      const t = r[o];
                      if (t) {
                        const i = t._parents;
                        for (a = 0; a < i.length; a++) ca.removeTree(i[a], t);
                        t._pdomParent = e;
                      }
                    }
                    for (o = 0; o < n.length; o++) {
                      const e = n[o];
                      if (e) {
                        const t = e._parents;
                        for (a = 0; a < t.length; a++) ca.addTree(t[a], e);
                      }
                    }
                    for (o = 0; o < r.length; o++) {
                      const t = r[o];
                      t && ca.addTree(e, t, h);
                    }
                    ca.reorder(e, h), ca.afterOp(s);
                  },
                  pdomContentChange(e) {
                    const t = ca.beforeOp(e);
                    let i;
                    const s = e._pdomParent ? [e._pdomParent] : e._parents,
                      n = [];
                    for (i = 0; i < s.length; i++) {
                      const t = s[i],
                        r = ca.findPDOMTrails(t);
                      n.push(r), ca.removeTree(t, e, r);
                    }
                    for (i = 0; i < s.length; i++) ca.addTree(s[i], e, n[i]);
                    for (i = 0; i < e._rootedDisplays.length; i++) {
                      const t = e._rootedDisplays[i];
                      t._accessible &&
                        ca.rebuildInstanceTree(t._rootPDOMInstance);
                    }
                    ca.afterOp(t);
                  },
                  rebuildInstanceTree(e) {
                    const t = e.display.rootNode;
                    e.removeAllChildren(),
                      e.addConsecutiveInstances(
                        ca.createTree(new nn(t), e.display, e)
                      );
                  },
                  addTree(e, t, i) {
                    i = i || ca.findPDOMTrails(e);
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s],
                        n = e.pdomInstance;
                      e.fullTrail.addDescendant(t);
                      const r = ca.createTree(e.fullTrail, n.display, n);
                      e.fullTrail.removeDescendant(t),
                        n.addConsecutiveInstances(r);
                    }
                  },
                  removeTree(e, t, i) {
                    i = i || ca.findPDOMTrails(e);
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s];
                      e.fullTrail.addDescendant(t),
                        e.pdomInstance.removeInstancesForTrail(e.fullTrail),
                        e.fullTrail.removeDescendant(t);
                    }
                  },
                  reorder(e, t) {
                    t = t || ca.findPDOMTrails(e);
                    for (let i = 0; i < t.length; i++) {
                      t[i].pdomInstance.sortChildren();
                    }
                  },
                  createTree(e, t, i) {
                    const s = e.lastNode(),
                      n = s.getEffectiveChildren();
                    let r,
                      o = !1;
                    s.hasPDOMContent &&
                      ((r = i.findChildWithTrail(e)),
                      r ? (o = !0) : (r = la.createFromPool(i, t, e.copy())),
                      (i = r));
                    const a = [];
                    for (let h = 0; h < n.length; h++)
                      e.addDescendant(n[h], h),
                        Array.prototype.push.apply(a, ca.createTree(e, t, i)),
                        e.removeDescendant();
                    return r ? (r.addConsecutiveInstances(a), o ? [] : [r]) : a;
                  },
                  beforeOp(e) {
                    da = go.pdomFocusedNode;
                    const t = [],
                      i = this.findPDOMTrails(e);
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s].pdomInstance.display;
                      (e.blockFocusCallbacks = !0), t.push(e);
                    }
                    return t;
                  },
                  afterOp(e) {
                    da && da.focus();
                    for (let t = 0; t < e.length; t++)
                      e[t].blockFocusCallbacks = !1;
                  },
                  findPDOMTrails(e) {
                    const t = [];
                    return ca.recursivePDOMTrailSearch(t, new nn(e)), t;
                  },
                  recursivePDOMTrailSearch(e, t) {
                    const i = t.rootNode();
                    let s;
                    if (i.hasPDOMContent) {
                      const n = i.pdomInstances;
                      for (s = 0; s < n.length; s++)
                        e.push(new ui(n[s], t.copy(), !1));
                      return;
                    }
                    {
                      const n = i.rootedDisplays;
                      for (s = 0; s < n.length; s++) {
                        const i = n[s];
                        i._accessible &&
                          e.push(new ui(i._rootPDOMInstance, t.copy(), !0));
                      }
                    }
                    const n = i._pdomParent ? [i._pdomParent] : i._parents,
                      r = n.length;
                    for (s = 0; s < r; s++) {
                      const i = n[s];
                      t.addAncestor(i),
                        ca.recursivePDOMTrailSearch(e, t),
                        t.removeAncestor();
                    }
                  },
                  auditPDOMDisplays(e) {
                    0;
                  },
                  auditNodeForPDOMCycles(e) {
                    0;
                  },
                  debugOrder: (e) =>
                    null === e
                      ? "null"
                      : `[${e
                          .map((e) => (null === e ? "null" : e._id))
                          .join(",")}]`,
                };
                G.register("PDOMTree", ca);
                const ua = ca;
                var pa = i(2238);
                class ga {
                  constructor(e, t, i) {
                    (i = i || null),
                      (this.nodeCount = e),
                      (this.logToConsole = t),
                      (this.nodes = _.range(0, e).map(() => new Ds())),
                      (this.display = new hp(this.nodes[0])),
                      (this.random = new Mo.Z({ seed: i })),
                      (this.actionsTaken = []);
                  }
                  step() {
                    const e = this.random.sample(this.enumerateActions());
                    if (
                      (this.logToConsole && console.log(e.text),
                      this.actionsTaken.push(e),
                      e.execute(),
                      this.display._rootPDOMInstance.auditRoot(),
                      ua.auditPDOMDisplays(this.display.rootNode),
                      this.logToConsole)
                    )
                      for (let t = 0; t < this.nodes.length; t++) {
                        const e = this.nodes[t];
                        console.log(
                          `${t}#${e.id} ${e.tagName} ch:${ua.debugOrder(
                            e.children
                          )} or:${ua.debugOrder(e.pdomOrder)} vis:${
                            e.visible
                          } avis:${e.pdomVisible}`
                        );
                      }
                  }
                  enumerateActions() {
                    const e = [];
                    return (
                      this.nodes.forEach((t) => {
                        e.push({
                          text: `#${t.id}.visible = ${!t.visible}`,
                          execute: () => {
                            t.visible = !t.visible;
                          },
                        }),
                          e.push({
                            text: `#${t.id}.pdomVisible = ${!t.pdomVisible}`,
                            execute: () => {
                              t.pdomVisible = !t.pdomVisible;
                            },
                          }),
                          ["span", "div", null].forEach((i) => {
                            t.tagName !== i &&
                              e.push({
                                text: `#${t.id}.tagName = ${i}`,
                                execute: () => {
                                  t.tagName = i;
                                },
                              });
                          }),
                          this.powerSet(
                            rs(this.nodes, [t]).concat([null])
                          ).forEach((i) => {
                            pa.Z.forEachPermutation(i, (i) => {
                              this.isPDOMOrderChangeLegal(t, i) &&
                                e.push({
                                  text: `#${t.id}.pdomOrder = ${ua.debugOrder(
                                    i
                                  )}`,
                                  execute: () => {
                                    t.pdomOrder = i;
                                  },
                                });
                            });
                          }),
                          this.nodes.forEach((i) => {
                            this.isAddChildLegal(t, i) &&
                              _.range(0, t.children.length + 1).forEach((s) => {
                                e.push({
                                  text: `#${t.id}.insertChild(${s},#${i.id})`,
                                  execute: () => {
                                    t.insertChild(s, i);
                                  },
                                });
                              }),
                              t.hasChild(i) &&
                                e.push({
                                  text: `#${t.id}.removeChild(#${i.id})`,
                                  execute: () => {
                                    t.removeChild(i);
                                  },
                                });
                          });
                      }),
                      e
                    );
                  }
                  isAddChildLegal(e, t) {
                    return !e.hasChild(t) && this.isAcyclic(e, t);
                  }
                  powerSet(e) {
                    if (0 === e.length) return [[]];
                    {
                      const t = this.powerSet(e.slice(1));
                      return t.concat(t.map((t) => [e[0]].concat(t)));
                    }
                  }
                  isPDOMOrderChangeLegal(e, t) {
                    if (
                      (null === t && (t = []),
                      (t = t.filter((e) => null !== e)),
                      _.includes(t, e) || _.uniq(t).length < t.length)
                    )
                      return !1;
                    for (let n = 0; n < t.length; n++)
                      if (t[n]._pdomParent && t[n]._pdomParent !== e) return !1;
                    const i = (i, s) =>
                        i === e
                          ? i.hasChild(s) || _.includes(t, s)
                          : i.hasChild(s) ||
                            (!!i.pdomOrder && _.includes(i.pdomOrder, s)),
                      s = e.children.concat(t);
                    return _.every(s, (t) => this.isAcyclic(e, t, i));
                  }
                  isAcyclic(e, t, i) {
                    if (e === t) return !1;
                    const s = t.children
                      .concat(t.pdomOrder)
                      .filter((e) => null !== e);
                    for (; s.length; ) {
                      const t = s.pop();
                      if (t === e) return !1;
                      i
                        ? this.nodes.forEach((e) => {
                            i(t, e) && s.push(e);
                          })
                        : (Array.prototype.push.apply(s, t.children),
                          t.pdomOrder &&
                            Array.prototype.push.apply(
                              s,
                              t.pdomOrder.filter((e) => null !== e)
                            ));
                    }
                    return !0;
                  }
                  dispose() {
                    this.display.dispose();
                  }
                }
                G.register("PDOMFuzzer", ga);
                class ma extends Wt.Z {}
                _defineProperty(ma, "DRAG", new (P = ma)()),
                  _defineProperty(ma, "KEYBOARD_DRAG", new P()),
                  _defineProperty(
                    ma,
                    "enumeration",
                    new Gt.Z(P, {
                      phetioDocumentation:
                        "entries when signifying Intent of the pointer",
                    })
                  );
                class Aa {
                  constructor(e, t, i) {
                    (this.point = e),
                      (this.type = i),
                      (this.trail = null),
                      (this.inputEnabledTrail = null),
                      (this.isDownProperty = new Dt.Z(t)),
                      (this.attachedProperty = new Dt.Z(!1)),
                      (this._listeners = []),
                      (this._attachedListener = null),
                      (this._cursor = null),
                      (this.lastDOMEvent = null),
                      (this._intents = []),
                      (this._pointerCaptured = !1),
                      (this._listenerForDragReserve = null),
                      (this._listenerForKeyboardDragReserve = null);
                  }
                  setCursor(e) {
                    return (this._cursor = e), this;
                  }
                  set cursor(e) {
                    this.setCursor(e);
                  }
                  get cursor() {
                    return this.getCursor();
                  }
                  getCursor() {
                    return this._cursor;
                  }
                  getListeners() {
                    return this._listeners.slice();
                  }
                  get listeners() {
                    return this.getListeners();
                  }
                  addInputListener(e, t) {
                    this._listeners.push(e), t && this.attach(e);
                  }
                  removeInputListener(e) {
                    const t = _.indexOf(this._listeners, e);
                    this.isAttached() &&
                      e === this._attachedListener &&
                      this.detach(e),
                      this._listeners.splice(t, 1);
                  }
                  getAttachedListener() {
                    return this._attachedListener;
                  }
                  get attachedListener() {
                    return this.getAttachedListener();
                  }
                  isAttached() {
                    return this.attachedProperty.value;
                  }
                  isTouchLike() {
                    return !1;
                  }
                  set isDown(e) {
                    this.isDownProperty.value = e;
                  }
                  get isDown() {
                    return this.isDownProperty.value;
                  }
                  interruptAttached() {
                    this.isAttached() && this._attachedListener.interrupt();
                  }
                  interruptAll() {
                    const e = this._listeners.slice();
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      i.interrupt && i.interrupt();
                    }
                  }
                  attach(e) {
                    (this.attachedProperty.value = !0),
                      (this._attachedListener = e);
                  }
                  detach(e) {
                    (this.attachedProperty.value = !1),
                      (this._attachedListener = null);
                  }
                  hasPointChanged(e) {
                    return !(
                      this.point === e ||
                      (e && this.point && this.point.equals(e))
                    );
                  }
                  addIntent(e) {
                    this._intents.includes(e) || this._intents.push(e);
                  }
                  removeIntent(e) {
                    if (this._intents.includes(e)) {
                      const t = this._intents.indexOf(e);
                      this._intents.splice(t, 1);
                    }
                  }
                  hasIntent(e) {
                    return this._intents.includes(e);
                  }
                  reserveForDrag() {
                    if (!this._intents.includes(ma.DRAG)) {
                      this.addIntent(ma.DRAG);
                      const e = {
                        up: (e) => {
                          this.removeIntent(ma.DRAG),
                            this.removeInputListener(
                              this._listenerForDragReserve
                            ),
                            (this._listenerForDragReserve = null);
                        },
                      };
                      (this._listenerForDragReserve = e),
                        this.addInputListener(this._listenerForDragReserve);
                    }
                  }
                  reserveForKeyboardDrag() {
                    if (!this._intents.includes(ma.KEYBOARD_DRAG)) {
                      this.addIntent(ma.KEYBOARD_DRAG);
                      const e = { keyup: (e) => t(), blur: (e) => t() },
                        t = () => {
                          this.removeIntent(ma.KEYBOARD_DRAG),
                            this.removeInputListener(
                              this._listenerForKeyboardDragReserve
                            ),
                            (this._listenerForKeyboardDragReserve = null);
                        };
                      (this._listenerForKeyboardDragReserve = e),
                        this.addInputListener(
                          this._listenerForKeyboardDragReserve
                        );
                    }
                  }
                  onGotPointerCapture() {
                    this._pointerCaptured = !0;
                  }
                  onLostPointerCapture() {
                    this._pointerCaptured && this.interruptAll(),
                      (this._pointerCaptured = !1);
                  }
                  dispose() {
                    this._listenerForDragReserve &&
                      this._listeners.includes(this._listenerForDragReserve) &&
                      this.removeInputListener(this._listenerForDragReserve),
                      this._listenerForKeyboardDragReserve &&
                        this._listeners.includes(
                          this._listenerForKeyboardDragReserve
                        ) &&
                        this.removeInputListener(
                          this._listenerForKeyboardDragReserve
                        );
                  }
                  toString() {
                    return `Pointer#${this.type}_at_${this.point}`;
                  }
                }
                (b = Aa),
                  _defineProperty(
                    Aa,
                    "PointerIO",
                    new j.Z("PointerIO", {
                      valueType: b,
                      toStateObject: (e) => ({
                        point: e.point.toStateObject(),
                        type: e.type,
                      }),
                      stateSchema: { point: Me.Z.Vector2IO, type: Pe.Z },
                    })
                  ),
                  G.register("Pointer", Aa);
                var ya = i(8002);
                class fa extends Aa {
                  constructor(e) {
                    super(e, !1, "mouse"),
                      (this.id = null),
                      (this.leftDown = !1),
                      (this.middleDown = !1),
                      (this.rightDown = !1),
                      (this.wheelDelta = new ya.Z(0, 0, 0)),
                      (this.wheelDeltaMode = 0);
                  }
                  down(e, t) {
                    const i = t,
                      s = this.hasPointChanged(e);
                    switch (((this.point = e), (this.isDown = !0), i.button)) {
                      case 0:
                        this.leftDown = !0;
                        break;
                      case 1:
                        this.middleDown = !0;
                        break;
                      case 2:
                        this.rightDown = !0;
                    }
                    return s;
                  }
                  up(e, t) {
                    const i = t,
                      s = this.hasPointChanged(e);
                    switch (((this.point = e), (this.isDown = !1), i.button)) {
                      case 0:
                        this.leftDown = !1;
                        break;
                      case 1:
                        this.middleDown = !1;
                        break;
                      case 2:
                        this.rightDown = !1;
                    }
                    return s;
                  }
                  move(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), i;
                  }
                  over(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), i;
                  }
                  out(e, t) {
                    return this.hasPointChanged(e);
                  }
                  wheel(e) {
                    const t = e;
                    this.wheelDelta.setXYZ(t.deltaX, t.deltaY, t.deltaZ),
                      (this.wheelDeltaMode = t.deltaMode);
                  }
                  toString() {
                    return "Mouse";
                  }
                }
                G.register("Mouse", fa);
                class Pa extends Aa {
                  constructor(e, t, i) {
                    super(t, !0, "touch"), (this.id = e);
                  }
                  move(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), i;
                  }
                  end(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), (this.isDown = !1), i;
                  }
                  cancel(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), (this.isDown = !1), i;
                  }
                  toString() {
                    return "Touch#" + this.id;
                  }
                  isTouchLike() {
                    return !0;
                  }
                }
                G.register("Touch", Pa);
                class ba extends Aa {
                  constructor(e, t, i) {
                    super(t, !0, "pen"), (this.id = e);
                  }
                  move(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), i;
                  }
                  end(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), (this.isDown = !1), i;
                  }
                  cancel(e, t) {
                    const i = this.hasPointChanged(e);
                    return (this.point = e), (this.isDown = !1), i;
                  }
                  toString() {
                    return "Pen#" + this.id;
                  }
                  isTouchLike() {
                    return !0;
                  }
                }
                G.register("Pen", ba);
                class va extends Aa {
                  constructor(e) {
                    super(Me.Z.ZERO, !1, "pdom"),
                      (this.display = e),
                      this.initializeListeners(),
                      (this.blockTrustedEvents = !1),
                      (this.keydownTargetNode = null);
                  }
                  initializeListeners() {
                    this.addInputListener({
                      focus: (e) => {
                        const t = this.trail.lastNode();
                        if (t.focusable) {
                          const e = la.guessVisualTrail(
                            this.trail,
                            this.display.rootNode
                          );
                          (go.pdomFocus = new Xe(this.display, e)),
                            (this.point = e.parentToGlobalPoint(t.center)),
                            isNaN(this.point.x) && this.point.setXY(0, 0);
                        } else e.target.blur(), e.abort();
                      },
                      blur: (e) => {
                        const t = this.display._input.getRelatedTargetTrail(
                          e.domEvent
                        );
                        (this.trail = null),
                          t && t.lastNode().focusable
                            ? (go.pdomFocus = new Xe(
                                this.display,
                                la.guessVisualTrail(t, this.display.rootNode)
                              ))
                            : (go.pdomFocus = null),
                          (this.keydownTargetNode = null);
                      },
                      keydown: (e) => {
                        (this.blockTrustedEvents && e.domEvent.isTrusted) ||
                          (this.keydownTargetNode = e.target);
                      },
                      keyup: (e) => {
                        (this.blockTrustedEvents && e.domEvent.isTrusted) ||
                          (this.keydownTargetNode !== e.target && e.abort());
                      },
                    });
                  }
                  updateTrail(e) {
                    return (
                      (this.trail && this.trail.equals(e)) || (this.trail = e),
                      this.trail
                    );
                  }
                }
                G.register("PDOMPointer", va);
                class Va {
                  constructor(e, t, i, s) {
                    (this.handled = !1),
                      (this.aborted = !1),
                      (this.trail = e),
                      (this.type = t),
                      (this.pointer = i),
                      (this.domEvent = s),
                      (this.currentTarget = null),
                      (this.target = e.lastNode()),
                      (this.isPrimary = !(
                        i instanceof fa &&
                        s &&
                        0 !== s.button
                      )),
                      s && (i.lastDOMEvent = s);
                  }
                  handle() {
                    this.handled = !0;
                  }
                  abort() {
                    this.aborted = !0;
                  }
                  isFromPDOM() {
                    return this.pointer instanceof va;
                  }
                  canStartPress() {
                    return !(
                      this.pointer.isAttached() ||
                      (this.pointer instanceof fa && 0 !== this.domEvent.button)
                    );
                  }
                }
                (v = Va),
                  _defineProperty(
                    Va,
                    "SceneryEventIO",
                    new j.Z("SceneryEventIO", {
                      valueType: v,
                      documentation: 'An event, with a "point" field',
                      toStateObject: (e) => ({
                        type: e.type,
                        domEventType: (0, at.Z)(dt).toStateObject(e.domEvent),
                        point:
                          e.pointer && e.pointer.point
                            ? Me.Z.Vector2IO.toStateObject(e.pointer.point)
                            : null,
                      }),
                      stateSchema: {
                        type: Pe.Z,
                        domEventType: (0, at.Z)(dt),
                        point: (0, at.Z)(Me.Z.Vector2IO),
                      },
                    })
                  ),
                  G.register("SceneryEvent", Va);
                const wa = (0, We.Z)(Aa.PointerIO),
                  Ea = [
                    "altKey",
                    "button",
                    "charCode",
                    "clientX",
                    "clientY",
                    "code",
                    "ctrlKey",
                    "deltaMode",
                    "deltaX",
                    "deltaY",
                    "deltaZ",
                    "key",
                    "keyCode",
                    "metaKey",
                    "pageX",
                    "pageY",
                    "pointerId",
                    "pointerType",
                    "scale",
                    "shiftKey",
                    "target",
                    "type",
                    "relatedTarget",
                    "which",
                  ],
                  Sa = [
                    "deltaMode",
                    "deltaX",
                    "deltaY",
                    "deltaZ",
                    "altKey",
                    "button",
                    "charCode",
                    "clientX",
                    "clientY",
                    "code",
                    "ctrlKey",
                    "key",
                    "keyCode",
                    "metaKey",
                    "pageX",
                    "pageY",
                    "pointerId",
                    "pointerType",
                    "shiftKey",
                    "type",
                    "relatedTarget",
                    "which",
                  ],
                  Ta = ["target", "relatedTarget"],
                  xa = ["focus", "blur", "focusin", "focusout"];
                class Ca extends ye.Z {
                  constructor(e, t, i, s, n, r) {
                    const o = (0, Ae.ZP)()(
                      {
                        phetioType: Ca.InputIO,
                        tandem: fe.Z.OPTIONAL,
                        phetioDocumentation:
                          "Central point for user input events, such as mouse, touch",
                      },
                      r
                    );
                    super(o),
                      (this.display = e),
                      (this.rootNode = e.rootNode),
                      (this.attachToWindow = t),
                      (this.batchDOMEvents = i),
                      (this.assumeFullWindow = s),
                      (this.passiveEvents = n),
                      (this.batchedEvents = []),
                      (this.pdomPointer = null),
                      (this.mouse = null),
                      (this.pointers = []),
                      (this.pointerAddedEmitter = new Q.Z()),
                      (this.currentlyFiringEvents = !1),
                      (this.upTimeStamp = 0),
                      (this.validatePointersAction = new Tr.Z(
                        () => {
                          let e = this.pointers.length;
                          for (; e--; ) {
                            const t = this.pointers[e];
                            t.point &&
                              t !== this.pdomPointer &&
                              this.branchChangeEvents(t, t.lastDOMEvent, !1);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem(
                            "validatePointersAction"
                          ),
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.mouseUpAction = new Tr.Z(
                        (e, t) => {
                          const i = this.ensureMouse(e),
                            s = i.up(e, t);
                          (i.id = null), this.upEvent(i, t, s);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("mouseUpAction"),
                          parameters: [
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a mouse button is released.",
                        }
                      )),
                      (this.mouseDownAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.ensureMouse(t);
                          s.id = e;
                          const n = s.down(t, i);
                          this.downEvent(s, i, n);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("mouseDownAction"),
                          parameters: [
                            { name: "id", phetioType: (0, at.Z)(K.Z) },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a mouse button is pressed.",
                        }
                      )),
                      (this.mouseMoveAction = new Tr.Z(
                        (e, t) => {
                          const i = this.ensureMouse(e);
                          i.move(e, t), this.moveEvent(i, t);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("mouseMoveAction"),
                          parameters: [
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when the mouse is moved.",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.mouseOverAction = new Tr.Z(
                        (e, t) => {
                          this.ensureMouse(e).over(e, t);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("mouseOverAction"),
                          parameters: [
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the mouse is moved while on the sim.",
                        }
                      )),
                      (this.mouseOutAction = new Tr.Z(
                        (e, t) => {
                          this.ensureMouse(e).out(e, t);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("mouseOutAction"),
                          parameters: [
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the mouse moves out of the display.",
                        }
                      )),
                      (this.wheelScrollAction = new Tr.Z(
                        (e) => {
                          const t = this.ensureMouse(this.pointFromEvent(e));
                          if ((t.wheel(e), t.point)) {
                            const i =
                              this.rootNode.trailUnderPointer(t) ||
                              new nn(this.rootNode);
                            this.dispatchEvent(i, "wheel", t, e, !0);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("wheelScrollAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the mouse wheel scrolls.",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.touchStartAction = new Tr.Z(
                        (e, t, i) => {
                          const s = new Pa(e, t, i);
                          this.addPointer(s), this.downEvent(s, i, !1);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("touchStartAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a touch begins.",
                        }
                      )),
                      (this.touchEndAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          if (s) {
                            const e = s.end(t, i);
                            this.upEvent(s, i, e), this.removePointer(s);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("touchEndAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a touch ends.",
                        }
                      )),
                      (this.touchMoveAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          s && (s.move(t, i), this.moveEvent(s, i));
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("touchMoveAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a touch moves.",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.touchCancelAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          if (s) {
                            const e = s.cancel(t, i);
                            this.cancelEvent(s, i, e), this.removePointer(s);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("touchCancelAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a touch is canceled.",
                        }
                      )),
                      (this.penStartAction = new Tr.Z(
                        (e, t, i) => {
                          const s = new ba(e, t, i);
                          this.addPointer(s), this.downEvent(s, i, !1);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("penStartAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a pen touches the screen.",
                        }
                      )),
                      (this.penEndAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          if (s) {
                            const e = s.end(t, i);
                            this.upEvent(s, i, e), this.removePointer(s);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("penEndAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a pen is lifted.",
                        }
                      )),
                      (this.penMoveAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          s && (s.move(t, i), this.moveEvent(s, i));
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("penMoveAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a pen is moved.",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.penCancelAction = new Tr.Z(
                        (e, t, i) => {
                          const s = this.findPointerById(e);
                          if (s) {
                            const e = s.cancel(t, i);
                            this.cancelEvent(s, i, e), this.removePointer(s);
                          }
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("penCancelAction"),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "point", phetioType: Me.Z.Vector2IO },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation: "Emits when a pen is canceled.",
                        }
                      )),
                      (this.gotPointerCaptureAction = new Tr.Z(
                        (e, t) => {
                          const i = this.findPointerById(e);
                          i && i.onGotPointerCapture();
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem(
                            "gotPointerCaptureAction"
                          ),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a pointer is captured (normally at the start of an interaction)",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.lostPointerCaptureAction = new Tr.Z(
                        (e, t) => {
                          const i = this.findPointerById(e);
                          i && i.onLostPointerCapture();
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem(
                            "lostPointerCaptureAction"
                          ),
                          parameters: [
                            { name: "id", phetioType: K.Z },
                            { name: "event", phetioType: dt },
                          ],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when a pointer loses its capture (normally at the end of an interaction)",
                          phetioHighFrequency: !0,
                        }
                      )),
                      (this.focusinAction = new Tr.Z(
                        (e) => {
                          const t = this.getPDOMEventTrail(e, "focusin");
                          t &&
                            (this.display.blockFocusCallbacks ||
                              (this.dispatchPDOMEvent(t, "focus", e, !1),
                              this.dispatchPDOMEvent(t, "focusin", e, !0)));
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("focusinAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the focusin DOM event.",
                        }
                      )),
                      (this.focusoutAction = new Tr.Z(
                        (e) => {
                          const t = this.getPDOMEventTrail(e, "focusout");
                          t &&
                            (this.display.blockFocusCallbacks ||
                              (this.dispatchPDOMEvent(t, "blur", e, !1),
                              this.dispatchPDOMEvent(t, "focusout", e, !0)));
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("focusoutAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the focusout DOM event.",
                        }
                      )),
                      (this.clickAction = new Tr.Z(
                        (e) => {
                          const t = this.getPDOMEventTrail(e, "click");
                          t && this.dispatchPDOMEvent(t, "click", e, !0);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("clickAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the click DOM event.",
                        }
                      )),
                      (this.inputAction = new Tr.Z(
                        (e) => {
                          const t = this.getPDOMEventTrail(e, "input");
                          t && this.dispatchPDOMEvent(t, "input", e, !0);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("inputAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the input DOM event.",
                        }
                      )),
                      (this.changeAction = new Tr.Z(
                        (e) => {
                          const t = this.getPDOMEventTrail(e, "change");
                          t && this.dispatchPDOMEvent(t, "change", e, !0);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("changeAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the change DOM event.",
                        }
                      )),
                      (this.keydownAction = new Tr.Z(
                        (e) => {
                          this.dispatchGlobalEvent("globalkeydown", e, !0);
                          const t = this.getPDOMEventTrail(e, "keydown");
                          t && this.dispatchPDOMEvent(t, "keydown", e, !0),
                            this.dispatchGlobalEvent("globalkeydown", e, !1);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("keydownAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the keydown DOM event.",
                        }
                      )),
                      (this.keyupAction = new Tr.Z(
                        (e) => {
                          this.dispatchGlobalEvent("globalkeyup", e, !0);
                          const t = this.getPDOMEventTrail(e, "keydown");
                          t && this.dispatchPDOMEvent(t, "keyup", e, !0),
                            this.dispatchGlobalEvent("globalkeyup", e, !1);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: o.tandem.createTandem("keyupAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Emits when the PDOM root gets the keyup DOM event.",
                        }
                      ));
                  }
                  interruptPointers() {
                    _.each(this.pointers, (e) => {
                      e.interruptAll();
                    });
                  }
                  batchEvent(e, t, i, s) {
                    this.display.interactive &&
                      (this.batchedEvents.push(Da.pool.create(e, t, i)),
                      (!s && this.batchDOMEvents) || this.fireBatchedEvents()),
                      !0 === this.passiveEvents ||
                        (i === this.mouseDown && !Ne.Z.edge) ||
                        t === Ia.ALT_TYPE ||
                        e.preventDefault();
                  }
                  fireBatchedEvents() {
                    if (
                      !this.currentlyFiringEvents &&
                      this.batchedEvents.length
                    ) {
                      this.currentlyFiringEvents = !0;
                      const e = this.batchedEvents;
                      for (let t = 0; t < e.length; t++) {
                        const i = e[t];
                        i.run(this), i.dispose();
                      }
                      (0, Mi.Z)(e), (this.currentlyFiringEvents = !1);
                    }
                  }
                  clearBatchedEvents() {
                    this.batchedEvents.length = 0;
                  }
                  validatePointers() {
                    this.validatePointersAction.execute();
                  }
                  removeTemporaryPointers() {
                    const e = {
                      eek: "This is a fake DOM event created in removeTemporaryPointers(), called from a Scenery exit event. Our attempt to masquerade seems unsuccessful! :(",
                    };
                    for (let t = this.pointers.length - 1; t >= 0; t--) {
                      const i = this.pointers[t];
                      if (!(i instanceof fa)) {
                        this.pointers.splice(t, 1);
                        const s = i.trail || new nn(this.rootNode);
                        this.exitEvents(i, e, s, 0, !0);
                      }
                    }
                  }
                  connectListeners() {
                    Ba.addDisplay(
                      this.display,
                      this.attachToWindow,
                      this.passiveEvents
                    );
                  }
                  disconnectListeners() {
                    Ba.removeDisplay(
                      this.display,
                      this.attachToWindow,
                      this.passiveEvents
                    );
                  }
                  pointFromEvent(e) {
                    const t = Me.Z.pool.create(e.clientX, e.clientY);
                    if (!this.assumeFullWindow) {
                      const e = this.display.domElement.getBoundingClientRect();
                      e.width > 0 &&
                        e.height > 0 &&
                        (t.subtractXY(e.left, e.top),
                        (e.width === this.display.width &&
                          e.height === this.display.height) ||
                          ((t.x *= this.display.width / e.width),
                          (t.y *= this.display.height / e.height)));
                    }
                    return t;
                  }
                  addPointer(e) {
                    this.pointers.push(e), this.pointerAddedEmitter.emit(e);
                  }
                  removePointer(e) {
                    for (let t = this.pointers.length - 1; t >= 0; t--)
                      this.pointers[t] === e && this.pointers.splice(t, 1);
                    e.dispose();
                  }
                  findPointerById(e) {
                    let t = this.pointers.length;
                    for (; t--; ) {
                      const i = this.pointers[t];
                      if (i.id === e) return i;
                    }
                    return null;
                  }
                  getPDOMEventTrail(e, t) {
                    if (!this.display.interactive) return null;
                    const i = this.getTrailFromPDOMEvent(e);
                    return i &&
                      !(
                        "click" === t &&
                        _.some(i.nodes, (e) => e.positionInPDOM) &&
                        e.timeStamp - this.upTimeStamp <= 80
                      )
                      ? i
                      : null;
                  }
                  initMouse(e) {
                    const t = new fa(e);
                    return (this.mouse = t), this.addPointer(t), t;
                  }
                  ensureMouse(e) {
                    const t = this.mouse;
                    return t || this.initMouse(e);
                  }
                  initPDOMPointer() {
                    const e = new va(this.display);
                    return (this.pdomPointer = e), this.addPointer(e), e;
                  }
                  ensurePDOMPointer() {
                    const e = this.pdomPointer;
                    return e || this.initPDOMPointer();
                  }
                  dispatchPDOMEvent(e, t, i, s) {
                    if (
                      (this.ensurePDOMPointer().updateTrail(e),
                      Ei.USER_GESTURE_EVENTS.includes(t) &&
                        hp.userGestureEmitter.emit(),
                      !i.target ||
                        !i.target.hasAttribute(Ei.DATA_EXCLUDE_FROM_INPUT))
                    ) {
                      e.isPickable() || xa.includes(t) || (e = new nn([])),
                        this.dispatchEvent(e, t, this.pdomPointer, i, s);
                    }
                  }
                  dispatchGlobalEvent(e, t, i) {
                    this.ensurePDOMPointer();
                    const s = this.pdomPointer,
                      n = new Va(new nn(), e, s, t),
                      r = (t) => {
                        if (
                          !t.isDisposed &&
                          t.isVisible() &&
                          t.isInputEnabled()
                        ) {
                          for (let e = t._children.length - 1; e >= 0; e--)
                            r(t._children[e]);
                          n.aborted ||
                            n.handled ||
                            ((n.currentTarget = t),
                            this.dispatchToListeners(
                              s,
                              t._inputListeners,
                              e,
                              n,
                              i
                            ));
                        }
                      };
                    r(this.rootNode);
                  }
                  getRelatedTargetTrail(e) {
                    const t = e.relatedTarget;
                    if (t && this.isTargetUnderPDOM(t)) {
                      const t = e.relatedTarget,
                        i = t.getAttribute(Ei.DATA_PDOM_UNIQUE_ID);
                      return la.uniqueIdToTrail(this.display, i);
                    }
                    return null;
                  }
                  getTrailFromPDOMEvent(e) {
                    if (!this.display._accessible) return null;
                    if (e.targetSubstitute) {
                      const t = e.targetSubstitute.getAttribute(
                        Ei.DATA_PDOM_UNIQUE_ID
                      );
                      return la.uniqueIdToTrail(this.display, t);
                    }
                    {
                      const t = e.target;
                      if (t && this.isTargetUnderPDOM(t)) {
                        const e = t.getAttribute(Ei.DATA_PDOM_UNIQUE_ID);
                        return la.uniqueIdToTrail(this.display, e);
                      }
                    }
                    return null;
                  }
                  mouseDown(e, t, i) {
                    this.mouseDownAction.execute(e, t, i);
                  }
                  mouseUp(e, t) {
                    this.mouseUpAction.execute(e, t);
                  }
                  mouseMove(e, t) {
                    this.mouseMoveAction.execute(e, t);
                  }
                  mouseOver(e, t) {
                    this.mouseOverAction.execute(e, t);
                  }
                  mouseOut(e, t) {
                    this.mouseOutAction.execute(e, t);
                  }
                  wheel(e) {
                    this.wheelScrollAction.execute(e);
                  }
                  touchStart(e, t, i) {
                    this.touchStartAction.execute(e, t, i);
                  }
                  touchEnd(e, t, i) {
                    this.touchEndAction.execute(e, t, i);
                  }
                  touchMove(e, t, i) {
                    this.touchMoveAction.execute(e, t, i);
                  }
                  touchCancel(e, t, i) {
                    this.touchCancelAction.execute(e, t, i);
                  }
                  penStart(e, t, i) {
                    this.penStartAction.execute(e, t, i);
                  }
                  penEnd(e, t, i) {
                    this.penEndAction.execute(e, t, i);
                  }
                  penMove(e, t, i) {
                    this.penMoveAction.execute(e, t, i);
                  }
                  penCancel(e, t, i) {
                    this.penCancelAction.execute(e, t, i);
                  }
                  pointerDown(e, t, i, s) {
                    const n = this.attachToWindow
                      ? document.body
                      : this.display.domElement;
                    switch (
                      (n.setPointerCapture &&
                        s.pointerId &&
                        n.setPointerCapture(s.pointerId),
                      (t = this.handleUnknownPointerType(t, e)))
                    ) {
                      case "mouse":
                        this.mouseDown(e, i, s);
                        break;
                      case "touch":
                        this.touchStart(e, i, s);
                        break;
                      case "pen":
                        this.penStart(e, i, s);
                        break;
                      default:
                        0;
                    }
                  }
                  pointerUp(e, t, i, s) {
                    switch (
                      ((this.upTimeStamp = s.timeStamp),
                      (t = this.handleUnknownPointerType(t, e)))
                    ) {
                      case "mouse":
                        this.mouseUp(i, s);
                        break;
                      case "touch":
                        this.touchEnd(e, i, s);
                        break;
                      case "pen":
                        this.penEnd(e, i, s);
                        break;
                      default:
                        0;
                    }
                  }
                  pointerCancel(e, t, i, s) {
                    switch ((t = this.handleUnknownPointerType(t, e))) {
                      case "mouse":
                        console &&
                          console.log &&
                          console.log(
                            "WARNING: Pointer mouse cancel was received"
                          );
                        break;
                      case "touch":
                        this.touchCancel(e, i, s);
                        break;
                      case "pen":
                        this.penCancel(e, i, s);
                        break;
                      default:
                        console.log &&
                          console.log("Unknown pointer type: " + t);
                    }
                  }
                  gotPointerCapture(e, t, i, s) {
                    this.gotPointerCaptureAction.execute(e, s);
                  }
                  lostPointerCapture(e, t, i, s) {
                    this.lostPointerCaptureAction.execute(e, s);
                  }
                  pointerMove(e, t, i, s) {
                    switch ((t = this.handleUnknownPointerType(t, e))) {
                      case "mouse":
                        this.mouseMove(i, s);
                        break;
                      case "touch":
                        this.touchMove(e, i, s);
                        break;
                      case "pen":
                        this.penMove(e, i, s);
                        break;
                      default:
                        console.log &&
                          console.log("Unknown pointer type: " + t);
                    }
                  }
                  pointerOver(e, t, i, s) {}
                  pointerOut(e, t, i, s) {}
                  pointerEnter(e, t, i, s) {}
                  pointerLeave(e, t, i, s) {}
                  focusIn(e) {
                    this.focusinAction.execute(e);
                  }
                  focusOut(e) {
                    this.focusoutAction.execute(e);
                  }
                  input(e) {
                    this.inputAction.execute(e);
                  }
                  change(e) {
                    this.changeAction.execute(e);
                  }
                  click(e) {
                    this.clickAction.execute(e);
                  }
                  keyDown(e) {
                    this.keydownAction.execute(e);
                  }
                  keyUp(e) {
                    this.keyupAction.execute(e);
                  }
                  handleUnknownPointerType(e, t) {
                    return "" !== e
                      ? e
                      : this.mouse && this.mouse.id === t
                      ? "mouse"
                      : "touch";
                  }
                  getPointerTrail(e) {
                    return (
                      this.rootNode.trailUnderPointer(e) ||
                      new nn(this.rootNode)
                    );
                  }
                  upEvent(e, t, i) {
                    if (this.isTargetUnderPDOM(t.target)) return;
                    const s = this.branchChangeEvents(e, t, i);
                    this.dispatchEvent(s, "up", e, t, !0),
                      e.isTouchLike() && this.exitEvents(e, t, s, 0, !0);
                  }
                  downEvent(e, t, i) {
                    if (this.isTargetUnderPDOM(t.target)) return;
                    const s = this.branchChangeEvents(e, t, i);
                    this.dispatchEvent(s, "down", e, t, !0);
                  }
                  moveEvent(e, t) {
                    this.branchChangeEvents(e, t, !0);
                  }
                  cancelEvent(e, t, i) {
                    const s = this.branchChangeEvents(e, t, i);
                    this.dispatchEvent(s, "cancel", e, t, !0),
                      e.isTouchLike() && this.exitEvents(e, t, s, 0, !0);
                  }
                  branchChangeEvents(e, t, i) {
                    const s = this.getPointerTrail(e),
                      n = s.slice(
                        0,
                        Math.min(
                          s.nodes.length,
                          s.getLastInputEnabledIndex() + 1
                        )
                      ),
                      r = e.inputEnabledTrail || new nn(this.rootNode),
                      o = nn.branchIndex(n, r),
                      a = r.lastNode() !== n.lastNode();
                    return (
                      i && this.dispatchEvent(s, "move", e, t, !0),
                      this.exitEvents(e, t, r, o, a),
                      this.enterEvents(e, t, n, o, a),
                      (e.trail = s),
                      (e.inputEnabledTrail = n),
                      s
                    );
                  }
                  enterEvents(e, t, i, s, n) {
                    n && this.dispatchEvent(i, "over", e, t, !0, !0);
                    for (let r = s; r < i.length; r++)
                      this.dispatchEvent(i.slice(0, r + 1), "enter", e, t, !1);
                  }
                  exitEvents(e, t, i, s, n) {
                    for (let r = i.length - 1; r >= s; r--)
                      this.dispatchEvent(
                        i.slice(0, r + 1),
                        "exit",
                        e,
                        t,
                        !1,
                        !0
                      );
                    n && this.dispatchEvent(i, "out", e, t, !0);
                  }
                  dispatchEvent(e, t, i, s, n) {
                    let r =
                      arguments.length > 5 &&
                      void 0 !== arguments[5] &&
                      arguments[5];
                    const o = new Va(e, t, i, s);
                    this.dispatchToListeners(i, i.getListeners(), t, o),
                      this.dispatchToTargets(e, t, i, o, n, r),
                      this.dispatchToListeners(
                        i,
                        this.display.getInputListeners(),
                        t,
                        o
                      ),
                      hp.inputListeners.length &&
                        this.dispatchToListeners(
                          i,
                          hp.inputListeners.slice(),
                          t,
                          o
                        );
                  }
                  dispatchToListeners(e, t, i, s) {
                    let n =
                      arguments.length > 4 && void 0 !== arguments[4]
                        ? arguments[4]
                        : null;
                    if (s.handled) return;
                    const r = e.type + i;
                    for (let o = 0; o < t.length; o++) {
                      const e = t[o];
                      (null !== n && n !== !!e.capture) ||
                        (!s.aborted && e[r] && e[r](s),
                        !s.aborted && e[i] && e[i](s));
                    }
                  }
                  dispatchToTargets(e, t, i, s, n) {
                    let r =
                      arguments.length > 5 &&
                      void 0 !== arguments[5] &&
                      arguments[5];
                    if (s.aborted || s.handled) return;
                    const o = e.getLastInputEnabledIndex();
                    for (
                      let a = e.nodes.length - 1;
                      a >= 0;
                      n ? a-- : (a = -1)
                    ) {
                      const n = e.nodes[a],
                        h = o < a;
                      if (
                        !(n.isDisposed || (!r && h)) &&
                        ((s.currentTarget = n),
                        this.dispatchToListeners(
                          i,
                          n.getInputListeners(),
                          t,
                          s
                        ),
                        s.aborted || s.handled)
                      )
                        return;
                    }
                  }
                  isTargetUnderPDOM(e) {
                    return (
                      this.display._accessible &&
                      this.display.pdomRootElement.contains(e)
                    );
                  }
                  static serializeDomEvent(e) {
                    const t = { constructorName: e.constructor.name };
                    return (
                      Ea.forEach((i) => {
                        const s = e[i];
                        null == s
                          ? (t[i] = null)
                          : s instanceof Element &&
                            Ta.includes(i) &&
                            "function" == typeof s.getAttribute &&
                            s.hasAttribute(Ei.DATA_PDOM_UNIQUE_ID)
                          ? (t[i] = {
                              [Ei.DATA_PDOM_UNIQUE_ID]: s.getAttribute(
                                Ei.DATA_PDOM_UNIQUE_ID
                              ),
                              id: s.getAttribute("id"),
                            })
                          : (t[i] =
                              "object" == typeof s
                                ? {}
                                : JSON.parse(JSON.stringify(s)));
                      }),
                      t
                    );
                  }
                  static deserializeDomEvent(e) {
                    const t = e.constructorName || "Event",
                      i = _.pick(e, Sa);
                    if (i.relatedTarget) {
                      const e = document.getElementById(i.relatedTarget.id);
                      i.relatedTarget = e;
                    }
                    const s = new window[t](t, i);
                    for (const n in e)
                      e.hasOwnProperty(n) &&
                        !Sa.includes(n) &&
                        ("target" === n
                          ? ((s.targetSubstitute = _.clone(e[n]) || {}),
                            (s.targetSubstitute.getAttribute = function (e) {
                              return this[e];
                            }))
                          : (s[n] = e[n]));
                    return s;
                  }
                  static debugText(e, t) {
                    let i = `${t.timeStamp} ${t.type}`;
                    return null !== e && (i = `${e.x},${e.y} ${i}`), i;
                  }
                  static msPointerType(e) {
                    return e.pointerType ===
                      window.MSPointerEvent.MSPOINTER_TYPE_TOUCH
                      ? "touch"
                      : e.pointerType ===
                        window.MSPointerEvent.MSPOINTER_TYPE_PEN
                      ? "pen"
                      : e.pointerType ===
                        window.MSPointerEvent.MSPOINTER_TYPE_MOUSE
                      ? "mouse"
                      : e.pointerType;
                  }
                }
                (V = Ca),
                  _defineProperty(
                    Ca,
                    "InputIO",
                    new j.Z("InputIO", {
                      valueType: V,
                      applyState: _.noop,
                      toStateObject: (e) => ({
                        pointers: wa.toStateObject(e.pointers),
                      }),
                      stateSchema: { pointers: wa },
                    })
                  ),
                  G.register("Input", Ca);
                class Ia extends Wt.Z {}
                _defineProperty(Ia, "POINTER_TYPE", new (w = Ia)()),
                  _defineProperty(Ia, "MS_POINTER_TYPE", new w()),
                  _defineProperty(Ia, "TOUCH_TYPE", new w()),
                  _defineProperty(Ia, "MOUSE_TYPE", new w()),
                  _defineProperty(Ia, "WHEEL_TYPE", new w()),
                  _defineProperty(Ia, "ALT_TYPE", new w()),
                  _defineProperty(
                    Ia,
                    "enumeration",
                    new Gt.Z(w, {
                      phetioDocumentation: "The type of batched event",
                    })
                  );
                class Da {
                  constructor(e, t, i) {
                    this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    (this.domEvent = e), (this.type = t), (this.callback = i);
                  }
                  run(e) {
                    const t = this.domEvent,
                      i = this.callback;
                    if ((e.validatePointers(), this.type === Ia.POINTER_TYPE)) {
                      const s = t;
                      i.call(
                        e,
                        s.pointerId,
                        s.pointerType,
                        e.pointFromEvent(s),
                        s
                      );
                    } else if (this.type === Ia.MS_POINTER_TYPE) {
                      const s = t;
                      i.call(
                        e,
                        s.pointerId,
                        Ca.msPointerType(s),
                        e.pointFromEvent(s),
                        s
                      );
                    } else if (this.type === Ia.TOUCH_TYPE) {
                      const s = t;
                      for (let t = 0; t < s.changedTouches.length; t++) {
                        const n = s.changedTouches.item(t);
                        i.call(e, n.identifier, e.pointFromEvent(n), s);
                      }
                    } else if (this.type === Ia.MOUSE_TYPE) {
                      const s = t;
                      i === e.mouseDown
                        ? i.call(e, null, e.pointFromEvent(s), s)
                        : i.call(e, e.pointFromEvent(s), s);
                    } else {
                      if (
                        this.type !== Ia.WHEEL_TYPE &&
                        this.type !== Ia.ALT_TYPE
                      )
                        throw new Error("bad type value: " + this.type);
                      i.call(e, t);
                    }
                  }
                  dispose() {
                    (this.domEvent = null),
                      (this.callback = null),
                      this.freeToPool();
                  }
                  freeToPool() {
                    Da.pool.freeToPool(this);
                  }
                }
                (E = Da),
                  _defineProperty(Da, "pool", new zt.Z(E)),
                  G.register("BatchedDOMEvent", Da);
                const ka = () => {};
                let Oa = !1;
                const La = {
                  addDisplay(e, t, i) {
                    Oa || ((Oa = !0), Or.attachToWindow()),
                      this.attachedDisplays.push(e),
                      t
                        ? 1 === this.attachedDisplays.length &&
                          this.connectWindowListeners(i)
                        : this.addOrRemoveListeners(e.domElement, !0, i),
                      e.domElement.addEventListener(
                        "wheel",
                        this.onwheel,
                        La.getEventOptions(i, !0)
                      );
                  },
                  removeDisplay(e, t, i) {
                    (0, Di.Z)(this.attachedDisplays, e),
                      t
                        ? 0 === this.attachedDisplays.length &&
                          this.disconnectWindowListeners(i)
                        : this.addOrRemoveListeners(e.domElement, !1, i),
                      e.domElement.removeEventListener(
                        "wheel",
                        this.onwheel,
                        La.getEventOptions(i, !0)
                      );
                  },
                  getEventOptions(e, t) {
                    if (me.passive && null !== e) {
                      const i = { passive: e };
                      return t && (i.capture = !1), i;
                    }
                    return !1;
                  },
                  listenersAttachedToWindow: 0,
                  listenersAttachedToElement: 0,
                  attachedDisplays: [],
                  canUsePointerEvents:
                    !!(
                      (window.navigator && window.navigator.pointerEnabled) ||
                      window.PointerEvent
                    ) && !Ne.Z.firefox,
                  canUseMSPointerEvents:
                    window.navigator && window.navigator.msPointerEnabled,
                  pointerListenerTypes: [
                    "pointerdown",
                    "pointerup",
                    "pointermove",
                    "pointerover",
                    "pointerout",
                    "pointercancel",
                    "gotpointercapture",
                    "lostpointercapture",
                  ],
                  msPointerListenerTypes: [
                    "MSPointerDown",
                    "MSPointerUp",
                    "MSPointerMove",
                    "MSPointerOver",
                    "MSPointerOut",
                    "MSPointerCancel",
                  ],
                  touchListenerTypes: [
                    "touchstart",
                    "touchend",
                    "touchmove",
                    "touchcancel",
                  ],
                  mouseListenerTypes: [
                    "mousedown",
                    "mouseup",
                    "mousemove",
                    "mouseover",
                    "mouseout",
                  ],
                  wheelListenerTypes: ["wheel"],
                  altListenerTypes: Ei.DOM_EVENTS,
                  getNonWheelUsedTypes() {
                    let e;
                    return (
                      (e = this.canUsePointerEvents
                        ? this.pointerListenerTypes
                        : this.canUseMSPointerEvents
                        ? this.msPointerListenerTypes
                        : this.touchListenerTypes.concat(
                            this.mouseListenerTypes
                          )),
                      (e = e.concat(this.altListenerTypes)),
                      e
                    );
                  },
                  connectWindowListeners(e) {
                    this.addOrRemoveListeners(window, !0, e);
                  },
                  disconnectWindowListeners(e) {
                    this.addOrRemoveListeners(window, !1, e);
                  },
                  addOrRemoveListeners(e, t, i) {
                    const s = e === window,
                      n = t ? 1 : -1;
                    s
                      ? (this.listenersAttachedToWindow += n)
                      : (this.listenersAttachedToElement += n);
                    const r = t ? "addEventListener" : "removeEventListener",
                      o = this.getNonWheelUsedTypes();
                    for (let a = 0; a < o.length; a++) {
                      const t = o[a];
                      s && document[r](t, ka, La.getEventOptions(i, !1));
                      const n = this["on" + t];
                      e[r](t, n, La.getEventOptions(i, !0));
                    }
                  },
                  batchWindowEvent(e, t, i, s) {
                    for (let n = 0; n < this.attachedDisplays.length; n++) {
                      const r = this.attachedDisplays[n]._input;
                      r.batchEvent(e, t, r[i], s);
                    }
                  },
                  onpointerdown: function (e) {
                    "mouse" === e.pointerType && hp.userGestureEmitter.emit(),
                      La.batchWindowEvent(
                        e,
                        Ia.POINTER_TYPE,
                        "pointerDown",
                        !1
                      );
                  },
                  onpointerup: function (e) {
                    hp.userGestureEmitter.emit(),
                      La.batchWindowEvent(e, Ia.POINTER_TYPE, "pointerUp", !0);
                  },
                  onpointermove: function (e) {
                    La.batchWindowEvent(e, Ia.POINTER_TYPE, "pointerMove", !1);
                  },
                  onpointerover: function (e) {
                    La.batchWindowEvent(e, Ia.POINTER_TYPE, "pointerOver", !1);
                  },
                  onpointerout: function (e) {
                    La.batchWindowEvent(e, Ia.POINTER_TYPE, "pointerOut", !1);
                  },
                  onpointercancel: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.POINTER_TYPE,
                      "pointerCancel",
                      !1
                    );
                  },
                  ongotpointercapture: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.POINTER_TYPE,
                      "gotPointerCapture",
                      !1
                    );
                  },
                  onlostpointercapture: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.POINTER_TYPE,
                      "lostPointerCapture",
                      !1
                    );
                  },
                  onMSPointerDown: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.MS_POINTER_TYPE,
                      "pointerDown",
                      !1
                    );
                  },
                  onMSPointerUp: function (e) {
                    La.batchWindowEvent(e, Ia.MS_POINTER_TYPE, "pointerUp", !0);
                  },
                  onMSPointerMove: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.MS_POINTER_TYPE,
                      "pointerMove",
                      !1
                    );
                  },
                  onMSPointerOver: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.MS_POINTER_TYPE,
                      "pointerOver",
                      !1
                    );
                  },
                  onMSPointerOut: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.MS_POINTER_TYPE,
                      "pointerOut",
                      !1
                    );
                  },
                  onMSPointerCancel: function (e) {
                    La.batchWindowEvent(
                      e,
                      Ia.MS_POINTER_TYPE,
                      "pointerCancel",
                      !1
                    );
                  },
                  ontouchstart: function (e) {
                    La.batchWindowEvent(e, Ia.TOUCH_TYPE, "touchStart", !1);
                  },
                  ontouchend: function (e) {
                    hp.userGestureEmitter.emit(),
                      La.batchWindowEvent(e, Ia.TOUCH_TYPE, "touchEnd", !0);
                  },
                  ontouchmove: function (e) {
                    La.batchWindowEvent(e, Ia.TOUCH_TYPE, "touchMove", !1);
                  },
                  ontouchcancel: function (e) {
                    La.batchWindowEvent(e, Ia.TOUCH_TYPE, "touchCancel", !1);
                  },
                  onmousedown: function (e) {
                    hp.userGestureEmitter.emit(),
                      La.batchWindowEvent(e, Ia.MOUSE_TYPE, "mouseDown", !1);
                  },
                  onmouseup: function (e) {
                    hp.userGestureEmitter.emit(),
                      La.batchWindowEvent(e, Ia.MOUSE_TYPE, "mouseUp", !0);
                  },
                  onmousemove: function (e) {
                    La.batchWindowEvent(e, Ia.MOUSE_TYPE, "mouseMove", !1);
                  },
                  onmouseover: function (e) {
                    La.batchWindowEvent(e, Ia.MOUSE_TYPE, "mouseOver", !1);
                  },
                  onmouseout: function (e) {
                    La.batchWindowEvent(e, Ia.MOUSE_TYPE, "mouseOut", !1);
                  },
                  onwheel: function (e) {
                    La.batchWindowEvent(e, Ia.WHEEL_TYPE, "wheel", !1);
                  },
                  onfocusin: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "focusIn", !0);
                  },
                  onfocusout: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "focusOut", !0);
                  },
                  oninput: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "input", !0);
                  },
                  onchange: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "change", !0);
                  },
                  onclick: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "click", !0);
                  },
                  onkeydown: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "keyDown", !0);
                  },
                  onkeyup: function (e) {
                    La.batchWindowEvent(e, Ia.ALT_TYPE, "keyUp", !0);
                  },
                };
                G.register("BrowserEvents", La);
                const Ba = La;
                class Ma {
                  constructor(e, t) {
                    (this.display = e),
                      (this.touches = []),
                      (this.nextTouchID = 1),
                      (this.isMouseDown = !1),
                      (this.mousePosition = new Me.Z(0, 0)),
                      (this.random = new Mo.Z({ seed: t })),
                      (this.mouseToggleAction = () => {
                        this.mouseToggle();
                      }),
                      (this.mouseMoveAction = () => {
                        this.mouseMove();
                      }),
                      (this.touchStartAction = () => {
                        const e = this.createTouch(this.getRandomPosition());
                        this.touchStart(e);
                      }),
                      (this.touchMoveAction = () => {
                        const e = this.random.sample(this.touches);
                        this.touchMove(e);
                      }),
                      (this.touchEndAction = () => {
                        const e = this.random.sample(this.touches);
                        this.touchEnd(e), this.removeTouch(e);
                      }),
                      (this.touchCancelAction = () => {
                        const e = this.random.sample(this.touches);
                        this.touchCancel(e), this.removeTouch(e);
                      });
                  }
                  fuzzEvents(e, t, i, s) {
                    for (
                      this.display._input.currentlyFiringEvents = !0;
                      this.random.nextDouble() < 1 - 1 / (e + 1);

                    ) {
                      const e =
                          this.touches.length + (this.isMouseDown ? 1 : 0) < s,
                        n = [];
                      t &&
                        (this.isMouseDown || e) &&
                        (n.push(this.mouseToggleAction),
                        n.push(this.mouseMoveAction)),
                        i &&
                          (e && n.push(this.touchStartAction),
                          this.touches.length &&
                            (n.push(
                              this.random.nextDouble() < 0.8
                                ? this.touchEndAction
                                : this.touchCancelAction
                            ),
                            n.push(this.touchMoveAction))),
                        this.random.sample(n)();
                    }
                    (this.display._input.currentlyFiringEvents = !1),
                      this.display._input.fireBatchedEvents();
                  }
                  createTouchEvent(e, t) {
                    const i = this.display.domElement,
                      s = t.map((e) => ({
                        identifier: e.id,
                        target: i,
                        clientX: e.position.x,
                        clientY: e.position.y,
                      }));
                    if (
                      void 0 !== window.Touch &&
                      void 0 !== window.TouchEvent &&
                      1 === window.Touch.length &&
                      1 === window.TouchEvent.length
                    ) {
                      const t = s.map((e) => new window.Touch(e));
                      return new window.TouchEvent(e, {
                        cancelable: !0,
                        bubbles: !0,
                        touches: t,
                        targetTouches: [],
                        changedTouches: t,
                        shiftKey: !1,
                      });
                    }
                    {
                      const t = document.createEvent("CustomEvent");
                      return (
                        t.initCustomEvent(e, !0, !0, {
                          touches: s,
                          targetTouches: [],
                          changedTouches: s,
                        }),
                        t
                      );
                    }
                  }
                  getRandomPosition() {
                    return new Me.Z(
                      Math.floor(this.random.nextDouble() * this.display.width),
                      Math.floor(this.random.nextDouble() * this.display.height)
                    );
                  }
                  createTouch(e) {
                    const t = { id: this.nextTouchID++, position: e };
                    return this.touches.push(t), t;
                  }
                  removeTouch(e) {
                    this.touches.splice(this.touches.indexOf(e), 1);
                  }
                  touchStart(e) {
                    const t = this.createTouchEvent("touchstart", [e]);
                    this.display._input.validatePointers(),
                      this.display._input.touchStart(e.id, e.position, t);
                  }
                  touchMove(e) {
                    e.position = this.getRandomPosition();
                    const t = this.createTouchEvent("touchmove", [e]);
                    this.display._input.validatePointers(),
                      this.display._input.touchMove(e.id, e.position, t);
                  }
                  touchEnd(e) {
                    const t = this.createTouchEvent("touchend", [e]);
                    this.display._input.validatePointers(),
                      this.display._input.touchEnd(e.id, e.position, t);
                  }
                  touchCancel(e) {
                    const t = this.createTouchEvent("touchcancel", [e]);
                    this.display._input.validatePointers(),
                      this.display._input.touchCancel(e.id, e.position, t);
                  }
                  mouseToggle() {
                    const e = document.createEvent("MouseEvent");
                    e.initMouseEvent(
                      this.isMouseDown ? "mouseup" : "mousedown",
                      !0,
                      !0,
                      window,
                      1,
                      this.mousePosition.x,
                      this.mousePosition.y,
                      this.mousePosition.x,
                      this.mousePosition.y,
                      !1,
                      !1,
                      !1,
                      !1,
                      0,
                      null
                    ),
                      this.display._input.validatePointers(),
                      this.isMouseDown
                        ? (this.display._input.mouseUp(this.mousePosition, e),
                          (this.isMouseDown = !1))
                        : (this.display._input.mouseDown(
                            null,
                            this.mousePosition,
                            e
                          ),
                          (this.isMouseDown = !0));
                  }
                  mouseMove() {
                    this.mousePosition = this.getRandomPosition();
                    const e = document.createEvent("MouseEvent");
                    e.initMouseEvent(
                      "mousemove",
                      !0,
                      !0,
                      window,
                      0,
                      this.mousePosition.x,
                      this.mousePosition.y,
                      this.mousePosition.x,
                      this.mousePosition.y,
                      !1,
                      !1,
                      !1,
                      !1,
                      0,
                      null
                    ),
                      this.display._input.validatePointers(),
                      this.display._input.mouseMove(this.mousePosition, e);
                  }
                }
                G.register("InputFuzzer", Ma);
                const Na = Ma;
                class Ra extends ye.Z {
                  constructor(e) {
                    super((e = (0, kt.Z)({ mouseButton: 0 }, e))),
                      (this.options = e),
                      (this.isDown = !1),
                      (this.downCurrentTarget = null),
                      (this.downTrail = null),
                      (this.pointer = null),
                      (this.interrupted = !1),
                      (this.downListener = {
                        up: (e) => {
                          (e.pointer instanceof fa &&
                            e.domEvent.button !== this.options.mouseButton) ||
                            this.buttonUp(e);
                        },
                        interrupt: () => {
                          this.interrupt();
                        },
                        cancel: (e) => {
                          this.buttonUp(e);
                        },
                      });
                  }
                  buttonDown(e) {
                    this.isDown ||
                      (e.pointer instanceof fa &&
                        e.domEvent.button !== this.options.mouseButton) ||
                      (e.pointer.addInputListener(this.downListener),
                      (this.isDown = !0),
                      (this.downCurrentTarget = e.currentTarget),
                      (this.downTrail = e.trail.subtrailTo(
                        e.currentTarget,
                        !1
                      )),
                      (this.pointer = e.pointer),
                      this.options.down &&
                        this.options.down(e, this.downTrail));
                  }
                  buttonUp(e) {
                    (this.isDown = !1),
                      this.pointer.removeInputListener(this.downListener);
                    const t = e.currentTarget;
                    if (
                      ((e.currentTarget = this.downCurrentTarget),
                      this.options.upInside || this.options.upOutside)
                    ) {
                      const t =
                        e.trail.isExtensionOf(this.downTrail, !0) &&
                        !this.interrupted;
                      t && this.options.upInside
                        ? this.options.upInside(e, this.downTrail)
                        : !t &&
                          this.options.upOutside &&
                          this.options.upOutside(e, this.downTrail);
                    }
                    this.options.up && this.options.up(e, this.downTrail),
                      (e.currentTarget = t);
                  }
                  down(e) {
                    this.buttonDown(e);
                  }
                  interrupt() {
                    if (this.isDown) {
                      this.interrupted = !0;
                      const e = new Va(
                        new nn(),
                        "synthetic",
                        this.pointer,
                        null
                      );
                      (e.currentTarget = this.downCurrentTarget),
                        this.buttonUp(e),
                        (this.interrupted = !1);
                    }
                  }
                }
                G.register("DownUpListener", Ra);
                const qa = Ra;
                class Fa extends qa {
                  constructor(e) {
                    super({
                      tandem: (e = (0, kt.Z)(
                        {
                          tandem: fe.Z.OPTIONAL,
                          phetioType: Fa.ButtonListenerIO,
                          phetioState: !1,
                          phetioEventType: Cr.Z.USER,
                        },
                        e
                      )).tandem,
                      phetioType: e.phetioType,
                      phetioState: e.phetioState,
                      mouseButton: e.mouseButton || 0,
                      down: (e, t) => {
                        this.setButtonState(e, "down");
                      },
                      up: (e, t) => {
                        this.setButtonState(
                          e,
                          this._overCount > 0 ? "over" : "up"
                        );
                      },
                    }),
                      (this.buttonState = "up"),
                      (this._overCount = 0),
                      (this._buttonOptions = e);
                  }
                  setButtonState(e, t) {
                    if (t !== this.buttonState) {
                      const i = this.buttonState;
                      (this.buttonState = t),
                        this._buttonOptions[t] &&
                          (this.phetioStartEvent(t),
                          this._buttonOptions[t](e, i),
                          this.phetioEndEvent()),
                        this._buttonOptions.fire &&
                          this._overCount > 0 &&
                          !this.interrupted &&
                          (this._buttonOptions.fireOnDown
                            ? "down" === t
                            : "down" === i) &&
                          (this.phetioStartEvent("fire"),
                          this._buttonOptions.fire(e),
                          this.phetioEndEvent());
                    }
                  }
                  enter(e) {
                    this._overCount++,
                      1 === this._overCount &&
                        this.setButtonState(e, this.isDown ? "down" : "over");
                  }
                  exit(e) {
                    this._overCount--,
                      0 === this._overCount &&
                        this.setButtonState(e, this.isDown ? "out" : "up");
                  }
                  focus(e) {
                    this.enter(e);
                  }
                  blur(e) {
                    this.exit(e);
                  }
                  click(e) {
                    this.setButtonState(e, "down"),
                      this.setButtonState(e, "up");
                  }
                }
                G.register("ButtonListener", Fa),
                  (Fa.ButtonListenerIO = new j.Z("ButtonListenerIO", {
                    valueType: Fa,
                    documentation: "Button listener",
                    events: ["up", "over", "down", "out", "fire"],
                  }));
                class Za extends ye.Z {
                  constructor(e) {
                    (e = (0, kt.Z)(
                      {
                        start: null,
                        drag: null,
                        end: null,
                        translate: null,
                        allowTouchSnag: !1,
                        mouseButton: 0,
                        dragCursor: "pointer",
                        attach: !0,
                        tandem: fe.Z.REQUIRED,
                        phetioState: !1,
                        phetioEventType: Cr.Z.USER,
                        phetioReadOnly: !0,
                      },
                      e
                    )),
                      super(),
                      (this.options = e),
                      (this.isDraggingProperty = new Dt.Z(!1, {
                        phetioReadOnly: e.phetioReadOnly,
                        phetioState: !1,
                        tandem: e.tandem.createTandem("isDraggingProperty"),
                        phetioDocumentation:
                          "Indicates whether the object is dragging",
                      })),
                      (this.pointer = null),
                      (this.trail = null),
                      (this.transform = null),
                      (this.node = null),
                      (this.lastDragPoint = null),
                      (this.startTransformMatrix = null),
                      (this.mouseButton = void 0),
                      (this.interrupted = !1),
                      (this.lastInterruptedTouchLikePointer = null),
                      (this._attach = e.attach),
                      (this.dragStartAction = new Tr.Z(
                        (e, t) => {
                          this.dragging ||
                            (this._attach && (t.pointer.dragging = !0),
                            (t.pointer.cursor = this.options.dragCursor),
                            t.pointer.addInputListener(
                              this.dragListener,
                              this.options.attach
                            ),
                            t.pointer.reserveForDrag(),
                            this.isDraggingProperty.set(!0),
                            (this.pointer = t.pointer),
                            (this.trail = t.trail.subtrailTo(
                              t.currentTarget,
                              !0
                            )),
                            (this.transform = this.trail.getTransform()),
                            (this.node = t.currentTarget),
                            (this.lastDragPoint = t.pointer.point),
                            (this.startTransformMatrix = t.currentTarget
                              .getMatrix()
                              .copy()),
                            (this.mouseButton =
                              t.pointer instanceof fa
                                ? t.domEvent.button
                                : void 0),
                            this.options.start &&
                              this.options.start.call(null, t, this.trail));
                        },
                        {
                          tandem: e.tandem.createTandem("dragStartAction"),
                          phetioReadOnly: e.phetioReadOnly,
                          parameters: [
                            {
                              name: "point",
                              phetioType: Me.Z.Vector2IO,
                              phetioDocumentation:
                                "the position of the drag start in view coordinates",
                            },
                            { phetioPrivate: !0, valueType: [Va, null] },
                          ],
                        }
                      )),
                      (this.dragAction = new Tr.Z(
                        (e, t) => {
                          if (!this.dragging || this.isDisposed) return;
                          const i = this.pointer.point.minus(
                            this.lastDragPoint
                          );
                          if (0 === i.magnitudeSquared) return;
                          const s = this.transform.inverseDelta2(i);
                          if (this.options.translate) {
                            const e = this.node.getMatrix().getTranslation();
                            this.options.translate.call(null, {
                              delta: s,
                              oldPosition: e,
                              position: e.plus(s),
                            });
                          }
                          if (
                            ((this.lastDragPoint = this.pointer.point),
                            this.options.drag)
                          ) {
                            const e = t.currentTarget;
                            (t.currentTarget = this.node),
                              this.options.drag.call(null, t, this.trail),
                              (t.currentTarget = e);
                          }
                        },
                        {
                          phetioHighFrequency: !0,
                          phetioReadOnly: e.phetioReadOnly,
                          tandem: e.tandem.createTandem("dragAction"),
                          parameters: [
                            {
                              name: "point",
                              phetioType: Me.Z.Vector2IO,
                              phetioDocumentation:
                                "the position of the drag in view coordinates",
                            },
                            { phetioPrivate: !0, valueType: [Va, null] },
                          ],
                        }
                      )),
                      (this.dragEndAction = new Tr.Z(
                        (e, t) => {
                          this.dragging &&
                            (this._attach && (this.pointer.dragging = !1),
                            (this.pointer.cursor = null),
                            this.pointer.removeInputListener(this.dragListener),
                            this.isDraggingProperty.set(!1),
                            this.options.end &&
                              this.options.end.call(null, t, this.trail),
                            (this.pointer = null));
                        },
                        {
                          tandem: e.tandem.createTandem("dragEndAction"),
                          phetioReadOnly: e.phetioReadOnly,
                          parameters: [
                            {
                              name: "point",
                              phetioType: Me.Z.Vector2IO,
                              phetioDocumentation:
                                "the position of the drag end in view coordinates",
                            },
                            {
                              phetioPrivate: !0,
                              isValidValue: (e) =>
                                null === e ||
                                e instanceof Va ||
                                (e.pointer && e.currentTarget),
                            },
                          ],
                        }
                      )),
                      (this.transformListener = {
                        transform: (e) => {
                          if (!this.trail.isExtensionOf(e.trail, !0)) return;
                          const t = e.trail.getMatrix(),
                            i = this.transform.getMatrix();
                          this.node.prependMatrix(t.inverted().timesMatrix(i)),
                            this.transform.setMatrix(t);
                        },
                      }),
                      (this.dragListener = {
                        up: (e) => {
                          if (
                            this.dragging &&
                            !this.isDisposed &&
                            (!(e.pointer instanceof fa) ||
                              e.domEvent.button === this.mouseButton)
                          ) {
                            const t = e.currentTarget;
                            (e.currentTarget = this.node),
                              this.endDrag(e),
                              (e.currentTarget = t);
                          }
                        },
                        cancel: (e) => {
                          if (!this.dragging || this.isDisposed) return;
                          const t = e.currentTarget;
                          (e.currentTarget = this.node),
                            this.endDrag(e),
                            (e.currentTarget = t),
                            this.transform ||
                              this.node.setMatrix(this.startTransformMatrix);
                        },
                        move: (e) => {
                          this.dragAction.execute(e.pointer.point, e);
                        },
                        interrupt: () => {
                          this.interrupt();
                        },
                      }),
                      this.initializePhetioObject({}, e);
                  }
                  get dragging() {
                    return this.isDraggingProperty.get();
                  }
                  set dragging(e) {}
                  startDrag(e) {
                    this.dragStartAction.execute(e.pointer.point, e);
                  }
                  endDrag(e) {
                    this.dragEndAction.execute(
                      e ? e.pointer.point : Me.Z.ZERO,
                      e
                    );
                  }
                  interrupt() {
                    this.dragging &&
                      ((this.interrupted = !0),
                      this.pointer &&
                        this.pointer.isTouchLike() &&
                        (this.lastInterruptedTouchLikePointer = this.pointer),
                      this.endDrag({
                        pointer: this.pointer,
                        currentTarget: this.node,
                      }),
                      (this.interrupted = !1));
                  }
                  tryToSnag(e) {
                    (e.pointer instanceof fa &&
                      e.domEvent &&
                      this.options.mouseButton !== e.domEvent.button &&
                      -1 !== this.options.mouseButton) ||
                      this.isDisposed ||
                      this.dragging ||
                      (e.pointer.dragging && this._attach) ||
                      e.pointer === this.lastInterruptedTouchLikePointer ||
                      !e.canStartPress() ||
                      this.startDrag(e);
                  }
                  tryTouchToSnag(e) {
                    this.options.allowTouchSnag &&
                      (!0 === this.options.allowTouchSnag ||
                        this.options.allowTouchSnag(e)) &&
                      this.tryToSnag(e);
                  }
                  down(e) {
                    this.tryToSnag(e);
                  }
                  touchenter(e) {
                    this.tryTouchToSnag(e);
                  }
                  touchmove(e) {
                    this.tryTouchToSnag(e);
                  }
                  dispose() {
                    this.dragging &&
                      (this._attach && (this.pointer.dragging = !1),
                      (this.pointer.cursor = null),
                      this.pointer.removeInputListener(this.dragListener)),
                      this.isDraggingProperty.dispose(),
                      this.dragEndAction.dispose(),
                      this.dragAction.dispose(),
                      this.dragStartAction.dispose(),
                      super.dispose();
                  }
                  static createForwardingListener(e, t) {
                    return (
                      (t = (0, kt.Z)({ allowTouchSnag: !1 }, t)),
                      {
                        down: (t) => {
                          !t.pointer.dragging && t.canStartPress() && e(t);
                        },
                        touchenter: function (e) {
                          t.allowTouchSnag && this.down(e);
                        },
                        touchmove: function (e) {
                          t.allowTouchSnag && this.down(e);
                        },
                      }
                    );
                  }
                }
                G.register("SimpleDragHandler", Za);
                var Ha = i(4317),
                  Ya = i(1453);
                let Ga = 0;
                const Wa = _.constant(!0);
                class za extends Ha.Z {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        press: _.noop,
                        release: _.noop,
                        targetNode: null,
                        drag: _.noop,
                        attach: !0,
                        mouseButton: 0,
                        pressCursor: "pointer",
                        useInputListenerCursor: !1,
                        canStartPress: Wa,
                        a11yLooksPressedInterval: 100,
                        collapseDragEvents: !1,
                        phetioEnabledPropertyInstrumented: !1,
                        tandem: fe.Z.REQUIRED,
                        phetioReadOnly: !0,
                        phetioFeatured: ye.Z.DEFAULT_OPTIONS.phetioFeatured,
                      },
                      e
                    );
                    super(t),
                      (this._id = Ga++),
                      (this._mouseButton = t.mouseButton),
                      (this._a11yLooksPressedInterval =
                        t.a11yLooksPressedInterval),
                      (this._pressCursor = t.pressCursor),
                      (this._pressListener = t.press),
                      (this._releaseListener = t.release),
                      (this._dragListener = t.drag),
                      (this._canStartPress = t.canStartPress),
                      (this._targetNode = t.targetNode),
                      (this._attach = t.attach),
                      (this._collapseDragEvents = t.collapseDragEvents),
                      (this.overPointers = (0, Ya.Z)()),
                      (this.isPressedProperty = new Dt.Z(!1, {
                        reentrant: !0,
                      })),
                      (this.isOverProperty = new Dt.Z(!1)),
                      (this.looksOverProperty = new Dt.Z(!1)),
                      (this.isHoveringProperty = new Dt.Z(!1)),
                      (this.isHighlightedProperty = new Dt.Z(!1)),
                      (this.isFocusedProperty = new Dt.Z(!1)),
                      (this.cursorProperty = new po.ZP(
                        [this.enabledProperty],
                        (e) =>
                          t.useInputListenerCursor && e && this._attach
                            ? this._pressCursor
                            : null
                      )),
                      (this.pointer = null),
                      (this.pressedTrail = null),
                      (this.interrupted = !1),
                      (this._pendingCollapsedDragEvent = null),
                      (this._listeningToPointer = !1),
                      (this._isHoveringListener =
                        this.invalidateHovering.bind(this)),
                      (this._isHighlightedListener =
                        this.invalidateHighlighted.bind(this)),
                      (this.pdomClickingProperty = new Dt.Z(!1)),
                      (this.looksPressedProperty = po.ZP.or([
                        this.pdomClickingProperty,
                        this.isPressedProperty,
                      ])),
                      (this._pdomClickingTimeoutListener = null),
                      (this._pointerListener = {
                        up: this.pointerUp.bind(this),
                        cancel: this.pointerCancel.bind(this),
                        move: this.pointerMove.bind(this),
                        interrupt: this.pointerInterrupt.bind(this),
                        listener: this,
                      }),
                      (this._pressAction = new Tr.Z(this.onPress.bind(this), {
                        tandem: t.tandem.createTandem("pressAction"),
                        phetioDocumentation:
                          "Executes whenever a press occurs. The first argument when executing can be used to convey info about the SceneryEvent.",
                        phetioReadOnly: !0,
                        phetioFeatured: t.phetioFeatured,
                        phetioEventType: Cr.Z.USER,
                        parameters: [
                          { name: "event", phetioType: Va.SceneryEventIO },
                          { phetioPrivate: !0, valueType: [Ds, null] },
                          { phetioPrivate: !0, valueType: ["function", null] },
                        ],
                      })),
                      (this._releaseAction = new Tr.Z(
                        this.onRelease.bind(this),
                        {
                          parameters: [
                            {
                              name: "event",
                              phetioType: (0, at.Z)(Va.SceneryEventIO),
                            },
                            {
                              phetioPrivate: !0,
                              valueType: ["function", null],
                            },
                          ],
                          tandem: t.tandem.createTandem("releaseAction"),
                          phetioDocumentation:
                            "Executes whenever a release occurs.",
                          phetioReadOnly: !0,
                          phetioFeatured: t.phetioFeatured,
                          phetioEventType: Cr.Z.USER,
                        }
                      )),
                      (this.display = null),
                      (this.boundInvalidateOverListener =
                        this.invalidateOver.bind(this)),
                      this.overPointers.lengthProperty.link(
                        this.invalidateOver.bind(this)
                      ),
                      this.isFocusedProperty.link(
                        this.invalidateOver.bind(this)
                      ),
                      this.overPointers.lengthProperty.link(
                        this._isHoveringListener
                      ),
                      this.isPressedProperty.link(this._isHoveringListener),
                      this.overPointers.addItemAddedListener((e) =>
                        e.isDownProperty.link(this._isHoveringListener)
                      ),
                      this.overPointers.addItemRemovedListener((e) =>
                        e.isDownProperty.unlink(this._isHoveringListener)
                      ),
                      this.isHoveringProperty.link(this._isHighlightedListener),
                      this.isPressedProperty.link(this._isHighlightedListener),
                      this.enabledProperty.lazyLink(
                        this.onEnabledPropertyChange.bind(this)
                      );
                  }
                  get isPressed() {
                    return this.isPressedProperty.value;
                  }
                  get cursor() {
                    return this.cursorProperty.value;
                  }
                  get attach() {
                    return this._attach;
                  }
                  get targetNode() {
                    return this._targetNode;
                  }
                  getCurrentTarget() {
                    return this.pressedTrail.lastNode();
                  }
                  get currentTarget() {
                    return this.getCurrentTarget();
                  }
                  canPress(e) {
                    return (
                      !!this.enabledProperty.value &&
                      !this.isPressed &&
                      this._canStartPress(e, this) &&
                      (!(e.pointer instanceof fa) ||
                        e.domEvent.button === this._mouseButton) &&
                      (!this._attach || !e.pointer.isAttached())
                    );
                  }
                  canClick() {
                    return (
                      this.enabledProperty.value &&
                      !this.isPressed &&
                      this._canStartPress(null, this)
                    );
                  }
                  press(e, t, i) {
                    return (
                      !!this.canPress(e) &&
                      (this.flushCollapsedDrag(),
                      this._pressAction.execute(e, t || null, i || null),
                      !0)
                    );
                  }
                  release(e, t) {
                    this.flushCollapsedDrag(),
                      this._releaseAction.execute(e || null, t || null);
                  }
                  drag(e) {
                    this._dragListener(e, this);
                  }
                  interrupt() {
                    this.pdomClickingProperty.value
                      ? ((this.interrupted = !0),
                        this._listeningToPointer
                          ? this.release()
                          : ((this.isPressedProperty.value = !1),
                            this._releaseListener(null, this)),
                        xr.Z.hasListener(this._pdomClickingTimeoutListener) &&
                          (xr.Z.clearTimeout(this._pdomClickingTimeoutListener),
                          this.pdomClickingProperty.isDisposed ||
                            (this.pdomClickingProperty.value = !1)))
                      : this.isPressed &&
                        ((this.interrupted = !0), this.release());
                  }
                  clearOverPointers() {
                    this.overPointers.clear();
                  }
                  step() {
                    this.flushCollapsedDrag();
                  }
                  setCreatePanTargetBounds(e) {
                    this._pointerListener.createPanTargetBounds = e;
                  }
                  set createPanTargetBounds(e) {
                    this.setCreatePanTargetBounds(e);
                  }
                  setCreatePanTargetBoundsFromTrail(e) {
                    this.setCreatePanTargetBounds(() =>
                      e.localToGlobalBounds(e.lastNode().localBounds)
                    );
                  }
                  set createPanTargetBoundsFromTrail(e) {
                    this.setCreatePanTargetBoundsFromTrail(e);
                  }
                  flushCollapsedDrag() {
                    this._pendingCollapsedDragEvent &&
                      this.drag(this._pendingCollapsedDragEvent),
                      (this._pendingCollapsedDragEvent = null);
                  }
                  invalidateOver() {
                    let e = !1;
                    if (this._listeningToPointer) e = !1;
                    else
                      for (let t = 0; t < this.overPointers.length; t++)
                        if (this.overPointers.get(t).isAttached()) {
                          e = !0;
                          break;
                        }
                    (this.isOverProperty.value =
                      this.overPointers.length > 0 && !e),
                      (this.looksOverProperty.value =
                        this.isOverProperty.value ||
                        (this.isFocusedProperty.value &&
                          !!this.display &&
                          this.display.focusManager
                            .pdomFocusHighlightsVisibleProperty.value));
                  }
                  invalidateHovering() {
                    for (let e = 0; e < this.overPointers.length; e++) {
                      const t = this.overPointers[e];
                      if (!t.isDown || t === this.pointer)
                        return void (this.isHoveringProperty.value = !0);
                    }
                    this.isHoveringProperty.value = !1;
                  }
                  invalidateHighlighted() {
                    this.isHighlightedProperty.value =
                      this.isHoveringProperty.value ||
                      this.isPressedProperty.value;
                  }
                  onEnabledPropertyChange(e) {
                    !e && this.interrupt();
                  }
                  onPress(e, t, i) {
                    const s = t || this._targetNode;
                    (this.pointer = e.pointer),
                      (this.pressedTrail = s
                        ? s.getUniqueTrail()
                        : e.trail.subtrailTo(e.currentTarget, !1)),
                      (this.interrupted = !1),
                      this.pointer.addInputListener(
                        this._pointerListener,
                        this._attach
                      ),
                      (this._listeningToPointer = !0),
                      (this.pointer.cursor =
                        this.pressedTrail.lastNode().getEffectiveCursor() ||
                        this._pressCursor),
                      (this.isPressedProperty.value = !0),
                      this._pressListener(e, this),
                      i && i();
                  }
                  onRelease(e, t) {
                    this.pointer.removeInputListener(this._pointerListener),
                      (this._listeningToPointer = !1),
                      (this.isPressedProperty.value = !1),
                      this._releaseListener(e, this),
                      t && t(),
                      (this.pointer.cursor = null),
                      (this.pointer = null),
                      (this.pressedTrail = null);
                  }
                  down(e) {
                    this.press(e);
                  }
                  up(e) {
                    this.invalidateOver(), this.invalidateHovering();
                  }
                  enter(e) {
                    this.overPointers.push(e.pointer);
                  }
                  move(e) {
                    this.invalidateOver();
                  }
                  exit(e) {
                    this.overPointers.includes(e.pointer) &&
                      this.overPointers.remove(e.pointer);
                  }
                  pointerUp(e) {
                    this.isPressed && this.release(e);
                  }
                  pointerCancel(e) {
                    this.isPressed && this.interrupt();
                  }
                  pointerMove(e) {
                    this.isPressed &&
                      (this._collapseDragEvents
                        ? (this._pendingCollapsedDragEvent = e)
                        : this.drag(e));
                  }
                  pointerInterrupt() {
                    this.interrupt();
                  }
                  click(e, t) {
                    return (
                      this.canClick() &&
                        ((this.interrupted = !1),
                        (this.pdomClickingProperty.value = !0),
                        (this.isFocusedProperty.value = !0),
                        (this.isPressedProperty.value = !0),
                        this._pressListener(e, this),
                        t && t(),
                        (this.isPressedProperty.value = !1),
                        this._releaseListener(e, this),
                        xr.Z.clearTimeout(this._pdomClickingTimeoutListener),
                        (this._pdomClickingTimeoutListener = xr.Z.setTimeout(
                          () => {
                            this.pdomClickingProperty.isDisposed ||
                              (this.pdomClickingProperty.value = !1);
                          },
                          this._a11yLooksPressedInterval
                        ))),
                      !0
                    );
                  }
                  focus(e) {
                    const t = e.trail
                      .rootNode()
                      .getRootedDisplays()
                      .filter((e) => e.isAccessible());
                    (this.display = t[0]),
                      this.display.focusManager.pdomFocusHighlightsVisibleProperty.hasListener(
                        this.boundInvalidateOverListener
                      ) ||
                        this.display.focusManager.pdomFocusHighlightsVisibleProperty.link(
                          this.boundInvalidateOverListener
                        ),
                      (this.isFocusedProperty.value = !0);
                  }
                  blur() {
                    this.display &&
                      (this.display.focusManager.pdomFocusHighlightsVisibleProperty.hasListener(
                        this.boundInvalidateOverListener
                      ) &&
                        this.display.focusManager.pdomFocusHighlightsVisibleProperty.unlink(
                          this.boundInvalidateOverListener
                        ),
                      (this.display = null)),
                      (this.isFocusedProperty.value = !1);
                  }
                  dispose() {
                    this.overPointers.clear(),
                      this._listeningToPointer &&
                        this.isPressed &&
                        this.pointer.removeInputListener(this._pointerListener),
                      this.isPressedProperty.isDisposed ||
                        (this.isPressedProperty.unlink(
                          this._isHighlightedListener
                        ),
                        this.isPressedProperty.unlink(
                          this._isHoveringListener
                        )),
                      !this.isHoveringProperty.isDisposed &&
                        this.isHoveringProperty.unlink(
                          this._isHighlightedListener
                        ),
                      this.overPointers.dispose(),
                      this.isPressedProperty.dispose(),
                      this.isOverProperty.dispose(),
                      this.isHoveringProperty.dispose(),
                      this.isHighlightedProperty.dispose(),
                      this.isFocusedProperty.dispose(),
                      this.pdomClickingProperty.dispose(),
                      this.looksPressedProperty.dispose(),
                      this._pressAction.dispose(),
                      this._releaseAction.dispose(),
                      this.display &&
                        (this.display.focusManager.pdomFocusHighlightsVisibleProperty.unlink(
                          this.boundInvalidateOverListener
                        ),
                        (this.display = null)),
                      super.dispose();
                  }
                }
                _defineProperty(za, "phetioAPI", {
                  pressAction: {
                    phetioType: Tr.Z.PhetioActionIO([Va.SceneryEventIO]),
                  },
                  releaseAction: {
                    phetioType: Tr.Z.PhetioActionIO([
                      (0, at.Z)(Va.SceneryEventIO),
                    ]),
                  },
                }),
                  G.register("PressListener", za);
                var Xa = i(2558);
                class Qa extends za {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        fire: _.noop,
                        fireOnDown: !1,
                        fireOnHold: !1,
                        fireOnHoldDelay: 400,
                        fireOnHoldInterval: 100,
                        tandem: fe.Z.REQUIRED,
                        phetioReadOnly: ye.Z.DEFAULT_OPTIONS.phetioReadOnly,
                      },
                      e
                    );
                    super(t),
                      (this._fireOnDown = t.fireOnDown),
                      (this.firedEmitter = new Er.Z({
                        tandem: t.tandem.createTandem("firedEmitter"),
                        phetioEventType: Cr.Z.USER,
                        phetioReadOnly: t.phetioReadOnly,
                        phetioDocumentation:
                          "Emits at the time that the listener fires",
                        parameters: [
                          {
                            name: "event",
                            phetioType: (0, at.Z)(Va.SceneryEventIO),
                          },
                        ],
                      })),
                      this.firedEmitter.addListener(t.fire),
                      t.fireOnHold &&
                        (this._timer = new Xa.Z({
                          callback: this.fire.bind(this, null),
                          delay: t.fireOnHoldDelay,
                          interval: t.fireOnHoldInterval,
                        }));
                  }
                  fire(e) {
                    this.firedEmitter.emit(e);
                  }
                  press(e, t, i) {
                    return super.press(e, t, () => {
                      this._fireOnDown && this.fire(e),
                        this._timer && this._timer.start(),
                        i && i();
                    });
                  }
                  release(e, t) {
                    super.release(e, () => {
                      const i =
                        !this._fireOnDown &&
                        this.isHoveringProperty.value &&
                        !this.interrupted;
                      this._timer
                        ? this._timer.stop(i)
                        : i && this.fire(e || null),
                        t && t();
                    });
                  }
                  click(e, t) {
                    return super.click(e, () => {
                      this.interrupted || this.fire(e), t && t();
                    });
                  }
                  interrupt() {
                    super.interrupt(), this._timer && this._timer.stop(!1);
                  }
                  dispose() {
                    this.firedEmitter.dispose(),
                      this._timer && this._timer.dispose(),
                      super.dispose();
                  }
                }
                G.register("FireListener", Qa);
                const Ua = new Me.Z(0, 0);
                class ja extends za {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        positionProperty: null,
                        start: null,
                        end: null,
                        transform: null,
                        dragBoundsProperty: null,
                        allowTouchSnag: !0,
                        applyOffset: !0,
                        useParentOffset: !1,
                        trackAncestors: !1,
                        translateNode: !1,
                        mapPosition: null,
                        offsetPosition: null,
                        allowClick: !1,
                        tandem: fe.Z.REQUIRED,
                        phetioReadOnly: !0,
                        phetioFeatured: ye.Z.DEFAULT_OPTIONS.phetioFeatured,
                      },
                      e
                    );
                    super(t),
                      (this._allowTouchSnag = t.allowTouchSnag),
                      (this._applyOffset = t.applyOffset),
                      (this._useParentOffset = t.useParentOffset),
                      (this._trackAncestors = t.trackAncestors),
                      (this._translateNode = t.translateNode),
                      (this._transform = t.transform),
                      (this._positionProperty = t.positionProperty),
                      (this._mapPosition = t.mapPosition),
                      (this._offsetPosition = t.offsetPosition),
                      (this._dragBoundsProperty =
                        t.dragBoundsProperty || new yt.Z(null)),
                      (this._start = t.start),
                      (this._end = t.end),
                      (this._allowClick = t.allowClick),
                      (this.isUserControlledProperty = this.isPressedProperty),
                      (this._globalPoint = new Me.Z(0, 0)),
                      (this._localPoint = new Me.Z(0, 0)),
                      (this._parentPoint = new Me.Z(0, 0)),
                      (this._modelPoint = new Me.Z(0, 0)),
                      (this._modelDelta = new Me.Z(0, 0)),
                      (this._parentOffset = new Me.Z(0, 0)),
                      (this._transformTracker = null),
                      (this._transformTrackerListener =
                        this.ancestorTransformed.bind(this)),
                      (this._lastInterruptedTouchLikePointer = null),
                      (this._dragAction = new Tr.Z(
                        (e) => {
                          const t = this.pointer.point;
                          t &&
                            (this._globalPoint.equals(t) || this.reposition(t)),
                            za.prototype.drag.call(this, e);
                        },
                        {
                          parameters: [
                            { name: "event", phetioType: Va.SceneryEventIO },
                          ],
                          phetioFeatured: t.phetioFeatured,
                          tandem: t.tandem.createTandem("dragAction"),
                          phetioHighFrequency: !0,
                          phetioDocumentation:
                            "Emits whenever a drag occurs with an SceneryEventIO argument.",
                          phetioReadOnly: t.phetioReadOnly,
                          phetioEventType: Cr.Z.USER,
                        }
                      ));
                  }
                  press(e, t, i) {
                    return super.press(e, t, () => {
                      this.pointer.reserveForDrag(),
                        this.attachTransformTracker();
                      const t = this.pointer.point,
                        s = this.globalToParentPoint(this._localPoint.set(t));
                      this._useParentOffset &&
                        this.modelToParentPoint(
                          this._parentOffset.set(this._positionProperty.value)
                        ).subtract(s),
                        this.parentToLocalPoint(s),
                        this.reposition(t),
                        this._start && this._start(e, this),
                        i && i();
                    });
                  }
                  release(e, t) {
                    super.release(e, () => {
                      this.detachTransformTracker(),
                        this._end && this._end(e || null, this),
                        t && t();
                    });
                  }
                  canClick() {
                    return super.canClick() && this._allowClick;
                  }
                  click(e, t) {
                    return super.click(e, () => {
                      this._start && this._start(e, this),
                        t && t(),
                        this._end && this._end(e, this);
                    });
                  }
                  drag(e) {
                    const t = this.pointer.point;
                    t &&
                      !this._globalPoint.equals(t) &&
                      this._dragAction.execute(e);
                  }
                  tryTouchSnag(e) {
                    !this._allowTouchSnag ||
                      (this.attach && e.pointer.isAttached()) ||
                      this.press(e);
                  }
                  getGlobalPoint() {
                    return this._globalPoint.copy();
                  }
                  get globalPoint() {
                    return this.getGlobalPoint();
                  }
                  getLocalPoint() {
                    return this._localPoint.copy();
                  }
                  get localPoint() {
                    return this.getLocalPoint();
                  }
                  getParentPoint() {
                    return this._parentPoint.copy();
                  }
                  get parentPoint() {
                    return this.getParentPoint();
                  }
                  getModelPoint() {
                    return this._modelPoint.copy();
                  }
                  get modelPoint() {
                    return this.getModelPoint();
                  }
                  getModelDelta() {
                    return this._modelDelta.copy();
                  }
                  get modelDelta() {
                    return this.getModelDelta();
                  }
                  globalToParentPoint(e) {
                    const t = this;
                    return (
                      t.pressedTrail
                        .getParentTransform()
                        .getInverse()
                        .multiplyVector2(e),
                      e
                    );
                  }
                  parentToLocalPoint(e) {
                    const t = this;
                    return (
                      t.pressedTrail
                        .lastNode()
                        .getTransform()
                        .getInverse()
                        .multiplyVector2(e),
                      e
                    );
                  }
                  localToParentPoint(e) {
                    const t = this;
                    return (
                      t.pressedTrail.lastNode().getMatrix().multiplyVector2(e),
                      e
                    );
                  }
                  parentToModelPoint(e) {
                    return (
                      this._transform &&
                        this._transform.getInverse().multiplyVector2(e),
                      e
                    );
                  }
                  modelToParentPoint(e) {
                    return (
                      this._transform &&
                        this._transform.getMatrix().multiplyVector2(e),
                      e
                    );
                  }
                  mapModelPoint(e) {
                    return this._mapPosition
                      ? this._mapPosition(e)
                      : this._dragBoundsProperty.value
                      ? this._dragBoundsProperty.value.closestPointTo(e)
                      : e;
                  }
                  applyParentOffset(e) {
                    this._offsetPosition &&
                      e.add(this._offsetPosition(e, this)),
                      this._applyOffset &&
                        (this._useParentOffset
                          ? e.add(this._parentOffset)
                          : (e.subtract(
                              this.localToParentPoint(Ua.set(this._localPoint))
                            ),
                            e.add(this.localToParentPoint(Ua.setXY(0, 0)))));
                  }
                  reposition(e) {
                    const t = this;
                    this._globalPoint.set(e),
                      this.applyParentOffset(
                        this.globalToParentPoint(this._parentPoint.set(e))
                      ),
                      this._modelDelta.set(this._modelPoint).negate(),
                      this._modelPoint.set(
                        this.mapModelPoint(
                          this.parentToModelPoint(Ua.set(this._parentPoint))
                        )
                      ),
                      this._modelDelta.add(this._modelPoint),
                      this.modelToParentPoint(
                        this._parentPoint.set(this._modelPoint)
                      ),
                      this._translateNode &&
                        (t.pressedTrail.lastNode().translation =
                          this._parentPoint),
                      this._positionProperty &&
                        (this._positionProperty.value =
                          this._modelPoint.copy());
                  }
                  touchenter(e) {
                    this.tryTouchSnag(e);
                  }
                  touchmove(e) {
                    this.tryTouchSnag(e);
                  }
                  ancestorTransformed() {
                    const e = this.pointer.point;
                    e && this.reposition(e);
                  }
                  attachTransformTracker() {
                    const e = this;
                    this._trackAncestors &&
                      ((this._transformTracker = new Ar(
                        e.pressedTrail.copy().removeDescendant()
                      )),
                      this._transformTracker.addListener(
                        this._transformTrackerListener
                      ));
                  }
                  detachTransformTracker() {
                    this._transformTracker &&
                      (this._transformTracker.removeListener(
                        this._transformTrackerListener
                      ),
                      this._transformTracker.dispose(),
                      (this._transformTracker = null));
                  }
                  getDragBounds() {
                    return this._dragBoundsProperty.value;
                  }
                  get dragBounds() {
                    return this.getDragBounds();
                  }
                  setTransform(e) {
                    this._transform = e;
                  }
                  set transform(e) {
                    this.setTransform(e);
                  }
                  get transform() {
                    return this.getTransform();
                  }
                  getTransform() {
                    return this._transform;
                  }
                  interrupt() {
                    this.pointer &&
                      this.pointer.isTouchLike() &&
                      (this._lastInterruptedTouchLikePointer = this.pointer),
                      super.interrupt();
                  }
                  canPress(e) {
                    return (
                      e.pointer !== this._lastInterruptedTouchLikePointer &&
                      super.canPress(e)
                    );
                  }
                  dispose() {
                    this._dragAction.dispose(),
                      this.detachTransformTracker(),
                      super.dispose();
                  }
                  static createForwardingListener(e, t) {
                    const i = (0, Ae.ZP)()({ allowTouchSnag: !0 }, t);
                    return {
                      down(t) {
                        t.canStartPress() && e(t);
                      },
                      touchenter(e) {
                        i.allowTouchSnag && this.down(e);
                      },
                      touchmove(e) {
                        i.allowTouchSnag && this.down(e);
                      },
                    };
                  }
                }
                function Ka(e) {
                  return "[object Array]" === Object.prototype.toString.call(e);
                }
                G.register("DragListener", ja), ne.Z.register("isArray", Ka);
                const Ja = Ka,
                  _a = window.Float64Array || Array;
                class $a {
                  constructor(e) {
                    let t, i;
                    const s = e.entries;
                    this.n = e.getColumnDimension();
                    const n = this.n;
                    for (
                      this.V = new _a(n * n),
                        this.d = new _a(n),
                        this.e = new _a(n),
                        this.issymmetric = !0,
                        i = 0;
                      i < n && this.issymmetric;
                      i++
                    )
                      for (t = 0; t < n && this.issymmetric; t++)
                        this.issymmetric =
                          s[t * this.n + i] === s[i * this.n + t];
                    if (this.issymmetric) {
                      for (t = 0; t < n; t++)
                        for (i = 0; i < n; i++)
                          this.V[t * this.n + i] = s[t * this.n + i];
                      this.tred2(), this.tql2();
                    } else {
                      for (
                        this.H = new _a(n * n), this.ort = new _a(n), i = 0;
                        i < n;
                        i++
                      )
                        for (t = 0; t < n; t++)
                          this.H[t * this.n + i] = s[t * this.n + i];
                      this.orthes(), this.hqr2();
                    }
                  }
                  getV() {
                    return this.V.copy();
                  }
                  getRealEigenvalues() {
                    return this.d;
                  }
                  getImagEigenvalues() {
                    return this.e;
                  }
                  getD() {
                    const e = this.n,
                      t = this.d,
                      i = this.e,
                      s = new uh(e, e),
                      n = s.entries;
                    for (let r = 0; r < e; r++) {
                      for (let t = 0; t < e; t++) n[r * this.n + t] = 0;
                      (n[r * this.n + r] = t[r]),
                        i[r] > 0
                          ? (n[r * this.n + r + 1] = i[r])
                          : i[r] < 0 && (n[r * this.n + r - 1] = i[r]);
                    }
                    return s;
                  }
                  tred2() {
                    const e = this.n,
                      t = this.V,
                      i = this.d,
                      s = this.e;
                    let n, r, o, a, h, l;
                    for (r = 0; r < e; r++) i[r] = t[(e - 1) * e + r];
                    for (n = e - 1; n > 0; n--) {
                      let d = 0;
                      for (l = 0, o = 0; o < n; o++) d += Math.abs(i[o]);
                      if (0 === d)
                        for (s[n] = i[n - 1], r = 0; r < n; r++)
                          (i[r] = t[(n - 1) * e + r]),
                            (t[n * this.n + r] = 0),
                            (t[r * this.n + n] = 0);
                      else {
                        for (o = 0; o < n; o++) (i[o] /= d), (l += i[o] * i[o]);
                        for (
                          a = i[n - 1],
                            h = Math.sqrt(l),
                            a > 0 && (h = -h),
                            s[n] = d * h,
                            l -= a * h,
                            i[n - 1] = a - h,
                            r = 0;
                          r < n;
                          r++
                        )
                          s[r] = 0;
                        for (r = 0; r < n; r++) {
                          for (
                            a = i[r],
                              t[r * this.n + n] = a,
                              h = s[r] + t[r * e + r] * a,
                              o = r + 1;
                            o <= n - 1;
                            o++
                          )
                            (h += t[o * e + r] * i[o]),
                              (s[o] += t[o * e + r] * a);
                          s[r] = h;
                        }
                        for (a = 0, r = 0; r < n; r++)
                          (s[r] /= l), (a += s[r] * i[r]);
                        const c = a / (l + l);
                        for (r = 0; r < n; r++) s[r] -= c * i[r];
                        for (r = 0; r < n; r++) {
                          for (a = i[r], h = s[r], o = r; o <= n - 1; o++)
                            t[o * e + r] -= a * s[o] + h * i[o];
                          (i[r] = t[(n - 1) * e + r]), (t[n * this.n + r] = 0);
                        }
                      }
                      i[n] = l;
                    }
                    for (n = 0; n < e - 1; n++) {
                      if (
                        ((t[(e - 1) * e + n] = t[n * e + n]),
                        (t[n * e + n] = 1),
                        (l = i[n + 1]),
                        0 !== l)
                      ) {
                        for (o = 0; o <= n; o++) i[o] = t[o * e + (n + 1)] / l;
                        for (r = 0; r <= n; r++) {
                          for (h = 0, o = 0; o <= n; o++)
                            h += t[o * e + (n + 1)] * t[o * e + r];
                          for (o = 0; o <= n; o++) t[o * e + r] -= h * i[o];
                        }
                      }
                      for (o = 0; o <= n; o++) t[o * e + (n + 1)] = 0;
                    }
                    for (r = 0; r < e; r++)
                      (i[r] = t[(e - 1) * e + r]), (t[(e - 1) * e + r] = 0);
                    (t[(e - 1) * e + (e - 1)] = 1), (s[0] = 0);
                  }
                  tql2() {
                    const e = this.n,
                      t = this.V,
                      i = this.d,
                      s = this.e;
                    let n, r, o, a, h, l, d;
                    for (n = 1; n < e; n++) s[n - 1] = s[n];
                    s[e - 1] = 0;
                    let c = 0,
                      u = 0;
                    const p = Math.pow(2, -52);
                    for (a = 0; a < e; a++) {
                      u = Math.max(u, Math.abs(i[a]) + Math.abs(s[a]));
                      let r = a;
                      for (; r < e && !(Math.abs(s[r]) <= p * u); ) r++;
                      if (r > a) {
                        d = 0;
                        do {
                          (d += 1),
                            (h = i[a]),
                            (l = (i[a + 1] - h) / (2 * s[a]));
                          let u = uh.hypot(l, 1);
                          l < 0 && (u = -u),
                            (i[a] = s[a] / (l + u)),
                            (i[a + 1] = s[a] * (l + u));
                          const p = i[a + 1];
                          let g = h - i[a];
                          for (n = a + 2; n < e; n++) i[n] -= g;
                          (c += g), (l = i[r]);
                          let m = 1,
                            A = m,
                            y = m;
                          const f = s[a + 1];
                          let P = 0,
                            b = 0;
                          for (n = r - 1; n >= a; n--)
                            for (
                              y = A,
                                A = m,
                                b = P,
                                h = m * s[n],
                                g = m * l,
                                u = uh.hypot(l, s[n]),
                                s[n + 1] = P * u,
                                P = s[n] / u,
                                m = l / u,
                                l = m * i[n] - P * h,
                                i[n + 1] = g + P * (m * h + P * i[n]),
                                o = 0;
                              o < e;
                              o++
                            )
                              (g = t[o * e + (n + 1)]),
                                (t[o * e + (n + 1)] = P * t[o * e + n] + m * g),
                                (t[o * e + n] = m * t[o * e + n] - P * g);
                          (l = (-P * b * y * f * s[a]) / p),
                            (s[a] = P * l),
                            (i[a] = m * l);
                        } while (Math.abs(s[a]) > p * u);
                      }
                      (i[a] = i[a] + c), (s[a] = 0);
                    }
                    for (n = 0; n < e - 1; n++) {
                      for (o = n, l = i[n], r = n + 1; r < e; r++)
                        i[r] < l && ((o = r), (l = i[r]));
                      if (o !== n)
                        for (i[o] = i[n], i[n] = l, r = 0; r < e; r++)
                          (l = t[r * this.n + n]),
                            (t[r * this.n + n] = t[r * e + o]),
                            (t[r * e + o] = l);
                    }
                  }
                  orthes() {
                    const e = this.n,
                      t = this.V,
                      i = this.H,
                      s = this.ort;
                    let n, r, o, a, h;
                    const l = e - 1;
                    for (o = 1; o <= l - 1; o++) {
                      let t = 0;
                      for (n = o; n <= l; n++)
                        t += Math.abs(i[n * e + (o - 1)]);
                      if (0 !== t) {
                        let d = 0;
                        for (n = l; n >= o; n--)
                          (s[n] = i[n * e + (o - 1)] / t), (d += s[n] * s[n]);
                        for (
                          h = Math.sqrt(d),
                            s[o] > 0 && (h = -h),
                            d -= s[o] * h,
                            s[o] = s[o] - h,
                            r = o;
                          r < e;
                          r++
                        ) {
                          for (a = 0, n = l; n >= o; n--)
                            a += s[n] * i[n * this.n + r];
                          for (a /= d, n = o; n <= l; n++)
                            i[n * this.n + r] -= a * s[n];
                        }
                        for (n = 0; n <= l; n++) {
                          for (a = 0, r = l; r >= o; r--)
                            a += s[r] * i[n * this.n + r];
                          for (a /= d, r = o; r <= l; r++)
                            i[n * this.n + r] -= a * s[r];
                        }
                        (s[o] = t * s[o]), (i[o * e + (o - 1)] = t * h);
                      }
                    }
                    for (n = 0; n < e; n++)
                      for (r = 0; r < e; r++)
                        t[n * this.n + r] = n === r ? 1 : 0;
                    for (o = l - 1; o >= 1; o--)
                      if (0 !== i[o * e + (o - 1)]) {
                        for (n = o + 1; n <= l; n++) s[n] = i[n * e + (o - 1)];
                        for (r = o; r <= l; r++) {
                          for (h = 0, n = o; n <= l; n++)
                            h += s[n] * t[n * this.n + r];
                          for (
                            h = h / s[o] / i[o * e + (o - 1)], n = o;
                            n <= l;
                            n++
                          )
                            t[n * this.n + r] += h * s[n];
                        }
                      }
                  }
                  cdiv(e, t, i, s) {
                    let n, r;
                    Math.abs(i) > Math.abs(s)
                      ? ((n = s / i),
                        (r = i + n * s),
                        (this.cdivr = (e + n * t) / r),
                        (this.cdivi = (t - n * e) / r))
                      : ((n = i / s),
                        (r = s + n * i),
                        (this.cdivr = (n * e + t) / r),
                        (this.cdivi = (n * t - e) / r));
                  }
                  hqr2() {
                    let e;
                    const t = this.V,
                      i = this.d,
                      s = this.e,
                      n = this.H;
                    let r, o, a, h, l, d;
                    const c = this.n;
                    e = c - 1;
                    const u = c - 1,
                      p = Math.pow(2, -52);
                    let g,
                      m,
                      A,
                      y,
                      f = 0,
                      P = 0,
                      b = 0,
                      v = 0,
                      V = 0,
                      w = 0,
                      E = 0;
                    for (r = 0; r < c; r++)
                      for (
                        (r < 0 || r > u) && ((i[r] = n[r * e + r]), (s[r] = 0)),
                          o = Math.max(r - 1, 0);
                        o < c;
                        o++
                      )
                        E += Math.abs(n[r * this.n + o]);
                    for (d = 0; e >= 0; ) {
                      for (
                        h = e;
                        h > 0 &&
                        ((V =
                          Math.abs(n[(h - 1) * e + (h - 1)]) +
                          Math.abs(n[h * e + h])),
                        0 === V && (V = E),
                        !(Math.abs(n[h * e + (h - 1)]) < p * V));

                      )
                        h--;
                      if (h === e)
                        (n[e * e + e] = n[e * e + e] + f),
                          (i[e] = n[e * e + e]),
                          (s[e] = 0),
                          e--,
                          (d = 0);
                      else if (h === e - 1) {
                        if (
                          ((m = n[e * e + e - 1] * n[(e - 1) * e + e]),
                          (P = (n[(e - 1) * e + (e - 1)] - n[e * e + e]) / 2),
                          (b = P * P + m),
                          (w = Math.sqrt(Math.abs(b))),
                          (n[e * e + e] = n[e * e + e] + f),
                          (n[(e - 1) * e + (e - 1)] =
                            n[(e - 1) * e + (e - 1)] + f),
                          (A = n[e * e + e]),
                          b >= 0)
                        ) {
                          for (
                            w = P >= 0 ? P + w : P - w,
                              i[e - 1] = A + w,
                              i[e] = i[e - 1],
                              0 !== w && (i[e] = A - m / w),
                              s[e - 1] = 0,
                              s[e] = 0,
                              A = n[e * e + e - 1],
                              V = Math.abs(A) + Math.abs(w),
                              P = A / V,
                              b = w / V,
                              v = Math.sqrt(P * P + b * b),
                              P /= v,
                              b /= v,
                              o = e - 1;
                            o < c;
                            o++
                          )
                            (w = n[(e - 1) * e + o]),
                              (n[(e - 1) * e + o] = b * w + P * n[e * e + o]),
                              (n[e * e + o] = b * n[e * e + o] - P * w);
                          for (r = 0; r <= e; r++)
                            (w = n[r * e + e - 1]),
                              (n[r * e + e - 1] = b * w + P * n[r * e + e]),
                              (n[r * e + e] = b * n[r * e + e] - P * w);
                          for (r = 0; r <= u; r++)
                            (w = t[r * e + e - 1]),
                              (t[r * e + e - 1] = b * w + P * t[r * e + e]),
                              (t[r * e + e] = b * t[r * e + e] - P * w);
                        } else
                          (i[e - 1] = A + P),
                            (i[e] = A + P),
                            (s[e - 1] = w),
                            (s[e] = -w);
                        (e -= 2), (d = 0);
                      } else {
                        if (
                          ((A = n[e * e + e]),
                          (y = 0),
                          (m = 0),
                          h < e &&
                            ((y = n[(e - 1) * e + (e - 1)]),
                            (m = n[e * e + e - 1] * n[(e - 1) * e + e])),
                          10 === d)
                        ) {
                          for (f += A, r = 0; r <= e; r++) n[r * e + r] -= A;
                          (V =
                            Math.abs(n[e * e + e - 1]) +
                            Math.abs(n[(e - 1) * e + e - 2])),
                            (A = y = 0.75 * V),
                            (m = -0.4375 * V * V);
                        }
                        if (
                          30 === d &&
                          ((V = (y - A) / 2), (V = V * V + m), V > 0)
                        ) {
                          for (
                            V = Math.sqrt(V),
                              y < A && (V = -V),
                              V = A - m / ((y - A) / 2 + V),
                              r = 0;
                            r <= e;
                            r++
                          )
                            n[r * e + r] -= V;
                          (f += V), (A = y = m = 0.964);
                        }
                        for (
                          d += 1, l = e - 2;
                          l >= h &&
                          ((w = n[l * e + l]),
                          (v = A - w),
                          (V = y - w),
                          (P =
                            (v * V - m) / n[(l + 1) * e + l] +
                            n[l * e + l + 1]),
                          (b = n[(l + 1) * e + l + 1] - w - v - V),
                          (v = n[(l + 2) * e + l + 1]),
                          (V = Math.abs(P) + Math.abs(b) + Math.abs(v)),
                          (P /= V),
                          (b /= V),
                          (v /= V),
                          l !== h) &&
                          !(
                            Math.abs(n[l * e + (l - 1)]) *
                              (Math.abs(b) + Math.abs(v)) <
                            p *
                              (Math.abs(P) *
                                (Math.abs(n[(l - 1) * e + l - 1]) +
                                  Math.abs(w) +
                                  Math.abs(n[(l + 1) * e + l + 1])))
                          );

                        )
                          l--;
                        for (r = l + 2; r <= e; r++)
                          (n[r * e + r - 2] = 0),
                            r > l + 2 && (n[r * e + r - 3] = 0);
                        for (a = l; a <= e - 1; a++) {
                          const i = a !== e - 1;
                          if (
                            (a !== l &&
                              ((P = n[a * e + a - 1]),
                              (b = n[(a + 1) * e + a - 1]),
                              (v = i ? n[(a + 2) * e + a - 1] : 0),
                              (A = Math.abs(P) + Math.abs(b) + Math.abs(v)),
                              0 !== A && ((P /= A), (b /= A), (v /= A))),
                            0 === A)
                          )
                            break;
                          if (
                            ((V = Math.sqrt(P * P + b * b + v * v)),
                            P < 0 && (V = -V),
                            0 !== V)
                          ) {
                            for (
                              a !== l
                                ? (n[a * e + a - 1] = -V * A)
                                : h !== l &&
                                  (n[a * e + a - 1] = -n[a * e + a - 1]),
                                P += V,
                                A = P / V,
                                y = b / V,
                                w = v / V,
                                b /= P,
                                v /= P,
                                o = a;
                              o < c;
                              o++
                            )
                              (P = n[a * e + o] + b * n[(a + 1) * e + o]),
                                i &&
                                  ((P += v * n[(a + 2) * e + o]),
                                  (n[(a + 2) * e + o] =
                                    n[(a + 2) * e + o] - P * w)),
                                (n[a * e + o] = n[a * e + o] - P * A),
                                (n[(a + 1) * e + o] =
                                  n[(a + 1) * e + o] - P * y);
                            for (r = 0; r <= Math.min(e, a + 3); r++)
                              (P = A * n[r * e + a] + y * n[r * e + a + 1]),
                                i &&
                                  ((P += w * n[r * e + a + 2]),
                                  (n[r * e + a + 2] =
                                    n[r * e + a + 2] - P * v)),
                                (n[r * e + a] = n[r * e + a] - P),
                                (n[r * e + a + 1] = n[r * e + a + 1] - P * b);
                            for (r = 0; r <= u; r++)
                              (P = A * t[r * e + a] + y * t[r * e + a + 1]),
                                i &&
                                  ((P += w * t[r * e + a + 2]),
                                  (t[r * e + a + 2] =
                                    t[r * e + a + 2] - P * v)),
                                (t[r * e + a] = t[r * e + a] - P),
                                (t[r * e + a + 1] = t[r * e + a + 1] - P * b);
                          }
                        }
                      }
                    }
                    if (0 !== E) {
                      for (e = c - 1; e >= 0; e--)
                        if (((P = i[e]), (b = s[e]), 0 === b))
                          for (
                            h = e, n[e * e + e] = 1, r = e - 1;
                            r >= 0;
                            r--
                          ) {
                            for (
                              m = n[r * e + r] - P, v = 0, o = h;
                              o <= e;
                              o++
                            )
                              v += n[r * this.n + o] * n[o * e + e];
                            if (s[r] < 0) (w = m), (V = v);
                            else if (
                              ((h = r),
                              0 === s[r]
                                ? (n[r * e + e] =
                                    0 !== m ? -v / m : -v / (p * E))
                                : ((A = n[r * e + r + 1]),
                                  (y = n[(r + 1) * e + r]),
                                  (b = (i[r] - P) * (i[r] - P) + s[r] * s[r]),
                                  (g = (A * V - w * v) / b),
                                  (n[r * e + e] = g),
                                  Math.abs(A) > Math.abs(w)
                                    ? (n[(r + 1) * e + e] = (-v - m * g) / A)
                                    : (n[(r + 1) * e + e] = (-V - y * g) / w)),
                              (g = Math.abs(n[r * e + e])),
                              p * g * g > 1)
                            )
                              for (o = r; o <= e; o++)
                                n[o * e + e] = n[o * e + e] / g;
                          }
                        else if (b < 0)
                          for (
                            h = e - 1,
                              Math.abs(n[e * e + e - 1]) >
                              Math.abs(n[(e - 1) * e + e])
                                ? ((n[(e - 1) * e + (e - 1)] =
                                    b / n[e * e + e - 1]),
                                  (n[(e - 1) * e + e] =
                                    -(n[e * e + e] - P) / n[e * e + e - 1]))
                                : (this.cdiv(
                                    0,
                                    -n[(e - 1) * e + e],
                                    n[(e - 1) * e + (e - 1)] - P,
                                    b
                                  ),
                                  (n[(e - 1) * e + (e - 1)] = this.cdivr),
                                  (n[(e - 1) * e + e] = this.cdivi)),
                              n[e * e + e - 1] = 0,
                              n[e * e + e] = 1,
                              r = e - 2;
                            r >= 0;
                            r--
                          ) {
                            let t, a, l, d;
                            for (t = 0, a = 0, o = h; o <= e; o++)
                              (t += n[r * this.n + o] * n[o * e + e - 1]),
                                (a += n[r * this.n + o] * n[o * e + e]);
                            if (((m = n[r * e + r] - P), s[r] < 0))
                              (w = m), (v = t), (V = a);
                            else if (
                              ((h = r),
                              0 === s[r]
                                ? (this.cdiv(-t, -a, m, b),
                                  (n[r * e + e - 1] = this.cdivr),
                                  (n[r * e + e] = this.cdivi))
                                : ((A = n[r * e + r + 1]),
                                  (y = n[(r + 1) * e + r]),
                                  (l =
                                    (i[r] - P) * (i[r] - P) +
                                    s[r] * s[r] -
                                    b * b),
                                  (d = 2 * (i[r] - P) * b),
                                  0 === l &&
                                    0 === d &&
                                    (l =
                                      p *
                                      E *
                                      (Math.abs(m) +
                                        Math.abs(b) +
                                        Math.abs(A) +
                                        Math.abs(y) +
                                        Math.abs(w))),
                                  this.cdiv(
                                    A * v - w * t + b * a,
                                    A * V - w * a - b * t,
                                    l,
                                    d
                                  ),
                                  (n[r * e + e - 1] = this.cdivr),
                                  (n[r * e + e] = this.cdivi),
                                  Math.abs(A) > Math.abs(w) + Math.abs(b)
                                    ? ((n[(r + 1) * e + e - 1] =
                                        (-t -
                                          m * n[r * e + e - 1] +
                                          b * n[r * e + e]) /
                                        A),
                                      (n[(r + 1) * e + e] =
                                        (-a -
                                          m * n[r * e + e] -
                                          b * n[r * e + e - 1]) /
                                        A))
                                    : (this.cdiv(
                                        -v - y * n[r * e + e - 1],
                                        -V - y * n[r * e + e],
                                        w,
                                        b
                                      ),
                                      (n[(r + 1) * e + e - 1] = this.cdivr),
                                      (n[(r + 1) * e + e] = this.cdivi))),
                              (g = Math.max(
                                Math.abs(n[r * e + e - 1]),
                                Math.abs(n[r * e + e])
                              )),
                              p * g * g > 1)
                            )
                              for (o = r; o <= e; o++)
                                (n[o * e + e - 1] = n[o * e + e - 1] / g),
                                  (n[o * e + e] = n[o * e + e] / g);
                          }
                      for (r = 0; r < c; r++)
                        if (r < 0 || r > u)
                          for (o = r; o < c; o++)
                            t[r * this.n + o] = n[r * this.n + o];
                      for (o = c - 1; o >= 0; o--)
                        for (r = 0; r <= u; r++) {
                          for (w = 0, a = 0; a <= Math.min(o, u); a++)
                            w += t[r * e + a] * n[a * e + o];
                          t[r * this.n + o] = w;
                        }
                    }
                  }
                }
                Kt.Z.register("EigenvalueDecomposition", $a);
                const eh = window.Float64Array || Array;
                class th {
                  constructor(e) {
                    let t, i, s;
                    (this.matrix = e), (this.LU = e.getArrayCopy());
                    const n = this.LU;
                    this.m = e.getRowDimension();
                    const r = this.m;
                    this.n = e.getColumnDimension();
                    const o = this.n;
                    for (this.piv = new Uint32Array(r), t = 0; t < r; t++)
                      this.piv[t] = t;
                    this.pivsign = 1;
                    const a = new eh(r);
                    for (i = 0; i < o; i++) {
                      for (t = 0; t < r; t++) a[t] = n[e.index(t, i)];
                      for (t = 0; t < r; t++) {
                        const r = Math.min(t, i);
                        let o = 0;
                        for (s = 0; s < r; s++) {
                          o += n[e.index(t, s)] * a[s];
                        }
                        (a[t] -= o), (n[e.index(t, i)] = a[t]);
                      }
                      let h = i;
                      for (t = i + 1; t < r; t++)
                        Math.abs(a[t]) > Math.abs(a[h]) && (h = t);
                      if (h !== i) {
                        for (s = 0; s < o; s++) {
                          const t = e.index(h, s),
                            r = e.index(i, s),
                            o = n[t];
                          (n[t] = n[r]), (n[r] = o);
                        }
                        (s = this.piv[h]),
                          (this.piv[h] = this.piv[i]),
                          (this.piv[i] = s),
                          (this.pivsign = -this.pivsign);
                      }
                      if (i < r && 0 !== n[this.matrix.index(i, i)])
                        for (t = i + 1; t < r; t++)
                          n[e.index(t, i)] /= n[e.index(i, i)];
                    }
                  }
                  isNonsingular() {
                    for (let e = 0; e < this.n; e++) {
                      const t = this.matrix.index(e, e);
                      if (0 === this.LU[t]) return !1;
                    }
                    return !0;
                  }
                  getL() {
                    const e = new uh(this.m, this.n);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] =
                          t > i
                            ? this.LU[this.matrix.index(t, i)]
                            : t === i
                            ? 1
                            : 0;
                    return e;
                  }
                  getU() {
                    const e = new uh(this.n, this.n);
                    for (let t = 0; t < this.n; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] =
                          t <= i ? this.LU[this.matrix.index(t, i)] : 0;
                    return e;
                  }
                  getPivot() {
                    const e = new Uint32Array(this.m);
                    for (let t = 0; t < this.m; t++) e[t] = this.piv[t];
                    return e;
                  }
                  getDoublePivot() {
                    const e = new eh(this.m);
                    for (let t = 0; t < this.m; t++) e[t] = this.piv[t];
                    return e;
                  }
                  det() {
                    if (this.m !== this.n)
                      throw new Error("Matrix must be square.");
                    let e = this.pivsign;
                    for (let t = 0; t < this.n; t++)
                      e *= this.LU[this.matrix.index(t, t)];
                    return e;
                  }
                  solve(e) {
                    let t, i, s;
                    if (e.getRowDimension() !== this.m)
                      throw new Error("Matrix row dimensions must agree.");
                    if (!this.isNonsingular())
                      throw new Error("Matrix is singular.");
                    const n = e.getColumnDimension(),
                      r = e.getArrayRowMatrix(this.piv, 0, n - 1);
                    for (s = 0; s < this.n; s++)
                      for (t = s + 1; t < this.n; t++)
                        for (i = 0; i < n; i++)
                          r.entries[r.index(t, i)] -=
                            r.entries[r.index(s, i)] *
                            this.LU[this.matrix.index(t, s)];
                    for (s = this.n - 1; s >= 0; s--) {
                      for (i = 0; i < n; i++)
                        r.entries[r.index(s, i)] /=
                          this.LU[this.matrix.index(s, s)];
                      for (t = 0; t < s; t++)
                        for (i = 0; i < n; i++)
                          r.entries[r.index(t, i)] -=
                            r.entries[r.index(s, i)] *
                            this.LU[this.matrix.index(t, s)];
                    }
                    return r;
                  }
                }
                Kt.Z.register("LUDecomposition", th);
                const ih = th,
                  sh = window.Float64Array || Array;
                class nh {
                  constructor(e) {
                    (this.matrix = e), (this.QR = e.getArrayCopy());
                    const t = this.QR;
                    this.m = e.getRowDimension();
                    const i = this.m;
                    this.n = e.getColumnDimension();
                    const s = this.n;
                    let n, r, o;
                    for (this.Rdiag = new sh(s), o = 0; o < s; o++) {
                      let e = 0;
                      for (n = o; n < i; n++)
                        e = uh.hypot(e, t[this.matrix.index(n, o)]);
                      if (0 !== e) {
                        for (
                          t[this.matrix.index(o, o)] < 0 && (e = -e), n = o;
                          n < i;
                          n++
                        )
                          t[this.matrix.index(n, o)] /= e;
                        for (
                          t[this.matrix.index(o, o)] += 1, r = o + 1;
                          r < s;
                          r++
                        ) {
                          let e = 0;
                          for (n = o; n < i; n++)
                            e +=
                              t[this.matrix.index(n, o)] *
                              t[this.matrix.index(n, r)];
                          for (
                            e = -e / t[this.matrix.index(o, o)], n = o;
                            n < i;
                            n++
                          )
                            t[this.matrix.index(n, r)] +=
                              e * t[this.matrix.index(n, o)];
                        }
                      }
                      this.Rdiag[o] = -e;
                    }
                  }
                  isFullRank() {
                    for (let e = 0; e < this.n; e++)
                      if (0 === this.Rdiag[e]) return !1;
                    return !0;
                  }
                  getH() {
                    const e = new uh(this.m, this.n);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] =
                          t >= i ? this.QR[this.matrix.index(t, i)] : 0;
                    return e;
                  }
                  getR() {
                    const e = new uh(this.n, this.n);
                    for (let t = 0; t < this.n; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] =
                          t < i
                            ? this.QR[this.matrix.index(t, i)]
                            : t === i
                            ? this.Rdiag[t]
                            : 0;
                    return e;
                  }
                  getQ() {
                    let e, t, i;
                    const s = new uh(this.m, this.n);
                    for (i = this.n - 1; i >= 0; i--) {
                      for (e = 0; e < this.m; e++) s.entries[s.index(e, i)] = 0;
                      for (s.entries[s.index(i, i)] = 1, t = i; t < this.n; t++)
                        if (0 !== this.QR[this.matrix.index(i, i)]) {
                          let n = 0;
                          for (e = i; e < this.m; e++)
                            n +=
                              this.QR[this.matrix.index(e, i)] *
                              s.entries[s.index(e, t)];
                          for (
                            n = -n / this.QR[this.matrix.index(i, i)], e = i;
                            e < this.m;
                            e++
                          )
                            s.entries[s.index(e, t)] +=
                              n * this.QR[this.matrix.index(e, i)];
                        }
                    }
                    return s;
                  }
                  solve(e) {
                    if (e.getRowDimension() !== this.m)
                      throw new Error("Matrix row dimensions must agree.");
                    if (!this.isFullRank())
                      throw new Error("Matrix is rank deficient.");
                    let t, i, s;
                    const n = e.getColumnDimension(),
                      r = e.getArrayCopy();
                    for (s = 0; s < this.n; s++)
                      for (i = 0; i < n; i++) {
                        let n = 0;
                        for (t = s; t < this.m; t++)
                          n +=
                            this.QR[this.matrix.index(t, s)] * r[e.index(t, i)];
                        for (
                          n = -n / this.QR[this.matrix.index(s, s)], t = s;
                          t < this.m;
                          t++
                        )
                          r[e.index(t, i)] +=
                            n * this.QR[this.matrix.index(t, s)];
                      }
                    for (s = this.n - 1; s >= 0; s--) {
                      for (i = 0; i < n; i++) r[e.index(s, i)] /= this.Rdiag[s];
                      for (t = 0; t < s; t++)
                        for (i = 0; i < n; i++)
                          r[e.index(t, i)] -=
                            r[e.index(s, i)] * this.QR[this.matrix.index(t, s)];
                    }
                    return new uh(this.n, n, r, !0).getMatrix(
                      0,
                      this.n - 1,
                      0,
                      n - 1
                    );
                  }
                }
                Kt.Z.register("QRDecomposition", nh);
                const rh = nh,
                  oh = window.Float64Array || Array;
                class ah {
                  constructor(e) {
                    this.matrix = e;
                    const t = e,
                      i = t.getArrayCopy();
                    (this.m = t.getRowDimension()),
                      (this.n = t.getColumnDimension());
                    const s = this.m,
                      n = this.n,
                      r = Math.min,
                      o = Math.max,
                      a = Math.pow,
                      h = Math.abs,
                      l = r(s, n);
                    this.s = new oh(r(s + 1, n));
                    const d = this.s;
                    this.U = new oh(s * l);
                    const c = this.U;
                    this.V = new oh(n * n);
                    const u = this.V,
                      p = new oh(n),
                      g = new oh(s);
                    let m, A, y, f, P, b, v;
                    const V = uh.hypot,
                      w = r(s - 1, n),
                      E = o(0, r(n - 2, s));
                    for (y = 0; y < o(w, E); y++) {
                      if (y < w) {
                        for (d[y] = 0, m = y; m < s; m++)
                          d[y] = V(d[y], i[m * n + y]);
                        if (0 !== d[y]) {
                          for (
                            i[y * n + y] < 0 && (d[y] = -d[y]), m = y;
                            m < s;
                            m++
                          )
                            i[m * n + y] /= d[y];
                          i[y * n + y] += 1;
                        }
                        d[y] = -d[y];
                      }
                      for (A = y + 1; A < n; A++) {
                        if (y < w && 0 !== d[y]) {
                          for (f = 0, m = y; m < s; m++)
                            f += i[m * n + y] * i[m * n + A];
                          for (f = -f / i[y * n + y], m = y; m < s; m++)
                            i[m * n + A] += f * i[m * n + y];
                        }
                        p[A] = i[y * n + A];
                      }
                      if (y < w)
                        for (m = y; m < s; m++) c[m * l + y] = i[m * n + y];
                      if (y < E) {
                        for (p[y] = 0, m = y + 1; m < n; m++)
                          p[y] = V(p[y], p[m]);
                        if (0 !== p[y]) {
                          for (
                            p[y + 1] < 0 && (p[y] = -p[y]), m = y + 1;
                            m < n;
                            m++
                          )
                            p[m] /= p[y];
                          p[y + 1] += 1;
                        }
                        if (((p[y] = -p[y]), y + 1 < s && 0 !== p[y])) {
                          for (m = y + 1; m < s; m++) g[m] = 0;
                          for (A = y + 1; A < n; A++)
                            for (m = y + 1; m < s; m++)
                              g[m] += p[A] * i[m * n + A];
                          for (A = y + 1; A < n; A++)
                            for (f = -p[A] / p[y + 1], m = y + 1; m < s; m++)
                              i[m * n + A] += f * g[m];
                        }
                        for (m = y + 1; m < n; m++) u[m * n + y] = p[m];
                      }
                    }
                    let S = r(n, s + 1);
                    for (
                      w < n && (d[w] = i[w * n + w]),
                        s < S && (d[S - 1] = 0),
                        E + 1 < S && (p[E] = i[E * n + S - 1]),
                        p[S - 1] = 0,
                        A = w;
                      A < l;
                      A++
                    ) {
                      for (m = 0; m < s; m++) c[m * l + A] = 0;
                      c[A * l + A] = 1;
                    }
                    for (y = w - 1; y >= 0; y--)
                      if (0 !== d[y]) {
                        for (A = y + 1; A < l; A++) {
                          for (f = 0, m = y; m < s; m++)
                            f += c[m * l + y] * c[m * l + A];
                          for (f = -f / c[y * l + y], m = y; m < s; m++)
                            c[m * l + A] += f * c[m * l + y];
                        }
                        for (m = y; m < s; m++) c[m * l + y] = -c[m * l + y];
                        for (
                          c[y * l + y] = 1 + c[y * l + y], m = 0;
                          m < y - 1;
                          m++
                        )
                          c[m * l + y] = 0;
                      } else {
                        for (m = 0; m < s; m++) c[m * l + y] = 0;
                        c[y * l + y] = 1;
                      }
                    for (y = n - 1; y >= 0; y--) {
                      if (y < E && 0 !== p[y])
                        for (A = y + 1; A < l; A++) {
                          for (f = 0, m = y + 1; m < n; m++)
                            f += u[m * n + y] * u[m * n + A];
                          for (
                            f = -f / u[(y + 1) * n + y], m = y + 1;
                            m < n;
                            m++
                          )
                            u[m * n + A] += f * u[m * n + y];
                        }
                      for (m = 0; m < n; m++) u[m * n + y] = 0;
                      u[y * n + y] = 1;
                    }
                    const T = S - 1;
                    let x = 0;
                    const C = a(2, -52),
                      I = a(2, -966);
                    for (; S > 0; ) {
                      let e;
                      if (x > 500) break;
                      for (y = S - 2; y >= -1 && -1 !== y; y--)
                        if (h(p[y]) <= I + C * (h(d[y]) + h(d[y + 1]))) {
                          p[y] = 0;
                          break;
                        }
                      if (y === S - 2) e = 4;
                      else {
                        let t;
                        for (t = S - 1; t >= y && t !== y; t--)
                          if (
                            ((f =
                              (t !== S ? h(p[t]) : 0) +
                              (t !== y + 1 ? h(p[t - 1]) : 0)),
                            h(d[t]) <= I + C * f)
                          ) {
                            d[t] = 0;
                            break;
                          }
                        t === y
                          ? (e = 3)
                          : t === S - 1
                          ? (e = 1)
                          : ((e = 2), (y = t));
                      }
                      switch ((y++, e)) {
                        case 1:
                          for (
                            P = p[S - 2], p[S - 2] = 0, A = S - 2;
                            A >= y;
                            A--
                          )
                            for (
                              f = V(d[A], P),
                                b = d[A] / f,
                                v = P / f,
                                d[A] = f,
                                A !== y &&
                                  ((P = -v * p[A - 1]),
                                  (p[A - 1] = b * p[A - 1])),
                                m = 0;
                              m < n;
                              m++
                            )
                              (f = b * u[m * n + A] + v * u[m * n + S - 1]),
                                (u[m * n + S - 1] =
                                  -v * u[m * n + A] + b * u[m * n + S - 1]),
                                (u[m * n + A] = f);
                          break;
                        case 2:
                          for (P = p[y - 1], p[y - 1] = 0, A = y; A < S; A++)
                            for (
                              f = V(d[A], P),
                                b = d[A] / f,
                                v = P / f,
                                d[A] = f,
                                P = -v * p[A],
                                p[A] = b * p[A],
                                m = 0;
                              m < s;
                              m++
                            )
                              (f = b * c[m * l + A] + v * c[m * l + y - 1]),
                                (c[m * l + y - 1] =
                                  -v * c[m * l + A] + b * c[m * l + y - 1]),
                                (c[m * l + A] = f);
                          break;
                        case 3:
                          {
                            const e = o(
                                o(
                                  o(o(h(d[S - 1]), h(d[S - 2])), h(p[S - 2])),
                                  h(d[y])
                                ),
                                h(p[y])
                              ),
                              t = d[S - 1] / e,
                              i = d[S - 2] / e,
                              r = p[S - 2] / e,
                              a = d[y] / e,
                              g = p[y] / e,
                              w = ((i + t) * (i - t) + r * r) / 2,
                              E = t * r * (t * r);
                            let T = 0;
                            (0 === w && 0 === E) ||
                              ((T = Math.sqrt(w * w + E)),
                              w < 0 && (T = -T),
                              (T = E / (w + T))),
                              (P = (a + t) * (a - t) + T);
                            let C = a * g;
                            for (A = y; A < S - 1; A++) {
                              for (
                                f = V(P, C),
                                  b = P / f,
                                  v = C / f,
                                  A !== y && (p[A - 1] = f),
                                  P = b * d[A] + v * p[A],
                                  p[A] = b * p[A] - v * d[A],
                                  C = v * d[A + 1],
                                  d[A + 1] = b * d[A + 1],
                                  m = 0;
                                m < n;
                                m++
                              )
                                (f = b * u[m * n + A] + v * u[m * n + A + 1]),
                                  (u[m * n + A + 1] =
                                    -v * u[m * n + A] + b * u[m * n + A + 1]),
                                  (u[m * n + A] = f);
                              if (
                                ((f = V(P, C)),
                                (b = P / f),
                                (v = C / f),
                                (d[A] = f),
                                (P = b * p[A] + v * d[A + 1]),
                                (d[A + 1] = -v * p[A] + b * d[A + 1]),
                                (C = v * p[A + 1]),
                                (p[A + 1] = b * p[A + 1]),
                                A < s - 1)
                              )
                                for (m = 0; m < s; m++)
                                  (f = b * c[m * l + A] + v * c[m * l + A + 1]),
                                    (c[m * l + A + 1] =
                                      -v * c[m * l + A] + b * c[m * l + A + 1]),
                                    (c[m * l + A] = f);
                            }
                            (p[S - 2] = P), (x += 1);
                          }
                          break;
                        case 4:
                          if (d[y] <= 0)
                            for (
                              d[y] = d[y] < 0 ? -d[y] : 0, m = 0;
                              m <= T;
                              m++
                            )
                              u[m * n + y] = -u[m * n + y];
                          for (; y < T && !(d[y] >= d[y + 1]); ) {
                            if (
                              ((f = d[y]),
                              (d[y] = d[y + 1]),
                              (d[y + 1] = f),
                              y < n - 1)
                            )
                              for (m = 0; m < n; m++)
                                (f = u[m * n + y + 1]),
                                  (u[m * n + y + 1] = u[m * n + y]),
                                  (u[m * n + y] = f);
                            if (y < s - 1)
                              for (m = 0; m < s; m++)
                                (f = c[m * l + y + 1]),
                                  (c[m * l + y + 1] = c[m * l + y]),
                                  (c[m * l + y] = f);
                            y++;
                          }
                          (x = 0), S--;
                          break;
                        default:
                          throw new Error("invalid kase: " + e);
                      }
                    }
                  }
                  getU() {
                    return new uh(
                      this.m,
                      Math.min(this.m + 1, this.n),
                      this.U,
                      !0
                    );
                  }
                  getV() {
                    return new uh(this.n, this.n, this.V, !0);
                  }
                  getSingularValues() {
                    return this.s;
                  }
                  getS() {
                    const e = new uh(this.n, this.n);
                    for (let t = 0; t < this.n; t++) {
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] = 0;
                      e.entries[e.index(t, t)] = this.s[t];
                    }
                    return e;
                  }
                  norm2() {
                    return this.s[0];
                  }
                  cond() {
                    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];
                  }
                  rank() {
                    const e = Math.pow(2, -23),
                      t = Math.max(this.m, this.n) * this.s[0] * e;
                    let i = 0;
                    for (let s = 0; s < this.s.length; s++)
                      this.s[s] > t && i++;
                    return i;
                  }
                  static pseudoinverse(e) {
                    const t = new ah(e),
                      i = uh.diagonalMatrix(
                        t
                          .getSingularValues()
                          .map((e) => (Math.abs(e) < 1e-300 ? 0 : 1 / e))
                      );
                    return t.getV().times(i).times(t.getU().transpose());
                  }
                }
                Kt.Z.register("SingularValueDecomposition", ah);
                const hh = ah;
                var lh = i(1319);
                const dh = window.Float64Array || Array;
                class ch {
                  constructor(e, t, i, s) {
                    (this.m = e), (this.n = t);
                    const n = e * t;
                    let r;
                    if (((this.size = n), s)) this.entries = i;
                    else if ((i || (i = 0), (this.entries = new dh(n)), Ja(i)))
                      for (r = 0; r < n; r++) this.entries[r] = i[r];
                    else for (r = 0; r < n; r++) this.entries[r] = i;
                  }
                  copy() {
                    const e = new ch(this.m, this.n);
                    for (let t = 0; t < this.size; t++)
                      e.entries[t] = this.entries[t];
                    return e;
                  }
                  getArray() {
                    return this.entries;
                  }
                  getArrayCopy() {
                    return new dh(this.entries);
                  }
                  getRowDimension() {
                    return this.m;
                  }
                  getColumnDimension() {
                    return this.n;
                  }
                  index(e, t) {
                    return e * this.n + t;
                  }
                  get(e, t) {
                    return this.entries[this.index(e, t)];
                  }
                  set(e, t, i) {
                    this.entries[this.index(e, t)] = i;
                  }
                  getMatrix(e, t, i, s) {
                    const n = new ch(t - e + 1, s - i + 1);
                    for (let r = e; r <= t; r++)
                      for (let t = i; t <= s; t++)
                        n.entries[n.index(r - e, t - i)] =
                          this.entries[this.index(r, t)];
                    return n;
                  }
                  getArrayRowMatrix(e, t, i) {
                    const s = new ch(e.length, i - t + 1);
                    for (let n = 0; n < e.length; n++)
                      for (let r = t; r <= i; r++)
                        s.entries[s.index(n, r - t)] =
                          this.entries[this.index(e[n], r)];
                    return s;
                  }
                  transpose(e) {
                    e = e || new ch(this.n, this.m);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(i, t)] =
                          this.entries[this.index(t, i)];
                    return e;
                  }
                  norm1() {
                    let e = 0;
                    for (let t = 0; t < this.n; t++) {
                      let i = 0;
                      for (let e = 0; e < this.m; e++)
                        i += Math.abs(this.entries[this.index(e, t)]);
                      e = Math.max(e, i);
                    }
                    return e;
                  }
                  norm2() {
                    return new hh(this).norm2();
                  }
                  normInf() {
                    let e = 0;
                    for (let t = 0; t < this.m; t++) {
                      let i = 0;
                      for (let e = 0; e < this.n; e++)
                        i += Math.abs(this.entries[this.index(t, e)]);
                      e = Math.max(e, i);
                    }
                    return e;
                  }
                  normF() {
                    let e = 0;
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++)
                        e = ch.hypot(e, this.entries[this.index(t, i)]);
                    return e;
                  }
                  uminus() {
                    const e = new ch(this.m, this.n);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++)
                        e.entries[e.index(t, i)] =
                          -this.entries[this.index(t, i)];
                    return e;
                  }
                  plus(e) {
                    this.checkMatrixDimensions(e);
                    const t = new ch(this.m, this.n);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = t.index(i, s);
                        t.entries[n] = this.entries[n] + e.entries[n];
                      }
                    return t;
                  }
                  plusEquals(e) {
                    this.checkMatrixDimensions(e);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = this.entries[s] + e.entries[s];
                      }
                    return this;
                  }
                  blendEquals(e, t) {
                    this.checkMatrixDimensions(e);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = this.index(i, s),
                          r = this.entries[n],
                          o = e.entries[n];
                        this.entries[n] = r + (o - r) * t;
                      }
                    return this;
                  }
                  minus(e) {
                    this.checkMatrixDimensions(e);
                    const t = new ch(this.m, this.n);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = this.index(i, s);
                        t.entries[n] = this.entries[n] - e.entries[n];
                      }
                    return t;
                  }
                  minusEquals(e) {
                    this.checkMatrixDimensions(e);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = this.entries[s] - e.entries[s];
                      }
                    return this;
                  }
                  arrayTimes(e) {
                    this.checkMatrixDimensions(e);
                    const t = new ch(this.m, this.n);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = t.index(i, s);
                        t.entries[n] = this.entries[n] * e.entries[n];
                      }
                    return t;
                  }
                  arrayTimesEquals(e) {
                    this.checkMatrixDimensions(e);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = this.entries[s] * e.entries[s];
                      }
                    return this;
                  }
                  arrayRightDivide(e) {
                    this.checkMatrixDimensions(e);
                    const t = new ch(this.m, this.n);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = this.index(i, s);
                        t.entries[n] = this.entries[n] / e.entries[n];
                      }
                    return t;
                  }
                  arrayRightDivideEquals(e) {
                    this.checkMatrixDimensions(e);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = this.entries[s] / e.entries[s];
                      }
                    return this;
                  }
                  arrayLeftDivide(e) {
                    this.checkMatrixDimensions(e);
                    const t = new ch(this.m, this.n);
                    for (let i = 0; i < this.m; i++)
                      for (let s = 0; s < this.n; s++) {
                        const n = this.index(i, s);
                        t.entries[n] = e.entries[n] / this.entries[n];
                      }
                    return t;
                  }
                  arrayLeftDivideEquals(e) {
                    this.checkMatrixDimensions(e);
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = e.entries[s] / this.entries[s];
                      }
                    return this;
                  }
                  times(e) {
                    let t, i, s, n, r, o;
                    if (e.isMatrix) {
                      if (((o = e), o.m !== this.n))
                        throw new Error("Matrix inner dimensions must agree.");
                      t = new ch(this.m, o.n);
                      const a = new dh(this.n);
                      for (s = 0; s < o.n; s++) {
                        for (n = 0; n < this.n; n++)
                          a[n] = o.entries[o.index(n, s)];
                        for (i = 0; i < this.m; i++) {
                          for (r = 0, n = 0; n < this.n; n++)
                            r += this.entries[this.index(i, n)] * a[n];
                          t.entries[t.index(i, s)] = r;
                        }
                      }
                      return t;
                    }
                    for (
                      r = e, t = new ch(this.m, this.n), i = 0;
                      i < this.m;
                      i++
                    )
                      for (s = 0; s < this.n; s++)
                        t.entries[t.index(i, s)] =
                          r * this.entries[this.index(i, s)];
                    return t;
                  }
                  timesEquals(e) {
                    for (let t = 0; t < this.m; t++)
                      for (let i = 0; i < this.n; i++) {
                        const s = this.index(t, i);
                        this.entries[s] = e * this.entries[s];
                      }
                    return this;
                  }
                  solve(e) {
                    return this.m === this.n
                      ? new ih(this).solve(e)
                      : new rh(this).solve(e);
                  }
                  solveTranspose(e) {
                    return this.transpose().solve(e.transpose());
                  }
                  inverse() {
                    return this.solve(ch.identity(this.m, this.m));
                  }
                  det() {
                    return new ih(this).det();
                  }
                  rank() {
                    return new hh(this).rank();
                  }
                  cond() {
                    return new hh(this).cond();
                  }
                  trace() {
                    let e = 0;
                    for (let t = 0; t < Math.min(this.m, this.n); t++)
                      e += this.entries[this.index(t, t)];
                    return e;
                  }
                  checkMatrixDimensions(e) {
                    if (e.m !== this.m || e.n !== this.n)
                      throw new Error("Matrix dimensions must agree.");
                  }
                  toString() {
                    let e = "";
                    e += `dim: ${this.getRowDimension()}x${this.getColumnDimension()}\n`;
                    for (let t = 0; t < this.getRowDimension(); t++) {
                      for (let i = 0; i < this.getColumnDimension(); i++)
                        e += this.get(t, i) + " ";
                      e += "\n";
                    }
                    return e;
                  }
                  extractVector2(e) {
                    return new Me.Z(this.get(0, e), this.get(1, e));
                  }
                  extractVector3(e) {
                    return new ya.Z(
                      this.get(0, e),
                      this.get(1, e),
                      this.get(2, e)
                    );
                  }
                  extractVector4(e) {
                    return new lh.Z(
                      this.get(0, e),
                      this.get(1, e),
                      this.get(2, e),
                      this.get(3, e)
                    );
                  }
                  setVectors3(e) {
                    const t = e.length;
                    for (let i = 0; i < t; i++) {
                      const s = e[i];
                      (this.entries[i] = s.x),
                        (this.entries[i + t] = s.y),
                        (this.entries[i + 2 * t] = s.z);
                    }
                    return this;
                  }
                  static hypot(e, t) {
                    let i;
                    return (
                      Math.abs(e) > Math.abs(t)
                        ? ((i = t / e),
                          (i = Math.abs(e) * Math.sqrt(1 + i * i)))
                        : 0 !== t
                        ? ((i = e / t),
                          (i = Math.abs(t) * Math.sqrt(1 + i * i)))
                        : (i = 0),
                      i
                    );
                  }
                  static identity(e, t) {
                    const i = new ch(e, t);
                    for (let s = 0; s < e; s++)
                      for (let e = 0; e < t; e++)
                        i.entries[i.index(s, e)] = s === e ? 1 : 0;
                    return i;
                  }
                  static diagonalMatrix(e) {
                    const t = e.length,
                      i = new ch(t, t);
                    for (let s = 0; s < t; s++) i.entries[i.index(s, s)] = e[s];
                    return i;
                  }
                  static rowVector2(e) {
                    return new ch(1, 2, [e.x, e.y]);
                  }
                  static rowVector3(e) {
                    return new ch(1, 3, [e.x, e.y, e.z]);
                  }
                  static rowVector4(e) {
                    return new ch(1, 4, [e.x, e.y, e.z, e.w]);
                  }
                  static rowVector(e) {
                    if (e.isVector2) return ch.rowVector2(e);
                    if (e.isVector3) return ch.rowVector3(e);
                    if (e.isVector4) return ch.rowVector4(e);
                    throw new Error(
                      "undetected type of vector: " + e.toString()
                    );
                  }
                  static columnVector2(e) {
                    return new ch(2, 1, [e.x, e.y]);
                  }
                  static columnVector3(e) {
                    return new ch(3, 1, [e.x, e.y, e.z]);
                  }
                  static columnVector4(e) {
                    return new ch(4, 1, [e.x, e.y, e.z, e.w]);
                  }
                  static columnVector(e) {
                    if (e.isVector2) return ch.columnVector2(e);
                    if (e.isVector3) return ch.columnVector3(e);
                    if (e.isVector4) return ch.columnVector4(e);
                    throw new Error(
                      "undetected type of vector: " + e.toString()
                    );
                  }
                  static fromVectors2(e) {
                    const t = e.length,
                      i = new dh(2 * t);
                    for (let s = 0; s < t; s++) {
                      const n = e[s];
                      (i[s] = n.x), (i[s + t] = n.y);
                    }
                    return new ch(2, t, i, !0);
                  }
                  static fromVectors3(e) {
                    const t = e.length,
                      i = new dh(3 * t);
                    for (let s = 0; s < t; s++) {
                      const n = e[s];
                      (i[s] = n.x), (i[s + t] = n.y), (i[s + 2 * t] = n.z);
                    }
                    return new ch(3, t, i, !0);
                  }
                  static fromVectors4(e) {
                    const t = e.length,
                      i = new dh(4 * t);
                    for (let s = 0; s < t; s++) {
                      const n = e[s];
                      (i[s] = n.x),
                        (i[s + t] = n.y),
                        (i[s + 2 * t] = n.z),
                        (i[s + 3 * t] = n.w);
                    }
                    return new ch(4, t, i, !0);
                  }
                }
                (ch.prototype.isMatrix = !0), Kt.Z.register("Matrix", ch);
                const uh = ch;
                class ph {
                  constructor(e, t) {
                    (t = (0, kt.Z)(
                      {
                        mouseButton: 0,
                        pressCursor: "pointer",
                        allowScale: !0,
                        allowRotation: !0,
                        allowMultitouchInterruption: !1,
                        allowMoveInterruption: !0,
                        minScale: 1,
                        maxScale: 4,
                        tandem: fe.Z.REQUIRED,
                      },
                      t
                    )),
                      (this._targetNode = e),
                      (this._minScale = t.minScale),
                      (this._maxScale = t.maxScale),
                      (this._mouseButton = t.mouseButton),
                      (this._pressCursor = t.pressCursor),
                      (this._allowScale = t.allowScale),
                      (this._allowRotation = t.allowRotation),
                      (this._allowMultitouchInterruption =
                        t.allowMultitouchInterruption),
                      (this._allowMoveInterruption = t.allowMoveInterruption),
                      (this._presses = []),
                      (this._backgroundPresses = []),
                      (this.matrixProperty = new yt.Z(e.matrix.copy(), {
                        phetioValueType: Le.Z.Matrix3IO,
                        tandem: t.tandem.createTandem("matrixProperty"),
                      })),
                      this.matrixProperty.link((e) => {
                        this._targetNode.matrix = e;
                      }),
                      (this._interrupted = !1),
                      (this._pressListener = {
                        move: (e) => {
                          this.movePress(this.findPress(e.pointer));
                        },
                        up: (e) => {
                          this.removePress(this.findPress(e.pointer));
                        },
                        cancel: (e) => {
                          const t = this.findPress(e.pointer);
                          (t.interrupted = !0), this.removePress(t);
                        },
                        interrupt: () => {
                          this.interrupt();
                        },
                      }),
                      (this._backgroundListener = {
                        up: (e) => {
                          this._interrupted ||
                            this.removeBackgroundPress(
                              this.findBackgroundPress(e.pointer)
                            );
                        },
                        move: (e) => {
                          if (
                            this.canMoveFromPointer(e.pointer) &&
                            !this.anyBackgroundPressesWithDragIntent() &&
                            this._allowMoveInterruption
                          ) {
                            const t = this.findBackgroundPress(
                                e.pointer
                              ).initialPoint.minus(e.pointer.point),
                              i =
                                this._backgroundPresses.length <= 1 &&
                                1 === this.getCurrentScale();
                            t.magnitude > 25 &&
                              !i &&
                              (this.interruptOtherListeners(e.pointer),
                              this.convertBackgroundPresses(),
                              this.movePress(this.findPress(e.pointer)));
                          }
                        },
                        cancel: (e) => {
                          this._interrupted ||
                            this.removeBackgroundPress(
                              this.findBackgroundPress(e.pointer)
                            );
                        },
                        interrupt: () => {
                          this.interrupt();
                        },
                      });
                  }
                  findPress(e) {
                    for (let t = 0; t < this._presses.length; t++)
                      if (this._presses[t].pointer === e)
                        return this._presses[t];
                    return null;
                  }
                  findBackgroundPress(e) {
                    for (let t = 0; t < this._backgroundPresses.length; t++)
                      if (this._backgroundPresses[t].pointer === e)
                        return this._backgroundPresses[t];
                    return null;
                  }
                  hasPress(e) {
                    return _.some(
                      this._presses.concat(this._backgroundPresses),
                      (t) => t.pointer === e.pointer
                    );
                  }
                  anyBackgroundPressesWithDragIntent() {
                    return _.some(
                      this._backgroundPresses,
                      (e) => !this.canMoveFromPointer(e.pointer)
                    );
                  }
                  interruptOtherListeners(e) {
                    const t = e._listeners.slice();
                    for (let i = 0; i < t.length; i++) {
                      const e = t[i];
                      e !== this._backgroundListener &&
                        e.interrupt &&
                        e.interrupt();
                    }
                  }
                  canMoveFromPointer(e) {
                    return !e.hasIntent(ma.DRAG);
                  }
                  down(e) {
                    if (
                      e.pointer instanceof fa &&
                      e.domEvent.button !== this._mouseButton
                    )
                      return;
                    let t;
                    (this._interrupted = !1),
                      (t = _.includes(e.trail.nodes, this._targetNode)
                        ? e.trail.subtrailTo(this._targetNode, !1)
                        : this._targetNode.getUniqueTrailTo(e.target));
                    const i = new gh(e.pointer, t);
                    this._allowMoveInterruption ||
                    this._allowMultitouchInterruption
                      ? this.addBackgroundPress(i)
                      : e.pointer.isAttached() ||
                        (this.addPress(i), this.convertBackgroundPresses());
                  }
                  addPress(e) {
                    this.hasPress(e) ||
                      (this._presses.push(e),
                      (e.pointer.cursor = this._pressCursor),
                      e.pointer.addInputListener(this._pressListener, !0),
                      this.recomputeLocals(),
                      this.reposition());
                  }
                  movePress(e) {
                    this.reposition();
                  }
                  removePress(e) {
                    e.pointer.removeInputListener(this._pressListener),
                      (e.pointer.cursor = null),
                      (0, Di.Z)(this._presses, e),
                      this.recomputeLocals(),
                      this.reposition();
                  }
                  addBackgroundPress(e) {
                    this.hasPress(e) ||
                      (this._backgroundPresses.push(e),
                      e.pointer.addInputListener(this._backgroundListener, !1));
                  }
                  removeBackgroundPress(e) {
                    e.pointer.removeInputListener(this._backgroundListener),
                      (0, Di.Z)(this._backgroundPresses, e);
                  }
                  convertBackgroundPresses() {
                    const e = this._backgroundPresses.slice();
                    for (let t = 0; t < e.length; t++) {
                      const i = e[t];
                      this.removeBackgroundPress(i),
                        i.pointer.interruptAttached(),
                        this.addPress(i);
                    }
                  }
                  reposition() {
                    this.matrixProperty.set(this.computeMatrix());
                  }
                  recomputeLocals() {
                    for (let e = 0; e < this._presses.length; e++)
                      this._presses[e].recomputeLocalPoint();
                  }
                  interrupt() {
                    for (; this._presses.length; )
                      this.removePress(this._presses[this._presses.length - 1]);
                    for (; this._backgroundPresses.length; )
                      this.removeBackgroundPress(
                        this._backgroundPresses[
                          this._backgroundPresses.length - 1
                        ]
                      );
                    this._interrupted = !0;
                  }
                  computeMatrix() {
                    return 0 === this._presses.length
                      ? this._targetNode.getMatrix()
                      : 1 === this._presses.length
                      ? this.computeSinglePressMatrix()
                      : this._allowScale && this._allowRotation
                      ? this.computeTranslationRotationScaleMatrix()
                      : this._allowScale
                      ? this.computeTranslationScaleMatrix()
                      : this._allowRotation
                      ? this.computeTranslationRotationMatrix()
                      : this.computeTranslationMatrix();
                  }
                  computeSinglePressMatrix() {
                    const e = this._presses[0].targetPoint,
                      t = this._targetNode.localToParentPoint(
                        this._presses[0].localPoint
                      ),
                      i = e.minus(t);
                    return Le.Z.translationFromVector(i).timesMatrix(
                      this._targetNode.getMatrix()
                    );
                  }
                  computeTranslationMatrix() {
                    const e = new Me.Z(0, 0);
                    for (let t = 0; t < this._presses.length; t++)
                      e.add(this._presses[t].targetPoint),
                        e.subtract(this._presses[t].localPoint);
                    return Le.Z.translationFromVector(
                      e.dividedScalar(this._presses.length)
                    );
                  }
                  computeTranslationScaleMatrix() {
                    const e = this._presses.map((e) => e.localPoint),
                      t = this._presses.map((e) => e.targetPoint),
                      i = new Me.Z(0, 0),
                      s = new Me.Z(0, 0);
                    e.forEach((e) => {
                      i.add(e);
                    }),
                      t.forEach((e) => {
                        s.add(e);
                      }),
                      i.divideScalar(this._presses.length),
                      s.divideScalar(this._presses.length);
                    let n = 0,
                      r = 0;
                    e.forEach((e) => {
                      n += e.distanceSquared(i);
                    }),
                      t.forEach((e) => {
                        r += e.distanceSquared(s);
                      });
                    let o = this.getCurrentScale();
                    0 !== r && (o = this.limitScale(Math.sqrt(r / n)));
                    const a = Le.Z.translation(s.x, s.y),
                      h = Le.Z.translation(-i.x, -i.y);
                    return a.timesMatrix(Le.Z.scaling(o)).timesMatrix(h);
                  }
                  limitScale(e) {
                    let t = Math.max(e, this._minScale);
                    return (t = Math.min(t, this._maxScale)), t;
                  }
                  computeTranslationRotationMatrix() {
                    let e;
                    const t = new uh(2, this._presses.length),
                      i = new uh(2, this._presses.length),
                      s = new Me.Z(0, 0),
                      n = new Me.Z(0, 0);
                    for (e = 0; e < this._presses.length; e++) {
                      const r = this._presses[e].localPoint,
                        o = this._presses[e].targetPoint;
                      s.add(r),
                        n.add(o),
                        t.set(0, e, r.x),
                        t.set(1, e, r.y),
                        i.set(0, e, o.x),
                        i.set(1, e, o.y);
                    }
                    for (
                      s.divideScalar(this._presses.length),
                        n.divideScalar(this._presses.length),
                        e = 0;
                      e < this._presses.length;
                      e++
                    )
                      t.set(0, e, t.get(0, e) - s.x),
                        t.set(1, e, t.get(1, e) - s.y),
                        i.set(0, e, i.get(0, e) - n.x),
                        i.set(1, e, i.get(1, e) - n.y);
                    const r = t.times(i.transpose()),
                      o = new hh(r);
                    let a = o.getV().times(o.getU().transpose());
                    a.det() < 0 &&
                      (a = o
                        .getV()
                        .times(uh.diagonalMatrix([1, -1]))
                        .times(o.getU().transpose()));
                    const h = new Le.Z().rowMajor(
                        a.get(0, 0),
                        a.get(0, 1),
                        0,
                        a.get(1, 0),
                        a.get(1, 1),
                        0,
                        0,
                        0,
                        1
                      ),
                      l = n.minus(h.timesVector2(s));
                    return h.set02(l.x), h.set12(l.y), h;
                  }
                  computeTranslationRotationScaleMatrix() {
                    let e;
                    const t = new uh(2 * this._presses.length, 4);
                    for (e = 0; e < this._presses.length; e++) {
                      const i = this._presses[e].localPoint;
                      t.set(2 * e + 0, 0, i.x),
                        t.set(2 * e + 0, 1, i.y),
                        t.set(2 * e + 0, 2, 1),
                        t.set(2 * e + 1, 0, i.y),
                        t.set(2 * e + 1, 1, -i.x),
                        t.set(2 * e + 1, 3, 1);
                    }
                    const i = new uh(2 * this._presses.length, 1);
                    for (e = 0; e < this._presses.length; e++) {
                      const t = this._presses[e].targetPoint;
                      i.set(2 * e + 0, 0, t.x), i.set(2 * e + 1, 0, t.y);
                    }
                    const s = hh.pseudoinverse(t).times(i),
                      n = s.get(0, 0),
                      r = s.get(1, 0),
                      o = s.get(2, 0),
                      a = s.get(3, 0);
                    return new Le.Z().rowMajor(n, r, o, -r, n, a, 0, 0, 1);
                  }
                  getCurrentScale() {
                    return this._targetNode.getScaleVector().x;
                  }
                  resetTransform() {
                    this._targetNode.resetTransform(),
                      this.matrixProperty.set(this._targetNode.matrix.copy());
                  }
                }
                G.register("MultiListener", ph);
                class gh {
                  constructor(e, t) {
                    (this.pointer = e),
                      (this.trail = t),
                      (this.interrupted = !1),
                      (this.initialPoint = e.point),
                      (this.localPoint = null),
                      this.recomputeLocalPoint();
                  }
                  recomputeLocalPoint() {
                    this.localPoint = this.trail.globalToLocalPoint(
                      this.pointer.point
                    );
                  }
                  get targetPoint() {
                    return this.trail.globalToParentPoint(this.pointer.point);
                  }
                }
                const mh = ph;
                var Ah = i(369);
                const yh = new Le.Z();
                class fh extends mh {
                  constructor(e, t) {
                    super(
                      e,
                      (t = (0, kt.Z)(
                        {
                          panBounds: Oe.Z.NOTHING,
                          targetBounds: null,
                          targetScale: 1,
                          allowRotation: !1,
                          tandem: fe.Z.OPTIONAL,
                        },
                        t
                      ))
                    ),
                      (this._panBounds = t.panBounds),
                      (this._targetBounds =
                        t.targetBounds || e.globalBounds.copy()),
                      (this._targetScale = t.targetScale),
                      (this.sourceFramePanBoundsProperty = new yt.Z(
                        fe.Z.API_GENERATION
                          ? new Oe.Z(0, 0, 0, 0)
                          : this._panBounds,
                        {
                          tandem: t.tandem.createTandem(
                            "sourceFramePanBoundsProperty"
                          ),
                          phetioValueType: Oe.Z.Bounds2IO,
                        }
                      )),
                      this.sourceFramePanBoundsProperty.lazyLink(
                        () => {
                          if (
                            _.hasIn(window, "phet.joist.sim") &&
                            phet.joist.sim.isSettingPhetioStateProperty.value
                          ) {
                            const e = Ah.Z.createRectangleMapping(
                                this.sourceFramePanBoundsProperty.get(),
                                this._panBounds
                              ),
                              t =
                                this._targetNode.matrix.translation.componentMultiply(
                                  e.matrix.getScaleVector()
                                ),
                              i = this.matrixProperty.get().getScaleVector();
                            this.matrixProperty.set(
                              Le.Z.translationFromVector(t).timesMatrix(
                                Le.Z.scaling(i.x, i.y)
                              )
                            );
                          }
                        },
                        { phetioDependencies: [this.matrixProperty] }
                      );
                  }
                  correctReposition() {
                    yh.set(this._targetNode.matrix);
                    const e = this._targetBounds.transformed(
                      this._targetNode.getMatrix()
                    );
                    e.left > this._panBounds.left &&
                      (this._targetNode.left =
                        this._panBounds.left -
                        (e.left - this._targetNode.left)),
                      e.top > this._panBounds.top &&
                        (this._targetNode.top =
                          this._panBounds.top - (e.top - this._targetNode.top)),
                      e.right < this._panBounds.right &&
                        (this._targetNode.right =
                          this._panBounds.right +
                          (this._targetNode.right - e.right)),
                      e.bottom < this._panBounds.bottom &&
                        (this._targetNode.bottom =
                          this._panBounds.bottom +
                          (this._targetNode.bottom - e.bottom)),
                      yh.equals(this._targetNode.matrix) ||
                        this.matrixProperty.set(this._targetNode.matrix.copy());
                  }
                  addPress(e) {
                    super.addPress(e);
                    const t = this._targetBounds
                      .transformed(this._targetNode.getMatrix())
                      .equalsEpsilon(this._panBounds, 1e-8);
                    e.pointer.cursor = t ? null : this._pressCursor;
                  }
                  reposition() {
                    super.reposition(), this.correctReposition();
                  }
                  resetTransform() {
                    mh.prototype.resetTransform.call(this),
                      this.correctReposition();
                  }
                  setPanBounds(e) {
                    (this._panBounds = e),
                      fe.Z.API_GENERATION ||
                        this.sourceFramePanBoundsProperty.set(this._panBounds),
                      this.correctReposition();
                  }
                  setTargetBounds(e) {
                    (this._targetBounds = e), this.correctReposition();
                  }
                  setTargetScale(e) {
                    this._targetScale = e;
                  }
                  getTargetBounds(e) {
                    return this._targetBounds;
                  }
                }
                G.register("PanZoomListener", fh);
                const Ph = fh,
                  bh = new Me.Z(0, 0),
                  vh = new Me.Z(0, 0),
                  Vh = new Me.Z(0, 0),
                  wh = new Oe.Z(0, 0, 0, 0);
                class Eh extends Ph {
                  constructor(e, t) {
                    super(e, (t = (0, kt.Z)({ tandem: fe.Z.REQUIRED }, t))),
                      (this.sourcePosition = null),
                      (this.destinationPosition = null),
                      (this.sourceScale = this.getCurrentScale()),
                      (this.destinationScale = this.getCurrentScale()),
                      (this.scaleGestureTargetPosition = null),
                      (this.discreteScales = Ch(
                        this._minScale,
                        this._maxScale
                      )),
                      (this.middlePress = null),
                      (this._dragBounds = null),
                      (this._transformedPanBounds = this._panBounds.transformed(
                        this._targetNode.matrix.inverted()
                      )),
                      (this._draggingInDragBounds = !1),
                      (this._attachedPointers = []),
                      (this.boundsFinite = !1);
                    let i = null,
                      s = null;
                    (this.gestureStartAction = new Tr.Z(
                      (e) => {
                        e.preventDefault(),
                          (this.trackpadGestureStartScale = e.scale),
                          (this.scaleGestureTargetPosition = new Me.Z(
                            e.pageX,
                            e.pageY
                          ));
                      },
                      {
                        phetioPlayback: !0,
                        tandem: t.tandem.createTandem("gestureStartAction"),
                        parameters: [{ name: "event", phetioType: dt }],
                        phetioEventType: Cr.Z.USER,
                        phetioDocumentation:
                          "Action that executes whenever a gesture starts on a trackpad in macOS Safari.",
                      }
                    )),
                      (this.gestureChangeAction = new Tr.Z(
                        (e) => {
                          e.preventDefault();
                          const t =
                            this.sourceScale +
                            e.scale -
                            this.trackpadGestureStartScale;
                          this.setDestinationScale(t);
                        },
                        {
                          phetioPlayback: !0,
                          tandem: t.tandem.createTandem("gestureChangeAction"),
                          parameters: [{ name: "event", phetioType: dt }],
                          phetioEventType: Cr.Z.USER,
                          phetioDocumentation:
                            "Action that executes whenever a gesture changes on a trackpad in macOS Safari.",
                        }
                      )),
                      Ne.Z.safari &&
                        !Ne.Z.mobileSafari &&
                        ((i = this.handleGestureStartEvent.bind(this)),
                        (s = this.handleGestureChangeEvent.bind(this)),
                        (this.trackpadGestureStartScale =
                          this.getCurrentScale()),
                        window.addEventListener("gesturestart", i),
                        window.addEventListener("gesturechange", s)),
                      Or.keydownEmitter.addListener(
                        this.windowKeydown.bind(this)
                      );
                    const n = (e) => {
                      e &&
                        this.getCurrentScale() > 1 &&
                        this.keepTrailInView(e.trail);
                    };
                    go.pdomFocusProperty.link(n),
                      this.sourceFramePanBoundsProperty.lazyLink(
                        () => {
                          _.hasIn(window, "phet.joist.sim") &&
                            phet.joist.sim.isSettingPhetioStateProperty.value &&
                            (this.initializePositions(),
                            (this.sourceScale = this.getCurrentScale()),
                            this.setDestinationScale(this.sourceScale));
                        },
                        { phetioDependencies: [this.matrixProperty] }
                      ),
                      (this.disposeAnimatedPanZoomListener = () => {
                        i && window.removeEventListener("gesturestart", i),
                          s && window.removeEventListener("gestureChange", s),
                          go.pdomFocusProperty.unlink(n);
                      });
                  }
                  step(e) {
                    this.middlePress && this.handleMiddlePress(e),
                      this._attachedPointers.length > 0 &&
                        this.getCurrentScale() > 1 &&
                        (this._attachedPointers.length > 0 &&
                          (this._attachedPointers =
                            this._attachedPointers.filter(
                              (e) => e.attachedListener
                            )),
                        (this._draggingInDragBounds ||
                          this._attachedPointers.some(
                            (e) => e instanceof va
                          )) &&
                          this.repositionDuringDrag()),
                      this.animateToTargets(e);
                  }
                  down(e) {
                    Ph.prototype.down.call(this, e),
                      null !== this._dragBounds &&
                        e.pointer.hasIntent(ma.DRAG) &&
                        (0 === this._attachedPointers.length &&
                          (this._draggingInDragBounds =
                            this._dragBounds.containsPoint(e.pointer.point)),
                        e.pointer.attachedListener &&
                          (this._attachedPointers.includes(e.pointer) ||
                            this._attachedPointers.push(e.pointer))),
                      "mouse" === e.pointer.type &&
                      e.pointer.middleDown &&
                      !this.middlePress
                        ? ((this.middlePress = new xh(e.pointer, e.trail)),
                          (e.pointer.cursor = "all-scroll"))
                        : this.cancelMiddlePress();
                  }
                  cancelMiddlePress() {
                    this.middlePress &&
                      ((this.middlePress.pointer.cursor = null),
                      (this.middlePress = null),
                      this.stopInProgressAnimation());
                  }
                  movePress(e) {
                    this.middlePress || Ph.prototype.movePress.call(this, e);
                  }
                  move(e) {
                    if (
                      this._attachedPointers.length > 0 &&
                      this.getCurrentScale() > 1
                    )
                      if (this._draggingInDragBounds) {
                        if (!this._attachedPointers.includes(e.pointer)) {
                          const t = this.hasDragIntent(e.pointer);
                          null !== e.currentTarget &&
                            t &&
                            e.pointer.attachedListener &&
                            this._attachedPointers.push(e.pointer);
                        }
                      } else
                        this._draggingInDragBounds =
                          this._dragBounds.containsPoint(e.pointer.point);
                  }
                  getGlobalBoundsToViewDuringDrag() {
                    let e = null;
                    if (this._attachedPointers.length > 0) {
                      const t = this._attachedPointers[0].attachedListener;
                      if (t.createPanTargetBounds)
                        e = t.createPanTargetBounds();
                      else if (
                        t.listener instanceof za ||
                        t.listener instanceof Mh
                      ) {
                        const i = t.listener;
                        if (i.isPressed) {
                          const t = i.getCurrentTarget();
                          1 === t.instances.length &&
                            (e = t.instances[0].trail.parentToGlobalBounds(
                              t.visibleBounds
                            ));
                        }
                      }
                    }
                    return e;
                  }
                  repositionDuringDrag() {
                    const e = this.getGlobalBoundsToViewDuringDrag();
                    e &&
                      this.keepBoundsInView(
                        e,
                        this._attachedPointers.some((e) => e instanceof va)
                      );
                  }
                  cancelPanningDuringDrag(e) {
                    if (e) {
                      const t = this._attachedPointers.indexOf(e.pointer);
                      t > -1 && this._attachedPointers.splice(t, 1);
                    } else this._attachedPointers = [];
                    this._draggingInDragBounds = !1;
                  }
                  up(e) {
                    this.cancelPanningDuringDrag(e);
                  }
                  wheel(e) {
                    if (!this.middlePress) {
                      const t = new Th(e, this._targetScale);
                      this.repositionFromWheel(t, e);
                    }
                  }
                  windowKeydown(e) {
                    if (
                      (this.cancelMiddlePress(),
                      (!phet.joist.display._accessible ||
                        !phet.joist.display.pdomRootElement.contains(
                          e.target
                        )) &&
                        (this.handleZoomCommands(e), st.isArrowKey(e)))
                    ) {
                      const e = new Sh(
                        Or,
                        this.getCurrentScale(),
                        this._targetScale
                      );
                      this.repositionFromKeys(e);
                    }
                  }
                  keydown(e) {
                    const t = e.domEvent;
                    this.cancelMiddlePress(), this.handleZoomCommands(t);
                    const i = e.pointer.hasIntent(ma.KEYBOARD_DRAG);
                    if (st.isArrowKey(t) && !i) {
                      const e = new Sh(
                        Or,
                        this.getCurrentScale(),
                        this._targetScale
                      );
                      this.repositionFromKeys(e);
                    }
                    st.isMovementKey(t) &&
                      i &&
                      e.pointer.isAttached() &&
                      (this._attachedPointers.includes(e.pointer) ||
                        this._attachedPointers.push(e.pointer));
                  }
                  handleZoomCommands(e) {
                    const t = Bo.isZoomCommand(e, !0),
                      i = Bo.isZoomCommand(e, !1);
                    if (t || i) {
                      e.preventDefault();
                      const i = this.getNextDiscreteScale(t),
                        s = new Sh(Or, i, this._targetScale);
                      this.repositionFromKeys(s);
                    } else
                      Bo.isZoomResetCommand(e) &&
                        (e.preventDefault(), this.resetTransform());
                  }
                  handleGestureStartEvent(e) {
                    this.gestureStartAction.execute(e);
                  }
                  handleGestureChangeEvent(e) {
                    this.gestureChangeAction.execute(e);
                  }
                  handleMiddlePress(e) {
                    if (e > 0) {
                      const t = this.middlePress.pointer.point.minus(
                          this.middlePress.initialPoint
                        ),
                        i = t.magnitude / 100;
                      i > 0 &&
                        (t.setMagnitude(
                          Math.min(i / e, 150 * this._targetScale)
                        ),
                        this.setDestinationPosition(
                          this.sourcePosition.plus(t)
                        ));
                    }
                  }
                  translateScaleToTarget(e, t) {
                    const i = this._targetNode.globalToLocalPoint(e),
                      s = this._targetNode.globalToParentPoint(e),
                      n = Le.Z.translation(-i.x, -i.y),
                      r = Le.Z.translation(s.x, s.y),
                      o = this.limitScale(this.getCurrentScale() + t),
                      a = r.timesMatrix(Le.Z.scaling(o)).timesMatrix(n);
                    this.matrixProperty.set(a), this.correctReposition();
                  }
                  setTranslationScaleToTarget(e, t) {
                    const i = this._targetNode.globalToLocalPoint(e),
                      s = this._targetNode.globalToParentPoint(e),
                      n = Le.Z.translation(-i.x, -i.y),
                      r = Le.Z.translation(s.x, s.y),
                      o = this.limitScale(t),
                      a = r.timesMatrix(Le.Z.scaling(o)).timesMatrix(n);
                    this.matrixProperty.set(a), this.correctReposition();
                  }
                  translateDelta(e) {
                    const t = this._targetNode.globalToParentPoint(
                        this._panBounds.center
                      ),
                      i = t.plus(e);
                    this.translateToTarget(i, t);
                  }
                  translateToTarget(e, t) {
                    const i = this._targetNode.globalToParentPoint(e),
                      s = this._targetNode.globalToParentPoint(t).minus(i);
                    this.matrixProperty.set(
                      Le.Z.translationFromVector(s).timesMatrix(
                        this._targetNode.getMatrix()
                      )
                    ),
                      this.correctReposition();
                  }
                  repositionFromKeys(e) {
                    const t = e.scale;
                    t !== this.getCurrentScale()
                      ? (this.setDestinationScale(t),
                        (this.scaleGestureTargetPosition =
                          e.computeScaleTargetFromKeyPress()))
                      : e.translationVector.equals(Me.Z.ZERO) ||
                        this.setDestinationPosition(
                          this.sourcePosition.plus(e.translationVector)
                        ),
                      this.correctReposition();
                  }
                  repositionFromWheel(e, t) {
                    if ((t.domEvent.preventDefault(), e.isCtrlKeyDown)) {
                      const t = this.limitScale(
                        this.getCurrentScale() + e.scaleDelta
                      );
                      (this.scaleGestureTargetPosition = e.targetPoint),
                        this.setDestinationScale(t);
                    } else
                      this.setDestinationPosition(
                        this.sourcePosition.plus(e.translationVector)
                      );
                    this.correctReposition();
                  }
                  correctReposition() {
                    super.correctReposition(),
                      this._panBounds.isFinite() &&
                        ((this._transformedPanBounds =
                          this._panBounds.transformed(
                            this._targetNode.matrix.inverted()
                          )),
                        (this.sourcePosition =
                          this._transformedPanBounds.center),
                        (this.sourceScale = this.getCurrentScale()));
                  }
                  addPress(e) {
                    super.addPress(e), this.stopInProgressAnimation();
                  }
                  removePress(e) {
                    super.removePress(e),
                      this.middlePress && (e.pointer.cursor = "all-scroll"),
                      0 === this._presses.length &&
                        this.stopInProgressAnimation();
                  }
                  interrupt() {
                    this.cancelPanningDuringDrag(),
                      this.cancelMiddlePress(),
                      super.interrupt();
                  }
                  cancel() {
                    this.interrupt();
                  }
                  hasDragIntent(e) {
                    return (
                      e.hasIntent(ma.KEYBOARD_DRAG) || e.hasIntent(ma.DRAG)
                    );
                  }
                  panToNode(e) {
                    this.keepBoundsInView(e.globalBounds, !0);
                  }
                  keepBoundsInView(e) {
                    let t =
                      arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1];
                    const i = this._targetNode.globalToLocalBounds(e),
                      s = new Me.Z(0, 0);
                    let n = 0,
                      r = 0,
                      o = 0,
                      a = 0;
                    t
                      ? ((n = this._transformedPanBounds.centerX - i.centerX),
                        (r = this._transformedPanBounds.centerX - i.centerX),
                        (o = this._transformedPanBounds.centerY - i.centerY),
                        (a = this._transformedPanBounds.centerY - i.centerY))
                      : i.width < this._transformedPanBounds.width &&
                        i.height < this._transformedPanBounds.height &&
                        ((n = this._transformedPanBounds.left - i.left),
                        (r = this._transformedPanBounds.right - i.right),
                        (o = this._transformedPanBounds.top - i.top),
                        (a = this._transformedPanBounds.bottom - i.bottom)),
                      a < 0 && (s.y = -a),
                      o > 0 && (s.y = -o),
                      r < 0 && (s.x = -r),
                      n > 0 && (s.x = -n),
                      this.setDestinationPosition(this.sourcePosition.plus(s));
                  }
                  keepTrailInView(e) {
                    if (
                      this._panBounds.isFinite() &&
                      e.lastNode().bounds.isFinite()
                    ) {
                      const t = e.localToGlobalBounds(e.lastNode().localBounds);
                      this._panBounds.containsBounds(t) ||
                        this.keepBoundsInView(t, !0);
                    }
                  }
                  animateToTargets(e) {
                    const t = !this.destinationPosition.equalsEpsilon(
                        this.sourcePosition,
                        0.1
                      ),
                      i = !U.Z.equalsEpsilon(
                        this.sourceScale,
                        this.destinationScale,
                        0.001
                      );
                    if (
                      0 === this._presses.length ||
                      null !== this.middlePress
                    ) {
                      if (t) {
                        const t = this.destinationPosition.minus(
                          this.sourcePosition
                        );
                        let i = t;
                        0 !== t.magnitude && (i = t.normalized());
                        const s = this.getTranslationSpeed(t.magnitude);
                        Vh.setXY(s, s);
                        const n = Vh.multiplyScalar(e),
                          r = i.componentTimes(n);
                        r.magnitude > t.magnitude && r.set(t),
                          this.translateDelta(r);
                      }
                      if (i) {
                        const t = this.destinationScale - this.sourceScale;
                        let i = t * e * 6;
                        Math.abs(i) > Math.abs(t) && (i = t),
                          this.translateScaleToTarget(
                            this.scaleGestureTargetPosition,
                            i
                          ),
                          this.setDestinationPosition(this.sourcePosition);
                      } else
                        this.destinationScale !== this.sourceScale &&
                          (this.setTranslationScaleToTarget(
                            this.scaleGestureTargetPosition,
                            this.destinationScale
                          ),
                          this.setDestinationPosition(this.sourcePosition));
                    }
                  }
                  stopInProgressAnimation() {
                    this.boundsFinite &&
                      (this.setDestinationScale(this.sourceScale),
                      this.setDestinationPosition(this.sourcePosition));
                  }
                  initializePositions() {
                    (this.boundsFinite = this._transformedPanBounds.isFinite()),
                      this.boundsFinite
                        ? ((this.sourcePosition =
                            this._transformedPanBounds.center),
                          this.setDestinationPosition(this.sourcePosition))
                        : ((this.sourcePosition = null),
                          (this.destinationPosition = null));
                  }
                  setPanBounds(e) {
                    super.setPanBounds(e),
                      this.initializePositions(),
                      (this._dragBounds = e.erodedXY(
                        0.1 * e.width,
                        0.1 * e.height
                      ));
                  }
                  setTargetBounds(e) {
                    super.setTargetBounds(e), this.initializePositions();
                  }
                  setDestinationPosition(e) {
                    wh.setMinMax(
                      this.sourcePosition.x -
                        this._transformedPanBounds.left -
                        this._panBounds.left,
                      this.sourcePosition.y -
                        this._transformedPanBounds.top -
                        this._panBounds.top,
                      this.sourcePosition.x +
                        this._panBounds.right -
                        this._transformedPanBounds.right,
                      this.sourcePosition.y +
                        this._panBounds.bottom -
                        this._transformedPanBounds.bottom
                    ),
                      (this.destinationPosition = wh.closestPointTo(e));
                  }
                  setDestinationScale(e) {
                    this.destinationScale = this.limitScale(e);
                  }
                  getTranslationSpeed(e) {
                    const t = e * this.getCurrentScale(),
                      i = t * (1 / (Math.pow(t, 2) - Math.pow(5, 2)) + 5);
                    return Math.min(Math.abs(i), 1e3 * this.getCurrentScale());
                  }
                  resetTransform() {
                    super.resetTransform(), this.stopInProgressAnimation();
                  }
                  getNextDiscreteScale(e) {
                    const t = this.getCurrentScale();
                    let i,
                      s = Number.POSITIVE_INFINITY;
                    for (let r = 0; r < this.discreteScales.length; r++) {
                      const e = Math.abs(this.discreteScales[r] - t);
                      e < s && ((s = e), (i = r));
                    }
                    let n = e ? i + 1 : i - 1;
                    return (
                      (n = U.Z.clamp(n, 0, this.discreteScales.length - 1)),
                      this.discreteScales[n]
                    );
                  }
                  dispose() {
                    this.disposeAnimatedPanZoomListener();
                  }
                }
                class Sh {
                  constructor(e, t, i, s) {
                    s = (0, kt.Z)({ translationMagnitude: 80 }, s);
                    let n = 0;
                    (n += e.isKeyDown(st.KEY_RIGHT_ARROW)),
                      (n -= e.isKeyDown(st.KEY_LEFT_ARROW));
                    let r = 0;
                    if (
                      ((r += e.isKeyDown(st.KEY_DOWN_ARROW)),
                      (r -= e.isKeyDown(st.KEY_UP_ARROW)),
                      bh.setXY(n, r),
                      !bh.equals(Me.Z.ZERO))
                    ) {
                      const e = s.translationMagnitude * i;
                      bh.setMagnitude(e);
                    }
                    (this.translationVector = bh), (this.scale = t);
                  }
                  computeScaleTargetFromKeyPress() {
                    if ((vh.setXY(0, 0), go.pdomFocusProperty.value)) {
                      const e = go.pdomFocusProperty.value.trail,
                        t = e.lastNode();
                      t.bounds.isFinite() &&
                        vh.set(e.parentToGlobalPoint(t.center));
                    } else {
                      const e = Ei.getNextFocusable();
                      if (e !== document.body) {
                        const t = e.offsetLeft + e.offsetWidth / 2,
                          i = e.offsetTop + e.offsetHeight / 2;
                        vh.setXY(t, i);
                      }
                    }
                    return vh;
                  }
                }
                class Th {
                  constructor(e, t) {
                    const i = e.domEvent;
                    (this.isCtrlKeyDown = e.domEvent.ctrlKey),
                      (this.scaleDelta = i.deltaY > 0 ? -0.5 : 0.5),
                      (this.targetPoint = e.pointer.point);
                    let s = 0.5 * i.deltaX,
                      n = 0.5 * i.deltaY;
                    i.deltaMode === window.WheelEvent.DOM_DELTA_LINE &&
                      ((s *= 25), (n *= 25)),
                      (this.translationVector = bh.setXY(s * t, n * t));
                  }
                }
                class xh {
                  constructor(e, t) {
                    (this.pointer = e),
                      (this.trail = t),
                      (this.initialPoint = e.point.copy());
                  }
                }
                const Ch = (e, t) => {
                  const i = [];
                  for (let n = 0; n < 8; n++) i[n] = ((t - e) / 8) * (n * n);
                  const s = i[7];
                  for (let n = 0; n < i.length; n++)
                    i[n] = e + (i[n] * (t - e)) / s;
                  return i;
                };
                G.register("AnimatedPanZoomListener", Eh);
                const Ih = Eh;
                const Dh = new (class {
                  constructor() {
                    this._listener = null;
                  }
                  initialize(e, t) {
                    this._listener = new Ih(e, t);
                  }
                  dispose() {
                    this._listener.dispose(), (this._listener = null);
                  }
                  get listener() {
                    return this._listener;
                  }
                  get initialized() {
                    return !!this._listener;
                  }
                })();
                G.register("animatedPanZoomSingleton", Dh);
                const kh = Dh;
                class Oh {
                  down(e) {
                    e.handle();
                  }
                }
                G.register("HandleDownlistener", Oh);
                const Lh = new Map([
                  [
                    "both",
                    {
                      left: [st.KEY_A, st.KEY_LEFT_ARROW],
                      right: [st.KEY_RIGHT_ARROW, st.KEY_D],
                      up: [st.KEY_UP_ARROW, st.KEY_W],
                      down: [st.KEY_DOWN_ARROW, st.KEY_S],
                    },
                  ],
                  [
                    "leftRight",
                    {
                      left: [
                        st.KEY_A,
                        st.KEY_LEFT_ARROW,
                        st.KEY_DOWN_ARROW,
                        st.KEY_S,
                      ],
                      right: [
                        st.KEY_RIGHT_ARROW,
                        st.KEY_D,
                        st.KEY_UP_ARROW,
                        st.KEY_W,
                      ],
                      up: [],
                      down: [],
                    },
                  ],
                  [
                    "upDown",
                    {
                      left: [],
                      right: [],
                      up: [
                        st.KEY_RIGHT_ARROW,
                        st.KEY_D,
                        st.KEY_UP_ARROW,
                        st.KEY_W,
                      ],
                      down: [
                        st.KEY_A,
                        st.KEY_LEFT_ARROW,
                        st.KEY_DOWN_ARROW,
                        st.KEY_S,
                      ],
                    },
                  ],
                ]);
                class Bh extends Ha.Z {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        dragDelta: 10,
                        shiftDragDelta: 5,
                        dragVelocity: 0,
                        shiftDragVelocity: 0,
                        keyboardDragDirection: "both",
                        positionProperty: null,
                        transform: null,
                        dragBoundsProperty: null,
                        start: null,
                        drag: null,
                        end: null,
                        moveOnHoldDelay: 0,
                        moveOnHoldInterval: 0,
                        hotkeyHoldInterval: 800,
                        phetioEnabledPropertyInstrumented: !1,
                        tandem: fe.Z.REQUIRED,
                        phetioReadOnly: !0,
                      },
                      e
                    );
                    super(t),
                      (this._start = t.start),
                      (this._drag = t.drag),
                      (this._end = t.end),
                      (this._dragBoundsProperty =
                        t.dragBoundsProperty || new yt.Z(null)),
                      (this._transform = t.transform),
                      (this._positionProperty = t.positionProperty),
                      (this._dragVelocity = t.dragVelocity),
                      (this._shiftDragVelocity = t.shiftDragVelocity),
                      (this._dragDelta = t.dragDelta),
                      (this._shiftDragDelta = t.shiftDragDelta),
                      (this._moveOnHoldDelay = t.moveOnHoldDelay),
                      (this._moveOnHoldInterval = t.moveOnHoldInterval),
                      (this._hotkeyHoldInterval = t.hotkeyHoldInterval),
                      (this._keyboardDragDirection = t.keyboardDragDirection),
                      (this.keyState = []),
                      (this._hotkeys = []),
                      (this.currentHotkey = null),
                      (this.hotkeyDisablingDragging = !1),
                      (this.hotkeyHoldIntervalCounter =
                        this._hotkeyHoldInterval),
                      (this.useDragVelocity =
                        t.dragVelocity > 0 || t.shiftDragVelocity > 0),
                      (this.moveOnHoldDelayCounter = 0),
                      (this.moveOnHoldIntervalCounter = 0),
                      (this.delayComplete = !1),
                      (this.dragStartAction = new Tr.Z(
                        (e) => {
                          const t = st.getEventCode(e.domEvent);
                          if (
                            (!this.movementKeysDown &&
                              st.isMovementKey(e.domEvent) &&
                              ((this._pointer = e.pointer),
                              e.pointer.addInputListener(
                                this._pointerListener,
                                !0
                              )),
                            this.keyState.push({
                              keyDown: !0,
                              key: t,
                              timeDown: 0,
                            }),
                            this._start &&
                              this.movementKeysDown &&
                              this._start(e),
                            !this.useDragVelocity)
                          ) {
                            const e = this.shiftKeyDown()
                              ? this._shiftDragDelta
                              : this._dragDelta;
                            this.updatePosition(e);
                          }
                        },
                        {
                          parameters: [
                            { name: "event", phetioType: Va.SceneryEventIO },
                          ],
                          tandem: t.tandem.createTandem("dragStartAction"),
                          phetioDocumentation:
                            "Emits whenever a keyboard drag starts.",
                          phetioReadOnly: t.phetioReadOnly,
                          phetioEventType: Cr.Z.USER,
                        }
                      )),
                      (this.dragEmitter = new Er.Z({
                        tandem: t.tandem.createTandem("dragEmitter"),
                        phetioHighFrequency: !0,
                        phetioDocumentation:
                          "Emits whenever a keyboard drag occurs.",
                        phetioReadOnly: t.phetioReadOnly,
                        phetioEventType: Cr.Z.USER,
                      })),
                      (this.dragEndAction = new Tr.Z(
                        (e) => {
                          this.movementKeysDown ||
                            (this._pointer.removeInputListener(
                              this._pointerListener
                            ),
                            (this._pointer = null)),
                            this._end && this._end(e);
                        },
                        {
                          parameters: [
                            { name: "event", phetioType: Va.SceneryEventIO },
                          ],
                          tandem: t.tandem.createTandem("dragEndAction"),
                          phetioDocumentation:
                            "Emits whenever a keyboard drag ends.",
                          phetioReadOnly: t.phetioReadOnly,
                          phetioEventType: Cr.Z.USER,
                        }
                      ));
                    const i = this.step.bind(this);
                    xr.Z.addListener(i),
                      this.enabledProperty.lazyLink(
                        this.onEnabledPropertyChange.bind(this)
                      ),
                      (this._pointerListener = {
                        listener: this,
                        interrupt: this.interrupt.bind(this),
                      }),
                      (this._pointer = null),
                      (this._disposeKeyboardDragListener = () => {
                        xr.Z.removeListener(i);
                      });
                  }
                  getDragBounds() {
                    return this._dragBoundsProperty.value;
                  }
                  get dragBounds() {
                    return this.getDragBounds();
                  }
                  setTransform(e) {
                    this._transform = e;
                  }
                  set transform(e) {
                    this.setTransform(e);
                  }
                  get transform() {
                    return this.getTransform();
                  }
                  getTransform() {
                    return this._transform;
                  }
                  get dragVelocity() {
                    return this._dragVelocity;
                  }
                  set dragVelocity(e) {
                    this._dragVelocity = e;
                  }
                  get shiftDragVelocity() {
                    return this._shiftDragVelocity;
                  }
                  set shiftDragVelocity(e) {
                    this._shiftDragVelocity = e;
                  }
                  get dragDelta() {
                    return this._dragDelta;
                  }
                  set dragDelta(e) {
                    this._dragDelta = e;
                  }
                  get shiftDragDelta() {
                    return this._shiftDragDelta;
                  }
                  set shiftDragDelta(e) {
                    this._shiftDragDelta = e;
                  }
                  get moveOnHoldDelay() {
                    return this._moveOnHoldDelay;
                  }
                  set moveOnHoldDelay(e) {
                    this._moveOnHoldDelay = e;
                  }
                  get moveOnHoldInterval() {
                    return this._moveOnHoldInterval;
                  }
                  set moveOnHoldInterval(e) {
                    this._moveOnHoldInterval = e;
                  }
                  get hotkeyHoldInterval() {
                    return this._hotkeyHoldInterval;
                  }
                  set hotkeyHoldInterval(e) {
                    this._hotkeyHoldInterval = e;
                  }
                  get isPressed() {
                    return !!this._pointer;
                  }
                  getCurrentTarget() {
                    return this._pointer.trail.lastNode();
                  }
                  onEnabledPropertyChange(e) {
                    !e && this.interrupt();
                  }
                  keydown(e) {
                    const t = e.domEvent,
                      i = st.getEventCode(t);
                    t.metaKey ||
                      (st.isMovementKey(t) && t.preventDefault(),
                      e.pointer.reserveForKeyboardDrag(),
                      this.keyInListDown([i]) ||
                        (Ne.Z.safari &&
                        st.isArrowKey(t) &&
                        this.keyInListDown([
                          st.KEY_RIGHT_ARROW,
                          st.KEY_LEFT_ARROW,
                          st.KEY_UP_ARROW,
                          st.KEY_DOWN_ARROW,
                        ])
                          ? this.interrupt()
                          : this.canDrag() && this.dragStartAction.execute(e)));
                  }
                  keyup(e) {
                    const t = e.domEvent,
                      i = st.getEventCode(t),
                      s = this.movementKeysDown;
                    i === st.KEY_TAB &&
                      t.shiftKey &&
                      this.keyState.push({
                        keyDown: !0,
                        key: st.KEY_SHIFT_LEFT,
                        timeDown: 0,
                      });
                    for (let r = 0; r < this.keyState.length; r++)
                      i === this.keyState[r].key && this.keyState.splice(r, 1);
                    const n = this.movementKeysDown;
                    n || s === n || this.dragEndAction.execute(e),
                      this.currentHotkey &&
                        !this.allKeysInListDown(this.currentHotkey.keys) &&
                        this.resetHotkeyState(),
                      this.resetPressAndHold();
                  }
                  focusout(e) {
                    this.interrupt();
                  }
                  step(e) {
                    const t = 1e3 * e;
                    if (this.keyState.length > 0) {
                      for (let i = 0; i < this.keyState.length; i++)
                        this.keyState[i].keyDown &&
                          (this.keyState[i].timeDown += t);
                      this.movementKeysDown &&
                        ((this.moveOnHoldDelayCounter += t),
                        (this.moveOnHoldIntervalCounter += t)),
                        this.currentHotkey &&
                          (this.hotkeyHoldIntervalCounter += t);
                      let e = 0;
                      if (this.useDragVelocity) {
                        e =
                          t *
                          ((this.shiftKeyDown()
                            ? this._shiftDragVelocity
                            : this._dragVelocity) /
                            1e3);
                      } else {
                        let t = !1;
                        this.moveOnHoldDelayCounter >= this._moveOnHoldDelay &&
                          !this.delayComplete &&
                          ((t = !0), (this.delayComplete = !0)),
                          this.delayComplete &&
                            this.moveOnHoldIntervalCounter >=
                              this._moveOnHoldInterval &&
                            (t = !0),
                          (e = t
                            ? this.shiftKeyDown()
                              ? this._shiftDragDelta
                              : this._dragDelta
                            : 0);
                      }
                      e > 0 && this.updatePosition(e);
                    }
                  }
                  canDrag() {
                    return this.enabledProperty.value;
                  }
                  updateHotkeys() {
                    for (let e = 0; e < this._hotkeys.length; e++) {
                      const t = [],
                        i = this._hotkeys[e].keys;
                      for (let e = 0; e < i.length; e++)
                        for (let s = 0; s < this.keyState.length; s++)
                          this.keyState[s].key === i[e] &&
                            t.push(this.keyState[s]);
                      let s = 1 === t.length && 1 === i.length;
                      for (let e = 0; e < t.length - 1; e++)
                        t[e + 1] &&
                          t[e].timeDown > t[e + 1].timeDown &&
                          (s = !0);
                      s &&
                        ((this.currentHotkey = this._hotkeys[e]),
                        this.hotkeyHoldIntervalCounter >=
                          this._hotkeyHoldInterval &&
                          ((this.hotkeyHoldIntervalCounter = 0),
                          this._hotkeys[e].callback()));
                    }
                    this.currentHotkey &&
                      (this.keyInListDown(this.currentHotkey.keys)
                        ? (this.hotkeyDisablingDragging = !0)
                        : ((this.hotkeyDisablingDragging = !1),
                          (this.currentHotkey = null)));
                  }
                  updatePosition(e) {
                    if ((this.updateHotkeys(), !this.hotkeyDisablingDragging)) {
                      let t = 0,
                        i = 0;
                      this.leftMovementKeysDown()
                        ? (t = -e)
                        : this.rightMovementKeysDown() && (t = e),
                        this.upMovementKeysDown()
                          ? (i = -e)
                          : this.downMovementKeysDown() && (i = e);
                      let s = new Me.Z(t, i);
                      if (!s.equals(Me.Z.ZERO)) {
                        if (
                          (this._transform &&
                            (s = this._transform.inverseDelta2(s)),
                          this._positionProperty)
                        ) {
                          let e = this._positionProperty.get().plus(s);
                          const t = this._dragBoundsProperty.value;
                          t && (e = t.closestPointTo(e)),
                            e.equals(this._positionProperty.get()) ||
                              this._positionProperty.set(e);
                        }
                        this._drag && this._drag(s), this.dragEmitter.emit();
                      }
                    }
                    this.moveOnHoldIntervalCounter = 0;
                  }
                  keyInListDown(e) {
                    let t = !1;
                    for (let i = 0; i < this.keyState.length; i++) {
                      if (this.keyState[i].keyDown)
                        for (let s = 0; s < e.length; s++)
                          if (e[s] === this.keyState[i].key) {
                            t = !0;
                            break;
                          }
                      if (t) break;
                    }
                    return t;
                  }
                  allKeysInListDown(e) {
                    let t = !0;
                    for (let i = 0; i < e.length; i++) {
                      const s = _.find(this.keyState, (t) => t.key === e[i]);
                      if (!s || !s.keyDown) {
                        t = !1;
                        break;
                      }
                    }
                    return t;
                  }
                  getKeyboardDragDirectionKeys() {
                    const e = Lh.get(this._keyboardDragDirection);
                    return e;
                  }
                  leftMovementKeysDown() {
                    return this.keyInListDown(
                      this.getKeyboardDragDirectionKeys().left
                    );
                  }
                  rightMovementKeysDown() {
                    return this.keyInListDown(
                      this.getKeyboardDragDirectionKeys().right
                    );
                  }
                  upMovementKeysDown() {
                    return this.keyInListDown(
                      this.getKeyboardDragDirectionKeys().up
                    );
                  }
                  downMovementKeysDown() {
                    return this.keyInListDown(
                      this.getKeyboardDragDirectionKeys().down
                    );
                  }
                  getMovementKeysDown() {
                    return (
                      this.rightMovementKeysDown() ||
                      this.leftMovementKeysDown() ||
                      this.upMovementKeysDown() ||
                      this.downMovementKeysDown()
                    );
                  }
                  get movementKeysDown() {
                    return this.getMovementKeysDown();
                  }
                  enterKeyDown() {
                    return this.keyInListDown([st.KEY_ENTER]);
                  }
                  shiftKeyDown() {
                    return this.keyInListDown(st.SHIFT_KEYS);
                  }
                  addHotkey(e) {
                    this._hotkeys.push(e);
                  }
                  removeHotkey(e) {
                    const t = this._hotkeys.indexOf(e);
                    this._hotkeys.splice(t, 1);
                  }
                  setHotkeys(e) {
                    this._hotkeys = e.slice(0);
                  }
                  set hotkeys(e) {
                    this.setHotkeys(e);
                  }
                  removeAllHotkeys() {
                    this._hotkeys = [];
                  }
                  resetPressAndHold() {
                    (this.delayComplete = !1),
                      (this.moveOnHoldDelayCounter = 0),
                      (this.moveOnHoldIntervalCounter = 0);
                  }
                  resetHotkeyState() {
                    (this.currentHotkey = null),
                      (this.hotkeyHoldIntervalCounter =
                        this._hotkeyHoldInterval),
                      (this.hotkeyDisablingDragging = !1);
                  }
                  interrupt() {
                    (this.keyState = []),
                      this.resetHotkeyState(),
                      this.resetPressAndHold(),
                      this._pointer &&
                        (this._pointer.removeInputListener(
                          this._pointerListener
                        ),
                        (this._pointer = null));
                  }
                  dispose() {
                    this.interrupt(), this._disposeKeyboardDragListener();
                  }
                  static isLeftMovementKey(e) {
                    return e === st.KEY_A || e === st.KEY_LEFT_ARROW;
                  }
                  static isRightMovementKey(e) {
                    return e === st.KEY_D || e === st.KEY_RIGHT_ARROW;
                  }
                  static isUpMovementKey(e) {
                    return e === st.KEY_W || e === st.KEY_UP_ARROW;
                  }
                  static isDownMovementKey(e) {
                    return e === st.KEY_S || e === st.KEY_DOWN_ARROW;
                  }
                }
                G.register("KeyboardDragListener", Bh);
                const Mh = Bh;
                class Nh {
                  constructor(e) {
                    _defineProperty(this, "keysPressed", null);
                    const t = (0, Ae.ZP)()(
                      {
                        callback: _.noop,
                        global: !1,
                        fireOnKeyDown: !0,
                        fireOnKeyUp: !1,
                        fireOnHold: !1,
                        fireOnHoldDelay: 400,
                        fireOnHoldInterval: 100,
                        allowKeyOverlap: !1,
                      },
                      e
                    );
                    (this._callback = t.callback),
                      (this._fireOnKeyUp = t.fireOnKeyUp),
                      (this._fireOnKeyDown = t.fireOnKeyDown),
                      (this._fireOnHold = t.fireOnHold),
                      (this._fireOnHoldDelay = t.fireOnHoldDelay),
                      (this._fireOnHoldInterval = t.fireOnHoldInterval),
                      (this._activeKeyGroups = []),
                      (this._allowKeyOverlap = t.allowKeyOverlap),
                      (this.keysDown = !1),
                      (this._global = t.global),
                      (this._keyGroups = this.convertKeysToKeyGroups(t.keys)),
                      (this.listener = this);
                  }
                  fireCallback(e, t) {
                    (this.keysPressed = t.naturalKeys),
                      this._callback(e, this),
                      (this.keysPressed = null);
                  }
                  handleKeyDown(e) {
                    this._fireOnKeyDown &&
                      this._keyGroups.forEach((t) => {
                        this._activeKeyGroups.includes(t) ||
                          (Or.areKeysDown(t.allKeys) &&
                            Or.getLastKeyDown() === t.key &&
                            (this._activeKeyGroups.push(t),
                            (this.keysDown = !0),
                            t.timer && t.timer.start(),
                            this.fireCallback(e, t)));
                      });
                  }
                  handleKeyUp(e) {
                    this._activeKeyGroups.length > 0 &&
                      this._activeKeyGroups.forEach((e, t) => {
                        Or.areKeysDown(e.allKeys) ||
                          (e.timer && e.timer.stop(!1),
                          this._activeKeyGroups.splice(t, 1));
                      }),
                      this._fireOnKeyUp &&
                        this._keyGroups.forEach((t) => {
                          Or.areKeysDown(t.modifierKeys) &&
                            st.getEventCode(e.domEvent) === t.key &&
                            ((this.keysDown = !1), this.fireCallback(e, t));
                        });
                  }
                  keydown(e) {
                    this._global || this.handleKeyDown(e);
                  }
                  keyup(e) {
                    this._global || this.handleKeyUp(e);
                  }
                  globalkeydown(e) {
                    this._global && this.handleKeyDown(e);
                  }
                  globalkeyup(e) {
                    this._global && this.handleKeyUp(e);
                  }
                  cancel() {
                    this.clearActiveKeyGroups();
                  }
                  interrupt() {
                    this.clearActiveKeyGroups();
                  }
                  checkForTrailKeyCollisions(e, t) {
                    const i = e.target.getTrails();
                    for (let s = 0; s < i.length; s++) {
                      const e = i[s];
                      for (let i = 0; i < e.nodes.length; i++) {
                        const s = e.nodes[i];
                        for (let e = 0; e < s.inputListeners.length; e++) {
                          const i = s.inputListeners[e];
                          if (
                            i.listener instanceof Nh &&
                            !i.listener._allowKeyOverlap &&
                            i.listener !== this
                          ) {
                            const e = i.listener._keyGroups;
                            for (let i = 0; i < e.length; i++) {
                              const s = e[i].naturalKeys;
                              s.startsWith(t.naturalKeys), e[i].key, t.key;
                            }
                          }
                        }
                      }
                    }
                  }
                  dispose() {
                    this._keyGroups.forEach((e) => {
                      e.timer && e.timer.dispose();
                    }),
                      (this._keyGroups.length = 0);
                  }
                  clearActiveKeyGroups() {
                    this._activeKeyGroups.forEach((e) => {
                      e.timer && e.timer.stop(!1);
                    }),
                      (this._activeKeyGroups.length = 0);
                  }
                  convertKeysToKeyGroups(e) {
                    return e.map((e) => {
                      const t = e.split("+"),
                        i = t.slice(-1)[0],
                        s = rt[i];
                      let n = [];
                      t.length > 1 &&
                        (n = t.slice(0, t.length - 1).map((e) => {
                          const t = rt[e];
                          return t;
                        }));
                      const r = this._fireOnHold
                          ? new Xa.Z({
                              callback: () => this.fireCallback(null, o),
                              delay: this._fireOnHoldDelay,
                              interval: this._fireOnHoldInterval,
                            })
                          : null,
                        o = {
                          key: s,
                          modifierKeys: n,
                          naturalKeys: e,
                          allKeys: n.concat(s),
                          timer: r,
                        };
                      return o;
                    });
                  }
                }
                G.register("KeyboardListener", Nh);
                const Rh = Zs(
                  (e) =>
                    class extends e {
                      constructor() {
                        super(...arguments),
                          _defineProperty(this, "spriteInstance", null);
                      }
                      press(e, t, i) {
                        if (this.isPressed) return !1;
                        if (
                          ((this.spriteInstance = null),
                          e.currentTarget instanceof Gn)
                        ) {
                          const t = e.currentTarget;
                          this.spriteInstance = t.getSpriteInstanceFromPoint(
                            t.globalToLocalPoint(e.pointer.point)
                          );
                        }
                        return !!this.spriteInstance && super.press(e, t, i);
                      }
                    }
                );
                G.register("SpriteListenable", Rh);
                class qh {
                  constructor(e) {
                    (this._pointer = null),
                      (this.downPoint = null),
                      (this.downEvent = null),
                      (this.enabled = !1),
                      (this.lastPoint = null),
                      (this.currentPoint = null),
                      (this.velocity = null),
                      (this.swipeDistance = null),
                      (this.firstUp = !1),
                      (this.timeSinceLastDown = 0),
                      (this.downPointers = []),
                      (this.holdingTime = 0),
                      (this.focusedNode = null),
                      (this.handleEventListener = {
                        down: (e) => {
                          e.handle(), e.abort(), this.handleDown(e);
                        },
                      }),
                      e.pointerAddedEmitter.addListener((e) => {
                        this.enabled &&
                          e.addInputListener(this.handleEventListener, !0);
                      }),
                      (this._attachedPointerListener = {
                        up: (e) => {
                          this.focusedNode &&
                            this.focusedNode.swipeEnd &&
                            this.focusedNode.swipeEnd.bind(this.focusedNode)(
                              e,
                              this
                            ),
                            (this.focusedNode = null),
                            this._pointer.removeInputListener(
                              this._attachedPointerListener
                            ),
                            (this._pointer = null);
                        },
                        move: (e) => {
                          this.focusedNode &&
                            this.focusedNode.swipeMove &&
                            this.focusedNode.swipeMove.bind(this.focusedNode)(
                              e,
                              this
                            );
                        },
                        interrupt: (e) => {
                          (this.focusedNode = null),
                            this._pointer.removeInputListener(
                              this._attachedPointerListener
                            ),
                            (this._pointer = null);
                        },
                        cancel: (e) => {
                          (this.focusedNode = null),
                            this._pointer.removeInputListener(
                              this._attachedPointerListener
                            ),
                            (this._pointer = null);
                        },
                      }),
                      (this._pointerListener = {
                        up: (e) => {
                          this.endSwipe(),
                            (this._pointer = null),
                            (this.swipeDistance = e.pointer.point.minus(
                              this.downPoint
                            ));
                          const t = this.swipeDistance.y,
                            i = this.swipeDistance.x;
                          if (Math.abs(i) > 100 && Math.abs(t) < 100)
                            if (i > 0) {
                              if (
                                go.pdomFocusedNode &&
                                "Reset All" === go.pdomFocusedNode.innerContent
                              )
                                return;
                              Ei.getNextFocusable(document.body).focus();
                            } else
                              Ei.getPreviousFocusable(document.body).focus();
                          else if (this.firstUp) {
                            if (this.timeSinceLastDown < 0.6) {
                              (this.firstUp = !1), (this.timeSinceLastDown = 0);
                              const e =
                                document.getElementsByClassName(
                                  "a11y-pdom-root"
                                )[0];
                              e &&
                                e.contains(document.activeElement) &&
                                document.activeElement.click();
                            }
                          } else this.firstUp = !0;
                        },
                        move: (e) => {
                          (this.lastPoint = this.currentPoint),
                            (this.currentPoint = e.pointer.point);
                        },
                        interrupt: () => {
                          this.interrupt();
                        },
                        cancel: () => {
                          this.interrupt();
                        },
                      }),
                      xr.Z.addListener(this.step.bind(this));
                  }
                  handleDown(e) {
                    e.pointer.addIntent(ma.DRAG),
                      this.downPointers.push(e.pointer),
                      this.downPointers.length > 1 &&
                        (this.downPointers.forEach((e) =>
                          e.removeIntent(ma.DRAG)
                        ),
                        e.pointer.removeIntent(ma.DRAG)),
                      e.pointer.removeInputListener(this.handleEventListener),
                      null === this._pointer &&
                        "touch" === e.pointer.type &&
                        ((this._pointer = e.pointer),
                        e.pointer.addInputListener(this._pointerListener, !0),
                        e.abort(),
                        (this.downEvent = e),
                        (this.downPoint = e.pointer.point),
                        (this.currentPoint = this.downPoint.copy()),
                        (this.previousPoint = this.currentPoint.copy()));
                  }
                  up(e) {
                    const t = this.downPointers.indexOf(e.pointer);
                    t > -1 && this.downPointers.splice(t, 1);
                  }
                  step(e) {
                    if (
                      (this.firstUp &&
                        ((this.timeSinceLastDown += e),
                        this.timeSinceLastDown > 0.6 &&
                          ((this.firstUp = !1), (this.timeSinceLastDown = 0))),
                      this._pointer &&
                        !this._pointer.listeners.includes(
                          this._attachedPointerListener
                        ))
                    )
                      if (this.holdingTime > 0.75) {
                        const e = go.pdomFocusedNode;
                        e &&
                          (this._pointer.removeInputListener(
                            this._pointerListener
                          ),
                          (this.holdingTime = 0),
                          (this.focusedNode = e),
                          this._pointer.addInputListener(
                            this._attachedPointerListener,
                            !0
                          ),
                          this.focusedNode.swipeStart &&
                            this.focusedNode.swipeStart(this.downEvent, this),
                          (this.downEvent = null));
                      } else this.holdingTime += e;
                    null !== this.lastPoint &&
                      null !== this.currentPoint &&
                      (this.velocity = this.lastPoint
                        .minus(this.currentPoint)
                        .dividedScalar(e));
                  }
                  endSwipe() {
                    (this.holdingTime = 0),
                      this._pointer &&
                        this._pointer.listeners.includes(
                          this._pointerListener
                        ) &&
                        this._pointer.removeInputListener(
                          this._pointerListener
                        );
                  }
                  detachPointerListener() {
                    this._pointer.detach(this._attachedPointerListener);
                  }
                  interrupt() {
                    this.endSwipe(),
                      (this._pointer = null),
                      (this.downEvent = null);
                  }
                }
                G.register("SwipeListener", qh);
                var Fh = i(2473);
                const Zh = ["left", "right", "center", "origin"],
                  Hh = ["top", "bottom", "center", "origin"];
                class Yh extends Wt.Z {
                  constructor(e, t) {
                    let i =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : Number.POSITIVE_INFINITY;
                    super(),
                      (this.horizontal = e),
                      (this.vertical = t),
                      (this.padRatio = i);
                  }
                  static getAllowedAligns(e) {
                    return [...(e === Fh.Z.HORIZONTAL ? Zh : Hh), null];
                  }
                  static alignToInternal(e, t) {
                    return e === Fh.Z.HORIZONTAL
                      ? Yh.horizontalAlignToInternal(t)
                      : Yh.verticalAlignToInternal(t);
                  }
                  static horizontalAlignToInternal(e) {
                    return null === e ? null : Gh[e];
                  }
                  static verticalAlignToInternal(e) {
                    return null === e ? null : Wh[e];
                  }
                  static internalToAlign(e, t) {
                    return null === t
                      ? null
                      : e === Fh.Z.HORIZONTAL
                      ? t.horizontal
                      : t.vertical;
                  }
                }
                _defineProperty(Yh, "START", new (S = Yh)("left", "top", 0)),
                  _defineProperty(Yh, "END", new S("right", "bottom", 1)),
                  _defineProperty(Yh, "CENTER", new S("center", "center", 0.5)),
                  _defineProperty(Yh, "ORIGIN", new S("origin", "origin")),
                  _defineProperty(
                    Yh,
                    "enumeration",
                    new Gt.Z(S, {
                      phetioDocumentation: "Alignment for layout containers",
                    })
                  );
                const Gh = {
                    left: Yh.START,
                    right: Yh.END,
                    center: Yh.CENTER,
                    origin: Yh.ORIGIN,
                  },
                  Wh = {
                    top: Yh.START,
                    bottom: Yh.END,
                    center: Yh.CENTER,
                    origin: Yh.ORIGIN,
                  };
                G.register("LayoutAlign", Yh);
                const zh = [
                    "left",
                    "right",
                    "center",
                    "spaceBetween",
                    "spaceAround",
                    "spaceEvenly",
                  ],
                  Xh = [
                    "top",
                    "bottom",
                    "center",
                    "spaceBetween",
                    "spaceAround",
                    "spaceEvenly",
                  ];
                class Qh extends Wt.Z {
                  constructor(e, t, i) {
                    super(),
                      (this.spacingFunctionFactory = e),
                      (this.horizontal = t),
                      (this.vertical = i);
                  }
                  static getAllowedJustificationValues(e) {
                    return e === Fh.Z.HORIZONTAL ? zh : Xh;
                  }
                  static justifyToInternal(e, t) {
                    return e === Fh.Z.HORIZONTAL ? Uh[t] : jh[t];
                  }
                  static internalToJustify(e, t) {
                    return e === Fh.Z.HORIZONTAL ? t.horizontal : t.vertical;
                  }
                }
                _defineProperty(
                  Qh,
                  "START",
                  new (T = Qh)(() => () => 0, "left", "top")
                ),
                  _defineProperty(
                    Qh,
                    "END",
                    new T((e) => (t) => 0 === t ? e : 0, "right", "bottom")
                  ),
                  _defineProperty(
                    Qh,
                    "CENTER",
                    new T((e) => (t) => 0 === t ? e / 2 : 0, "center", "center")
                  ),
                  _defineProperty(
                    Qh,
                    "SPACE_BETWEEN",
                    new T(
                      (e, t) => (i) => 0 !== i ? e / (t - 1) : 0,
                      "spaceBetween",
                      "spaceBetween"
                    )
                  ),
                  _defineProperty(
                    Qh,
                    "SPACE_AROUND",
                    new T(
                      (e, t) => (i) => ((0 !== i ? 2 : 1) * e) / (2 * t),
                      "spaceAround",
                      "spaceAround"
                    )
                  ),
                  _defineProperty(
                    Qh,
                    "SPACE_EVENLY",
                    new T(
                      (e, t) => (i) => e / (t + 1),
                      "spaceEvenly",
                      "spaceEvenly"
                    )
                  ),
                  _defineProperty(
                    Qh,
                    "enumeration",
                    new Gt.Z(T, {
                      phetioDocumentation: "Justify for layout containers",
                    })
                  );
                const Uh = {
                    left: Qh.START,
                    right: Qh.END,
                    center: Qh.CENTER,
                    spaceBetween: Qh.SPACE_BETWEEN,
                    spaceAround: Qh.SPACE_AROUND,
                    spaceEvenly: Qh.SPACE_EVENLY,
                  },
                  jh = {
                    top: Qh.START,
                    bottom: Qh.END,
                    center: Qh.CENTER,
                    spaceBetween: Qh.SPACE_BETWEEN,
                    spaceAround: Qh.SPACE_AROUND,
                    spaceEvenly: Qh.SPACE_EVENLY,
                  };
                G.register("LayoutJustification", Qh);
                class Kh extends Zn {
                  constructor(e) {
                    super(
                      (0, Ae.ZP)()(
                        {
                          layoutOptions: { stretch: !0, isSeparator: !0 },
                          stroke: "rgb(100,100,100)",
                        },
                        e
                      )
                    );
                  }
                }
                G.register("Separator", Kh);
                class Jh extends Ks(Kh) {
                  constructor(e) {
                    super(),
                      this.localPreferredHeightProperty.link((e) => {
                        null !== e && (this.y2 = e);
                      }),
                      this.mutate(e);
                  }
                }
                G.register("VSeparator", Jh);
                class _h extends zs(Kh) {
                  constructor(e) {
                    super(),
                      this.localPreferredWidthProperty.link((e) => {
                        null !== e && (this.x2 = e);
                      }),
                      this.mutate(e);
                  }
                }
                G.register("HSeparator", _h);
                class $h {
                  constructor(e) {
                    this.initialize(e);
                  }
                  initialize(e) {
                    this.trail = e;
                  }
                  checkPreconditions() {}
                  get node() {
                    return this.trail.lastNode();
                  }
                  get bounds() {
                    return this.trail.parentToGlobalBounds(this.node.bounds);
                  }
                  get visibleBounds() {
                    return this.trail.parentToGlobalBounds(
                      this.node.visibleBounds
                    );
                  }
                  get width() {
                    return this.bounds.width;
                  }
                  get height() {
                    return this.bounds.height;
                  }
                  get x() {
                    return this.trail
                      .getParentTransform()
                      .transformX(this.node.x);
                  }
                  set x(e) {
                    this.node.x = this.trail.getParentTransform().inverseX(e);
                  }
                  get y() {
                    return this.trail
                      .getParentTransform()
                      .transformY(this.node.y);
                  }
                  set y(e) {
                    this.node.y = this.trail.getParentTransform().inverseY(e);
                  }
                  get translation() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.translation);
                  }
                  set translation(e) {
                    this.node.translation = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get left() {
                    return this.trail
                      .getParentTransform()
                      .transformX(this.node.left);
                  }
                  set left(e) {
                    this.node.left = this.trail
                      .getParentTransform()
                      .inverseX(e);
                  }
                  get right() {
                    return this.trail
                      .getParentTransform()
                      .transformX(this.node.right);
                  }
                  set right(e) {
                    this.node.right = this.trail
                      .getParentTransform()
                      .inverseX(e);
                  }
                  get centerX() {
                    return this.trail
                      .getParentTransform()
                      .transformX(this.node.centerX);
                  }
                  set centerX(e) {
                    this.node.centerX = this.trail
                      .getParentTransform()
                      .inverseX(e);
                  }
                  get top() {
                    return this.trail
                      .getParentTransform()
                      .transformY(this.node.top);
                  }
                  set top(e) {
                    this.node.top = this.trail.getParentTransform().inverseY(e);
                  }
                  get bottom() {
                    return this.trail
                      .getParentTransform()
                      .transformY(this.node.bottom);
                  }
                  set bottom(e) {
                    this.node.bottom = this.trail
                      .getParentTransform()
                      .inverseY(e);
                  }
                  get centerY() {
                    return this.trail
                      .getParentTransform()
                      .transformY(this.node.centerY);
                  }
                  set centerY(e) {
                    this.node.centerY = this.trail
                      .getParentTransform()
                      .inverseY(e);
                  }
                  get leftTop() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.leftTop);
                  }
                  set leftTop(e) {
                    this.node.leftTop = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get centerTop() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.centerTop);
                  }
                  set centerTop(e) {
                    this.node.centerTop = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get rightTop() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.rightTop);
                  }
                  set rightTop(e) {
                    this.node.rightTop = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get leftCenter() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.leftCenter);
                  }
                  set leftCenter(e) {
                    this.node.leftCenter = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get center() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.center);
                  }
                  set center(e) {
                    this.node.center = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get rightCenter() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.rightCenter);
                  }
                  set rightCenter(e) {
                    this.node.rightCenter = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get leftBottom() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.leftBottom);
                  }
                  set leftBottom(e) {
                    this.node.leftBottom = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get centerBottom() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.centerBottom);
                  }
                  set centerBottom(e) {
                    this.node.centerBottom = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get rightBottom() {
                    return this.trail
                      .getParentTransform()
                      .transformPosition2(this.node.rightBottom);
                  }
                  set rightBottom(e) {
                    this.node.rightBottom = this.trail
                      .getParentTransform()
                      .inversePosition2(e);
                  }
                  get widthSizable() {
                    return this.node.widthSizable;
                  }
                  get heightSizable() {
                    return this.node.heightSizable;
                  }
                  get preferredWidth() {
                    const e = this.node.preferredWidth;
                    return null === e
                      ? null
                      : Math.abs(
                          this.trail.getParentTransform().transformDeltaX(e)
                        );
                  }
                  set preferredWidth(e) {
                    this.node.preferredWidth =
                      null === e
                        ? null
                        : Math.abs(
                            this.trail.getParentTransform().inverseDeltaX(e)
                          );
                  }
                  get preferredHeight() {
                    const e = this.node.preferredHeight;
                    return null === e
                      ? null
                      : Math.abs(
                          this.trail.getParentTransform().transformDeltaY(e)
                        );
                  }
                  set preferredHeight(e) {
                    this.node.preferredHeight =
                      null === e
                        ? null
                        : Math.abs(
                            this.trail.getParentTransform().inverseDeltaY(e)
                          );
                  }
                  get minimumWidth() {
                    const e = Gs(this.node)
                      ? this.node.minimumWidth || 0
                      : this.node.width;
                    return Math.abs(
                      this.trail.getParentTransform().transformDeltaX(e)
                    );
                  }
                  get minimumHeight() {
                    const e = Us(this.node)
                      ? this.node.minimumHeight || 0
                      : this.node.height;
                    return Math.abs(
                      this.trail.getParentTransform().transformDeltaY(e)
                    );
                  }
                  getMinimum(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.minimumWidth
                      : this.minimumHeight;
                  }
                  get maxWidth() {
                    return null === this.node.maxWidth
                      ? null
                      : Math.abs(
                          this.trail
                            .getParentTransform()
                            .transformDeltaX(this.node.maxWidth)
                        );
                  }
                  set maxWidth(e) {
                    this.node.maxWidth =
                      null === e
                        ? null
                        : Math.abs(
                            this.trail.getParentTransform().inverseDeltaX(e)
                          );
                  }
                  get maxHeight() {
                    return null === this.node.maxHeight
                      ? null
                      : Math.abs(
                          this.trail
                            .getParentTransform()
                            .transformDeltaY(this.node.maxHeight)
                        );
                  }
                  set maxHeight(e) {
                    this.node.maxHeight =
                      null === e
                        ? null
                        : Math.abs(
                            this.trail.getParentTransform().inverseDeltaY(e)
                          );
                  }
                  getMax(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.maxWidth
                      : this.maxHeight;
                  }
                  get visible() {
                    return this.node.visible;
                  }
                  set visible(e) {
                    this.node.visible = e;
                  }
                  dispose() {
                    (this.trail = null), this.freeToPool();
                  }
                  freeToPool() {
                    $h.pool.freeToPool(this);
                  }
                }
                (x = $h),
                  _defineProperty($h, "pool", new zt.Z(x, { maxSize: 1e3 })),
                  G.register("LayoutProxy", $h);
                class el extends po.oL {
                  constructor(e, t, i) {
                    const s = new on(e, t);
                    super([s], (e) =>
                      1 === e.length
                        ? $h.pool.create(e[0].copy().removeAncestor())
                        : null
                    ),
                      _defineProperty(this, "transformTracker", null),
                      (this.trailsBetweenProperty = s),
                      this.lazyLink((e, t) => {
                        t && t.dispose();
                      });
                    const n = null == i ? void 0 : i.onTransformChange;
                    n &&
                      this.link((t) => {
                        this.transformTracker &&
                          (this.transformTracker.dispose(),
                          (this.transformTracker = null)),
                          t &&
                            ((this.transformTracker = new Ar(
                              t.trail.copy().addAncestor(e)
                            )),
                            this.transformTracker.addListener(n));
                      });
                  }
                  dispose() {
                    this.trailsBetweenProperty.dispose(),
                      this.transformTracker && this.transformTracker.dispose(),
                      super.dispose();
                  }
                }
                G.register("LayoutProxyProperty", el);
                class tl {
                  constructor(e) {
                    _defineProperty(this, "_layoutLockCount", 0),
                      _defineProperty(this, "_layoutAttemptDuringLock", !1),
                      _defineProperty(this, "_enabled", !0),
                      _defineProperty(this, "_listenedNodes", new Set()),
                      _defineProperty(this, "finishedLayoutEmitter", new Q.Z()),
                      (this.ancestorNode = e),
                      (this._updateLayoutListener =
                        this.updateLayoutAutomatically.bind(this));
                  }
                  addNode(e) {
                    let t =
                      !(arguments.length > 1 && void 0 !== arguments[1]) ||
                      arguments[1];
                    t && (e._activeParentLayoutConstraint = this),
                      e.boundsProperty.lazyLink(this._updateLayoutListener),
                      e.visibleProperty.lazyLink(this._updateLayoutListener),
                      Ws(e) &&
                        (e.minimumWidthProperty.lazyLink(
                          this._updateLayoutListener
                        ),
                        e.isWidthResizableProperty.lazyLink(
                          this._updateLayoutListener
                        )),
                      js(e) &&
                        (e.minimumHeightProperty.lazyLink(
                          this._updateLayoutListener
                        ),
                        e.isHeightResizableProperty.lazyLink(
                          this._updateLayoutListener
                        )),
                      this._listenedNodes.add(e);
                  }
                  removeNode(e) {
                    e._activeParentLayoutConstraint === this &&
                      (e._activeParentLayoutConstraint = null),
                      e.boundsProperty.unlink(this._updateLayoutListener),
                      e.visibleProperty.unlink(this._updateLayoutListener),
                      Ws(e) &&
                        (e.minimumWidthProperty.unlink(
                          this._updateLayoutListener
                        ),
                        e.isWidthResizableProperty.unlink(
                          this._updateLayoutListener
                        )),
                      js(e) &&
                        (e.minimumHeightProperty.unlink(
                          this._updateLayoutListener
                        ),
                        e.isHeightResizableProperty.unlink(
                          this._updateLayoutListener
                        )),
                      this._listenedNodes.delete(e);
                  }
                  layout() {}
                  get isLocked() {
                    return this._layoutLockCount > 0;
                  }
                  lock() {
                    this._layoutLockCount++;
                  }
                  unlock() {
                    this._layoutLockCount--;
                  }
                  validateLocalPreferredWidth(e) {
                    0;
                  }
                  validateLocalPreferredHeight(e) {
                    0;
                  }
                  validateLocalPreferredSize(e) {
                    0;
                  }
                  updateLayout() {
                    if (this.isLocked) this._layoutAttemptDuringLock = !0;
                    else {
                      this.lock();
                      do {
                        (this._layoutAttemptDuringLock = !1), this.layout();
                      } while (this._layoutAttemptDuringLock);
                      this.unlock();
                    }
                  }
                  updateLayoutAutomatically() {
                    this._enabled && this.updateLayout();
                  }
                  createLayoutProxy(e) {
                    const t = e.getTrails((e) => e === this.ancestorNode);
                    return 1 === t.length
                      ? $h.pool.create(t[0].removeAncestor())
                      : null;
                  }
                  get enabled() {
                    return this._enabled;
                  }
                  set enabled(e) {
                    this._enabled !== e &&
                      ((this._enabled = e), this.updateLayoutAutomatically());
                  }
                  dispose() {
                    const e = [...this._listenedNodes.keys()];
                    for (let t = 0; t < e.length; t++) this.removeNode(e[t]);
                  }
                }
                G.register("LayoutConstraint", tl);
                class il {
                  constructor(e, t, i) {
                    i
                      ? ((this.layoutProxyProperty = null), (this._proxy = i))
                      : ((this._proxy = null),
                        (this.layoutProxyProperty = new el(e.ancestorNode, t, {
                          onTransformChange: () =>
                            e.updateLayoutAutomatically(),
                        })),
                        this.layoutProxyProperty.link((t) => {
                          (this._proxy = t), e.updateLayoutAutomatically();
                        })),
                      (this._constraint = e),
                      (this._node = t),
                      (this.layoutOptionsListener =
                        this.onLayoutOptionsChange.bind(this)),
                      this.node.layoutOptionsChangedEmitter.addListener(
                        this.layoutOptionsListener
                      );
                  }
                  onLayoutOptionsChange() {}
                  get node() {
                    return this._node;
                  }
                  isConnected() {
                    return null !== this._proxy;
                  }
                  get proxy() {
                    return this._proxy;
                  }
                  isSizable(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.proxy.widthSizable
                      : this.proxy.heightSizable;
                  }
                  dispose() {
                    this.layoutProxyProperty &&
                      this.layoutProxyProperty.dispose(),
                      this.node.layoutOptionsChangedEmitter.removeListener(
                        this.layoutOptionsListener
                      );
                  }
                }
                G.register("LayoutCell", il);
                class sl {
                  constructor(e, t) {
                    _defineProperty(this, "_map", new Map()),
                      (this._enumeration = e),
                      (this._values = e.enumeration.values),
                      this._values.forEach((e) => {
                        this._map.set(e, t(e));
                      });
                  }
                  get(e) {
                    return this._map.get(e);
                  }
                  set(e, t) {
                    this._map.set(e, t);
                  }
                  map(e) {
                    return new sl(this._enumeration, (t) => e(this.get(t), t));
                  }
                  forEach(e) {
                    this._values.forEach((t) => e(this.get(t), t));
                  }
                  values() {
                    return this._values.map((e) => this.get(e));
                  }
                }
                ne.Z.register("EnumerationMap", sl);
                const nl = sl;
                class rl extends nl {
                  constructor(e, t) {
                    super(Fh.Z, (i) => (i === Fh.Z.HORIZONTAL ? e : t));
                  }
                  get horizontal() {
                    return this.get(Fh.Z.HORIZONTAL);
                  }
                  set horizontal(e) {
                    this.set(Fh.Z.HORIZONTAL, e);
                  }
                  get vertical() {
                    return this.get(Fh.Z.VERTICAL);
                  }
                  set vertical(e) {
                    this.set(Fh.Z.VERTICAL, e);
                  }
                  static create(e) {
                    return new rl(e(Fh.Z.HORIZONTAL), e(Fh.Z.VERTICAL));
                  }
                }
                ne.Z.register("OrientationPair", rl);
                const ol = rl;
                class al extends il {
                  constructor(e, t, i) {
                    super(e, t, i),
                      _defineProperty(this, "preferredSizeSet", new ol(!1, !1)),
                      _defineProperty(
                        this,
                        "lastAvailableBounds",
                        Oe.Z.NOTHING.copy()
                      ),
                      _defineProperty(
                        this,
                        "lastUsedBounds",
                        Oe.Z.NOTHING.copy()
                      ),
                      (this._marginConstraint = e);
                  }
                  reposition(e, t, i, s, n, r) {
                    const o =
                      s && this.isSizable(e) ? t : this.getMinimumSize(e);
                    this.attemptPreferredSize(e, o),
                      r === Yh.ORIGIN
                        ? this.positionOrigin(e, i + n)
                        : this.positionStart(
                            e,
                            i + (t - this.getCellBounds()[e.size]) * r.padRatio
                          );
                    const a = this.getCellBounds();
                    return (
                      (this.lastAvailableBounds[e.minCoordinate] = i),
                      (this.lastAvailableBounds[e.maxCoordinate] = i + t),
                      this.lastUsedBounds.set(a),
                      a
                    );
                  }
                  get effectiveLeftMargin() {
                    return null !== this._leftMargin
                      ? this._leftMargin
                      : this._marginConstraint._leftMargin;
                  }
                  get effectiveRightMargin() {
                    return null !== this._rightMargin
                      ? this._rightMargin
                      : this._marginConstraint._rightMargin;
                  }
                  get effectiveTopMargin() {
                    return null !== this._topMargin
                      ? this._topMargin
                      : this._marginConstraint._topMargin;
                  }
                  get effectiveBottomMargin() {
                    return null !== this._bottomMargin
                      ? this._bottomMargin
                      : this._marginConstraint._bottomMargin;
                  }
                  getEffectiveMinMargin(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveLeftMargin
                      : this.effectiveTopMargin;
                  }
                  getEffectiveMaxMargin(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveRightMargin
                      : this.effectiveBottomMargin;
                  }
                  get effectiveMinContentWidth() {
                    return null !== this._minContentWidth
                      ? this._minContentWidth
                      : this._marginConstraint._minContentWidth;
                  }
                  get effectiveMinContentHeight() {
                    return null !== this._minContentHeight
                      ? this._minContentHeight
                      : this._marginConstraint._minContentHeight;
                  }
                  getEffectiveMinContent(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveMinContentWidth
                      : this.effectiveMinContentHeight;
                  }
                  get effectiveMaxContentWidth() {
                    return null !== this._maxContentWidth
                      ? this._maxContentWidth
                      : this._marginConstraint._maxContentWidth;
                  }
                  get effectiveMaxContentHeight() {
                    return null !== this._maxContentHeight
                      ? this._maxContentHeight
                      : this._marginConstraint._maxContentHeight;
                  }
                  getEffectiveMaxContent(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveMaxContentWidth
                      : this.effectiveMaxContentHeight;
                  }
                  getMinimumSize(e) {
                    return (
                      this.getEffectiveMinMargin(e) +
                      Math.max(
                        this.proxy.getMinimum(e),
                        this.getEffectiveMinContent(e) || 0
                      ) +
                      this.getEffectiveMaxMargin(e)
                    );
                  }
                  getMaximumSize(e) {
                    return (
                      this.getEffectiveMinMargin(e) +
                      (this.getEffectiveMaxContent(e) ||
                        Number.POSITIVE_INFINITY) +
                      this.getEffectiveMaxMargin(e)
                    );
                  }
                  attemptPreferredSize(e, t) {
                    if (this.proxy[e.sizable]) {
                      const i = this.getMinimumSize(e),
                        s = this.getMaximumSize(e);
                      let n =
                        (t = U.Z.clamp(t, i, s)) -
                        this.getEffectiveMinMargin(e) -
                        this.getEffectiveMaxMargin(e);
                      const r = this.proxy.getMax(e);
                      null !== r && (n = Math.min(r, n)),
                        this._marginConstraint.setProxyPreferredSize(
                          e,
                          this.proxy,
                          n
                        ),
                        this.preferredSizeSet.set(e, !0);
                    }
                  }
                  unsetPreferredSize(e) {
                    this.proxy[e.sizable] &&
                      this._marginConstraint.setProxyPreferredSize(
                        e,
                        this.proxy,
                        null
                      );
                  }
                  positionStart(e, t) {
                    const i = this.getEffectiveMinMargin(e) + t;
                    this._marginConstraint.setProxyMinSide(e, this.proxy, i);
                  }
                  positionOrigin(e, t) {
                    this._marginConstraint.setProxyOrigin(e, this.proxy, t);
                  }
                  getOriginBounds() {
                    return this.getCellBounds().shiftedXY(
                      -this.proxy.x,
                      -this.proxy.y
                    );
                  }
                  getCellBounds() {
                    return this.proxy.bounds.withOffsets(
                      this.effectiveLeftMargin,
                      this.effectiveTopMargin,
                      this.effectiveRightMargin,
                      this.effectiveBottomMargin
                    );
                  }
                  dispose() {
                    Fh.Z.enumeration.values.forEach((e) => {
                      this.preferredSizeSet.get(e) &&
                        this.unsetPreferredSize(e);
                    }),
                      super.dispose();
                  }
                  static createHelperNode(e, t, i) {
                    const s = new Ds(),
                      n = Yt.bn.union(
                        e.map((e) => Yt.bn.bounds(e.lastAvailableBounds))
                      ),
                      r = Yt.bn.union(
                        e.map((e) => Yt.bn.bounds(e.lastUsedBounds))
                      ),
                      o = Yt.bn.union(
                        e.map((e) => Yt.bn.bounds(e.proxy.bounds))
                      ),
                      a = Yt.bn.bounds(t).shapeDifference(n),
                      h = n.shapeDifference(r),
                      l = r.shapeDifference(o),
                      d = (e, t, i) => {
                        const s = new Ln(e, {
                            font: new Ee({ size: 6, family: "monospace" }),
                            fill: t,
                          }),
                          n = Yn.bounds(s.bounds, { fill: i, children: [s] });
                        return new Zi(
                          n,
                          4,
                          Math.floor(n.left),
                          Math.ceil(n.top + 1),
                          Math.floor(n.width),
                          Math.floor(n.height - 2),
                          Le.Z.rotation2(-Math.PI / 4)
                        );
                      };
                    return (
                      s.addChild(
                        new Tn(a, {
                          fill: d("spacing", "#000", "#fff"),
                          opacity: 0.6,
                        })
                      ),
                      s.addChild(
                        new Tn(h, {
                          fill: d("empty", "#aaa", "#000"),
                          opacity: 0.6,
                        })
                      ),
                      s.addChild(
                        new Tn(l, {
                          fill: d("margin", "#600", "#f00"),
                          opacity: 0.6,
                        })
                      ),
                      s.addChild(
                        Yn.bounds(t, {
                          stroke: "white",
                          lineDash: [2, 2],
                          lineDashOffset: 2,
                          lineWidth: 0.4,
                        })
                      ),
                      s.addChild(
                        Yn.bounds(t, {
                          stroke: "black",
                          lineDash: [2, 2],
                          lineWidth: 0.4,
                        })
                      ),
                      e.forEach((e) => {
                        s.addChild(
                          Yn.bounds(e.getCellBounds(), {
                            stroke: "rgba(0,255,0,1)",
                            lineWidth: 0.4,
                          })
                        );
                      }),
                      e.forEach((e) => {
                        s.addChild(
                          Yn.bounds(e.proxy.bounds, {
                            stroke: "rgba(255,0,0,1)",
                            lineWidth: 0.4,
                          })
                        );
                      }),
                      e.forEach((e) => {
                        const t = e.getCellBounds(),
                          n = new za();
                        s.addChild(Yn.bounds(t, { inputListeners: [n] }));
                        let r = i(e);
                        e.effectiveLeftMargin &&
                          (r += `leftMargin: ${e.effectiveLeftMargin}\n`),
                          e.effectiveRightMargin &&
                            (r += `rightMargin: ${e.effectiveRightMargin}\n`),
                          e.effectiveTopMargin &&
                            (r += `topMargin: ${e.effectiveTopMargin}\n`),
                          e.effectiveBottomMargin &&
                            (r += `bottomMargin: ${e.effectiveBottomMargin}\n`),
                          e.effectiveMinContentWidth &&
                            (r += `minContentWidth: ${e.effectiveMinContentWidth}\n`),
                          e.effectiveMinContentHeight &&
                            (r += `minContentHeight: ${e.effectiveMinContentHeight}\n`),
                          e.effectiveMaxContentWidth &&
                            (r += `maxContentWidth: ${e.effectiveMaxContentWidth}\n`),
                          e.effectiveMaxContentHeight &&
                            (r += `maxContentHeight: ${e.effectiveMaxContentHeight}\n`),
                          (r += `layoutOptions: ${JSON.stringify(
                            e.node.layoutOptions,
                            null,
                            2
                          ).replace(/ /g, "&nbsp;")}\n`);
                        const o = new rd(r.trim().replace(/\n/g, "<br>"), {
                            font: new Ee({ size: 12 }),
                          }),
                          a = Yn.bounds(o.bounds.dilated(3), {
                            fill: "rgba(255,255,255,0.8)",
                            children: [o],
                            leftTop: t.leftTop,
                          });
                        s.addChild(a),
                          n.isOverProperty.link((e) => {
                            a.visible = e;
                          });
                      }),
                      s
                    );
                  }
                }
                G.register("MarginLayoutCell", al);
                var hl = i(2560);
                const ll = ["resize", "layoutOrigin"];
                class dl extends tn(Ds) {
                  constructor(e) {
                    super(e),
                      _defineProperty(
                        this,
                        "layoutOriginProperty",
                        new hl.Z(Me.Z.ZERO)
                      );
                  }
                  linkLayoutBounds() {
                    this._constraint.layoutBoundsProperty.link((e) => {
                      this.localBounds = e;
                    });
                  }
                  setExcludeInvisibleChildrenFromBounds(e) {
                    super.setExcludeInvisibleChildrenFromBounds(e),
                      (this._constraint.excludeInvisible = e);
                  }
                  setChildren(e) {
                    if (this.constraint.isLocked) return super.setChildren(e);
                    const t = this.getChildren();
                    return (
                      this.constraint.lock(),
                      super.setChildren(e),
                      this.constraint.unlock(),
                      _.isEqual(t, e) ||
                        this.constraint.updateLayoutAutomatically(),
                      this
                    );
                  }
                  updateLayout() {
                    this._constraint.updateLayout();
                  }
                  get resize() {
                    return this._constraint.enabled;
                  }
                  set resize(e) {
                    this._constraint.enabled = e;
                  }
                  get layoutOrigin() {
                    return this.layoutOriginProperty.value;
                  }
                  set layoutOrigin(e) {
                    this.layoutOriginProperty.value = e;
                  }
                  get constraint() {
                    return this._constraint;
                  }
                  dispose() {
                    this._constraint.dispose(), super.dispose();
                  }
                }
                G.register("LayoutNode", dl);
                class cl {
                  initializeLayoutLine() {
                    (this.min = 0),
                      (this.max = Number.POSITIVE_INFINITY),
                      (this.minOrigin = Number.POSITIVE_INFINITY),
                      (this.maxOrigin = Number.NEGATIVE_INFINITY),
                      (this.size = 0),
                      (this.position = 0);
                  }
                  hasOrigin() {
                    return isFinite(this.minOrigin) && isFinite(this.maxOrigin);
                  }
                }
                G.register("LayoutLine", cl);
                class ul extends tl {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        preferredWidthProperty: new os.Z(null),
                        preferredHeightProperty: new os.Z(null),
                        minimumWidthProperty: new os.Z(null),
                        minimumHeightProperty: new os.Z(null),
                        layoutOriginProperty: new os.Z(Me.Z.ZERO),
                      },
                      t
                    );
                    super(e),
                      _defineProperty(this, "_excludeInvisible", !0),
                      (this.layoutBoundsProperty = new yt.Z(Oe.Z.NOTHING, {
                        useDeepEquality: !0,
                      })),
                      (this.preferredWidthProperty = i.preferredWidthProperty),
                      (this.preferredHeightProperty =
                        i.preferredHeightProperty),
                      (this.minimumWidthProperty = i.minimumWidthProperty),
                      (this.minimumHeightProperty = i.minimumHeightProperty),
                      (this.layoutOriginProperty = i.layoutOriginProperty),
                      this.preferredWidthProperty.lazyLink(
                        this._updateLayoutListener
                      ),
                      this.preferredHeightProperty.lazyLink(
                        this._updateLayoutListener
                      ),
                      this.layoutOriginProperty.lazyLink(
                        this._updateLayoutListener
                      );
                  }
                  filterLayoutCells(e) {
                    return e.filter(
                      (e) =>
                        e.isConnected() &&
                        e.proxy.bounds.isValid() &&
                        (!this.excludeInvisible || e.node.visible)
                    );
                  }
                  get excludeInvisible() {
                    return this._excludeInvisible;
                  }
                  set excludeInvisible(e) {
                    this._excludeInvisible !== e &&
                      ((this._excludeInvisible = e),
                      this.updateLayoutAutomatically());
                  }
                  setProxyPreferredSize(e, t, i) {
                    t[e.preferredSize] = i;
                  }
                  setProxyMinSide(e, t, i) {
                    Math.abs(t[e.minSide] - i) > 1e-9 && (t[e.minSide] = i);
                  }
                  setProxyOrigin(e, t, i) {
                    Math.abs(t[e.coordinate] - i) > 1e-9 &&
                      (t[e.coordinate] = i);
                  }
                  dispose() {
                    this.preferredWidthProperty.unlink(
                      this._updateLayoutListener
                    ),
                      this.preferredHeightProperty.unlink(
                        this._updateLayoutListener
                      ),
                      this.layoutOriginProperty.unlink(
                        this._updateLayoutListener
                      ),
                      super.dispose();
                  }
                }
                G.register("NodeLayoutConstraint", ul);
                const pl = [
                    "margin",
                    "xMargin",
                    "yMargin",
                    "leftMargin",
                    "rightMargin",
                    "topMargin",
                    "bottomMargin",
                    "minContentWidth",
                    "minContentHeight",
                    "maxContentWidth",
                    "maxContentHeight",
                  ],
                  gl = Zs(
                    (e) =>
                      class extends e {
                        constructor() {
                          super(...arguments),
                            _defineProperty(this, "_leftMargin", null),
                            _defineProperty(this, "_rightMargin", null),
                            _defineProperty(this, "_topMargin", null),
                            _defineProperty(this, "_bottomMargin", null),
                            _defineProperty(this, "_minContentWidth", null),
                            _defineProperty(this, "_minContentHeight", null),
                            _defineProperty(this, "_maxContentWidth", null),
                            _defineProperty(this, "_maxContentHeight", null),
                            _defineProperty(this, "changedEmitter", new Q.Z());
                        }
                        mutateConfigurable(e) {
                          (0, Js.Z)(e, ["margin"], ["xMargin", "yMargin"]),
                            (0, Js.Z)(
                              e,
                              ["xMargin"],
                              ["leftMargin", "rightMargin"]
                            ),
                            (0, Js.Z)(
                              e,
                              ["yMargin"],
                              ["topMargin", "bottomMargin"]
                            );
                        }
                        setConfigToBaseDefault() {
                          (this._leftMargin = 0),
                            (this._rightMargin = 0),
                            (this._topMargin = 0),
                            (this._bottomMargin = 0),
                            (this._minContentWidth = null),
                            (this._minContentHeight = null),
                            (this._maxContentWidth = null),
                            (this._maxContentHeight = null),
                            this.changedEmitter.emit();
                        }
                        setConfigToInherit() {
                          (this._leftMargin = null),
                            (this._rightMargin = null),
                            (this._topMargin = null),
                            (this._bottomMargin = null),
                            (this._minContentWidth = null),
                            (this._minContentHeight = null),
                            (this._maxContentWidth = null),
                            (this._maxContentHeight = null),
                            this.changedEmitter.emit();
                        }
                        get leftMargin() {
                          return this._leftMargin;
                        }
                        set leftMargin(e) {
                          this._leftMargin !== e &&
                            ((this._leftMargin = e),
                            this.changedEmitter.emit());
                        }
                        get rightMargin() {
                          return this._rightMargin;
                        }
                        set rightMargin(e) {
                          this._rightMargin !== e &&
                            ((this._rightMargin = e),
                            this.changedEmitter.emit());
                        }
                        get topMargin() {
                          return this._topMargin;
                        }
                        set topMargin(e) {
                          this._topMargin !== e &&
                            ((this._topMargin = e), this.changedEmitter.emit());
                        }
                        get bottomMargin() {
                          return this._bottomMargin;
                        }
                        set bottomMargin(e) {
                          this._bottomMargin !== e &&
                            ((this._bottomMargin = e),
                            this.changedEmitter.emit());
                        }
                        get xMargin() {
                          return this._leftMargin;
                        }
                        set xMargin(e) {
                          (this._leftMargin === e && this._rightMargin === e) ||
                            ((this._leftMargin = e),
                            (this._rightMargin = e),
                            this.changedEmitter.emit());
                        }
                        get yMargin() {
                          return this._topMargin;
                        }
                        set yMargin(e) {
                          (this._topMargin === e && this._bottomMargin === e) ||
                            ((this._topMargin = e),
                            (this._bottomMargin = e),
                            this.changedEmitter.emit());
                        }
                        get margin() {
                          return this._topMargin;
                        }
                        set margin(e) {
                          (this._leftMargin === e &&
                            this._rightMargin === e &&
                            this._topMargin === e &&
                            this._bottomMargin === e) ||
                            ((this._leftMargin = e),
                            (this._rightMargin = e),
                            (this._topMargin = e),
                            (this._bottomMargin = e),
                            this.changedEmitter.emit());
                        }
                        get minContentWidth() {
                          return this._minContentWidth;
                        }
                        set minContentWidth(e) {
                          this._minContentWidth !== e &&
                            ((this._minContentWidth = e),
                            this.changedEmitter.emit());
                        }
                        get minContentHeight() {
                          return this._minContentHeight;
                        }
                        set minContentHeight(e) {
                          this._minContentHeight !== e &&
                            ((this._minContentHeight = e),
                            this.changedEmitter.emit());
                        }
                        get maxContentWidth() {
                          return this._maxContentWidth;
                        }
                        set maxContentWidth(e) {
                          this._maxContentWidth !== e &&
                            ((this._maxContentWidth = e),
                            this.changedEmitter.emit());
                        }
                        get maxContentHeight() {
                          return this._maxContentHeight;
                        }
                        set maxContentHeight(e) {
                          this._maxContentHeight !== e &&
                            ((this._maxContentHeight = e),
                            this.changedEmitter.emit());
                        }
                      }
                  );
                G.register("MarginLayoutConfigurable", gl);
                const ml = gl,
                  Al = ["orientation", "align", "stretch", "grow"].concat(pl),
                  yl = Zs(
                    (e) =>
                      class extends ml(e) {
                        constructor() {
                          super(...arguments),
                            _defineProperty(
                              this,
                              "_orientation",
                              Fh.Z.HORIZONTAL
                            ),
                            _defineProperty(this, "_align", null),
                            _defineProperty(this, "_stretch", null),
                            _defineProperty(this, "_grow", null),
                            _defineProperty(
                              this,
                              "orientationChangedEmitter",
                              new Q.Z()
                            );
                        }
                        mutateConfigurable(e) {
                          super.mutateConfigurable(e), _n(this, Al, e);
                        }
                        setConfigToBaseDefault() {
                          (this._align = Yh.CENTER),
                            (this._stretch = !1),
                            (this._grow = 0),
                            super.setConfigToBaseDefault();
                        }
                        setConfigToInherit() {
                          (this._align = null),
                            (this._stretch = null),
                            (this._grow = null),
                            super.setConfigToInherit();
                        }
                        get orientation() {
                          return this._orientation === Fh.Z.HORIZONTAL
                            ? "horizontal"
                            : "vertical";
                        }
                        set orientation(e) {
                          const t =
                            "horizontal" === e
                              ? Fh.Z.HORIZONTAL
                              : Fh.Z.VERTICAL;
                          this._orientation !== t &&
                            ((this._orientation = t),
                            this.orientationChangedEmitter.emit(),
                            this.changedEmitter.emit());
                        }
                        get align() {
                          const e = Yh.internalToAlign(
                            this._orientation,
                            this._align
                          );
                          return e;
                        }
                        set align(e) {
                          const t = Yh.alignToInternal(
                            this._orientation.opposite,
                            e
                          );
                          this._align !== t &&
                            ((this._align = t), this.changedEmitter.emit());
                        }
                        get stretch() {
                          return this._stretch;
                        }
                        set stretch(e) {
                          this._stretch !== e &&
                            ((this._stretch = e), this.changedEmitter.emit());
                        }
                        get grow() {
                          return this._grow;
                        }
                        set grow(e) {
                          this._grow !== e &&
                            ((this._grow = e), this.changedEmitter.emit());
                        }
                      }
                  );
                G.register("FlowConfigurable", yl);
                const fl = yl;
                class Pl extends fl(al) {
                  constructor(e, t, i) {
                    super(e, t, i),
                      _defineProperty(this, "size", 0),
                      _defineProperty(this, "_isSeparator", !1),
                      (this.flowConstraint = e),
                      (this.orientation = e.orientation),
                      this.onLayoutOptionsChange();
                  }
                  get effectiveAlign() {
                    return null !== this._align
                      ? this._align
                      : this.flowConstraint._align;
                  }
                  get effectiveStretch() {
                    return null !== this._stretch
                      ? this._stretch
                      : this.flowConstraint._stretch;
                  }
                  get effectiveGrow() {
                    return null !== this._grow
                      ? this._grow
                      : this.flowConstraint._grow;
                  }
                  onLayoutOptionsChange() {
                    this.node.layoutOptions &&
                      this.setOptions(this.node.layoutOptions),
                      super.onLayoutOptionsChange();
                  }
                  setOptions(e) {
                    const t = (0, Ae.ZP)()({ isSeparator: !1 }, e);
                    (this._isSeparator = t.isSeparator),
                      this.setConfigToInherit(),
                      this.mutateConfigurable(t);
                  }
                }
                G.register("FlowCell", Pl);
                class bl extends cl {
                  constructor(e, t) {
                    super(), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    (this.orientation = e),
                      (this.cells = t),
                      this.initializeLayoutLine();
                  }
                  getMinimumSize(e) {
                    return (
                      (this.cells.length - 1) * e +
                      _.sum(
                        this.cells.map((e) =>
                          e.getMinimumSize(this.orientation)
                        )
                      )
                    );
                  }
                  freeToPool() {
                    bl.pool.freeToPool(this);
                  }
                }
                (C = bl),
                  _defineProperty(
                    bl,
                    "pool",
                    new zt.Z(C, { defaultArguments: [Fh.Z.HORIZONTAL, []] })
                  ),
                  G.register("FlowLine", bl);
                const vl = [
                  ...Al,
                  "spacing",
                  "lineSpacing",
                  "justify",
                  "justifyLines",
                  "wrap",
                  "excludeInvisible",
                ];
                class Vl extends fl(ul) {
                  constructor(e, t) {
                    super(e, t),
                      _defineProperty(this, "cells", []),
                      _defineProperty(this, "_justify", Qh.SPACE_BETWEEN),
                      _defineProperty(this, "_justifyLines", null),
                      _defineProperty(this, "_wrap", !1),
                      _defineProperty(this, "_spacing", 0),
                      _defineProperty(this, "_lineSpacing", 0),
                      _defineProperty(this, "displayedCells", []),
                      this.setConfigToBaseDefault(),
                      this.mutateConfigurable(t),
                      _n(this, vl, t),
                      this.changedEmitter.addListener(
                        this._updateLayoutListener
                      ),
                      this.orientationChangedEmitter.addListener(() =>
                        this.cells.forEach((e) => {
                          e.orientation = this.orientation;
                        })
                      );
                  }
                  updateSeparatorVisibility() {
                    let e = 0;
                    for (; e < this.cells.length; e++) {
                      const t = this.cells[e];
                      if (t._isSeparator) t.node.visible = !1;
                      else if (t.node.visible) break;
                    }
                    let t = !1;
                    for (let i = this.cells.length - 1; i > e; i--) {
                      const e = this.cells[i];
                      e._isSeparator
                        ? ((e.node.visible = t), (t = !1))
                        : e.node.visible && (t = !0);
                    }
                  }
                  layout() {
                    super.layout();
                    const e = this._orientation,
                      t = this._orientation.opposite;
                    this.updateSeparatorVisibility();
                    const i = this.filterLayoutCells(this.cells);
                    if (((this.displayedCells = i), !i.length))
                      return (
                        (this.layoutBoundsProperty.value = Oe.Z.NOTHING),
                        (this.minimumWidthProperty.value = null),
                        void (this.minimumHeightProperty.value = null)
                      );
                    let s = this.getPreferredProperty(e).value;
                    const n = this.getPreferredProperty(t).value,
                      r = Math.max(...i.map((t) => t.getMinimumSize(e) || 0));
                    r > (s || Number.POSITIVE_INFINITY) && (s = r);
                    const o = [];
                    if (this.wrap) {
                      let t = [],
                        n = s || Number.POSITIVE_INFINITY;
                      for (; i.length; ) {
                        const r = i.shift(),
                          a = r.getMinimumSize(e);
                        0 === t.length
                          ? (t.push(r), (n -= a))
                          : this.spacing + a <= n + 1e-7
                          ? (t.push(r), (n -= this.spacing + a))
                          : (o.push(bl.pool.create(e, t)),
                            (n = s || Number.POSITIVE_INFINITY),
                            (t = [r]),
                            (n -= a));
                      }
                      t.length && o.push(bl.pool.create(e, t));
                    } else o.push(bl.pool.create(e, i));
                    o.forEach((e) => {
                      e.cells.forEach((i) => {
                        if (
                          ((e.min = Math.max(e.min, i.getMinimumSize(t))),
                          (e.max = Math.min(e.max, i.getMaximumSize(t))),
                          i.effectiveAlign === Yh.ORIGIN)
                        ) {
                          const s = i.getOriginBounds();
                          (e.minOrigin = Math.min(
                            s[t.minCoordinate],
                            e.minOrigin
                          )),
                            (e.maxOrigin = Math.max(
                              s[t.maxCoordinate],
                              e.maxOrigin
                            ));
                        }
                      }),
                        isFinite(e.minOrigin) && isFinite(e.maxOrigin)
                          ? (e.size = Math.max(
                              e.min,
                              e.maxOrigin - e.minOrigin
                            ))
                          : (e.size = e.min);
                    });
                    const a = Math.max(
                        ...o.map((e) => e.getMinimumSize(this.spacing))
                      ),
                      h =
                        _.sum(o.map((e) => e.size)) +
                        (o.length - 1) * this.lineSpacing,
                      l = this.wrap ? r : a,
                      d = Math.max(a, s || 0),
                      c = Math.max(h, n || 0),
                      u = this.layoutOriginProperty.value[e.coordinate],
                      p =
                        this.layoutOriginProperty.value[e.opposite.coordinate];
                    o.forEach((t) => {
                      const i = _.sum(t.cells.map((t) => t.getMinimumSize(e))),
                        s = this.spacing * (t.cells.length - 1);
                      let n,
                        r = d - i - s;
                      for (
                        t.cells.forEach((t) => {
                          t.size = t.getMinimumSize(e);
                        });
                        r > 1e-7 &&
                        (n = t.cells.filter(
                          (t) =>
                            0 !== t.effectiveGrow &&
                            t.size < t.getMaximumSize(e) - 1e-7
                        )).length;

                      ) {
                        const t = _.sum(n.map((e) => e.effectiveGrow)),
                          i = Math.min(
                            Math.min(
                              ...n.map(
                                (t) =>
                                  (t.getMaximumSize(e) - t.size) /
                                  t.effectiveGrow
                              )
                            ),
                            r / t
                          );
                        n.forEach((e) => {
                          e.size += i * e.effectiveGrow;
                        }),
                          (r -= i * t);
                      }
                      t.cells.forEach((t) => t.attemptPreferredSize(e, t.size));
                      const o = this._justify.spacingFunctionFactory(
                        r,
                        t.cells.length
                      );
                      let a = u;
                      t.cells.forEach((t, i) => {
                        (a += o(i)),
                          i > 0 && (a += this.spacing),
                          t.positionStart(e, a),
                          (t.lastAvailableBounds[e.minCoordinate] = a),
                          (t.lastAvailableBounds[e.maxCoordinate] = a + t.size),
                          (a += t.size);
                      });
                    });
                    const g = c - h,
                      m = (o[0].hasOrigin() ? o[0].minOrigin : 0) + p;
                    let A = m;
                    if (null === this._justifyLines)
                      o.forEach((e) => {
                        e.size += g / o.length;
                      }),
                        o.forEach((e) => {
                          (e.position = A), (A += e.size + this.lineSpacing);
                        });
                    else {
                      const e = this._justifyLines.spacingFunctionFactory(
                        g,
                        o.length
                      );
                      o.forEach((t, i) => {
                        (A += e(i)),
                          (t.position = A),
                          (A += t.size + this.lineSpacing);
                      });
                    }
                    o.forEach((e) =>
                      e.cells.forEach((i) => {
                        i.reposition(
                          t,
                          e.size,
                          e.position,
                          i.effectiveStretch,
                          -e.minOrigin,
                          i.effectiveAlign
                        );
                      })
                    );
                    const y = u,
                      f = u + d,
                      P = m,
                      b = m + c;
                    (this.layoutBoundsProperty.value = Oe.Z.oriented(
                      e,
                      y,
                      P,
                      f,
                      b
                    )),
                      (this.minimumWidthProperty.value =
                        e === Fh.Z.HORIZONTAL ? l : h),
                      (this.minimumHeightProperty.value =
                        e === Fh.Z.HORIZONTAL ? h : l),
                      this.finishedLayoutEmitter.emit(),
                      o.forEach((e) => e.freeToPool());
                  }
                  get justify() {
                    const e = Qh.internalToJustify(
                      this._orientation,
                      this._justify
                    );
                    return e;
                  }
                  set justify(e) {
                    const t = Qh.justifyToInternal(this._orientation, e);
                    this._justify !== t &&
                      ((this._justify = t), this.updateLayoutAutomatically());
                  }
                  get justifyLines() {
                    if (null === this._justifyLines) return null;
                    {
                      const e = Qh.internalToJustify(
                        this._orientation,
                        this._justifyLines
                      );
                      return e;
                    }
                  }
                  set justifyLines(e) {
                    const t =
                      null === e
                        ? null
                        : Qh.justifyToInternal(this._orientation.opposite, e);
                    this._justifyLines !== t &&
                      ((this._justifyLines = t),
                      this.updateLayoutAutomatically());
                  }
                  get wrap() {
                    return this._wrap;
                  }
                  set wrap(e) {
                    this._wrap !== e &&
                      ((this._wrap = e), this.updateLayoutAutomatically());
                  }
                  get spacing() {
                    return this._spacing;
                  }
                  set spacing(e) {
                    this._spacing !== e &&
                      ((this._spacing = e), this.updateLayoutAutomatically());
                  }
                  get lineSpacing() {
                    return this._lineSpacing;
                  }
                  set lineSpacing(e) {
                    this._lineSpacing !== e &&
                      ((this._lineSpacing = e),
                      this.updateLayoutAutomatically());
                  }
                  insertCell(e, t) {
                    (t.orientation = this.orientation),
                      this.cells.splice(e, 0, t),
                      this.addNode(t.node),
                      t.changedEmitter.addListener(this._updateLayoutListener),
                      this.updateLayoutAutomatically();
                  }
                  removeCell(e) {
                    (0, Di.Z)(this.cells, e),
                      this.removeNode(e.node),
                      e.changedEmitter.removeListener(
                        this._updateLayoutListener
                      ),
                      this.updateLayoutAutomatically();
                  }
                  reorderCells(e, t, i) {
                    this.cells.splice(t, i - t + 1, ...e),
                      this.updateLayoutAutomatically();
                  }
                  getPreferredProperty(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.preferredWidthProperty
                      : this.preferredHeightProperty;
                  }
                  dispose() {
                    this.lock(),
                      this.cells.forEach((e) => this.removeCell(e)),
                      (this.displayedCells = []),
                      super.dispose(),
                      this.unlock();
                  }
                  static create(e, t) {
                    return new Vl(e, t);
                  }
                }
                G.register("FlowConstraint", Vl);
                const wl = [
                    ...ll,
                    ...vl.filter((e) => "excludeInvisible" !== e),
                  ],
                  El = {
                    orientation: "horizontal",
                    spacing: 0,
                    align: "center",
                    stretch: !1,
                  };
                class Sl extends dl {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      {
                        excludeInvisibleChildrenFromBounds: !0,
                        resize: !0,
                        disabledOpacity: z.DISABLED_OPACITY,
                      },
                      e
                    );
                    super(),
                      _defineProperty(this, "_cellMap", new Map()),
                      (this._constraint = new Vl(this, {
                        preferredWidthProperty:
                          this.localPreferredWidthProperty,
                        preferredHeightProperty:
                          this.localPreferredHeightProperty,
                        minimumWidthProperty: this.localMinimumWidthProperty,
                        minimumHeightProperty: this.localMinimumHeightProperty,
                        layoutOriginProperty: this.layoutOriginProperty,
                        orientation: El.orientation,
                        spacing: El.spacing,
                        align: El.align,
                        stretch: El.stretch,
                        excludeInvisible: !1,
                      })),
                      (this.onChildInserted =
                        this.onFlowBoxChildInserted.bind(this)),
                      (this.onChildRemoved =
                        this.onFlowBoxChildRemoved.bind(this)),
                      (this.onChildrenReordered =
                        this.onFlowBoxChildrenReordered.bind(this)),
                      (this.onChildrenChanged =
                        this.onFlowBoxChildrenChanged.bind(this)),
                      this.childInsertedEmitter.addListener(
                        this.onChildInserted
                      ),
                      this.childRemovedEmitter.addListener(this.onChildRemoved),
                      this.childrenReorderedEmitter.addListener(
                        this.onChildrenReordered
                      ),
                      this.childrenChangedEmitter.addListener(
                        this.onChildrenChanged
                      );
                    const i = _.omit(t, Ts),
                      s = _.pick(t, Ts);
                    this._constraint.lock(),
                      this.mutate(i),
                      this._constraint.unlock(),
                      this._constraint.updateLayout(),
                      this.mutate(s),
                      this.linkLayoutBounds();
                  }
                  onFlowBoxChildInserted(e, t) {
                    const i = new Pl(
                      this._constraint,
                      e,
                      this._constraint.createLayoutProxy(e)
                    );
                    this._cellMap.set(e, i), this._constraint.insertCell(t, i);
                  }
                  onFlowBoxChildRemoved(e) {
                    const t = this._cellMap.get(e);
                    this._cellMap.delete(e),
                      this._constraint.removeCell(t),
                      t.dispose();
                  }
                  onFlowBoxChildrenReordered(e, t) {
                    this._constraint.reorderCells(
                      this._children
                        .slice(e, t + 1)
                        .map((e) => this._cellMap.get(e)),
                      e,
                      t
                    );
                  }
                  onFlowBoxChildrenChanged() {
                    this._constraint.updateLayoutAutomatically();
                  }
                  getCell(e) {
                    const t = this._cellMap.get(e);
                    return t;
                  }
                  get orientation() {
                    return this._constraint.orientation;
                  }
                  set orientation(e) {
                    this._constraint.orientation = e;
                  }
                  get spacing() {
                    return this._constraint.spacing;
                  }
                  set spacing(e) {
                    this._constraint.spacing = e;
                  }
                  get lineSpacing() {
                    return this._constraint.lineSpacing;
                  }
                  set lineSpacing(e) {
                    this._constraint.lineSpacing = e;
                  }
                  get justify() {
                    return this._constraint.justify;
                  }
                  set justify(e) {
                    this._constraint.justify = e;
                  }
                  get justifyLines() {
                    return this._constraint.justifyLines;
                  }
                  set justifyLines(e) {
                    this._constraint.justifyLines = e;
                  }
                  get wrap() {
                    return this._constraint.wrap;
                  }
                  set wrap(e) {
                    this._constraint.wrap = e;
                  }
                  get align() {
                    return this._constraint.align;
                  }
                  set align(e) {
                    this._constraint.align = e;
                  }
                  get stretch() {
                    return this._constraint.stretch;
                  }
                  set stretch(e) {
                    this._constraint.stretch = e;
                  }
                  get grow() {
                    return this._constraint.grow;
                  }
                  set grow(e) {
                    this._constraint.grow = e;
                  }
                  get margin() {
                    return this._constraint.margin;
                  }
                  set margin(e) {
                    this._constraint.margin = e;
                  }
                  get xMargin() {
                    return this._constraint.xMargin;
                  }
                  set xMargin(e) {
                    this._constraint.xMargin = e;
                  }
                  get yMargin() {
                    return this._constraint.yMargin;
                  }
                  set yMargin(e) {
                    this._constraint.yMargin = e;
                  }
                  get leftMargin() {
                    return this._constraint.leftMargin;
                  }
                  set leftMargin(e) {
                    this._constraint.leftMargin = e;
                  }
                  get rightMargin() {
                    return this._constraint.rightMargin;
                  }
                  set rightMargin(e) {
                    this._constraint.rightMargin = e;
                  }
                  get topMargin() {
                    return this._constraint.topMargin;
                  }
                  set topMargin(e) {
                    this._constraint.topMargin = e;
                  }
                  get bottomMargin() {
                    return this._constraint.bottomMargin;
                  }
                  set bottomMargin(e) {
                    this._constraint.bottomMargin = e;
                  }
                  get minContentWidth() {
                    return this._constraint.minContentWidth;
                  }
                  set minContentWidth(e) {
                    this._constraint.minContentWidth = e;
                  }
                  get minContentHeight() {
                    return this._constraint.minContentHeight;
                  }
                  set minContentHeight(e) {
                    this._constraint.minContentHeight = e;
                  }
                  get maxContentWidth() {
                    return this._constraint.maxContentWidth;
                  }
                  set maxContentWidth(e) {
                    this._constraint.maxContentWidth = e;
                  }
                  get maxContentHeight() {
                    return this._constraint.maxContentHeight;
                  }
                  set maxContentHeight(e) {
                    this._constraint.maxContentHeight = e;
                  }
                  dispose() {
                    this._constraint.lock(),
                      this.childInsertedEmitter.removeListener(
                        this.onChildInserted
                      ),
                      this.childRemovedEmitter.removeListener(
                        this.onChildRemoved
                      ),
                      this.childrenReorderedEmitter.removeListener(
                        this.onChildrenReordered
                      ),
                      this.childrenChangedEmitter.removeListener(
                        this.onChildrenChanged
                      );
                    for (const e of this._cellMap.values()) e.dispose();
                    super.dispose();
                  }
                  setOrientation(e) {
                    return (this.orientation = e), this;
                  }
                  getOrientation() {
                    return this.orientation;
                  }
                  setSpacing(e) {
                    return (this.spacing = e), this;
                  }
                  getSpacing() {
                    return this.spacing;
                  }
                  setAlign(e) {
                    return (this.align = e), this;
                  }
                  getAlign() {
                    return this.align;
                  }
                  setResize(e) {
                    return (this.resize = e), this;
                  }
                  isResize() {
                    return this.resize;
                  }
                  getHelperNode() {
                    return al.createHelperNode(
                      this.constraint.displayedCells,
                      this.constraint.layoutBoundsProperty.value,
                      (e) => {
                        let t = "";
                        const i =
                          "horizontal" === e.orientation
                            ? Fh.Z.HORIZONTAL
                            : Fh.Z.VERTICAL;
                        return (
                          (t += `align: ${Yh.internalToAlign(
                            i,
                            e.effectiveAlign
                          )}\n`),
                          (t += `stretch: ${e.effectiveStretch}\n`),
                          (t += `grow: ${e.effectiveGrow}\n`),
                          t
                        );
                      }
                    );
                  }
                }
                _defineProperty(Sl, "DEFAULT_FLOW_BOX_OPTIONS", El),
                  (Sl.prototype._mutatorKeys = [
                    ...$s,
                    ...wl,
                    ...Ds.prototype._mutatorKeys,
                  ]),
                  G.register("FlowBox", Sl);
                const Tl = [
                    "xAlign",
                    "yAlign",
                    "stretch",
                    "xStretch",
                    "yStretch",
                    "grow",
                    "xGrow",
                    "yGrow",
                  ].concat(pl),
                  xl = Zs(
                    (e) =>
                      class extends ml(e) {
                        constructor() {
                          super(...arguments),
                            _defineProperty(this, "_xAlign", null),
                            _defineProperty(this, "_yAlign", null),
                            _defineProperty(this, "_xStretch", null),
                            _defineProperty(this, "_yStretch", null),
                            _defineProperty(this, "_xGrow", null),
                            _defineProperty(this, "_yGrow", null);
                        }
                        mutateConfigurable(e) {
                          super.mutateConfigurable(e),
                            (0, Js.Z)(e, ["stretch"], ["xStretch", "yStretch"]),
                            (0, Js.Z)(e, ["grow"], ["xGrow", "yGrow"]),
                            _n(this, Tl, e);
                        }
                        setConfigToBaseDefault() {
                          (this._xAlign = Yh.CENTER),
                            (this._yAlign = Yh.CENTER),
                            (this._xStretch = !1),
                            (this._yStretch = !1),
                            (this._xGrow = 0),
                            (this._yGrow = 0),
                            super.setConfigToBaseDefault();
                        }
                        setConfigToInherit() {
                          (this._xAlign = null),
                            (this._yAlign = null),
                            (this._xStretch = null),
                            (this._yStretch = null),
                            (this._xGrow = null),
                            (this._yGrow = null),
                            super.setConfigToInherit();
                        }
                        get xAlign() {
                          const e =
                            null === this._xAlign
                              ? null
                              : this._xAlign.horizontal;
                          return e;
                        }
                        set xAlign(e) {
                          const t = Yh.horizontalAlignToInternal(e);
                          this._xAlign !== t &&
                            ((this._xAlign = t), this.changedEmitter.emit());
                        }
                        get yAlign() {
                          const e =
                            null === this._yAlign
                              ? null
                              : this._yAlign.vertical;
                          return e;
                        }
                        set yAlign(e) {
                          const t = Yh.verticalAlignToInternal(e);
                          this._yAlign !== t &&
                            ((this._yAlign = t), this.changedEmitter.emit());
                        }
                        get grow() {
                          return this._xGrow;
                        }
                        set grow(e) {
                          (this._xGrow === e && this._yGrow === e) ||
                            ((this._xGrow = e),
                            (this._yGrow = e),
                            this.changedEmitter.emit());
                        }
                        get xGrow() {
                          return this._xGrow;
                        }
                        set xGrow(e) {
                          this._xGrow !== e &&
                            ((this._xGrow = e), this.changedEmitter.emit());
                        }
                        get yGrow() {
                          return this._yGrow;
                        }
                        set yGrow(e) {
                          this._yGrow !== e &&
                            ((this._yGrow = e), this.changedEmitter.emit());
                        }
                        get stretch() {
                          return this._xStretch;
                        }
                        set stretch(e) {
                          (this._xStretch === e && this._yStretch === e) ||
                            ((this._xStretch = e),
                            (this._yStretch = e),
                            this.changedEmitter.emit());
                        }
                        get xStretch() {
                          return this._xStretch;
                        }
                        set xStretch(e) {
                          this._xStretch !== e &&
                            ((this._xStretch = e), this.changedEmitter.emit());
                        }
                        get yStretch() {
                          return this._yStretch;
                        }
                        set yStretch(e) {
                          this._yStretch !== e &&
                            ((this._yStretch = e), this.changedEmitter.emit());
                        }
                      }
                  );
                G.register("GridConfigurable", xl);
                const Cl = xl;
                class Il extends Cl(al) {
                  constructor(e, t, i) {
                    super(e, t, i),
                      (this.gridConstraint = e),
                      this.setOptions(t.layoutOptions),
                      this.onLayoutOptionsChange();
                  }
                  get effectiveXAlign() {
                    return null !== this._xAlign
                      ? this._xAlign
                      : this.gridConstraint._xAlign;
                  }
                  get effectiveYAlign() {
                    return null !== this._yAlign
                      ? this._yAlign
                      : this.gridConstraint._yAlign;
                  }
                  getEffectiveAlign(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveXAlign
                      : this.effectiveYAlign;
                  }
                  get effectiveXGrow() {
                    return null !== this._xGrow
                      ? this._xGrow
                      : this.gridConstraint._xGrow;
                  }
                  get effectiveYGrow() {
                    return null !== this._yGrow
                      ? this._yGrow
                      : this.gridConstraint._yGrow;
                  }
                  getEffectiveGrow(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveXGrow
                      : this.effectiveYGrow;
                  }
                  get effectiveXStretch() {
                    return null !== this._xStretch
                      ? this._xStretch
                      : this.gridConstraint._xStretch;
                  }
                  get effectiveYStretch() {
                    return null !== this._yStretch
                      ? this._yStretch
                      : this.gridConstraint._yStretch;
                  }
                  getEffectiveStretch(e) {
                    return e === Fh.Z.HORIZONTAL
                      ? this.effectiveXStretch
                      : this.effectiveYStretch;
                  }
                  onLayoutOptionsChange() {
                    this.setOptions(this.node.layoutOptions),
                      super.onLayoutOptionsChange();
                  }
                  setOptions(e) {
                    const t = (0, Ae.ZP)()(
                      { column: 0, row: 0, horizontalSpan: 1, verticalSpan: 1 },
                      e
                    );
                    this.setConfigToInherit(),
                      (this.position = new ol(t.column, t.row)),
                      (this.size = new ol(t.horizontalSpan, t.verticalSpan)),
                      this.mutateConfigurable(t);
                  }
                  containsIndex(e, t) {
                    const i = this.position.get(e),
                      s = this.size.get(e);
                    return t >= i && t < i + s;
                  }
                  containsRow(e) {
                    return this.containsIndex(Fh.Z.VERTICAL, e);
                  }
                  containsColumn(e) {
                    return this.containsIndex(Fh.Z.HORIZONTAL, e);
                  }
                  getIndices(e) {
                    const t = this.position.get(e),
                      i = this.size.get(e);
                    return _.range(t, t + i);
                  }
                }
                G.register("GridCell", Il);
                class Dl extends cl {
                  constructor(e, t, i) {
                    super(), this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    (this.index = e),
                      (this.cells = t),
                      (this.grow = i),
                      this.initializeLayoutLine();
                  }
                  freeToPool() {
                    Dl.pool.freeToPool(this);
                  }
                }
                (I = Dl),
                  _defineProperty(
                    Dl,
                    "pool",
                    new zt.Z(I, { defaultArguments: [0, [], 0] })
                  ),
                  G.register("GridLine", Dl);
                const kl = [
                  ...Tl,
                  "excludeInvisible",
                  "spacing",
                  "xSpacing",
                  "ySpacing",
                ];
                class Ol extends Cl(ul) {
                  constructor(e, t) {
                    super(e, t),
                      _defineProperty(this, "cells", new Set()),
                      _defineProperty(this, "displayedCells", []),
                      _defineProperty(
                        this,
                        "displayedLines",
                        new ol(new Map(), new Map())
                      ),
                      _defineProperty(this, "_spacing", new ol(0, 0)),
                      this.setConfigToBaseDefault(),
                      this.mutateConfigurable(t),
                      _n(this, kl, t),
                      this.changedEmitter.addListener(
                        this._updateLayoutListener
                      );
                  }
                  layout() {
                    super.layout();
                    const e = this.filterLayoutCells([...this.cells]);
                    if (((this.displayedCells = e), !e.length))
                      return (
                        (this.layoutBoundsProperty.value = Oe.Z.NOTHING),
                        (this.minimumWidthProperty.value = null),
                        (this.minimumHeightProperty.value = null),
                        void this.displayedLines.forEach((e) => e.clear())
                      );
                    const t = new ol(0, 0),
                      i = new ol(
                        this.preferredWidthProperty.value,
                        this.preferredHeightProperty.value
                      ),
                      s = new Oe.Z(0, 0, 0, 0);
                    [Fh.Z.HORIZONTAL, Fh.Z.VERTICAL].forEach((n) => {
                      const r = this._spacing.get(n),
                        o = this.displayedLines.get(n);
                      o.forEach((e) => e.freeToPool()), o.clear();
                      const a = _.sortedUniq(
                          _.sortBy(_.flatten(e.map((e) => e.getIndices(n))))
                        ).map((t) => {
                          const i = _.filter(e, (e) => e.containsIndex(n, t)),
                            s = Math.max(
                              ...i.map((e) => e.getEffectiveGrow(n))
                            ),
                            r = Dl.pool.create(t, i, s);
                          return o.set(t, r), r;
                        }),
                        h = a
                          .slice(0, -1)
                          .map((e) => ("number" == typeof r ? r : r[e.index]));
                      e.forEach((e) => {
                        if (1 === e.size.get(n)) {
                          const t = o.get(e.position.get(n));
                          if (
                            ((t.min = Math.max(t.min, e.getMinimumSize(n))),
                            (t.max = Math.min(t.max, e.getMaximumSize(n))),
                            e.getEffectiveAlign(n) === Yh.ORIGIN)
                          ) {
                            const i = e.getOriginBounds();
                            (t.minOrigin = Math.min(
                              i[n.minCoordinate],
                              t.minOrigin
                            )),
                              (t.maxOrigin = Math.max(
                                i[n.maxCoordinate],
                                t.maxOrigin
                              ));
                          }
                        }
                      }),
                        e.forEach((e) => {
                          if (e.size.get(n) > 1) {
                            const t = e.getIndices(n).map((e) => o.get(e)),
                              i = _.sum(t.map((e) => e.min)),
                              s = e.getMinimumSize(n);
                            if (s > i) {
                              const e = (s - i) / t.length;
                              t.forEach((t) => {
                                t.min += e;
                              });
                            }
                          }
                        }),
                        a.forEach((e) => {
                          e.hasOrigin()
                            ? (e.size = Math.max(
                                e.min,
                                e.maxOrigin - e.minOrigin
                              ))
                            : (e.size = e.min);
                        });
                      const l = _.sum(a.map((e) => e.size)) + _.sum(h);
                      t.set(n, l);
                      const d = Math.max(l, i.get(n) || 0);
                      let c,
                        u = d - l;
                      for (
                        ;
                        u > 1e-7 &&
                        (c = a.filter(
                          (e) => e.grow > 0 && e.size < e.max - 1e-7
                        )).length;

                      ) {
                        const e = _.sum(c.map((e) => e.grow)),
                          t = Math.min(
                            Math.min(
                              ...c.map((e) => (e.max - e.size) / e.grow)
                            ),
                            u / e
                          );
                        c.forEach((e) => {
                          e.size += t * e.grow;
                        }),
                          (u -= t * e);
                      }
                      const p =
                        (a[0].hasOrigin() ? a[0].minOrigin : 0) +
                        this.layoutOriginProperty.value[n.coordinate];
                      (s[n.minCoordinate] = p),
                        (s[n.maxCoordinate] = p + d),
                        a.forEach((e, t) => {
                          const i = _.sum(a.slice(0, t).map((e) => e.size)),
                            s = _.sum(h.slice(0, t));
                          e.position = p + i + s;
                        }),
                        e.forEach((e) => {
                          const t = e.position.get(n),
                            i = e.size.get(n),
                            r = t + i - 1,
                            l = e.getIndices(n).map((e) => o.get(e)),
                            d = o.get(t);
                          let c = 0;
                          t !== r &&
                            a.slice(0, -1).forEach((e, i) => {
                              e.index >= t && e.index < r && (c += h[i]);
                            });
                          const u = _.sum(l.map((e) => e.size)) + c,
                            p = d.position,
                            g = e.reposition(
                              n,
                              u,
                              p,
                              e.getEffectiveStretch(n),
                              -d.minOrigin,
                              e.getEffectiveAlign(n)
                            );
                          (s[n.minCoordinate] = Math.min(
                            s[n.minCoordinate],
                            g[n.minCoordinate]
                          )),
                            (s[n.maxCoordinate] = Math.max(
                              s[n.maxCoordinate],
                              g[n.maxCoordinate]
                            ));
                        });
                    }),
                      (this.layoutBoundsProperty.value = s),
                      (this.minimumWidthProperty.value = t.horizontal),
                      (this.minimumHeightProperty.value = t.vertical),
                      this.finishedLayoutEmitter.emit();
                  }
                  get spacing() {
                    return this.xSpacing;
                  }
                  set spacing(e) {
                    (this._spacing.get(Fh.Z.HORIZONTAL) === e &&
                      this._spacing.get(Fh.Z.VERTICAL) === e) ||
                      (this._spacing.set(Fh.Z.HORIZONTAL, e),
                      this._spacing.set(Fh.Z.VERTICAL, e),
                      this.updateLayoutAutomatically());
                  }
                  get xSpacing() {
                    return this._spacing.get(Fh.Z.HORIZONTAL);
                  }
                  set xSpacing(e) {
                    this._spacing.get(Fh.Z.HORIZONTAL) !== e &&
                      (this._spacing.set(Fh.Z.HORIZONTAL, e),
                      this.updateLayoutAutomatically());
                  }
                  get ySpacing() {
                    return this._spacing.get(Fh.Z.VERTICAL);
                  }
                  set ySpacing(e) {
                    this._spacing.get(Fh.Z.VERTICAL) !== e &&
                      (this._spacing.set(Fh.Z.VERTICAL, e),
                      this.updateLayoutAutomatically());
                  }
                  addCell(e) {
                    this.cells.add(e),
                      this.addNode(e.node),
                      e.changedEmitter.addListener(this._updateLayoutListener),
                      this.updateLayoutAutomatically();
                  }
                  removeCell(e) {
                    this.cells.delete(e),
                      this.removeNode(e.node),
                      e.changedEmitter.removeListener(
                        this._updateLayoutListener
                      ),
                      this.updateLayoutAutomatically();
                  }
                  dispose() {
                    this.lock(),
                      [...this.cells].forEach((e) => this.removeCell(e)),
                      this.displayedLines.forEach((e) => e.clear()),
                      (this.displayedCells = []),
                      super.dispose(),
                      this.unlock();
                  }
                  getIndices(e) {
                    const t = [];
                    return (
                      this.cells.forEach((i) => {
                        t.push(...i.getIndices(e));
                      }),
                      _.sortedUniq(_.sortBy(t))
                    );
                  }
                  getCell(e, t) {
                    return (
                      _.find(
                        [...this.cells],
                        (i) => i.containsRow(e) && i.containsColumn(t)
                      ) || null
                    );
                  }
                  getCellFromNode(e) {
                    return _.find([...this.cells], (t) => t.node === e) || null;
                  }
                  getCells(e, t) {
                    return _.filter([...this.cells], (i) =>
                      i.containsIndex(e, t)
                    );
                  }
                  static create(e, t) {
                    return new Ol(e, t);
                  }
                }
                G.register("GridConstraint", Ol);
                const Ll = [
                  ...ll,
                  ...kl.filter((e) => "excludeInvisible" !== e),
                  "rows",
                  "columns",
                  "autoRows",
                  "autoColumns",
                ];
                class Bl extends dl {
                  constructor(e) {
                    const t = (0, Ae.ZP)()(
                      { excludeInvisibleChildrenFromBounds: !0, resize: !0 },
                      e
                    );
                    super(),
                      _defineProperty(this, "_cellMap", new Map()),
                      _defineProperty(this, "_autoRows", null),
                      _defineProperty(this, "_autoColumns", null),
                      _defineProperty(this, "_autoLockCount", 0),
                      (this._constraint = new Ol(this, {
                        preferredWidthProperty:
                          this.localPreferredWidthProperty,
                        preferredHeightProperty:
                          this.localPreferredHeightProperty,
                        minimumWidthProperty: this.localMinimumWidthProperty,
                        minimumHeightProperty: this.localMinimumHeightProperty,
                        layoutOriginProperty: this.layoutOriginProperty,
                        excludeInvisible: !1,
                      })),
                      (this.onChildInserted =
                        this.onGridBoxChildInserted.bind(this)),
                      (this.onChildRemoved =
                        this.onGridBoxChildRemoved.bind(this)),
                      (this.onChildVisibilityToggled =
                        this.updateAllAutoLines.bind(this)),
                      this.childInsertedEmitter.addListener(
                        this.onChildInserted
                      ),
                      this.childRemovedEmitter.addListener(this.onChildRemoved);
                    const i = _.omit(t, Ts),
                      s = _.pick(t, Ts);
                    this._constraint.lock(),
                      this.mutate(i),
                      this._constraint.unlock(),
                      this._constraint.updateLayout(),
                      this.mutate(s),
                      this.linkLayoutBounds();
                  }
                  setLines(e, t) {
                    const i = [];
                    for (let s = 0; s < t.length; s++) {
                      const n = t[s];
                      for (let t = 0; t < n.length; t++) {
                        const r = n[t];
                        null !== r &&
                          (i.push(r),
                          r.mutateLayoutOptions({
                            [e.line]: s,
                            [e.opposite.line]: t,
                          }));
                      }
                    }
                    this.children = i;
                  }
                  getLines(e) {
                    const t = [];
                    for (const i of this._cellMap.values()) {
                      const s = i.position.get(e),
                        n = i.position.get(e.opposite);
                      for (; t.length < s + 1; ) t.push([]);
                      for (; t[s].length < n + 1; ) t[s].push(null);
                      t[s][n] = i.node;
                    }
                    return t;
                  }
                  set rows(e) {
                    this.setLines(Fh.Z.VERTICAL, e);
                  }
                  get rows() {
                    return this.getLines(Fh.Z.VERTICAL);
                  }
                  set columns(e) {
                    this.setLines(Fh.Z.HORIZONTAL, e);
                  }
                  get columns() {
                    return this.getLines(Fh.Z.HORIZONTAL);
                  }
                  getNodeAt(e, t) {
                    const i = this.constraint.getCell(e, t);
                    return i ? i.node : null;
                  }
                  getRowOfNode(e) {
                    return this.constraint.getCellFromNode(e).position.vertical;
                  }
                  getColumnOfNode(e) {
                    return this.constraint.getCellFromNode(e).position
                      .horizontal;
                  }
                  getNodesInRow(e) {
                    return this.constraint
                      .getCells(Fh.Z.VERTICAL, e)
                      .map((e) => e.node);
                  }
                  getNodesInColumn(e) {
                    return this.constraint
                      .getCells(Fh.Z.HORIZONTAL, e)
                      .map((e) => e.node);
                  }
                  addRow(e) {
                    return (this.rows = [...this.rows, e]), this;
                  }
                  addColumn(e) {
                    return (this.columns = [...this.columns, e]), this;
                  }
                  insertRow(e, t) {
                    return (
                      (this.rows = [
                        ...this.rows.slice(0, e),
                        t,
                        ...this.rows.slice(e),
                      ]),
                      this
                    );
                  }
                  insertColumn(e, t) {
                    return (
                      (this.columns = [
                        ...this.columns.slice(0, e),
                        t,
                        ...this.columns.slice(e),
                      ]),
                      this
                    );
                  }
                  removeRow(e) {
                    return (
                      (this.rows = [
                        ...this.rows.slice(0, e),
                        ...this.rows.slice(e + 1),
                      ]),
                      this
                    );
                  }
                  removeColumn(e) {
                    return (
                      (this.columns = [
                        ...this.columns.slice(0, e),
                        ...this.columns.slice(e + 1),
                      ]),
                      this
                    );
                  }
                  set autoRows(e) {
                    this._autoRows !== e &&
                      ((this._autoRows = e), this.updateAutoRows());
                  }
                  get autoRows() {
                    return this._autoRows;
                  }
                  set autoColumns(e) {
                    this._autoColumns !== e &&
                      ((this._autoColumns = e), this.updateAutoColumns());
                  }
                  get autoColumns() {
                    return this._autoColumns;
                  }
                  updateAutoLines(e, t) {
                    if (null !== t && 0 === this._autoLockCount) {
                      let i = 0;
                      this.constraint.lock(),
                        this.children
                          .filter(
                            (e) =>
                              e.bounds.isValid() &&
                              (!this._constraint.excludeInvisible || e.visible)
                          )
                          .forEach((s, n) => {
                            const r = n % t,
                              o = Math.floor(n / t);
                            (s.layoutOptions &&
                              s.layoutOptions[e.line] === r &&
                              s.layoutOptions[e.opposite.line] === o &&
                              1 === s.layoutOptions.horizontalSpan &&
                              1 === s.layoutOptions.verticalSpan) ||
                              (i++,
                              s.mutateLayoutOptions({
                                [e.line]: n % t,
                                [e.opposite.line]: Math.floor(n / t),
                                horizontalSpan: 1,
                                verticalSpan: 1,
                              }));
                          }),
                        this.constraint.unlock(),
                        i > 0 && this.constraint.updateLayoutAutomatically();
                    }
                  }
                  updateAutoRows() {
                    this.updateAutoLines(Fh.Z.VERTICAL, this.autoRows);
                  }
                  updateAutoColumns() {
                    this.updateAutoLines(Fh.Z.HORIZONTAL, this.autoColumns);
                  }
                  updateAllAutoLines() {
                    this.updateAutoRows(), this.updateAutoColumns();
                  }
                  setChildren(e) {
                    const t = this.getChildren();
                    return (
                      this._autoLockCount++,
                      super.setChildren(e),
                      this._autoLockCount--,
                      _.isEqual(t, e) || this.updateAllAutoLines(),
                      this
                    );
                  }
                  onGridBoxChildInserted(e, t) {
                    e.visibleProperty.lazyLink(this.onChildVisibilityToggled);
                    const i = new Il(
                      this._constraint,
                      e,
                      this._constraint.createLayoutProxy(e)
                    );
                    this._cellMap.set(e, i),
                      this._constraint.addCell(i),
                      this.updateAllAutoLines();
                  }
                  onGridBoxChildRemoved(e) {
                    const t = this._cellMap.get(e);
                    this._cellMap.delete(e),
                      this._constraint.removeCell(t),
                      t.dispose(),
                      this.updateAllAutoLines(),
                      e.visibleProperty.unlink(this.onChildVisibilityToggled);
                  }
                  mutate(e) {
                    return (
                      (0, Js.Z)(
                        e,
                        ["rows"],
                        ["columns"],
                        ["children", "autoRows", "autoColumns"]
                      ),
                      super.mutate(e)
                    );
                  }
                  get spacing() {
                    return this._constraint.spacing;
                  }
                  set spacing(e) {
                    this._constraint.spacing = e;
                  }
                  get xSpacing() {
                    return this._constraint.xSpacing;
                  }
                  set xSpacing(e) {
                    this._constraint.xSpacing = e;
                  }
                  get ySpacing() {
                    return this._constraint.ySpacing;
                  }
                  set ySpacing(e) {
                    this._constraint.ySpacing = e;
                  }
                  get xAlign() {
                    return this._constraint.xAlign;
                  }
                  set xAlign(e) {
                    this._constraint.xAlign = e;
                  }
                  get yAlign() {
                    return this._constraint.yAlign;
                  }
                  set yAlign(e) {
                    this._constraint.yAlign = e;
                  }
                  get grow() {
                    return this._constraint.grow;
                  }
                  set grow(e) {
                    this._constraint.grow = e;
                  }
                  get xGrow() {
                    return this._constraint.xGrow;
                  }
                  set xGrow(e) {
                    this._constraint.xGrow = e;
                  }
                  get yGrow() {
                    return this._constraint.yGrow;
                  }
                  set yGrow(e) {
                    this._constraint.yGrow = e;
                  }
                  get stretch() {
                    return this._constraint.stretch;
                  }
                  set stretch(e) {
                    this._constraint.stretch = e;
                  }
                  get xStretch() {
                    return this._constraint.xStretch;
                  }
                  set xStretch(e) {
                    this._constraint.xStretch = e;
                  }
                  get yStretch() {
                    return this._constraint.yStretch;
                  }
                  set yStretch(e) {
                    this._constraint.yStretch = e;
                  }
                  get margin() {
                    return this._constraint.margin;
                  }
                  set margin(e) {
                    this._constraint.margin = e;
                  }
                  get xMargin() {
                    return this._constraint.xMargin;
                  }
                  set xMargin(e) {
                    this._constraint.xMargin = e;
                  }
                  get yMargin() {
                    return this._constraint.yMargin;
                  }
                  set yMargin(e) {
                    this._constraint.yMargin = e;
                  }
                  get leftMargin() {
                    return this._constraint.leftMargin;
                  }
                  set leftMargin(e) {
                    this._constraint.leftMargin = e;
                  }
                  get rightMargin() {
                    return this._constraint.rightMargin;
                  }
                  set rightMargin(e) {
                    this._constraint.rightMargin = e;
                  }
                  get topMargin() {
                    return this._constraint.topMargin;
                  }
                  set topMargin(e) {
                    this._constraint.topMargin = e;
                  }
                  get bottomMargin() {
                    return this._constraint.bottomMargin;
                  }
                  set bottomMargin(e) {
                    this._constraint.bottomMargin = e;
                  }
                  get minContentWidth() {
                    return this._constraint.minContentWidth;
                  }
                  set minContentWidth(e) {
                    this._constraint.minContentWidth = e;
                  }
                  get minContentHeight() {
                    return this._constraint.minContentHeight;
                  }
                  set minContentHeight(e) {
                    this._constraint.minContentHeight = e;
                  }
                  get maxContentWidth() {
                    return this._constraint.maxContentWidth;
                  }
                  set maxContentWidth(e) {
                    this._constraint.maxContentWidth = e;
                  }
                  get maxContentHeight() {
                    return this._constraint.maxContentHeight;
                  }
                  set maxContentHeight(e) {
                    this._constraint.maxContentHeight = e;
                  }
                  setExcludeInvisibleChildrenFromBounds(e) {
                    super.setExcludeInvisibleChildrenFromBounds(e),
                      this.updateAllAutoLines();
                  }
                  dispose() {
                    this._constraint.lock(),
                      this.childInsertedEmitter.removeListener(
                        this.onChildInserted
                      ),
                      this.childRemovedEmitter.removeListener(
                        this.onChildRemoved
                      );
                    for (const e of this._cellMap.values())
                      e.dispose(),
                        e.node.visibleProperty.unlink(
                          this.onChildVisibilityToggled
                        );
                    super.dispose();
                  }
                  getHelperNode() {
                    return al.createHelperNode(
                      this.constraint.displayedCells,
                      this.constraint.layoutBoundsProperty.value,
                      (e) => {
                        let t = "";
                        return (
                          (t += `row: ${e.position.vertical}\n`),
                          (t += `column: ${e.position.horizontal}\n`),
                          e.size.horizontal > 1 &&
                            (t += `horizontalSpan: ${e.size.horizontal}\n`),
                          e.size.vertical > 1 &&
                            (t += `verticalSpan: ${e.size.vertical}\n`),
                          (t += `xAlign: ${Yh.internalToAlign(
                            Fh.Z.HORIZONTAL,
                            e.effectiveXAlign
                          )}\n`),
                          (t += `yAlign: ${Yh.internalToAlign(
                            Fh.Z.VERTICAL,
                            e.effectiveYAlign
                          )}\n`),
                          (t += `xStretch: ${e.effectiveXStretch}\n`),
                          (t += `yStretch: ${e.effectiveYStretch}\n`),
                          (t += `xGrow: ${e.effectiveXGrow}\n`),
                          (t += `yGrow: ${e.effectiveYGrow}\n`),
                          t
                        );
                      }
                    );
                  }
                }
                (Bl.prototype._mutatorKeys = [
                  ...$s,
                  ...Ll,
                  ...Ds.prototype._mutatorKeys,
                ]),
                  G.register("GridBox", Bl);
                G.register(
                  "GridBackgroundNode",
                  class extends Ds {
                    constructor(e, t) {
                      (0, Js.Z)(
                        t,
                        ["createCellBackground"],
                        ["fill", "stroke"]
                      );
                      const i = (0, Ae.ZP)()(
                        {
                          fill: "white",
                          stroke: "black",
                          createCellBackground: (e) =>
                            Yn.bounds(e.lastAvailableBounds, {
                              fill: i.fill,
                              stroke: i.stroke,
                            }),
                        },
                        t
                      );
                      super(),
                        (this.constraint = e),
                        (this.createCellBackground = i.createCellBackground),
                        (this.layoutListener = this.update.bind(this)),
                        this.constraint.finishedLayoutEmitter.addListener(
                          this.layoutListener
                        ),
                        this.update(),
                        this.mutate(i);
                    }
                    update() {
                      this.children = this.constraint.displayedCells
                        .map(this.createCellBackground)
                        .filter(_.identity);
                    }
                    dispose() {
                      this.constraint.finishedLayoutEmitter.removeListener(
                        this.layoutListener
                      ),
                        super.dispose();
                    }
                  }
                );
                class Ml extends tl {
                  constructor(e, t, i) {
                    super(e),
                      this.lock(),
                      (this.nodes = t),
                      (this.cells = t.map((e) => new il(this, e, null))),
                      (this.layoutCallback = i),
                      this.nodes.forEach((e) => this.addNode(e, !1)),
                      this.unlock(),
                      this.updateLayout();
                  }
                  layout() {
                    if (
                      (super.layout(),
                      !_.some(this.cells, (e) => !e.isConnected()))
                    ) {
                      const e = this.cells.map((e) => e.proxy);
                      this.layoutCallback.apply(null, e),
                        this.finishedLayoutEmitter.emit();
                    }
                  }
                  dispose() {
                    this.cells.forEach((e) => e.dispose()), super.dispose();
                  }
                  static create(e, t, i) {
                    return new Ml(e, t, i);
                  }
                }
                G.register("ManualConstraint", Ml);
                class Nl extends tl {
                  constructor(e, t, i) {
                    super(e),
                      this.lock(),
                      (this.nodes = t),
                      (this.cells = t.map((e) => new il(this, e, null))),
                      (this.layoutCallback = i),
                      this.nodes.forEach((e) => this.addNode(e, !1)),
                      this.unlock(),
                      this.updateLayout();
                  }
                  layout() {
                    super.layout();
                    const e = this.cells.map((e) =>
                      e.isConnected() ? e.proxy : null
                    );
                    this.layoutCallback.apply(null, e),
                      this.finishedLayoutEmitter.emit();
                  }
                  dispose() {
                    this.cells.forEach((e) => e.dispose()), super.dispose();
                  }
                  static create(e, t, i) {
                    return new Nl(e, t, i);
                  }
                }
                G.register("RelaxedManualConstraint", Nl);
                var Rl = i(9969);
                const ql = tn(Ds);
                class Fl extends ql {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()({ children: [e] }, t);
                    super({ sizable: !1 }),
                      _defineProperty(this, "_xSet", !1),
                      _defineProperty(this, "_ySet", !1),
                      _defineProperty(this, "_contentBoundsListener", _.noop),
                      (this._content = e),
                      (this._alignBounds = null),
                      (this._xAlign = "center"),
                      (this._yAlign = "center"),
                      (this._leftMargin = 0),
                      (this._rightMargin = 0),
                      (this._topMargin = 0),
                      (this._bottomMargin = 0),
                      (this._group = null),
                      (this._contentBoundsListener =
                        this.invalidateAlignment.bind(this)),
                      (this._alignBoundsProperty = null),
                      (this._alignBoundsPropertyListener = _.noop),
                      (0, Js.Z)(i, ["alignBounds"], ["alignBoundsProperty"]),
                      null != t &&
                        t.alignBoundsProperty &&
                        ((this._alignBoundsProperty = t.alignBoundsProperty),
                        (i.alignBounds = this._alignBoundsProperty.value),
                        (this._alignBoundsPropertyListener = (e) => {
                          this.alignBounds = e;
                        }),
                        this._alignBoundsProperty.lazyLink(
                          this._alignBoundsPropertyListener
                        )),
                      (this.localBounds = new Oe.Z(0, 0, 0, 0)),
                      (this.constraint = new Zl(this, e)),
                      this._content.boundsProperty.link(
                        this._contentBoundsListener
                      ),
                      this.mutate(i),
                      Rl.Z.multilink(
                        [
                          this.localPreferredWidthProperty,
                          this.localPreferredHeightProperty,
                        ],
                        (e, t) => {
                          if (null !== e || null !== t) {
                            const i = this._alignBounds || new Oe.Z(0, 0, 0, 0);
                            e &&
                              ((i.minX = 0), (i.maxX = e), (this._xSet = !0)),
                              t &&
                                ((i.minY = 0), (i.maxY = t), (this._ySet = !0)),
                              (this._alignBounds = i),
                              this.constraint.updateLayout();
                          }
                        }
                      );
                  }
                  invalidateAlignment() {
                    this._group && this._group.onAlignBoxResized(this),
                      this.constraint.updateLayout();
                  }
                  setAlignBounds(e) {
                    return (
                      (this._xSet = !0),
                      (this._ySet = !0),
                      this._alignBounds === e ||
                        (e &&
                          this._alignBounds &&
                          e.equals(this._alignBounds)) ||
                        ((this._alignBounds = e),
                        this.constraint.updateLayout()),
                      this
                    );
                  }
                  set alignBounds(e) {
                    this.setAlignBounds(e);
                  }
                  get alignBounds() {
                    return this.getAlignBounds();
                  }
                  getAlignBounds() {
                    return this._alignBounds;
                  }
                  setGroup(e) {
                    return (
                      this._group !== e &&
                        (this._group && this._group.removeAlignBox(this),
                        (this._group = e),
                        this._group && this._group.addAlignBox(this)),
                      this
                    );
                  }
                  set group(e) {
                    this.setGroup(e);
                  }
                  get group() {
                    return this.getGroup();
                  }
                  getGroup() {
                    return this._group;
                  }
                  setXAlign(e) {
                    return (
                      this._xAlign !== e &&
                        ((this._xAlign = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set xAlign(e) {
                    this.setXAlign(e);
                  }
                  get xAlign() {
                    return this.getXAlign();
                  }
                  getXAlign() {
                    return this._xAlign;
                  }
                  setYAlign(e) {
                    return (
                      this._yAlign !== e &&
                        ((this._yAlign = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set yAlign(e) {
                    this.setYAlign(e);
                  }
                  get yAlign() {
                    return this.getYAlign();
                  }
                  getYAlign() {
                    return this._yAlign;
                  }
                  setMargin(e) {
                    return (
                      (this._leftMargin === e &&
                        this._rightMargin === e &&
                        this._topMargin === e &&
                        this._bottomMargin === e) ||
                        ((this._leftMargin =
                          this._rightMargin =
                          this._topMargin =
                          this._bottomMargin =
                            e),
                        this.invalidateAlignment()),
                      this
                    );
                  }
                  set margin(e) {
                    this.setMargin(e);
                  }
                  get margin() {
                    return this.getMargin();
                  }
                  getMargin() {
                    return this._leftMargin;
                  }
                  setXMargin(e) {
                    return (
                      (this._leftMargin === e && this._rightMargin === e) ||
                        ((this._leftMargin = this._rightMargin = e),
                        this.invalidateAlignment()),
                      this
                    );
                  }
                  set xMargin(e) {
                    this.setXMargin(e);
                  }
                  get xMargin() {
                    return this.getXMargin();
                  }
                  getXMargin() {
                    return this._leftMargin;
                  }
                  setYMargin(e) {
                    return (
                      (this._topMargin === e && this._bottomMargin === e) ||
                        ((this._topMargin = this._bottomMargin = e),
                        this.invalidateAlignment()),
                      this
                    );
                  }
                  set yMargin(e) {
                    this.setYMargin(e);
                  }
                  get yMargin() {
                    return this.getYMargin();
                  }
                  getYMargin() {
                    return this._topMargin;
                  }
                  setLeftMargin(e) {
                    return (
                      this._leftMargin !== e &&
                        ((this._leftMargin = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set leftMargin(e) {
                    this.setLeftMargin(e);
                  }
                  get leftMargin() {
                    return this.getLeftMargin();
                  }
                  getLeftMargin() {
                    return this._leftMargin;
                  }
                  setRightMargin(e) {
                    return (
                      this._rightMargin !== e &&
                        ((this._rightMargin = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set rightMargin(e) {
                    this.setRightMargin(e);
                  }
                  get rightMargin() {
                    return this.getRightMargin();
                  }
                  getRightMargin() {
                    return this._rightMargin;
                  }
                  setTopMargin(e) {
                    return (
                      this._topMargin !== e &&
                        ((this._topMargin = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set topMargin(e) {
                    this.setTopMargin(e);
                  }
                  get topMargin() {
                    return this.getTopMargin();
                  }
                  getTopMargin() {
                    return this._topMargin;
                  }
                  setBottomMargin(e) {
                    return (
                      this._bottomMargin !== e &&
                        ((this._bottomMargin = e), this.invalidateAlignment()),
                      this
                    );
                  }
                  set bottomMargin(e) {
                    this.setBottomMargin(e);
                  }
                  get bottomMargin() {
                    return this.getBottomMargin();
                  }
                  getBottomMargin() {
                    return this._bottomMargin;
                  }
                  getContentBounds() {
                    const e = this._content.bounds;
                    return new Oe.Z(
                      e.left - this._leftMargin,
                      e.top - this._topMargin,
                      e.right + this._rightMargin,
                      e.bottom + this._bottomMargin
                    );
                  }
                  setAdjustedLocalBounds(e) {
                    if (this._xSet && this._ySet) this.localBounds = e;
                    else if (this._xSet) {
                      const t = this.getContentBounds();
                      this.localBounds = new Oe.Z(
                        e.minX,
                        t.minY,
                        e.maxX,
                        t.maxY
                      );
                    } else if (this._ySet) {
                      const t = this.getContentBounds();
                      this.localBounds = new Oe.Z(
                        t.minX,
                        e.minY,
                        t.maxX,
                        e.maxY
                      );
                    } else this.localBounds = this.getContentBounds();
                  }
                  dispose() {
                    this._alignBoundsProperty &&
                      this._alignBoundsProperty.unlink(
                        this._alignBoundsPropertyListener
                      ),
                      this._content.boundsProperty.unlink(
                        this._contentBoundsListener
                      ),
                      (this._content = new Ds()),
                      (this.group = null),
                      this.constraint.dispose(),
                      super.dispose();
                  }
                }
                class Zl extends tl {
                  constructor(e, t) {
                    super(e),
                      (this.alignBox = e),
                      (this.content = t),
                      this.addNode(t),
                      e.isWidthResizableProperty.lazyLink(
                        this._updateLayoutListener
                      ),
                      e.isHeightResizableProperty.lazyLink(
                        this._updateLayoutListener
                      );
                  }
                  updateProperty(e, t) {
                    const i = this.content[e],
                      s = this.alignBox.localBounds[e] + t;
                    Math.abs(i - s) > 1e-5 && (this.content[e] = s);
                  }
                  layout() {
                    super.layout();
                    const e = this.alignBox,
                      t = this.content;
                    if (!t.bounds.isValid()) return;
                    const i = e.leftMargin + e.rightMargin,
                      s = e.topMargin + e.bottomMargin;
                    if (null !== e.alignBounds)
                      e.setAdjustedLocalBounds(e.alignBounds);
                    else {
                      const n = t.width + i,
                        r = t.height + s;
                      e.setAdjustedLocalBounds(new Oe.Z(0, 0, n, r));
                    }
                    const n = isFinite(t.width)
                        ? (Gs(t) ? t.minimumWidth || 0 : t.width) + i
                        : null,
                      r = isFinite(t.height)
                        ? (Us(t) ? t.minimumHeight || 0 : t.height) + s
                        : null;
                    t.localBounds.isEmpty() ||
                      ("center" === e.xAlign
                        ? this.updateProperty(
                            "centerX",
                            (e.leftMargin - e.rightMargin) / 2
                          )
                        : "left" === e.xAlign
                        ? this.updateProperty("left", e.leftMargin)
                        : "right" === e.xAlign
                        ? this.updateProperty("right", -e.rightMargin)
                        : "stretch" === e.xAlign &&
                          ((t.preferredWidth =
                            e.localWidth - e.leftMargin - e.rightMargin),
                          this.updateProperty("left", e.leftMargin)),
                      "center" === e.yAlign
                        ? this.updateProperty(
                            "centerY",
                            (e.topMargin - e.bottomMargin) / 2
                          )
                        : "top" === e.yAlign
                        ? this.updateProperty("top", e.topMargin)
                        : "bottom" === e.yAlign
                        ? this.updateProperty("bottom", -e.bottomMargin)
                        : "stretch" === e.yAlign &&
                          ((t.preferredHeight =
                            e.localHeight - e.topMargin - e.bottomMargin),
                          this.updateProperty("top", e.topMargin))),
                      (e.localMinimumWidth = e.widthSizable ? n : e.localWidth),
                      (e.localMinimumHeight = e.heightSizable
                        ? r
                        : e.localHeight);
                  }
                }
                (Fl.prototype._mutatorKeys = [
                  "alignBounds",
                  "xAlign",
                  "yAlign",
                  "margin",
                  "xMargin",
                  "yMargin",
                  "leftMargin",
                  "rightMargin",
                  "topMargin",
                  "bottomMargin",
                  "group",
                ].concat(ql.prototype._mutatorKeys)),
                  G.register("AlignBox", Fl);
                var Hl = i(8036);
                let Yl = 1;
                const Gl = { matchHorizontal: !0, matchVertical: !0 };
                class Wl extends bs.Z {
                  constructor(e) {
                    const t = (0, Ae.lB)()({}, Gl, e);
                    super(t),
                      (this._alignBoxes = []),
                      (this._matchHorizontal = t.matchHorizontal),
                      (this._matchVertical = t.matchVertical),
                      (this._resizeLock = !1),
                      (this._maxWidthProperty = new Hl.Z(0)),
                      (this._maxHeightProperty = new Hl.Z(0)),
                      (this.id = Yl++);
                  }
                  getMaxWidth() {
                    return this._maxWidthProperty.value;
                  }
                  get maxWidth() {
                    return this.getMaxWidth();
                  }
                  getMaxWidthProperty() {
                    return this._maxWidthProperty;
                  }
                  get maxWidthProperty() {
                    return this.getMaxWidthProperty();
                  }
                  getMaxHeight() {
                    return this._maxHeightProperty.value;
                  }
                  get maxHeight() {
                    return this.getMaxHeight();
                  }
                  getMaxHeightProperty() {
                    return this._maxHeightProperty;
                  }
                  get maxHeightProperty() {
                    return this.getMaxHeightProperty();
                  }
                  createBox(e, t) {
                    return new Fl(
                      e,
                      (0, Ae.JA)({ group: this, disposer: this }, t)
                    );
                  }
                  setMatchHorizontal(e) {
                    return (
                      this._matchHorizontal !== e &&
                        ((this._matchHorizontal = e), this.updateLayout()),
                      this
                    );
                  }
                  set matchHorizontal(e) {
                    this.setMatchHorizontal(e);
                  }
                  get matchHorizontal() {
                    return this.getMatchHorizontal();
                  }
                  getMatchHorizontal() {
                    return this._matchHorizontal;
                  }
                  setMatchVertical(e) {
                    return (
                      this._matchVertical !== e &&
                        ((this._matchVertical = e), this.updateLayout()),
                      this
                    );
                  }
                  set matchVertical(e) {
                    this.setMatchVertical(e);
                  }
                  get matchVertical() {
                    return this.getMatchVertical();
                  }
                  getMatchVertical() {
                    return this._matchVertical;
                  }
                  updateLayout() {
                    if (this._resizeLock) return;
                    this._resizeLock = !0;
                    let e = 0,
                      t = 0;
                    for (let i = 0; i < this._alignBoxes.length; i++) {
                      const s = this._alignBoxes[i].getContentBounds();
                      !s.isEmpty() &&
                        s.isFinite() &&
                        ((e = Math.max(e, s.width)),
                        (t = Math.max(t, s.height)));
                    }
                    if (
                      ((this._maxWidthProperty.value = e),
                      (this._maxHeightProperty.value = t),
                      e > 0 && t > 0)
                    )
                      for (let i = 0; i < this._alignBoxes.length; i++)
                        this.setBoxBounds(this._alignBoxes[i], e, t);
                    this._resizeLock = !1;
                  }
                  setBoxBounds(e, t, i) {
                    let s;
                    if (this._matchVertical && this._matchHorizontal)
                      s = new Oe.Z(0, 0, t, i);
                    else {
                      const n = e.getContentBounds();
                      s = this._matchVertical
                        ? new Oe.Z(0, 0, isFinite(n.width) ? n.width : t, i)
                        : this._matchHorizontal
                        ? new Oe.Z(0, 0, t, isFinite(n.height) ? n.height : i)
                        : n;
                    }
                    e.alignBounds = s;
                  }
                  onAlignBoxResized(e) {
                    this.updateLayout();
                  }
                  addAlignBox(e) {
                    this._alignBoxes.push(e), this.updateLayout();
                  }
                  removeAlignBox(e) {
                    (0, Di.Z)(this._alignBoxes, e),
                      e.disposer === this && (e.disposer = null),
                      this.updateLayout();
                  }
                }
                G.register("AlignGroup", Wl);
                class zl extends Sl {
                  constructor(e) {
                    super((0, Ae.ZP)()({ orientation: "horizontal" }, e));
                  }
                  onFlowBoxChildInserted(e, t) {
                    super.onFlowBoxChildInserted(e, t);
                  }
                }
                G.register("HBox", zl);
                class Xl extends Sl {
                  constructor(e) {
                    super((0, Ae.ZP)()({ orientation: "vertical" }, e));
                  }
                  onFlowBoxChildInserted(e, t) {
                    super.onFlowBoxChildInserted(e, t);
                  }
                }
                G.register("VBox", Xl);
                const Ql = [
                    "boundsMethod",
                    "font",
                    "fill",
                    "stroke",
                    "lineWidth",
                    "subScale",
                    "subXSpacing",
                    "subYOffset",
                    "supScale",
                    "supXSpacing",
                    "supYOffset",
                    "capHeightScale",
                    "underlineLineWidth",
                    "underlineHeightScale",
                    "strikethroughLineWidth",
                    "strikethroughHeightScale",
                    "linkFill",
                    "linkEventsHandled",
                    "links",
                    "align",
                    "leading",
                    "lineWrap",
                    Ln.STRING_PROPERTY_NAME,
                    "string",
                  ],
                  Ul = (e) => "element" === e.type.toLowerCase(),
                  jl = (e) => "text" === e.type.toLowerCase(),
                  Kl = new Ee({ size: 20 }),
                  Jl = ["b", "strong", "i", "em", "sub", "sup", "u", "s"],
                  _l = "COMPLETE",
                  $l = "INCOMPLETE",
                  ed = "NONE",
                  td = (e, t) => {
                    if (!t) return null;
                    const i = _.find(t.attributes, (t) => t.key === e);
                    return (i && i.value) || null;
                  },
                  id = new Ln(""),
                  sd = {
                    "font-family": "family",
                    "font-size": "size",
                    "font-stretch": "stretch",
                    "font-style": "style",
                    "font-variant": "variant",
                    "font-weight": "weight",
                    "line-height": "lineHeight",
                  },
                  nd = Object.keys(sd);
                ["color"].concat(nd);
                class rd extends Ds {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        fill: "#000000",
                        tandem: fe.Z.OPTIONAL,
                        tandemNameSuffix: "Text",
                        phetioType: rd.RichTextIO,
                        phetioVisiblePropertyInstrumented: !1,
                      },
                      t
                    );
                    "string" == typeof e || "number" == typeof e
                      ? (i.string = e)
                      : (i.stringProperty = e),
                      super(),
                      (this._stringProperty = new ls(
                        "",
                        !0,
                        this.onStringPropertyChange.bind(this)
                      )),
                      (this._font = Kl),
                      (this._boundsMethod = "hybrid"),
                      (this._fill = "#000000"),
                      (this._stroke = null),
                      (this._lineWidth = 1),
                      (this._subScale = 0.75),
                      (this._subXSpacing = 0),
                      (this._subYOffset = 0),
                      (this._supScale = 0.75),
                      (this._supXSpacing = 0),
                      (this._supYOffset = 0),
                      (this._capHeightScale = 0.75),
                      (this._underlineLineWidth = 1),
                      (this._underlineHeightScale = 0.15),
                      (this._strikethroughLineWidth = 1),
                      (this._strikethroughHeightScale = 0.3),
                      (this._linkFill = "rgb(27,0,241)"),
                      (this._linkEventsHandled = !1),
                      (this._links = {}),
                      (this._align = "left"),
                      (this._leading = 0),
                      (this._lineWrap = null),
                      (this._linkItems = []),
                      (this._hasAddedLeafToLine = !1),
                      (this.lineContainer = new Ds({})),
                      this.addChild(this.lineContainer),
                      this.rebuildRichText(),
                      this.mutate(i);
                  }
                  onStringPropertyChange() {
                    this.rebuildRichText();
                  }
                  setStringProperty(e) {
                    return this._stringProperty.setTargetProperty(
                      this,
                      rd.STRING_PROPERTY_TANDEM_NAME,
                      e
                    );
                  }
                  set stringProperty(e) {
                    this.setStringProperty(e);
                  }
                  get stringProperty() {
                    return this.getStringProperty();
                  }
                  getStringProperty() {
                    return this._stringProperty;
                  }
                  initializePhetioObject(e, t) {
                    const i = (0, Ae.ZP)()({}, t),
                      s = this.isPhetioInstrumented();
                    super.initializePhetioObject(e, i),
                      fe.Z.PHET_IO_ENABLED &&
                        !s &&
                        this.isPhetioInstrumented() &&
                        this._stringProperty.initializePhetio(
                          this,
                          rd.STRING_PROPERTY_TANDEM_NAME,
                          () =>
                            new Si.Z(
                              this.string,
                              (0, Ae.JA)(
                                {
                                  phetioReadOnly: !0,
                                  tandem: this.tandem.createTandem(
                                    rd.STRING_PROPERTY_TANDEM_NAME
                                  ),
                                  phetioDocumentation:
                                    "Property for the displayed text",
                                },
                                i.stringPropertyOptions
                              )
                            )
                        );
                  }
                  rebuildRichText() {
                    if ((this.freeChildrenToPool(), "" === this.string))
                      return void this.appendEmptyLeaf();
                    const e = this.string
                      .replace(/\u202a/g, '<span dir="ltr">')
                      .replace(/\u202b/g, '<span dir="rtl">')
                      .replace(/\u202c/g, "</span>");
                    let t;
                    try {
                      t = himalaya.parse(e);
                    } catch (n) {
                      t = himalaya.parse("INVALID TRANSLATION");
                    }
                    this._linkItems.length = 0;
                    const i =
                      null === this._lineWrap
                        ? Number.POSITIVE_INFINITY
                        : this._lineWrap;
                    let s = ad.pool.create(!0);
                    for (this._hasAddedLeafToLine = !1; t.length; ) {
                      const e = t[0],
                        n = s.bounds.isValid() ? s.width : 0,
                        r = this.appendElement(
                          s,
                          e,
                          this._font,
                          this._fill,
                          !0,
                          i - n
                        );
                      r !== ed &&
                        (s.bounds.isValid()
                          ? this.appendLine(s)
                          : this.appendLine(
                              dd.pool.create(
                                id.setText("X").setFont(this._font).height
                              )
                            ),
                        (s = ad.pool.create(!0)),
                        (this._hasAddedLeafToLine = !1)),
                        r !== $l && t.splice(0, 1);
                    }
                    for (
                      s.bounds.isValid() && this.appendLine(s),
                        0 === this.lineContainer.getChildrenCount() &&
                          this.appendEmptyLeaf(),
                        this.alignLines();
                      this._linkItems.length;

                    )
                      (() => {
                        const e = this._linkItems[0].element,
                          t = this._linkItems[0].href;
                        let i;
                        const s = [];
                        for (i = this._linkItems.length - 1; i >= 0; i--) {
                          const t = this._linkItems[i];
                          t.element === e &&
                            (s.push(t.node), this._linkItems.splice(i, 1));
                        }
                        const n = ld.pool.create(e.innerContent, t);
                        for (
                          this.lineContainer.addChild(n), i = 0;
                          i < s.length;
                          i++
                        ) {
                          const e = s[i],
                            t = e
                              .getUniqueTrailTo(this.lineContainer)
                              .getMatrix();
                          e.detach(), (e.matrix = t), n.addChild(e);
                        }
                      })();
                    this._linkItems.length = 0;
                  }
                  freeChildrenToPool() {
                    for (; this.lineContainer._children.length; ) {
                      const e =
                        this.lineContainer._children[
                          this.lineContainer._children.length - 1
                        ];
                      this.lineContainer.removeChild(e), e.clean();
                    }
                  }
                  dispose() {
                    this.freeChildrenToPool(),
                      super.dispose(),
                      this._stringProperty.dispose();
                  }
                  appendLine(e) {
                    this.lineContainer.bounds.isValid() &&
                      ((e.top = this.lineContainer.bottom + this._leading),
                      (e.left = 0)),
                      this.lineContainer.addChild(e);
                  }
                  appendEmptyLeaf() {
                    this.appendLine(
                      hd.pool.create(
                        "",
                        !0,
                        this._font,
                        this._boundsMethod,
                        this._fill,
                        this._stroke,
                        this._lineWidth
                      )
                    );
                  }
                  alignLines() {
                    const e =
                        "center" === this._align ? "centerX" : this._align,
                      t = this.lineContainer[e];
                    for (
                      let i = 0;
                      i < this.lineContainer.getChildrenCount();
                      i++
                    )
                      this.lineContainer.getChildAt(i)[e] = t;
                  }
                  appendElement(e, t, i, s, n, r) {
                    let o,
                      a = ed;
                    if (jl(t)) {
                      o = hd.pool.create(
                        t.content,
                        n,
                        i,
                        this._boundsMethod,
                        s,
                        this._stroke,
                        this._lineWidth
                      );
                      const h = n ? e.rightSpacing : e.leftSpacing;
                      if (!o.fitsIn(r - h, this._hasAddedLeafToLine, n)) {
                        const e = Ht(t.content),
                          l = (e) =>
                            0 === e.length
                              ? ""
                              : t.content.slice(e[0].min, e[e.length - 1].max);
                        if (this._hasAddedLeafToLine || e.length > 1) {
                          const d = [];
                          let c = !1;
                          for (d.unshift(e.pop()); e.length; ) {
                            if (
                              ((o = hd.pool.create(
                                l(e),
                                n,
                                i,
                                this._boundsMethod,
                                s,
                                this._stroke,
                                this._lineWidth
                              )),
                              o.fitsIn(r - h, this._hasAddedLeafToLine, n) ||
                                !(this._hasAddedLeafToLine || e.length > 1))
                            ) {
                              c = !0;
                              break;
                            }
                            d.unshift(e.pop());
                          }
                          if (!c) return $l;
                          (a = $l), (t.content = l(d));
                        }
                      }
                      this._hasAddedLeafToLine = !0;
                    } else if (Ul(t)) {
                      if ("br" === t.tagName) return _l;
                      if ("span" === t.tagName) {
                        const e = td("dir", t);
                        e && (n = "ltr" === e);
                      }
                      o = ad.pool.create(n);
                      const e = td("style", t);
                      if (e) {
                        const t = ((e) => {
                          const t = e.split(";"),
                            i = {};
                          return (
                            t.forEach((e) => {
                              if (e.length > 0) {
                                const t = e.split(":");
                                i[t[0].trim()] = t[1].trim();
                              }
                            }),
                            i
                          );
                        })(e);
                        t.color && (s = new se(t.color));
                        const n = {};
                        for (let e = 0; e < nd.length; e++) {
                          const i = nd[e];
                          t[i] && (n[sd[i]] = t[i]);
                        }
                        i = ("string" == typeof i ? Ee.fromCSS(i) : i).copy(n);
                      }
                      if ("a" === t.tagName) {
                        let e = td("href", t);
                        null !== e &&
                          !0 !== this._links &&
                          (e =
                            e.startsWith("{{") &&
                            e.indexOf("}}") === e.length - 2
                              ? this._links[e.slice(2, -2)]
                              : null),
                          e &&
                            (null !== this._linkFill && (s = this._linkFill),
                            t.innerContent ||
                              (t.innerContent =
                                rd.himalayaElementToAccessibleString(t, n)),
                            this._linkItems.push({
                              element: t,
                              node: o,
                              href: e,
                            }));
                      } else
                        "b" === t.tagName || "strong" === t.tagName
                          ? (i = (
                              "string" == typeof i ? Ee.fromCSS(i) : i
                            ).copy({ weight: "bold" }))
                          : "i" === t.tagName || "em" === t.tagName
                          ? (i = (
                              "string" == typeof i ? Ee.fromCSS(i) : i
                            ).copy({ style: "italic" }))
                          : "sub" === t.tagName
                          ? (o.scale(this._subScale),
                            o.addExtraBeforeSpacing(this._subXSpacing),
                            (o.y += this._subYOffset))
                          : "sup" === t.tagName &&
                            (o.scale(this._supScale),
                            o.addExtraBeforeSpacing(this._supXSpacing),
                            (o.y += this._supYOffset));
                      const h = o.getScaleVector().x;
                      for (; a === ed && t.children.length; ) {
                        const e = o.bounds.isValid() ? o.width : 0,
                          l = t.children[0];
                        (a = this.appendElement(o, l, i, s, n, r / h)),
                          a !== $l && t.children.splice(0, 1),
                          (r += e - (o.bounds.isValid() ? o.width : 0));
                      }
                      if (
                        (a === _l && t.children.length && (a = $l),
                        "sub" === t.tagName)
                      )
                        isFinite(o.height) && (o.centerY = 0);
                      else if ("sup" === t.tagName)
                        isFinite(o.height) &&
                          (o.centerY =
                            id.setText("X").setFont(i).top *
                            this._capHeightScale);
                      else if ("u" === t.tagName) {
                        const e = -o.top * this._underlineHeightScale;
                        isFinite(o.top) &&
                          o.addChild(
                            new Zn(o.localLeft, e, o.localRight, e, {
                              stroke: s,
                              lineWidth: this._underlineLineWidth,
                            })
                          );
                      } else if ("s" === t.tagName) {
                        const e = o.top * this._strikethroughHeightScale;
                        isFinite(o.top) &&
                          o.addChild(
                            new Zn(o.localLeft, e, o.localRight, e, {
                              stroke: s,
                              lineWidth: this._strikethroughLineWidth,
                            })
                          );
                      }
                    }
                    if (o) {
                      e.addElement(o) ||
                        ((this._linkItems = this._linkItems.filter(
                          (e) => e.node !== o
                        )),
                        o.clean());
                    }
                    return a;
                  }
                  setText(e) {
                    return (e = "" + e), this._stringProperty.set(e), this;
                  }
                  setString(e) {
                    return (e = "" + e), this._stringProperty.set(e), this;
                  }
                  set text(e) {}
                  get text() {
                    return this.getText();
                  }
                  set string(e) {
                    this.setString(e);
                  }
                  get string() {
                    return this.getString();
                  }
                  getText() {
                    return this._stringProperty.value;
                  }
                  getString() {
                    return this._stringProperty.value;
                  }
                  setBoundsMethod(e) {
                    return (
                      e !== this._boundsMethod &&
                        ((this._boundsMethod = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set boundsMethod(e) {
                    this.setBoundsMethod(e);
                  }
                  get boundsMethod() {
                    return this.getBoundsMethod();
                  }
                  getBoundsMethod() {
                    return this._boundsMethod;
                  }
                  setFont(e) {
                    return (
                      this._font !== e &&
                        ((this._font = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set font(e) {
                    this.setFont(e);
                  }
                  get font() {
                    return this.getFont();
                  }
                  getFont() {
                    return this._font;
                  }
                  setFill(e) {
                    return (
                      this._fill !== e &&
                        ((this._fill = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set fill(e) {
                    this.setFill(e);
                  }
                  get fill() {
                    return this.getFill();
                  }
                  getFill() {
                    return this._fill;
                  }
                  setStroke(e) {
                    return (
                      this._stroke !== e &&
                        ((this._stroke = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set stroke(e) {
                    this.setStroke(e);
                  }
                  get stroke() {
                    return this.getStroke();
                  }
                  getStroke() {
                    return this._stroke;
                  }
                  setLineWidth(e) {
                    return (
                      this._lineWidth !== e &&
                        ((this._lineWidth = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set lineWidth(e) {
                    this.setLineWidth(e);
                  }
                  get lineWidth() {
                    return this.getLineWidth();
                  }
                  getLineWidth() {
                    return this._lineWidth;
                  }
                  setSubScale(e) {
                    return (
                      this._subScale !== e &&
                        ((this._subScale = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set subScale(e) {
                    this.setSubScale(e);
                  }
                  get subScale() {
                    return this.getSubScale();
                  }
                  getSubScale() {
                    return this._subScale;
                  }
                  setSubXSpacing(e) {
                    return (
                      this._subXSpacing !== e &&
                        ((this._subXSpacing = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set subXSpacing(e) {
                    this.setSubXSpacing(e);
                  }
                  get subXSpacing() {
                    return this.getSubXSpacing();
                  }
                  getSubXSpacing() {
                    return this._subXSpacing;
                  }
                  setSubYOffset(e) {
                    return (
                      this._subYOffset !== e &&
                        ((this._subYOffset = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set subYOffset(e) {
                    this.setSubYOffset(e);
                  }
                  get subYOffset() {
                    return this.getSubYOffset();
                  }
                  getSubYOffset() {
                    return this._subYOffset;
                  }
                  setSupScale(e) {
                    return (
                      this._supScale !== e &&
                        ((this._supScale = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set supScale(e) {
                    this.setSupScale(e);
                  }
                  get supScale() {
                    return this.getSupScale();
                  }
                  getSupScale() {
                    return this._supScale;
                  }
                  setSupXSpacing(e) {
                    return (
                      this._supXSpacing !== e &&
                        ((this._supXSpacing = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set supXSpacing(e) {
                    this.setSupXSpacing(e);
                  }
                  get supXSpacing() {
                    return this.getSupXSpacing();
                  }
                  getSupXSpacing() {
                    return this._supXSpacing;
                  }
                  setSupYOffset(e) {
                    return (
                      this._supYOffset !== e &&
                        ((this._supYOffset = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set supYOffset(e) {
                    this.setSupYOffset(e);
                  }
                  get supYOffset() {
                    return this.getSupYOffset();
                  }
                  getSupYOffset() {
                    return this._supYOffset;
                  }
                  setCapHeightScale(e) {
                    return (
                      this._capHeightScale !== e &&
                        ((this._capHeightScale = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set capHeightScale(e) {
                    this.setCapHeightScale(e);
                  }
                  get capHeightScale() {
                    return this.getCapHeightScale();
                  }
                  getCapHeightScale() {
                    return this._capHeightScale;
                  }
                  setUnderlineLineWidth(e) {
                    return (
                      this._underlineLineWidth !== e &&
                        ((this._underlineLineWidth = e),
                        this.rebuildRichText()),
                      this
                    );
                  }
                  set underlineLineWidth(e) {
                    this.setUnderlineLineWidth(e);
                  }
                  get underlineLineWidth() {
                    return this.getUnderlineLineWidth();
                  }
                  getUnderlineLineWidth() {
                    return this._underlineLineWidth;
                  }
                  setUnderlineHeightScale(e) {
                    return (
                      this._underlineHeightScale !== e &&
                        ((this._underlineHeightScale = e),
                        this.rebuildRichText()),
                      this
                    );
                  }
                  set underlineHeightScale(e) {
                    this.setUnderlineHeightScale(e);
                  }
                  get underlineHeightScale() {
                    return this.getUnderlineHeightScale();
                  }
                  getUnderlineHeightScale() {
                    return this._underlineHeightScale;
                  }
                  setStrikethroughLineWidth(e) {
                    return (
                      this._strikethroughLineWidth !== e &&
                        ((this._strikethroughLineWidth = e),
                        this.rebuildRichText()),
                      this
                    );
                  }
                  set strikethroughLineWidth(e) {
                    this.setStrikethroughLineWidth(e);
                  }
                  get strikethroughLineWidth() {
                    return this.getStrikethroughLineWidth();
                  }
                  getStrikethroughLineWidth() {
                    return this._strikethroughLineWidth;
                  }
                  setStrikethroughHeightScale(e) {
                    return (
                      this._strikethroughHeightScale !== e &&
                        ((this._strikethroughHeightScale = e),
                        this.rebuildRichText()),
                      this
                    );
                  }
                  set strikethroughHeightScale(e) {
                    this.setStrikethroughHeightScale(e);
                  }
                  get strikethroughHeightScale() {
                    return this.getStrikethroughHeightScale();
                  }
                  getStrikethroughHeightScale() {
                    return this._strikethroughHeightScale;
                  }
                  setLinkFill(e) {
                    return (
                      this._linkFill !== e &&
                        ((this._linkFill = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set linkFill(e) {
                    this.setLinkFill(e);
                  }
                  get linkFill() {
                    return this.getLinkFill();
                  }
                  getLinkFill() {
                    return this._linkFill;
                  }
                  setLinkEventsHandled(e) {
                    return (
                      this._linkEventsHandled !== e &&
                        ((this._linkEventsHandled = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set linkEventsHandled(e) {
                    this.setLinkEventsHandled(e);
                  }
                  get linkEventsHandled() {
                    return this.getLinkEventsHandled();
                  }
                  getLinkEventsHandled() {
                    return this._linkEventsHandled;
                  }
                  setLinks(e) {
                    return (
                      this._links !== e &&
                        ((this._links = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set links(e) {
                    this.setLinks(e);
                  }
                  get links() {
                    return this.getLinks();
                  }
                  getLinks() {
                    return this._links;
                  }
                  setAlign(e) {
                    return (
                      this._align !== e &&
                        ((this._align = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set align(e) {
                    this.setAlign(e);
                  }
                  get align() {
                    return this.getAlign();
                  }
                  getAlign() {
                    return this._align;
                  }
                  setLeading(e) {
                    return (
                      this._leading !== e &&
                        ((this._leading = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set leading(e) {
                    this.setLeading(e);
                  }
                  get leading() {
                    return this.getLeading();
                  }
                  getLeading() {
                    return this._leading;
                  }
                  setLineWrap(e) {
                    return (
                      this._lineWrap !== e &&
                        ((this._lineWrap = e), this.rebuildRichText()),
                      this
                    );
                  }
                  set lineWrap(e) {
                    this.setLineWrap(e);
                  }
                  get lineWrap() {
                    return this.getLineWrap();
                  }
                  getLineWrap() {
                    return this._lineWrap;
                  }
                  mutate(e) {
                    return super.mutate(e);
                  }
                  static stringWithFont(e, t) {
                    return `<span style='font-style: ${t.style};font-variant: ${t.variant};font-weight: ${t.weight};font-stretch: ${t.stretch};font-size: ${t.size};font-family: ${t.family};line-height: ${t.lineHeight};'>${e}</span>`;
                  }
                  static himalayaElementToString(e, t) {
                    if (jl(e)) return rd.contentToString(e.content, t);
                    if (Ul(e)) {
                      const i = td("dir", e);
                      return (
                        "span" === e.tagName && i && (t = "ltr" === i),
                        e.children
                          .map((e) => rd.himalayaElementToString(e, t))
                          .join("")
                      );
                    }
                    return "";
                  }
                  static himalayaElementToAccessibleString(e, t) {
                    if (jl(e)) return rd.contentToString(e.content, t);
                    if (Ul(e)) {
                      const i = td("dir", e);
                      "span" === e.tagName && i && (t = "ltr" === i);
                      const s = e.children
                        .map((e) => rd.himalayaElementToAccessibleString(e, t))
                        .join("");
                      return _.includes(Jl, e.tagName)
                        ? `<${e.tagName}>${s}</${e.tagName}>`
                        : s;
                    }
                    return "";
                  }
                  static contentToString(e, t) {
                    const i = he.decode(e);
                    return t ? `‪${i}‬` : `‫${i}‬`;
                  }
                }
                _defineProperty(
                  rd,
                  "STRING_PROPERTY_TANDEM_NAME",
                  Ln.STRING_PROPERTY_TANDEM_NAME
                ),
                  (rd.prototype._mutatorKeys = Ql.concat(
                    Ds.prototype._mutatorKeys
                  )),
                  G.register("RichText", rd);
                const od = Zs(
                  (e) =>
                    class extends e {
                      get isCleanable() {
                        return !0;
                      }
                      clean() {
                        const e = this;
                        for (let t = e._children.length - 1; t >= 0; t--) {
                          const i = e._children[t];
                          i.isCleanable && (e.removeChild(i), i.clean());
                        }
                        (e.matrix = Le.Z.IDENTITY), e.freeToPool();
                      }
                    }
                );
                class ad extends od(Ds) {
                  constructor(e) {
                    super(), this.initialize(e);
                  }
                  initialize(e) {
                    return (
                      (this.isLTR = e),
                      (this.leftSpacing = 0),
                      (this.rightSpacing = 0),
                      this
                    );
                  }
                  addElement(e) {
                    const t = this.children.length > 0,
                      i = e.width > 0,
                      s = e.getScaleVector().x,
                      n = e.leftSpacing * s,
                      r = e.rightSpacing * s;
                    return (
                      !(!t && !i) &&
                      (t
                        ? i
                          ? (this.isLTR
                              ? ((e.left =
                                  this.localRight + this.rightSpacing + n),
                                (this.rightSpacing = r))
                              : ((e.right =
                                  this.localLeft - this.leftSpacing - r),
                                (this.leftSpacing = n)),
                            this.addChild(e),
                            !0)
                          : (this.isLTR
                              ? (this.rightSpacing += n + r)
                              : (this.leftSpacing += n + r),
                            !1)
                        : (this.isLTR
                            ? ((e.left = 0),
                              (this.leftSpacing = n),
                              (this.rightSpacing = r))
                            : ((e.right = 0),
                              (this.leftSpacing = n),
                              (this.rightSpacing = r)),
                          this.addChild(e),
                          !0))
                    );
                  }
                  addExtraBeforeSpacing(e) {
                    this.isLTR
                      ? (this.leftSpacing += e)
                      : (this.rightSpacing += e);
                  }
                  freeToPool() {
                    ad.pool.freeToPool(this);
                  }
                }
                (D = ad), _defineProperty(ad, "pool", new zt.Z(D));
                class hd extends od(Ln) {
                  constructor(e, t, i, s, n, r, o) {
                    super(""), this.initialize(e, t, i, s, n, r, o);
                  }
                  initialize(e, t, i, s, n, r, o) {
                    let a = "";
                    for (; e.startsWith(" "); ) (a += " "), (e = e.slice(1));
                    let h = "";
                    for (; e.endsWith(" "); )
                      (h = " "), (e = e.slice(0, e.length - 1));
                    (this.text = rd.contentToString(e, t)),
                      (this.boundsMethod = s),
                      (this.font = i),
                      (this.fill = n),
                      (this.stroke = r),
                      (this.lineWidth = o);
                    const l = a.length ? id.setText(a).setFont(i).width : 0,
                      d = h.length ? id.setText(h).setFont(i).width : 0;
                    return (
                      (this.leftSpacing = t ? l : d),
                      (this.rightSpacing = t ? d : l),
                      this
                    );
                  }
                  clean() {
                    super.clean(), (this.fill = null), (this.stroke = null);
                  }
                  fitsIn(e, t, i) {
                    return (
                      this.width +
                        (t ? (i ? this.leftSpacing : this.rightSpacing) : 0) <=
                      e
                    );
                  }
                  freeToPool() {
                    hd.pool.freeToPool(this);
                  }
                }
                (k = hd), _defineProperty(hd, "pool", new zt.Z(k));
                class ld extends ao(od(Ds)) {
                  constructor(e, t) {
                    super(),
                      _defineProperty(this, "fireListener", null),
                      _defineProperty(this, "accessibleInputListener", null),
                      _defineProperty(this, "allowLinksListener", null),
                      this.initialize(e, t, !1),
                      this.mutate({ cursor: "pointer", tagName: "a" });
                  }
                  initialize(e, t) {
                    return (
                      (!(arguments.length > 2 && void 0 !== arguments[2]) ||
                        arguments[2]) &&
                        super.initialize(),
                      (this.innerContent = e),
                      (this.voicingNameResponse = e),
                      "function" == typeof t
                        ? ((this.fireListener = new Qa({
                            fire: t,
                            tandem: fe.Z.OPT_OUT,
                          })),
                          this.addInputListener(this.fireListener),
                          this.setPDOMAttribute("href", "#"),
                          this.setPDOMAttribute("target", "_self"),
                          (this.accessibleInputListener = {
                            click: (e) => {
                              e.domEvent && e.domEvent.preventDefault(), t();
                            },
                          }),
                          this.addInputListener(this.accessibleInputListener))
                        : ((this.fireListener = new Qa({
                            fire: (e) => {
                              e.isFromPDOM() && e.domEvent.preventDefault(),
                                self._linkEventsHandled && e.handle(),
                                qt(t);
                            },
                            tandem: fe.Z.OPT_OUT,
                          })),
                          this.addInputListener(this.fireListener),
                          this.setPDOMAttribute("href", t),
                          this.setPDOMAttribute("target", "_blank"),
                          (this.allowLinksListener = (e) => {
                            this.visible = e;
                          }),
                          Nt.link(this.allowLinksListener)),
                      this
                    );
                  }
                  clean() {
                    super.clean(),
                      this.fireListener &&
                        this.removeInputListener(this.fireListener),
                      (this.fireListener = null),
                      this.accessibleInputListener &&
                        (this.removeInputListener(this.accessibleInputListener),
                        (this.accessibleInputListener = null)),
                      this.allowLinksListener &&
                        (Nt.unlink(this.allowLinksListener),
                        (this.allowLinksListener = null));
                  }
                  freeToPool() {
                    ld.pool.freeToPool(this);
                  }
                }
                (O = ld), _defineProperty(ld, "pool", new zt.Z(O));
                class dd extends od(Ds) {
                  constructor(e) {
                    super(), this.initialize(e);
                  }
                  initialize(e) {
                    return (this.localBounds = new Oe.Z(0, 0, 0, e)), this;
                  }
                  freeToPool() {
                    dd.pool.freeToPool(this);
                  }
                }
                (L = dd),
                  _defineProperty(dd, "pool", new zt.Z(L)),
                  (rd.RichTextIO = new j.Z("RichTextIO", {
                    valueType: rd,
                    supertype: Ds.NodeIO,
                    documentation:
                      "The tandem IO Type for the scenery RichText node",
                  }));
                class cd extends Oo(Ln) {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        readingBlockNameResponse: e,
                        tagName: "p",
                        innerContent: e,
                      },
                      t
                    );
                    super(e),
                      (this.focusHighlight = new To(this)),
                      this.mutate(i);
                  }
                }
                G.register("VoicingText", cd);
                const ud = cd;
                class pd extends Oo(rd) {
                  constructor(e, t) {
                    const i = (0, Ae.ZP)()(
                      {
                        readingBlockNameResponse: e,
                        innerContent: e,
                        readingBlockTagName: "button",
                      },
                      t
                    );
                    super(e),
                      (this.focusHighlight = new To(this)),
                      this.mutate(i);
                  }
                }
                G.register("VoicingRichText", pd);
                const gd = pd,
                  md = (e) => {
                    if (e instanceof Me.Z)
                      return { type: "Vector2", x: e.x, y: e.y };
                    if (e instanceof Le.Z)
                      return {
                        type: "Matrix3",
                        m00: e.m00(),
                        m01: e.m01(),
                        m02: e.m02(),
                        m10: e.m10(),
                        m11: e.m11(),
                        m12: e.m12(),
                        m20: e.m20(),
                        m21: e.m21(),
                        m22: e.m22(),
                      };
                    if (e instanceof Oe.Z) {
                      const t = e;
                      return {
                        type: "Bounds2",
                        maxX: t.maxX,
                        maxY: t.maxY,
                        minX: t.minX,
                        minY: t.minY,
                      };
                    }
                    if (e instanceof Yt.bn)
                      return { type: "Shape", path: e.getSVGPath() };
                    if (Array.isArray(e))
                      return { type: "Array", value: e.map(md) };
                    if (e instanceof se)
                      return {
                        type: "Color",
                        red: e.red,
                        green: e.green,
                        blue: e.blue,
                        alpha: e.alpha,
                      };
                    if (e instanceof X.Z)
                      return { type: "Property", value: md(e.value) };
                    if (Bi && e instanceof Bi) {
                      const t = {};
                      return (
                        e.transformMatrix &&
                          (t.transformMatrix = md(e.transformMatrix)),
                        Ni &&
                          (e instanceof qi || e instanceof Ri) &&
                          ((t.stops = e.stops.map((e) => ({
                            ratio: e.ratio,
                            stop: md(e.color),
                          }))),
                          (t.start = md(e.start)),
                          (t.end = md(e.end)),
                          Ri && e instanceof Ri
                            ? (t.type = "LinearGradient")
                            : qi &&
                              e instanceof qi &&
                              ((t.type = "RadialGradient"),
                              (t.startRadius = e.startRadius),
                              (t.endRadius = e.endRadius))),
                        Fi &&
                          e instanceof Fi &&
                          ((t.type = "Pattern"), (t.url = e.image.src)),
                        t
                      );
                    }
                    if (e instanceof Ds) {
                      const t = e,
                        i = {},
                        s = {};
                      [
                        "visible",
                        "opacity",
                        "disabledOpacity",
                        "pickable",
                        "inputEnabled",
                        "cursor",
                        "transformBounds",
                        "renderer",
                        "usesOpacity",
                        "layerSplit",
                        "cssTransform",
                        "excludeInvisible",
                        "webglScale",
                        "preventFit",
                      ].forEach((e) => {
                        t[e] !== Ds.DEFAULT_NODE_OPTIONS[e] && (i[e] = t[e]);
                      }),
                        [
                          "tagName",
                          "innerContent",
                          "accessibleName",
                          "helpText",
                        ].forEach((e) => {
                          null !== t[e] && (i[e] = t[e]);
                        }),
                        [
                          "maxWidth",
                          "maxHeight",
                          "clipArea",
                          "mouseArea",
                          "touchArea",
                        ].forEach((e) => {
                          t[e] !== Ds.DEFAULT_NODE_OPTIONS[e] &&
                            (s[e] = md(t[e]));
                        }),
                        t.matrix.isIdentity() || (s.matrix = md(t.matrix)),
                        t._localBoundsOverridden &&
                          (s.localBounds = md(t.localBounds)),
                        (s.children = t.children.map((e) => e.id)),
                        (s.hasInputListeners = t.inputListeners.length > 0);
                      const n = {
                        id: t.id,
                        type: "Node",
                        types: (0, hn.Z)(t.constructor)
                          .map((e) => e.name)
                          .filter((e) => e && "Object" !== e && "Node" !== e),
                        name: t.constructor.name,
                        options: i,
                        setup: s,
                      };
                      if (
                        (Tn &&
                          t instanceof Tn &&
                          ((n.type = "Path"),
                          (s.path = md(t.shape)),
                          t.boundsMethod !==
                            Tn.DEFAULT_PATH_OPTIONS.boundsMethod &&
                            (i.boundsMethod = t.boundsMethod)),
                        qn &&
                          t instanceof qn &&
                          ((n.type = "Circle"), (i.radius = t.radius)),
                        Zn &&
                          t instanceof Zn &&
                          ((n.type = "Line"),
                          (i.x1 = t.x1),
                          (i.y1 = t.y1),
                          (i.x2 = t.x2),
                          (i.y2 = t.y2)),
                        Yn &&
                          t instanceof Yn &&
                          ((n.type = "Rectangle"),
                          (i.rectX = t.rectX),
                          (i.rectY = t.rectY),
                          (i.rectWidth = t.rectWidth),
                          (i.rectHeight = t.rectHeight),
                          (i.cornerXRadius = t.cornerXRadius),
                          (i.cornerYRadius = t.cornerYRadius)),
                        Ln &&
                          t instanceof Ln &&
                          ((n.type = "Text"),
                          "hybrid" !== t.boundsMethod &&
                            (i.boundsMethod = t.boundsMethod),
                          (i.text = t.text),
                          (i.font = t.font)),
                        En &&
                          t instanceof En &&
                          ((n.type = "Image"),
                          [
                            "imageOpacity",
                            "initialWidth",
                            "initialHeight",
                            "mipmapBias",
                            "mipmapInitialLevel",
                            "mipmapMaxLevel",
                          ].forEach((e) => {
                            t[e] !== En.DEFAULT_IMAGE_OPTIONS[e] &&
                              (i[e] = t[e]);
                          }),
                          (s.width = t.imageWidth),
                          (s.height = t.imageHeight),
                          t._mipmapData
                            ? ((s.imageType = "mipmapData"),
                              (s.mipmapData = t._mipmapData.map((e) => ({
                                url: e.url,
                                width: e.width,
                                height: e.height,
                              }))))
                            : (t._mipmap && (s.generateMipmaps = !0),
                              t._image instanceof HTMLImageElement
                                ? ((s.imageType = "image"),
                                  (s.src = t._image.src))
                                : t._image instanceof HTMLCanvasElement &&
                                  ((s.imageType = "canvas"),
                                  (s.src = t._image.toDataURL())))),
                        (Rn && t instanceof Rn) || (Wn && t instanceof Wn))
                      ) {
                        (n.type =
                          Rn && t instanceof Rn ? "CanvasNode" : "WebGLNode"),
                          (s.canvasBounds = md(t.canvasBounds));
                        const e = 1,
                          i = document.createElement("canvas");
                        (i.width = Math.ceil(t.canvasBounds.width * e)),
                          (i.height = Math.ceil(t.canvasBounds.height * e));
                        const r = i.getContext("2d"),
                          o = new At(i, r),
                          a = Le.Z.scale(1 / e);
                        o.context.setTransform(
                          e,
                          0,
                          0,
                          e,
                          -t.canvasBounds.left,
                          -t.canvasBounds.top
                        ),
                          t.renderToCanvasSelf(o, a),
                          (s.url = i.toDataURL()),
                          (s.scale = e),
                          (s.offset = md(t.canvasBounds.leftTop));
                      }
                      return (
                        Fn &&
                          t instanceof Fn &&
                          ((n.type = "DOM"),
                          (n.element =
                            new window.XMLSerializer().serializeToString(
                              t.element
                            )),
                          t.element instanceof window.HTMLCanvasElement &&
                            (n.dataURL = t.element.toDataURL()),
                          (i.preventTransform = t.preventTransform)),
                        ((Tn && t instanceof Tn) || (Ln && t instanceof Ln)) &&
                          ([
                            "fillPickable",
                            "strokePickable",
                            "lineWidth",
                            "lineCap",
                            "lineJoin",
                            "lineDashOffset",
                            "miterLimit",
                          ].forEach((e) => {
                            t[e] !== cn[e] && (i[e] = t[e]);
                          }),
                          t.fill !== cn.fill && (s.fill = md(t.fill)),
                          t.stroke !== cn.stroke && (s.stroke = md(t.stroke)),
                          t.lineDash.length && (s.lineDash = md(t.lineDash))),
                        n
                      );
                    }
                    return e instanceof hp
                      ? {
                          type: "Display",
                          width: e.width,
                          height: e.height,
                          backgroundColor: md(e.backgroundColor),
                          tree: {
                            type: "Subtree",
                            rootNodeId: e.rootNode.id,
                            nodes: Ad(e.rootNode),
                          },
                        }
                      : { type: "value", value: e };
                  },
                  Ad = (e) => e.getSubtreeNodes().map(md);
                G.register("scenerySerialize", md);
                const yd = (e) => {
                  if ("Vector2" === e.type) return new Me.Z(e.x, e.y);
                  if ("Matrix3" === e.type)
                    return new Le.Z().rowMajor(
                      e.m00,
                      e.m01,
                      e.m02,
                      e.m10,
                      e.m11,
                      e.m12,
                      e.m20,
                      e.m21,
                      e.m22
                    );
                  if ("Bounds2" === e.type)
                    return new Oe.Z(e.minX, e.minY, e.maxX, e.maxY);
                  if ("Shape" === e.type) return new Yt.bn(e.path);
                  if ("Array" === e.type) return e.value.map(yd);
                  if ("Color" === e.type)
                    return new se(e.red, e.green, e.blue, e.alpha);
                  if ("Property" === e.type) return new yt.Z(yd(e.value));
                  if (
                    "Pattern" === e.type ||
                    "LinearGradient" === e.type ||
                    "RadialGradient" === e.type
                  ) {
                    let t;
                    if ("Pattern" === e.type) {
                      const i = new window.Image();
                      (i.src = e.url), (t = new Fi(i));
                    } else {
                      const i = yd(e.start),
                        s = yd(e.end);
                      "LinearGradient" === e.type
                        ? (t = new Ri(i.x, i.y, s.x, s.y))
                        : "RadialGradient" === e.type &&
                          (t = new qi(
                            i.x,
                            i.y,
                            e.startRadius,
                            s.x,
                            s.y,
                            e.endRadius
                          )),
                        e.stops.forEach((e) => {
                          t.addColorStop(e.ratio, yd(e.stop));
                        });
                    }
                    return (
                      e.transformMatrix &&
                        t.setTransformMatrix(yd(e.transformMatrix)),
                      t
                    );
                  }
                  if (
                    _.includes(
                      [
                        "Node",
                        "Path",
                        "Circle",
                        "Line",
                        "Rectangle",
                        "Text",
                        "Image",
                        "CanvasNode",
                        "WebGLNode",
                        "DOM",
                      ],
                      e.type
                    )
                  ) {
                    let t;
                    const i = e.setup;
                    if ("Node" === e.type) t = new Ds();
                    else if ("Path" === e.type) t = new Tn(yd(i.path));
                    else if ("Circle" === e.type) t = new qn({});
                    else if ("Line" === e.type) t = new Zn({});
                    else if ("Rectangle" === e.type) t = new Yn({});
                    else if ("Text" === e.type) t = new Ln("");
                    else if ("Image" === e.type) {
                      if ("image" === i.imageType || "canvas" === i.imageType)
                        (t = new En(i.src)),
                          i.generateMipmaps && (t.mipmap = !0);
                      else if ("mipmapData" === i.imageType) {
                        const e = i.mipmapData.map((e) => {
                          const t = {
                            width: e.width,
                            height: e.height,
                            url: e.url,
                          };
                          (t.img = new window.Image()),
                            (t.img.src = e.url),
                            (t.canvas = document.createElement("canvas")),
                            (t.canvas.width = e.width),
                            (t.canvas.height = e.height);
                          const i = t.canvas.getContext("2d");
                          return (
                            (t.updateCanvas = function () {
                              t.img.complete &&
                                (void 0 === t.img.naturalWidth ||
                                  t.img.naturalWidth > 0) &&
                                (i.drawImage(t.img, 0, 0),
                                delete t.updateCanvas);
                            }),
                            t
                          );
                        });
                        t = new En(e);
                      }
                      (t.initialWidth = i.width), (t.initialHeight = i.height);
                    } else if (
                      "CanvasNode" === e.type ||
                      "WebGLNode" === e.type
                    )
                      t = new Ds({
                        children: [
                          new En(i.url, {
                            translation: yd(i.offset),
                            scale: 1 / i.scale,
                          }),
                        ],
                      });
                    else if ("DOM" === e.type) {
                      const i = document.createElement("div");
                      i.innerHTML = e.element;
                      const s = i.childNodes[0];
                      if ((i.removeChild(s), e.dataURL)) {
                        const t = new window.Image();
                        (t.onload = () => {
                          s.getContext("2d").drawImage(t, 0, 0);
                        }),
                          (t.src = e.dataURL);
                      }
                      t = new Fn(s);
                    }
                    return (
                      i.clipArea && (t.clipArea = yd(i.clipArea)),
                      i.mouseArea && (t.mouseArea = yd(i.mouseArea)),
                      i.touchArea && (t.touchArea = yd(i.touchArea)),
                      i.matrix && (t.matrix = yd(i.matrix)),
                      i.localBounds && (t.localBounds = yd(i.localBounds)),
                      i.fill && (t.fill = yd(i.fill)),
                      i.stroke && (t.stroke = yd(i.stroke)),
                      i.lineDash && (t.lineDash = yd(i.lineDash)),
                      t.mutate(e.options),
                      (t._serialization = e),
                      t
                    );
                  }
                  if ("Subtree" === e.type) {
                    const t = {},
                      i = e.nodes.map(yd);
                    return (
                      i.forEach((e) => {
                        t[e._serialization.id] = e;
                      }),
                      i.forEach((e) => {
                        e._serialization.setup.children.forEach((i) => {
                          e.addChild(t[i]);
                        });
                      }),
                      t[e.rootNodeId]
                    );
                  }
                  return "value" === e.type ? e.value : null;
                };
                G.register("sceneryDeserialize", yd);
                const fd = yd,
                  Pd = (e) => fd(md(e));
                G.register("sceneryCopy", Pd);
                let bd = 1;
                class vd {
                  initialize(e) {
                    return (
                      (this.id = this.id || bd++),
                      this.clean(),
                      (this.renderer = e),
                      (this.dirty = !0),
                      (this.isDisposed = !1),
                      (this.linksDirty = !1),
                      (this.visibleProperty = new os.Z(!0)),
                      (this.fittableProperty = new os.Z(!0)),
                      this
                    );
                  }
                  clean() {
                    (this.parentDrawable = null),
                      (this.backbone = null),
                      (this.pendingParentDrawable = null),
                      (this.pendingBackbone = null),
                      (this.pendingAddition = !1),
                      (this.pendingRemoval = !1),
                      (this.previousDrawable = null),
                      (this.nextDrawable = null),
                      (this.oldPreviousDrawable = null),
                      (this.oldNextDrawable = null),
                      this.visibleProperty &&
                        this.visibleProperty.removeAllListeners(),
                      this.fittableProperty &&
                        this.fittableProperty.removeAllListeners();
                  }
                  update() {
                    let e = !1;
                    return (
                      this.dirty &&
                        !this.isDisposed &&
                        ((this.dirty = !1), (e = !0)),
                      e
                    );
                  }
                  setVisible(e) {
                    this.visibleProperty.value = e;
                  }
                  set visible(e) {
                    this.setVisible(e);
                  }
                  isVisible() {
                    return this.visibleProperty.value;
                  }
                  get visible() {
                    return this.isVisible();
                  }
                  setFittable(e) {
                    this.fittableProperty.value = e;
                  }
                  set fittable(e) {
                    this.setFittable(e);
                  }
                  isFittable() {
                    return this.fittableProperty.value;
                  }
                  get fittable() {
                    return this.isFittable();
                  }
                  setBlockBackbone(e) {
                    (this.parentDrawable = e),
                      (this.backbone = e),
                      (this.pendingParentDrawable = e),
                      (this.pendingBackbone = e),
                      (this.pendingAddition = !1),
                      (this.pendingRemoval = !1);
                  }
                  notePendingAddition(e, t, i) {
                    (this.pendingParentDrawable = t),
                      (this.pendingBackbone = i),
                      (this.pendingAddition = !0),
                      this.pendingRemoval || e.markDrawableChangedBlock(this);
                  }
                  notePendingRemoval(e) {
                    (this.pendingRemoval = !0),
                      this.pendingAddition || e.markDrawableChangedBlock(this);
                  }
                  notePendingMove(e, t) {
                    (this.pendingParentDrawable = t),
                      (this.pendingRemoval && this.pendingAddition) ||
                        e.markDrawableChangedBlock(this),
                      (this.pendingAddition = !0),
                      (this.pendingRemoval = !0);
                  }
                  updateBlock() {
                    let e = !1;
                    return (
                      (this.pendingRemoval || this.pendingAddition) &&
                        ((e =
                          !this.pendingRemoval ||
                          !this.pendingAddition ||
                          this.parentDrawable !== this.pendingParentDrawable ||
                          this.backbone !== this.pendingBackbone),
                        e
                          ? (this.pendingRemoval &&
                              (this.parentDrawable.removeDrawable(this),
                              this.pendingAddition ||
                                ((this.pendingParentDrawable = null),
                                (this.pendingBackbone = null))),
                            (this.parentDrawable = this.pendingParentDrawable),
                            (this.backbone = this.pendingBackbone),
                            this.pendingAddition &&
                              this.parentDrawable.addDrawable(this))
                          : this.pendingAddition &&
                            xe.isCanvas(this.renderer) &&
                            this.parentDrawable.onPotentiallyMovedDrawable(
                              this
                            ),
                        (this.pendingAddition = !1),
                        (this.pendingRemoval = !1)),
                      e
                    );
                  }
                  updateLinks() {
                    (this.oldNextDrawable = this.nextDrawable),
                      (this.oldPreviousDrawable = this.previousDrawable),
                      (this.linksDirty = !1);
                  }
                  markDirty() {
                    this.dirty ||
                      ((this.dirty = !0),
                      this.parentDrawable &&
                        this.parentDrawable.markDirtyDrawable(this));
                  }
                  markLinksDirty(e) {
                    this.linksDirty ||
                      ((this.linksDirty = !0),
                      e.markDrawableForLinksUpdate(this));
                  }
                  markForDisposal(e) {
                    vd.disconnectBefore(this, e),
                      vd.disconnectAfter(this, e),
                      e.markDrawableForDisposal(this);
                  }
                  disposeImmediately(e) {
                    vd.disconnectBefore(this, e),
                      vd.disconnectAfter(this, e),
                      this.dispose();
                  }
                  dispose() {
                    this.clean(), (this.isDisposed = !0), this.freeToPool();
                  }
                  audit(e, t, i) {
                    0;
                  }
                  toString() {
                    return `${this.constructor.name}#${this.id}`;
                  }
                  toDetailedString() {
                    return this.toString();
                  }
                  static connectDrawables(e, t, i) {
                    e.nextDrawable !== t &&
                      (e.nextDrawable &&
                        (e.nextDrawable.markLinksDirty(i),
                        (e.nextDrawable.previousDrawable = null)),
                      t.previousDrawable &&
                        (t.previousDrawable.markLinksDirty(i),
                        (t.previousDrawable.nextDrawable = null)),
                      (e.nextDrawable = t),
                      (t.previousDrawable = e),
                      e.markLinksDirty(i),
                      t.markLinksDirty(i));
                  }
                  static disconnectBefore(e, t) {
                    e.previousDrawable &&
                      (e.markLinksDirty(t),
                      e.previousDrawable.markLinksDirty(t),
                      (e.previousDrawable.nextDrawable = null),
                      (e.previousDrawable = null));
                  }
                  static disconnectAfter(e, t) {
                    e.nextDrawable &&
                      (e.markLinksDirty(t),
                      e.nextDrawable.markLinksDirty(t),
                      (e.nextDrawable.previousDrawable = null),
                      (e.nextDrawable = null));
                  }
                  static listToArray(e, t) {
                    const i = [];
                    for (let s = e; i.push(s), s !== t; s = s.nextDrawable);
                    return i;
                  }
                  static oldListToArray(e, t) {
                    const i = [];
                    for (let s = e; i.push(s), s !== t; s = s.oldNextDrawable);
                    return i;
                  }
                }
                G.register("Drawable", vd);
                const Vd = vd;
                class wd extends Vd {
                  constructor(e, t) {
                    super(), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    return (
                      super.initialize(e),
                      (this.drawableVisibilityListener =
                        this.drawableVisibilityListener ||
                        this.updateSelfVisibility.bind(this)),
                      (this.instance = t),
                      (this.node = t.trail.lastNode()),
                      this.node.attachDrawable(this),
                      this.instance.selfVisibleEmitter.addListener(
                        this.drawableVisibilityListener
                      ),
                      this.updateSelfVisibility(),
                      this
                    );
                  }
                  dispose() {
                    this.instance.selfVisibleEmitter.removeListener(
                      this.drawableVisibilityListener
                    ),
                      this.node.detachDrawable(this),
                      (this.instance = null),
                      (this.node = null),
                      super.dispose();
                  }
                  updateSelfVisibility() {
                    this.visible = this.instance.selfVisible;
                  }
                  toDetailedString() {
                    return `${this.toString()} (${this.instance.trail.toPathString()})`;
                  }
                }
                G.register("SelfDrawable", wd);
                const Ed = wd,
                  Sd = Zs(
                    (e) =>
                      class extends e {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.fillCallback =
                              this.fillCallback ||
                              this.markDirtyFill.bind(this)),
                            (this.strokeCallback =
                              this.strokeCallback ||
                              this.markDirtyStroke.bind(this)),
                            (this.fillObserver =
                              this.fillObserver || new sr(this.fillCallback)),
                            (this.strokeObserver =
                              this.strokeObserver ||
                              new sr(this.strokeCallback)),
                            this.fillObserver.setPrimary(t.node._fill),
                            this.strokeObserver.setPrimary(t.node._stroke);
                        }
                        dispose() {
                          this.fillObserver.clean(),
                            this.strokeObserver.clean(),
                            super.dispose();
                        }
                        markDirtyFill() {
                          this.markPaintDirty(),
                            this.fillObserver.setPrimary(
                              this.instance.node._fill
                            );
                        }
                        markDirtyStroke() {
                          this.markPaintDirty(),
                            this.strokeObserver.setPrimary(
                              this.instance.node._stroke
                            );
                        }
                        markDirtyLineWidth() {
                          this.markPaintDirty();
                        }
                        markDirtyLineOptions() {
                          this.markPaintDirty();
                        }
                        markDirtyCachedPaints() {
                          this.markPaintDirty();
                        }
                      }
                  );
                G.register("PaintableStatelessDrawable", Sd);
                const Td = Sd,
                  xd = Zs(
                    (e) =>
                      class extends e {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.dirtyFill = !0),
                            (this.hadStroke = !1),
                            (this.dirtyStroke = !0),
                            (this.dirtyLineWidth = !0),
                            (this.dirtyLineOptions = !0),
                            (this.dirtyCachedPaints = !0),
                            (this.lastCachedPaints = []),
                            (this.fillCallback =
                              this.fillCallback ||
                              this.markDirtyFill.bind(this)),
                            (this.strokeCallback =
                              this.strokeCallback ||
                              this.markDirtyStroke.bind(this)),
                            (this.fillObserver =
                              this.fillObserver || new sr(this.fillCallback)),
                            (this.strokeObserver =
                              this.strokeObserver ||
                              new sr(this.strokeCallback)),
                            this.fillObserver.setPrimary(t.node._fill),
                            this.strokeObserver.setPrimary(t.node._stroke);
                        }
                        cleanPaintableState() {
                          (this.dirtyFill = !1),
                            (this.dirtyStroke = !1),
                            (this.dirtyLineWidth = !1),
                            (this.dirtyLineOptions = !1),
                            (this.dirtyCachedPaints = !1),
                            (this.hadStroke = null !== this.node.getStroke());
                        }
                        dispose() {
                          super.dispose(),
                            this.fillObserver.clean(),
                            this.strokeObserver.clean();
                        }
                        markDirtyFill() {
                          (this.dirtyFill = !0),
                            this.markPaintDirty(),
                            this.fillObserver.setPrimary(
                              this.instance.node._fill
                            );
                        }
                        markDirtyStroke() {
                          (this.dirtyStroke = !0),
                            this.markPaintDirty(),
                            this.strokeObserver.setPrimary(
                              this.instance.node._stroke
                            );
                        }
                        markDirtyLineWidth() {
                          (this.dirtyLineWidth = !0), this.markPaintDirty();
                        }
                        markDirtyLineOptions() {
                          (this.dirtyLineOptions = !0), this.markPaintDirty();
                        }
                        markDirtyCachedPaints() {
                          (this.dirtyCachedPaints = !0), this.markPaintDirty();
                        }
                      }
                  );
                G.register("PaintableStatefulDrawable", xd);
                const Cd = xd;
                class Id extends Ed {
                  initialize(e, t) {
                    super.initialize(e, t),
                      (this.transformListener =
                        this.transformListener ||
                        this.markTransformDirty.bind(this)),
                      t.relativeTransform.addListener(this.transformListener),
                      t.relativeTransform.addPrecompute();
                  }
                  markTransformDirty() {
                    this.markDirty();
                  }
                  markPaintDirty() {
                    this.markDirty();
                  }
                  updateSelfVisibility() {
                    super.updateSelfVisibility(), this.markDirty();
                  }
                  dispose() {
                    this.instance.relativeTransform.removeListener(
                      this.transformListener
                    ),
                      this.instance.relativeTransform.removePrecompute(),
                      super.dispose();
                  }
                }
                G.register("CanvasSelfDrawable", Id);
                const Dd = Id;
                class kd extends Ed {
                  initialize(e, t) {
                    return (
                      super.initialize(e, t),
                      (this.transformListener =
                        this.transformListener ||
                        this.markTransformDirty.bind(this)),
                      this.markTransformDirty(),
                      (this.visibilityDirty = !0),
                      t.relativeTransform.addListener(this.transformListener),
                      t.relativeTransform.addPrecompute(),
                      this
                    );
                  }
                  markTransformDirty() {
                    (this.transformDirty = !0), this.markDirty();
                  }
                  getTransformMatrix() {
                    return (
                      this.instance.relativeTransform.validate(),
                      this.instance.relativeTransform.matrix
                    );
                  }
                  update() {
                    return (
                      !!super.update() &&
                      (this.updateDOM(),
                      this.visibilityDirty &&
                        ((this.visibilityDirty = !1),
                        (this.domElement.style.visibility = this.visible
                          ? ""
                          : "hidden")),
                      this.cleanPaintableState && this.cleanPaintableState(),
                      !0)
                    );
                  }
                  updateDOM() {}
                  updateSelfVisibility() {
                    super.updateSelfVisibility(),
                      this.visibilityDirty ||
                        ((this.visibilityDirty = !0), this.markDirty());
                  }
                  dispose() {
                    this.instance.relativeTransform.removeListener(
                      this.transformListener
                    ),
                      this.instance.relativeTransform.removePrecompute(),
                      super.dispose();
                  }
                }
                G.register("DOMSelfDrawable", kd);
                const Od = kd;
                class Ld extends Ed {
                  initialize(e, t, i, s) {
                    return (
                      super.initialize(e, t),
                      (this.usesPaint = i),
                      (this.keepElements = s),
                      (this.svgElement = null),
                      (this.svgBlock = null),
                      this.usesPaint &&
                        (this.paintState
                          ? this.paintState.initialize()
                          : (this.paintState = new ar())),
                      this
                    );
                  }
                  update() {
                    return !!super.update() && (this.updateSVG(), !0);
                  }
                  updateSVG() {
                    if (
                      (this.paintDirty &&
                        this.updateSVGSelf(this.node, this.svgElement),
                      this.usesPaint && this.dirtyCachedPaints)
                    ) {
                      const e = this.node._cachedPaints.slice();
                      let t, i;
                      for (t = 0; t < e.length; t++) {
                        const s = e[t];
                        let n = !0;
                        for (i = 0; i < this.lastCachedPaints.length; i++)
                          if (s === this.lastCachedPaints[i]) {
                            n = !1;
                            break;
                          }
                        n && this.svgBlock.incrementPaint(s);
                      }
                      for (t = 0; t < this.lastCachedPaints.length; t++) {
                        const s = this.lastCachedPaints[t];
                        let n = !0;
                        for (i = 0; i < e.length; i++)
                          if (s === e[i]) {
                            n = !1;
                            break;
                          }
                        n && this.svgBlock.decrementPaint(s);
                      }
                      this.lastCachedPaints = e;
                    }
                    this.setToCleanState();
                  }
                  updateFillStrokeStyle(e) {
                    if (!this.usesPaint) return;
                    this.dirtyFill &&
                      this.paintState.updateFill(
                        this.svgBlock,
                        this.node.getFillValue()
                      ),
                      this.dirtyStroke &&
                        this.paintState.updateStroke(
                          this.svgBlock,
                          this.node.getStrokeValue()
                        );
                    const t = this.dirtyLineWidth || this.dirtyLineOptions;
                    t && this.paintState.updateStrokeDetailStyle(this.node),
                      (this.dirtyFill || this.dirtyStroke || t) &&
                        e.setAttribute(
                          "style",
                          this.paintState.baseStyle +
                            this.paintState.strokeDetailStyle
                        ),
                      this.cleanPaintableState();
                  }
                  updateSVGBlock(e) {
                    const t = this.svgBlock;
                    if (this.usesPaint && t)
                      for (let i = 0; i < this.lastCachedPaints.length; i++)
                        t.decrementPaint(this.lastCachedPaints[i]);
                    if (((this.svgBlock = e), this.usesPaint))
                      for (let i = 0; i < this.lastCachedPaints.length; i++)
                        e.incrementPaint(this.lastCachedPaints[i]);
                    this.updateDefsSelf && this.updateDefsSelf(e),
                      this.usesPaint && this.paintState.updateSVGBlock(e),
                      this.usesPaint && this.markDirtyFill(),
                      this.usesPaint && this.markDirtyStroke();
                  }
                  dispose() {
                    this.keepElements || (this.svgElement = null),
                      this.updateDefsSelf && this.updateDefsSelf(null),
                      this.usesPaint && this.paintState.dispose(),
                      (this.defs = null),
                      (this.svgBlock = null),
                      super.dispose();
                  }
                }
                G.register("SVGSelfDrawable", Ld);
                const Bd = Ld;
                class Md extends Ed {
                  initialize(e, t) {
                    return (
                      super.initialize(e, t),
                      (this.transformListener =
                        this.transformListener ||
                        this.markTransformDirty.bind(this)),
                      t.relativeTransform.addListener(this.transformListener),
                      t.relativeTransform.addPrecompute(),
                      this
                    );
                  }
                  markTransformDirty() {
                    this.markDirty();
                  }
                  updateSelfVisibility() {
                    super.updateSelfVisibility(), this.markDirty();
                  }
                  dispose() {
                    this.instance.relativeTransform.removeListener(
                      this.transformListener
                    ),
                      this.instance.relativeTransform.removePrecompute(),
                      super.dispose();
                  }
                }
                G.register("WebGLSelfDrawable", Md);
                const Nd = Md,
                  Rd = Zs(
                    (e) =>
                      class extends Cd(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyRadius = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyRadius() {
                          (this.dirtyRadius = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1), (this.dirtyRadius = !1);
                        }
                      }
                  );
                G.register("CircleStatefulDrawable", Rd);
                const qd = Rd,
                  Fd = Zs(
                    (e) =>
                      class extends e {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyImage = !0),
                            (this.dirtyImageOpacity = !0),
                            (this.dirtyMipmap = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyImage() {
                          (this.dirtyImage = !0), this.markPaintDirty();
                        }
                        markDirtyImageOpacity() {
                          (this.dirtyImageOpacity = !0), this.markPaintDirty();
                        }
                        markDirtyMipmap() {
                          (this.dirtyMipmap = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1),
                            (this.dirtyImage = !1),
                            (this.dirtyImageOpacity = !1),
                            (this.dirtyMipmap = !1);
                        }
                      }
                  );
                G.register("ImageStatefulDrawable", Fd);
                const Zd = Fd,
                  Hd = Zs(
                    (e) =>
                      class extends Td(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s), (this.paintDirty = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyLine() {
                          this.markPaintDirty();
                        }
                        markDirtyP1() {
                          this.markPaintDirty();
                        }
                        markDirtyP2() {
                          this.markPaintDirty();
                        }
                        markDirtyX1() {
                          this.markPaintDirty();
                        }
                        markDirtyY1() {
                          this.markPaintDirty();
                        }
                        markDirtyX2() {
                          this.markPaintDirty();
                        }
                        markDirtyY2() {
                          this.markPaintDirty();
                        }
                      }
                  );
                G.register("LineStatelessDrawable", Hd);
                const Yd = Hd,
                  Gd = Zs(
                    (e) =>
                      class extends Cd(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyX1 = !0),
                            (this.dirtyY1 = !0),
                            (this.dirtyX2 = !0),
                            (this.dirtyY2 = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyLine() {
                          (this.dirtyX1 = !0),
                            (this.dirtyY1 = !0),
                            (this.dirtyX2 = !0),
                            (this.dirtyY2 = !0),
                            this.markPaintDirty();
                        }
                        markDirtyP1() {
                          (this.dirtyX1 = !0),
                            (this.dirtyY1 = !0),
                            this.markPaintDirty();
                        }
                        markDirtyP2() {
                          (this.dirtyX2 = !0),
                            (this.dirtyY2 = !0),
                            this.markPaintDirty();
                        }
                        markDirtyX1() {
                          (this.dirtyX1 = !0), this.markPaintDirty();
                        }
                        markDirtyY1() {
                          (this.dirtyY1 = !0), this.markPaintDirty();
                        }
                        markDirtyX2() {
                          (this.dirtyX2 = !0), this.markPaintDirty();
                        }
                        markDirtyY2() {
                          (this.dirtyY2 = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1),
                            (this.dirtyX1 = !1),
                            (this.dirtyY1 = !1),
                            (this.dirtyX2 = !1),
                            (this.dirtyY2 = !1);
                        }
                      }
                  );
                G.register("LineStatefulDrawable", Gd);
                const Wd = Gd,
                  zd = Zs(
                    (e) =>
                      class extends Cd(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyShape = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyShape() {
                          (this.dirtyShape = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1), (this.dirtyShape = !1);
                        }
                      }
                  );
                G.register("PathStatefulDrawable", zd);
                const Xd = zd,
                  Qd = Zs(
                    (e) =>
                      class extends Cd(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyX = !0),
                            (this.dirtyY = !0),
                            (this.dirtyWidth = !0),
                            (this.dirtyHeight = !0),
                            (this.dirtyCornerXRadius = !0),
                            (this.dirtyCornerYRadius = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyRectangle() {
                          (this.dirtyX = !0),
                            (this.dirtyY = !0),
                            (this.dirtyWidth = !0),
                            (this.dirtyHeight = !0),
                            (this.dirtyCornerXRadius = !0),
                            (this.dirtyCornerYRadius = !0),
                            this.markPaintDirty();
                        }
                        markDirtyX() {
                          (this.dirtyX = !0), this.markPaintDirty();
                        }
                        markDirtyY() {
                          (this.dirtyY = !0), this.markPaintDirty();
                        }
                        markDirtyWidth() {
                          (this.dirtyWidth = !0), this.markPaintDirty();
                        }
                        markDirtyHeight() {
                          (this.dirtyHeight = !0), this.markPaintDirty();
                        }
                        markDirtyCornerXRadius() {
                          (this.dirtyCornerXRadius = !0), this.markPaintDirty();
                        }
                        markDirtyCornerYRadius() {
                          (this.dirtyCornerYRadius = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1),
                            (this.dirtyX = !1),
                            (this.dirtyY = !1),
                            (this.dirtyWidth = !1),
                            (this.dirtyHeight = !1),
                            (this.dirtyCornerXRadius = !1),
                            (this.dirtyCornerYRadius = !1);
                        }
                      }
                  );
                G.register("RectangleStatefulDrawable", Qd);
                const Ud = Qd,
                  jd = Zs(
                    (e) =>
                      class extends Cd(e) {
                        initialize(e, t) {
                          for (
                            var i = arguments.length,
                              s = new Array(i > 2 ? i - 2 : 0),
                              n = 2;
                            n < i;
                            n++
                          )
                            s[n - 2] = arguments[n];
                          super.initialize(e, t, ...s),
                            (this.paintDirty = !0),
                            (this.dirtyText = !0),
                            (this.dirtyFont = !0),
                            (this.dirtyBounds = !0);
                        }
                        markPaintDirty() {
                          (this.paintDirty = !0), this.markDirty();
                        }
                        markDirtyText() {
                          (this.dirtyText = !0), this.markPaintDirty();
                        }
                        markDirtyFont() {
                          (this.dirtyFont = !0), this.markPaintDirty();
                        }
                        markDirtyBounds() {
                          (this.dirtyBounds = !0), this.markPaintDirty();
                        }
                        setToCleanState() {
                          (this.paintDirty = !1),
                            (this.dirtyText = !1),
                            (this.dirtyFont = !1),
                            (this.dirtyBounds = !1);
                        }
                      }
                  );
                G.register("TextStatefulDrawable", jd);
                const Kd = jd,
                  Jd = [];
                class _d extends Dd {
                  paintCanvas(e, t, i) {
                    if (!t.selfBounds.isEmpty()) {
                      const i = e.context;
                      i.save(),
                        (i.fillStyle = "black"),
                        (i.strokeStyle = "black"),
                        (i.lineWidth = 1),
                        (i.lineCap = "butt"),
                        (i.lineJoin = "miter"),
                        (i.lineDash = Jd),
                        (i.lineDashOffset = 0),
                        (i.miterLimit = 10),
                        t.paintCanvas(i),
                        i.restore();
                    }
                  }
                }
                G.register("CanvasNodeDrawable", _d), Tt.Z.mixInto(_d);
                const $d = _d;
                class ec extends Td(Dd) {
                  paintCanvas(e, t, i) {
                    const s = e.context;
                    s.beginPath(),
                      s.arc(0, 0, t._radius, 0, 2 * Math.PI, !1),
                      s.closePath(),
                      t.hasFill() &&
                        (t.beforeCanvasFill(e), s.fill(), t.afterCanvasFill(e)),
                      t.hasPaintableStroke() &&
                        (t.beforeCanvasStroke(e),
                        s.stroke(),
                        t.afterCanvasStroke(e));
                  }
                  markDirtyRadius() {
                    this.markPaintDirty();
                  }
                  dispose() {
                    super.dispose();
                  }
                }
                G.register("CircleCanvasDrawable", ec), Tt.Z.mixInto(ec);
                const tc = ec;
                class ic extends qd(Od) {
                  constructor(e, t) {
                    super(e, t), Ge.prepareForTransform(this.domElement);
                  }
                  initialize(e, t) {
                    if (
                      (super.initialize(e, t),
                      (this.matrix = this.matrix || Le.Z.pool.fetch()),
                      !this.fillElement || !this.strokeElement)
                    ) {
                      const e = document.createElement("div");
                      this.fillElement = e;
                      const t = document.createElement("div");
                      (this.strokeElement = t),
                        (e.style.display = "block"),
                        (e.style.position = "absolute"),
                        (e.style.left = "0"),
                        (e.style.top = "0"),
                        (e.style.pointerEvents = "none"),
                        (t.style.display = "block"),
                        (t.style.position = "absolute"),
                        (t.style.left = "0"),
                        (t.style.top = "0"),
                        (t.style.pointerEvents = "none"),
                        e.appendChild(t);
                    }
                    this.domElement = this.fillElement;
                  }
                  updateDOM() {
                    const e = this.node,
                      t = this.fillElement,
                      i = this.strokeElement;
                    if (
                      this.paintDirty &&
                      (this.dirtyRadius &&
                        ((t.style.width = 2 * e._radius + "px"),
                        (t.style.height = 2 * e._radius + "px"),
                        (t.style[me.borderRadius] = e._radius + "px")),
                      this.dirtyFill &&
                        (t.style.backgroundColor = e.getCSSFill()),
                      this.dirtyStroke &&
                        (e.hasStroke()
                          ? (i.style.borderStyle = "solid")
                          : (i.style.borderStyle = "none")),
                      e.hasStroke())
                    ) {
                      const t = !this.hadStroke;
                      (t || this.dirtyLineWidth || this.dirtyRadius) &&
                        ((i.style.width =
                          2 * e._radius - e.getLineWidth() + "px"),
                        (i.style.height =
                          2 * e._radius - e.getLineWidth() + "px"),
                        (i.style[me.borderRadius] =
                          e._radius + e.getLineWidth() / 2 + "px")),
                        (t || this.dirtyLineWidth) &&
                          ((i.style.left = -e.getLineWidth() / 2 + "px"),
                          (i.style.top = -e.getLineWidth() / 2 + "px"),
                          (i.style.borderWidth = e.getLineWidth() + "px")),
                        (t || this.dirtyStroke) &&
                          (i.style.borderColor = e.getSimpleCSSStroke());
                    }
                    if (this.transformDirty || this.dirtyRadius) {
                      this.matrix.set(this.getTransformMatrix());
                      const t = Le.Z.translation(-e._radius, -e._radius);
                      this.matrix.multiplyMatrix(t),
                        t.freeToPool(),
                        Ge.applyPreparedTransform(
                          this.matrix,
                          this.fillElement
                        );
                    }
                    this.setToCleanState(),
                      this.cleanPaintableState(),
                      (this.transformDirty = !1);
                  }
                  dispose() {
                    super.dispose();
                  }
                }
                G.register("CircleDOMDrawable", ic), Tt.Z.mixInto(ic);
                const sc = ic;
                class nc extends qd(Bd) {
                  initialize(e, t) {
                    super.initialize(e, t, !0, !0),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "circle"));
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    this.dirtyRadius && e.setAttribute("r", this.node._radius),
                      this.updateFillStrokeStyle(e);
                  }
                }
                G.register("CircleSVGDrawable", nc), Tt.Z.mixInto(nc);
                const rc = nc;
                class oc extends Od {
                  constructor(e, t) {
                    super(e, t), Ge.prepareForTransform(this.domElement);
                  }
                  initialize(e, t) {
                    super.initialize(e, t),
                      (this.domElement = this.node._container);
                  }
                  updateDOM() {
                    this.transformDirty &&
                      !this.node._preventTransform &&
                      Ge.applyPreparedTransform(
                        this.getTransformMatrix(),
                        this.domElement
                      ),
                      (this.transformDirty = !1);
                  }
                  dispose() {
                    super.dispose(), (this.domElement = null);
                  }
                }
                G.register("DOMDrawable", oc), Tt.Z.mixInto(oc);
                const ac = oc;
                class hc extends Dd {
                  paintCanvas(e, t, i) {
                    const s = 1 !== t._imageOpacity;
                    if (
                      t._image &&
                      0 !== t._image.width &&
                      0 !== t._image.height
                    ) {
                      if (
                        (s &&
                          (e.context.save(),
                          (e.context.globalAlpha *= t._imageOpacity)),
                        t._mipmap && t.hasMipmaps())
                      ) {
                        const s = t.getMipmapLevel(
                            i,
                            bn.CANVAS_MIPMAP_BIAS_ADJUSTMENT
                          ),
                          n = t.getMipmapCanvas(s),
                          r = Math.pow(2, s);
                        e.context.drawImage(n, 0, 0, n.width * r, n.height * r);
                      } else e.context.drawImage(t._image, 0, 0);
                      s && e.context.restore();
                    }
                  }
                  markDirtyImage() {
                    this.markPaintDirty();
                  }
                  markDirtyMipmap() {
                    this.markPaintDirty();
                  }
                  markDirtyImageOpacity() {
                    this.markPaintDirty();
                  }
                }
                G.register("ImageCanvasDrawable", hc), Tt.Z.mixInto(hc);
                const lc = hc;
                class dc extends Zd(Od) {
                  constructor(e, t) {
                    super(e, t), Ge.prepareForTransform(this.domElement);
                  }
                  initialize(e, t) {
                    super.initialize(e, t),
                      this.domElement ||
                        ((this.domElement = document.createElement("img")),
                        (this.domElement.style.display = "block"),
                        (this.domElement.style.position = "absolute"),
                        (this.domElement.style.pointerEvents = "none"),
                        (this.domElement.style.left = "0"),
                        (this.domElement.style.top = "0")),
                      (this.hasOpacity = !1);
                  }
                  updateDOM() {
                    const e = this.node,
                      t = this.domElement;
                    this.paintDirty &&
                      this.dirtyImage &&
                      (t.src = e._image ? e._image.src : "//:0"),
                      this.dirtyImageOpacity &&
                        (1 === e._imageOpacity
                          ? this.hasOpacity &&
                            ((this.hasOpacity = !1), (t.style.opacity = ""))
                          : ((this.hasOpacity = !0),
                            (t.style.opacity = e._imageOpacity))),
                      this.transformDirty &&
                        Ge.applyPreparedTransform(
                          this.getTransformMatrix(),
                          this.domElement
                        ),
                      this.setToCleanState(),
                      (this.transformDirty = !1);
                  }
                  dispose() {
                    super.dispose();
                  }
                }
                G.register("ImageDOMDrawable", dc), Tt.Z.mixInto(dc);
                const cc = dc;
                class uc extends Zd(Bd) {
                  initialize(e, t) {
                    super.initialize(e, t, !1, !0),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "image")),
                      this.svgElement.setAttribute("x", "0"),
                      this.svgElement.setAttribute("y", "0"),
                      (this.hasOpacity = !1),
                      (this.usingMipmap = !1),
                      (this.mipmapLevel = -1),
                      (this._mipmapTransformListener =
                        this._mipmapTransformListener ||
                        this.onMipmapTransform.bind(this)),
                      (this._mipmapListener =
                        this._mipmapListener || this.onMipmap.bind(this)),
                      this.node.mipmapEmitter.addListener(this._mipmapListener),
                      this.updateMipmapStatus(t.node._mipmap);
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    this.dirtyImage
                      ? this.node._image
                        ? this.updateURL(e, !0)
                        : (e.setAttribute("width", "0"),
                          e.setAttribute("height", "0"),
                          e.setAttributeNS(ke, "xlink:href", "//:0"))
                      : this.dirtyMipmap &&
                        this.node._image &&
                        this.updateURL(e, !1),
                      this.dirtyImageOpacity &&
                        (1 === this.node._imageOpacity
                          ? this.hasOpacity &&
                            ((this.hasOpacity = !1),
                            e.removeAttribute("opacity"))
                          : ((this.hasOpacity = !0),
                            e.setAttribute(
                              "opacity",
                              this.node._imageOpacity
                            )));
                  }
                  updateURL(e, t) {
                    let i = -1;
                    if (
                      (this.node._mipmap &&
                        (i = this.node.getMipmapLevel(
                          this.instance.relativeTransform.matrix
                        )),
                      t || i !== this.mipmapLevel)
                    )
                      if (
                        (this.mipmapLevel >= 0 &&
                          -1 === i &&
                          e.removeAttribute("transform"),
                        (this.mipmapLevel = i),
                        this.node._mipmap && this.node.hasMipmaps())
                      ) {
                        const t = this.node.getMipmapURL(i),
                          s = this.node.getMipmapCanvas(i);
                        e.setAttribute("width", s.width + "px"),
                          e.setAttribute("height", s.height + "px"),
                          e.setAttribute(
                            "transform",
                            `scale(${Math.pow(2, i).toFixed(20)})`
                          ),
                          e.setAttributeNS(ke, "xlink:href", t);
                      } else
                        e.setAttribute(
                          "width",
                          this.node.getImageWidth() + "px"
                        ),
                          e.setAttribute(
                            "height",
                            this.node.getImageHeight() + "px"
                          ),
                          e.setAttributeNS(
                            ke,
                            "xlink:href",
                            this.node.getImageURL()
                          );
                  }
                  updateMipmapStatus(e) {
                    this.usingMipmap !== e &&
                      ((this.usingMipmap = e),
                      e
                        ? (this.instance.relativeTransform.addListener(
                            this._mipmapTransformListener
                          ),
                          this.instance.relativeTransform.addPrecompute())
                        : (this.instance.relativeTransform.removeListener(
                            this._mipmapTransformListener
                          ),
                          this.instance.relativeTransform.removePrecompute()),
                      this.markDirtyMipmap());
                  }
                  onMipmap() {
                    this.markDirtyMipmap(),
                      this.updateMipmapStatus(this.node._mipmap);
                  }
                  onMipmapTransform() {
                    this.markDirtyMipmap();
                  }
                  dispose() {
                    this.updateMipmapStatus(!1),
                      this.node.mipmapEmitter.removeListener(
                        this._mipmapListener
                      ),
                      super.dispose();
                  }
                }
                G.register("ImageSVGDrawable", uc), Tt.Z.mixInto(uc);
                const pc = uc;
                class gc extends Zd(Nd) {
                  initialize(e, t) {
                    super.initialize(e, t),
                      (this.vertexArray =
                        this.vertexArray || new Float32Array(30)),
                      (this.upperLeft = new Me.Z(0, 0)),
                      (this.lowerLeft = new Me.Z(0, 0)),
                      (this.upperRight = new Me.Z(0, 0)),
                      (this.lowerRight = new Me.Z(0, 0)),
                      (this.xyDirty = !0),
                      (this.uvDirty = !0),
                      (this.updatedOnce = !1),
                      (this.sprite = null);
                  }
                  onAddToBlock(e) {
                    (this.webglBlock = e),
                      this.markDirty(),
                      this.reserveSprite();
                  }
                  onRemoveFromBlock(e) {
                    this.unreserveSprite();
                  }
                  reserveSprite() {
                    if (this.sprite) {
                      if (this.sprite.image === this.node._image) return;
                      this.unreserveSprite();
                    }
                    const e = this.node.getImageWidth(),
                      t = this.node.getImageHeight();
                    (this.sprite =
                      e > 0 && t > 0
                        ? this.webglBlock.addSpriteSheetImage(
                            this.node._image,
                            e,
                            t
                          )
                        : null),
                      (this.xyDirty = !0),
                      (this.uvDirty = !0);
                  }
                  unreserveSprite() {
                    this.sprite &&
                      this.webglBlock.removeSpriteSheetImage(this.sprite),
                      (this.sprite = null);
                  }
                  markTransformDirty() {
                    (this.xyDirty = !0), super.markTransformDirty();
                  }
                  markPaintDirty() {
                    (this.xyDirty = !0), (this.uvDirty = !0), this.markDirty();
                  }
                  update() {
                    if (!super.update()) return !1;
                    if (
                      (this.reserveSprite(),
                      (!this.dirtyImageOpacity && this.updatedOnce) ||
                        ((this.vertexArray[4] = this.node._imageOpacity),
                        (this.vertexArray[9] = this.node._imageOpacity),
                        (this.vertexArray[14] = this.node._imageOpacity),
                        (this.vertexArray[19] = this.node._imageOpacity),
                        (this.vertexArray[24] = this.node._imageOpacity),
                        (this.vertexArray[29] = this.node._imageOpacity)),
                      (this.updatedOnce = !0),
                      !this.sprite)
                    )
                      return !1;
                    if (this.uvDirty) {
                      this.uvDirty = !1;
                      const e = this.sprite.uvBounds;
                      (this.vertexArray[2] = e.minX),
                        (this.vertexArray[3] = e.minY),
                        (this.vertexArray[7] = e.minX),
                        (this.vertexArray[8] = e.maxY),
                        (this.vertexArray[12] = e.maxX),
                        (this.vertexArray[13] = e.minY),
                        (this.vertexArray[17] = e.maxX),
                        (this.vertexArray[18] = e.minY),
                        (this.vertexArray[22] = e.minX),
                        (this.vertexArray[23] = e.maxY),
                        (this.vertexArray[27] = e.maxX),
                        (this.vertexArray[28] = e.maxY);
                    }
                    if (this.xyDirty) {
                      this.xyDirty = !1;
                      const e = this.node.getImageWidth(),
                        t = this.node.getImageHeight(),
                        i = this.instance.relativeTransform.matrix;
                      i.multiplyVector2(this.upperLeft.setXY(0, 0)),
                        i.multiplyVector2(this.lowerLeft.setXY(0, t)),
                        i.multiplyVector2(this.upperRight.setXY(e, 0)),
                        i.multiplyVector2(this.lowerRight.setXY(e, t)),
                        (this.vertexArray[0] = this.upperLeft.x),
                        (this.vertexArray[1] = this.upperLeft.y),
                        (this.vertexArray[5] = this.lowerLeft.x),
                        (this.vertexArray[6] = this.lowerLeft.y),
                        (this.vertexArray[10] = this.upperRight.x),
                        (this.vertexArray[11] = this.upperRight.y),
                        (this.vertexArray[15] = this.upperRight.x),
                        (this.vertexArray[16] = this.upperRight.y),
                        (this.vertexArray[20] = this.lowerLeft.x),
                        (this.vertexArray[21] = this.lowerLeft.y),
                        (this.vertexArray[25] = this.lowerRight.x),
                        (this.vertexArray[26] = this.lowerRight.y);
                    }
                    return !0;
                  }
                }
                (gc.prototype.webglRenderer = xe.webglTexturedTriangles),
                  G.register("ImageWebGLDrawable", gc),
                  Tt.Z.mixInto(gc);
                const mc = gc;
                class Ac extends Yd(Dd) {
                  paintCanvas(e, t, i) {
                    const s = e.context;
                    s.beginPath(),
                      s.moveTo(t.x1, t.y1),
                      s.lineTo(t.x2, t.y2),
                      t.hasPaintableStroke() &&
                        (t.beforeCanvasStroke(e),
                        s.stroke(),
                        t.afterCanvasStroke(e));
                  }
                }
                G.register("LineCanvasDrawable", Ac), Tt.Z.mixInto(Ac);
                const yc = Ac;
                class fc extends Wd(Bd) {
                  initialize(e, t) {
                    super.initialize(e, t, !0, !0),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "line"));
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    this.dirtyX1 && e.setAttribute("x1", this.node.x1),
                      this.dirtyY1 && e.setAttribute("y1", this.node.y1),
                      this.dirtyX2 && e.setAttribute("x2", this.node.x2),
                      this.dirtyY2 && e.setAttribute("y2", this.node.y2),
                      this.updateFillStrokeStyle(e);
                  }
                }
                G.register("LineSVGDrawable", fc), Tt.Z.mixInto(fc);
                const Pc = fc;
                class bc extends Td(Dd) {
                  paintCanvas(e, t, i) {
                    const s = e.context;
                    t.hasShape() &&
                      (s.beginPath(),
                      t._shape.writeToContext(s),
                      t.hasFill() &&
                        (t.beforeCanvasFill(e), s.fill(), t.afterCanvasFill(e)),
                      t.hasPaintableStroke() &&
                        (t.beforeCanvasStroke(e),
                        s.stroke(),
                        t.afterCanvasStroke(e)));
                  }
                  markDirtyShape() {
                    this.markPaintDirty();
                  }
                }
                G.register("PathCanvasDrawable", bc), Tt.Z.mixInto(bc);
                const vc = bc;
                class Vc extends Xd(Bd) {
                  initialize(e, t) {
                    super.initialize(e, t, !0, !0),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "path"));
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    if (this.dirtyShape) {
                      let t = this.node.hasShape()
                        ? this.node._shape.getSVGPath()
                        : "";
                      t || (t = "M0 0"),
                        e.setAttribute(
                          "d",
                          `${t}${Ne.Z.safari ? " M0 0" : ""}`
                        );
                    }
                    this.updateFillStrokeStyle(e);
                  }
                }
                G.register("PathSVGDrawable", Vc), Tt.Z.mixInto(Vc);
                const wc = Vc;
                class Ec extends Td(Dd) {
                  writeRectangularPath(e, t) {
                    e.beginPath(),
                      e.moveTo(t._rectX, t._rectY),
                      e.lineTo(t._rectX + t._rectWidth, t._rectY),
                      e.lineTo(
                        t._rectX + t._rectWidth,
                        t._rectY + t._rectHeight
                      ),
                      e.lineTo(t._rectX, t._rectY + t._rectHeight),
                      e.closePath();
                  }
                  paintCanvas(e, t, i) {
                    const s = e.context;
                    if (t.isRounded()) {
                      s.beginPath();
                      const i = t.getMaximumArcSize(),
                        n = Math.min(t._cornerXRadius, i),
                        r = Math.min(t._cornerYRadius, i),
                        o = t._rectX + n,
                        a = t._rectX + t._rectWidth - n,
                        h = t._rectY + r,
                        l = t._rectY + t._rectHeight - r;
                      n === r
                        ? (s.arc(a, h, n, -Math.PI / 2, 0, !1),
                          s.arc(a, l, n, 0, Math.PI / 2, !1),
                          s.arc(o, l, n, Math.PI / 2, Math.PI, !1),
                          s.arc(o, h, n, Math.PI, (3 * Math.PI) / 2, !1))
                        : (s.ellipse(a, h, n, r, 0, -Math.PI / 2, 0, !1),
                          s.ellipse(a, l, n, r, 0, 0, Math.PI / 2, !1),
                          s.ellipse(o, l, n, r, 0, Math.PI / 2, Math.PI, !1),
                          s.ellipse(
                            o,
                            h,
                            n,
                            r,
                            0,
                            Math.PI,
                            (3 * Math.PI) / 2,
                            !1
                          )),
                        s.closePath(),
                        t.hasFill() &&
                          (t.beforeCanvasFill(e),
                          s.fill(),
                          t.afterCanvasFill(e)),
                        t.hasPaintableStroke() &&
                          (t.beforeCanvasStroke(e),
                          s.stroke(),
                          t.afterCanvasStroke(e));
                    } else
                      t.hasFill() &&
                        (t.getFillValue().transformMatrix
                          ? (this.writeRectangularPath(s, t),
                            t.beforeCanvasFill(e),
                            s.fill(),
                            t.afterCanvasFill(e))
                          : (t.beforeCanvasFill(e),
                            s.fillRect(
                              t._rectX,
                              t._rectY,
                              t._rectWidth,
                              t._rectHeight
                            ),
                            t.afterCanvasFill(e))),
                        t.hasPaintableStroke() &&
                          (t.getStrokeValue().transformMatrix
                            ? (this.writeRectangularPath(s, t),
                              t.beforeCanvasStroke(e),
                              s.stroke(),
                              t.afterCanvasStroke(e))
                            : (t.beforeCanvasStroke(e),
                              s.strokeRect(
                                t._rectX,
                                t._rectY,
                                t._rectWidth,
                                t._rectHeight
                              ),
                              t.afterCanvasStroke(e)));
                  }
                  markDirtyRectangle() {
                    this.markPaintDirty();
                  }
                  markDirtyX() {
                    this.markDirtyRectangle();
                  }
                  markDirtyY() {
                    this.markDirtyRectangle();
                  }
                  markDirtyWidth() {
                    this.markDirtyRectangle();
                  }
                  markDirtyHeight() {
                    this.markDirtyRectangle();
                  }
                  markDirtyCornerXRadius() {
                    this.markDirtyRectangle();
                  }
                  markDirtyCornerYRadius() {
                    this.markDirtyRectangle();
                  }
                }
                G.register("RectangleCanvasDrawable", Ec), Tt.Z.mixInto(Ec);
                const Sc = Ec,
                  Tc = Le.Z.pool.fetch();
                class xc extends Ud(Od) {
                  constructor(e, t) {
                    super(e, t), Ge.prepareForTransform(this.domElement);
                  }
                  initialize(e, t) {
                    if (
                      (super.initialize(e, t),
                      !this.fillElement || !this.strokeElement)
                    ) {
                      const e = document.createElement("div");
                      (this.fillElement = e),
                        (e.style.display = "block"),
                        (e.style.position = "absolute"),
                        (e.style.left = "0"),
                        (e.style.top = "0"),
                        (e.style.pointerEvents = "none");
                      const t = document.createElement("div");
                      (this.strokeElement = t),
                        (t.style.display = "block"),
                        (t.style.position = "absolute"),
                        (t.style.left = "0"),
                        (t.style.top = "0"),
                        (t.style.pointerEvents = "none"),
                        e.appendChild(t);
                    }
                    this.domElement = this.fillElement;
                  }
                  updateDOM() {
                    const e = this.node,
                      t = this.fillElement,
                      i = this.strokeElement;
                    if (this.paintDirty) {
                      const s = Math.min(e._cornerXRadius, e._cornerYRadius),
                        n = this.dirtyCornerXRadius || this.dirtyCornerYRadius;
                      if (
                        (this.dirtyWidth &&
                          (t.style.width = e._rectWidth + "px"),
                        this.dirtyHeight &&
                          (t.style.height = e._rectHeight + "px"),
                        n && (t.style[me.borderRadius] = s + "px"),
                        this.dirtyFill &&
                          (t.style.backgroundColor = e.getCSSFill()),
                        this.dirtyStroke &&
                          (e.hasStroke()
                            ? (i.style.borderStyle = "solid")
                            : (i.style.borderStyle = "none")),
                        e.hasStroke())
                      ) {
                        const t = !this.hadStroke;
                        (t || this.dirtyWidth || this.dirtyLineWidth) &&
                          (i.style.width =
                            e._rectWidth - e.getLineWidth() + "px"),
                          (t || this.dirtyHeight || this.dirtyLineWidth) &&
                            (i.style.height =
                              e._rectHeight - e.getLineWidth() + "px"),
                          (t || this.dirtyLineWidth) &&
                            ((i.style.left = -e.getLineWidth() / 2 + "px"),
                            (i.style.top = -e.getLineWidth() / 2 + "px"),
                            (i.style.borderWidth = e.getLineWidth() + "px")),
                          (t || this.dirtyStroke) &&
                            (i.style.borderColor = e.getSimpleCSSStroke()),
                          (t ||
                            n ||
                            this.dirtyLineWidth ||
                            this.dirtyLineOptions) &&
                            (i.style[me.borderRadius] =
                              e.isRounded() || "round" === e.getLineJoin()
                                ? s + e.getLineWidth() / 2 + "px"
                                : "0");
                      }
                    }
                    if (this.transformDirty || this.dirtyX || this.dirtyY) {
                      Tc.set(this.getTransformMatrix());
                      const t = Le.Z.translation(e._rectX, e._rectY);
                      Tc.multiplyMatrix(t),
                        t.freeToPool(),
                        Ge.applyPreparedTransform(Tc, this.fillElement);
                    }
                    this.setToCleanState(),
                      this.cleanPaintableState(),
                      (this.transformDirty = !1);
                  }
                  dispose() {
                    super.dispose();
                  }
                }
                G.register("RectangleDOMDrawable", xc), Tt.Z.mixInto(xc);
                const Cc = xc;
                class Ic extends Ud(Bd) {
                  initialize(e, t) {
                    super.initialize(e, t, !0, !0),
                      (this.lastArcW = -1),
                      (this.lastArcH = -1),
                      (this.svgElement =
                        this.svgElement ||
                        document.createElementNS(Ie, "rect"));
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    if (
                      (this.dirtyX && e.setAttribute("x", this.node._rectX),
                      this.dirtyY && e.setAttribute("y", this.node._rectY),
                      this.dirtyWidth &&
                        e.setAttribute("width", this.node._rectWidth),
                      this.dirtyHeight &&
                        e.setAttribute("height", this.node._rectHeight),
                      this.dirtyCornerXRadius ||
                        this.dirtyCornerYRadius ||
                        this.dirtyWidth ||
                        this.dirtyHeight)
                    ) {
                      let t = 0,
                        i = 0;
                      if (this.node.isRounded()) {
                        const e = this.node.getMaximumArcSize();
                        (t = Math.min(this.node._cornerXRadius, e)),
                          (i = Math.min(this.node._cornerYRadius, e));
                      }
                      t !== this.lastArcW &&
                        ((this.lastArcW = t), e.setAttribute("rx", t)),
                        i !== this.lastArcH &&
                          ((this.lastArcH = i), e.setAttribute("ry", i));
                    }
                    this.updateFillStrokeStyle(e);
                  }
                }
                G.register("RectangleSVGDrawable", Ic), Tt.Z.mixInto(Ic);
                const Dc = Ic,
                  kc = new se("transparent");
                class Oc extends Ud(Nd) {
                  initialize(e, t) {
                    super.initialize(e, t),
                      this.vertexArray ||
                        (this.vertexArray = new Float32Array(36)),
                      (this.upperLeft = new Me.Z(0, 0)),
                      (this.lowerLeft = new Me.Z(0, 0)),
                      (this.upperRight = new Me.Z(0, 0)),
                      (this.lowerRight = new Me.Z(0, 0)),
                      (this.transformDirty = !0),
                      (this.includeVertices = !0);
                  }
                  onAddToBlock(e) {
                    (this.webglBlock = e), this.markDirty();
                  }
                  onRemoveFromBlock(e) {}
                  markTransformDirty() {
                    (this.transformDirty = !0), super.markTransformDirty();
                  }
                  update() {
                    if (!super.update()) return !1;
                    if (
                      this.dirtyFill &&
                      ((this.includeVertices = this.node.hasFill()),
                      this.includeVertices)
                    ) {
                      const e =
                          this.node.fill instanceof X.Z
                            ? this.node.fill.value
                            : this.node.fill,
                        t = kc.set(e),
                        i = t.red / 255,
                        s = t.green / 255,
                        n = t.blue / 255,
                        r = t.alpha;
                      for (let o = 0; o < 6; o++) {
                        const e = 6 * o;
                        (this.vertexArray[2 + e] = i),
                          (this.vertexArray[3 + e] = s),
                          (this.vertexArray[4 + e] = n),
                          (this.vertexArray[5 + e] = r);
                      }
                    }
                    if (
                      this.transformDirty ||
                      this.dirtyX ||
                      this.dirtyY ||
                      this.dirtyWidth ||
                      this.dirtyHeight
                    ) {
                      this.transformDirty = !1;
                      const e = this.node._rectX,
                        t = this.node._rectY,
                        i = this.node._rectWidth,
                        s = this.node._rectHeight,
                        n = this.instance.relativeTransform.matrix;
                      n.multiplyVector2(this.upperLeft.setXY(e, t)),
                        n.multiplyVector2(this.lowerLeft.setXY(e, t + s)),
                        n.multiplyVector2(this.upperRight.setXY(e + i, t)),
                        n.multiplyVector2(this.lowerRight.setXY(e + i, t + s)),
                        (this.vertexArray[0] = this.upperLeft.x),
                        (this.vertexArray[1] = this.upperLeft.y),
                        (this.vertexArray[6] = this.lowerLeft.x),
                        (this.vertexArray[7] = this.lowerLeft.y),
                        (this.vertexArray[12] = this.upperRight.x),
                        (this.vertexArray[13] = this.upperRight.y),
                        (this.vertexArray[18] = this.upperRight.x),
                        (this.vertexArray[19] = this.upperRight.y),
                        (this.vertexArray[24] = this.lowerLeft.x),
                        (this.vertexArray[25] = this.lowerLeft.y),
                        (this.vertexArray[30] = this.lowerRight.x),
                        (this.vertexArray[31] = this.lowerRight.y);
                    }
                    return (
                      this.setToCleanState(), this.cleanPaintableState(), !0
                    );
                  }
                }
                (Oc.prototype.webglRenderer = xe.webglVertexColorPolygons),
                  G.register("RectangleWebGLDrawable", Oc),
                  Tt.Z.mixInto(Oc);
                const Lc = Oc;
                class Bc extends Dd {
                  paintCanvas(e, t, i) {
                    const s =
                        bn.getApproximateMatrixScale(i) *
                        (window.devicePixelRatio || 1),
                      n = t._spriteInstances.length;
                    for (let r = 0; r < n; r++) {
                      const n = t._spriteInstances[r],
                        o = n.sprite.imageProperty.value,
                        a = 1 !== n.alpha || 1 !== o.imageOpacity,
                        h = o._mipmap && o.hasMipmaps();
                      if (
                        (a &&
                          (e.context.save(),
                          (e.context.globalAlpha *= n.alpha * o.imageOpacity)),
                        n.transformType === Ut.TRANSLATION && i.isTranslation())
                      )
                        if (h) {
                          const t = o.getMipmapLevelFromScale(
                              s,
                              bn.CANVAS_MIPMAP_BIAS_ADJUSTMENT
                            ),
                            i = o.getMipmapCanvas(t),
                            r = Math.pow(2, t);
                          e.context.drawImage(
                            i,
                            n.matrix.m02() - o.offset.x,
                            n.matrix.m12() - o.offset.y,
                            i.width * r,
                            i.height * r
                          );
                        } else
                          e.context.drawImage(
                            o.image,
                            n.matrix.m02() - o.offset.x,
                            n.matrix.m12() - o.offset.y
                          );
                      else {
                        if (
                          (e.context.save(),
                          n.matrix.canvasAppendTransform(e.context),
                          h)
                        ) {
                          const t = o.getMipmapLevelFromScale(
                              s * bn.getApproximateMatrixScale(n.matrix),
                              bn.CANVAS_MIPMAP_BIAS_ADJUSTMENT
                            ),
                            i = o.getMipmapCanvas(t),
                            r = Math.pow(2, t);
                          e.context.drawImage(
                            i,
                            -o.offset.x,
                            -o.offset.y,
                            i.width * r,
                            i.height * r
                          );
                        } else
                          e.context.drawImage(
                            o.image,
                            -o.offset.x,
                            -o.offset.y
                          );
                        e.context.restore();
                      }
                      a && e.context.restore();
                    }
                  }
                }
                G.register("SpritesCanvasDrawable", Bc), Tt.Z.mixInto(Bc);
                const Mc = Bc;
                var Nc = i(732);
                const Rc = new Me.Z(0, 0),
                  qc = new Me.Z(0, 0),
                  Fc = new Me.Z(0, 0),
                  Zc = new Me.Z(0, 0);
                class Hc extends Nd {
                  initialize(e, t) {
                    super.initialize(e, t),
                      (this.contextChangeListener =
                        this.onWebGLContextChange.bind(this)),
                      (this.spriteSheet = new ti(!0)),
                      (this.spriteImageUVMap = {}),
                      (this.vertexArray = new Float32Array(3840)),
                      (this.transformMatrixArray = new Float32Array(9)),
                      (this.spriteChangeListener =
                        this.onSpriteChange.bind(this)),
                      this.node._sprites.forEach((e) => {
                        e.imageProperty.lazyLink(this.spriteChangeListener),
                          this.addSpriteImage(e.imageProperty.value);
                      }),
                      (this.hasDrawn = !1);
                  }
                  addSpriteImage(e) {
                    this.spriteImageUVMap[e.id] = this.spriteSheet.addImage(
                      e.image,
                      e.image.width,
                      e.image.height
                    ).uvBounds;
                  }
                  removeSpriteImage(e) {
                    this.spriteSheet.removeImage(e.image),
                      delete this.spriteImageUVMap[e.id];
                  }
                  onSpriteChange(e, t) {
                    this.removeSpriteImage(t), this.addSpriteImage(e);
                  }
                  setup() {
                    const e = this.webGLBlock.gl;
                    this.spriteSheet.initializeContext(e),
                      (this.shaderProgram = new si(
                        e,
                        [
                          "attribute vec2 aVertex;",
                          "attribute vec2 aTextureCoord;",
                          "attribute float aAlpha;",
                          "varying vec2 vTextureCoord;",
                          "varying float vAlpha;",
                          "uniform mat3 uProjectionMatrix;",
                          "uniform mat3 uTransformMatrix;",
                          "void main() {",
                          "  vTextureCoord = aTextureCoord;",
                          "  vAlpha = aAlpha;",
                          "  vec3 ndc = uProjectionMatrix * ( uTransformMatrix * vec3( aVertex, 1.0 ) );",
                          "  gl_Position = vec4( ndc.xy, 0.0, 1.0 );",
                          "}",
                        ].join("\n"),
                        [
                          "precision mediump float;",
                          "varying vec2 vTextureCoord;",
                          "varying float vAlpha;",
                          "uniform sampler2D uTexture;",
                          "void main() {",
                          "  vec4 color = texture2D( uTexture, vTextureCoord, -0.7 );",
                          "  color.a *= vAlpha;",
                          "  gl_FragColor = color;",
                          "}",
                        ].join("\n"),
                        {
                          attributes: ["aVertex", "aTextureCoord", "aAlpha"],
                          uniforms: [
                            "uTexture",
                            "uProjectionMatrix",
                            "uTransformMatrix",
                          ],
                        }
                      )),
                      (this.vertexBuffer = e.createBuffer()),
                      e.bindBuffer(e.ARRAY_BUFFER, this.vertexBuffer),
                      e.bufferData(
                        e.ARRAY_BUFFER,
                        this.vertexArray,
                        e.DYNAMIC_DRAW
                      );
                  }
                  onWebGLContextChange() {
                    this.setup();
                  }
                  onAddToBlock(e) {
                    (this.webGLBlock = e),
                      this.setup(),
                      e.glChangedEmitter.addListener(
                        this.contextChangeListener
                      );
                  }
                  onRemoveFromBlock(e) {
                    e.glChangedEmitter.removeListener(
                      this.contextChangeListener
                    );
                  }
                  draw() {
                    const e = this.node._spriteInstances.length;
                    if (0 === e) return 0;
                    this.spriteSheet.updateTexture(), this.shaderProgram.use();
                    let t = 0,
                      i = !1;
                    for (; 30 * e > this.vertexArray.length; )
                      (this.vertexArray = new Float32Array(
                        2 * this.vertexArray.length
                      )),
                        (i = !0);
                    for (let o = 0; o < e; o++) {
                      const e = this.node._spriteInstances[o],
                        i = e.sprite.imageProperty.value,
                        s = e.alpha * i.imageOpacity,
                        n = this.spriteImageUVMap[i.id],
                        r = e.matrix,
                        a = i.offset,
                        h = i.image.width,
                        l = i.image.height;
                      r.multiplyVector2(Rc.setXY(-a.x, -a.y)),
                        r.multiplyVector2(qc.setXY(-a.x, l - a.y)),
                        r.multiplyVector2(Fc.setXY(h - a.x, -a.y)),
                        r.multiplyVector2(Zc.setXY(h - a.x, l - a.y)),
                        (this.vertexArray[t + 0] = Rc.x),
                        (this.vertexArray[t + 1] = Rc.y),
                        (this.vertexArray[t + 2] = n.minX),
                        (this.vertexArray[t + 3] = n.minY),
                        (this.vertexArray[t + 4] = s),
                        (this.vertexArray[t + 5] = qc.x),
                        (this.vertexArray[t + 6] = qc.y),
                        (this.vertexArray[t + 7] = n.minX),
                        (this.vertexArray[t + 8] = n.maxY),
                        (this.vertexArray[t + 9] = s),
                        (this.vertexArray[t + 10] = Fc.x),
                        (this.vertexArray[t + 11] = Fc.y),
                        (this.vertexArray[t + 12] = n.maxX),
                        (this.vertexArray[t + 13] = n.minY),
                        (this.vertexArray[t + 14] = s),
                        (this.vertexArray[t + 15] = Fc.x),
                        (this.vertexArray[t + 16] = Fc.y),
                        (this.vertexArray[t + 17] = n.maxX),
                        (this.vertexArray[t + 18] = n.minY),
                        (this.vertexArray[t + 19] = s),
                        (this.vertexArray[t + 20] = qc.x),
                        (this.vertexArray[t + 21] = qc.y),
                        (this.vertexArray[t + 22] = n.minX),
                        (this.vertexArray[t + 23] = n.maxY),
                        (this.vertexArray[t + 24] = s),
                        (this.vertexArray[t + 25] = Zc.x),
                        (this.vertexArray[t + 26] = Zc.y),
                        (this.vertexArray[t + 27] = n.maxX),
                        (this.vertexArray[t + 28] = n.maxY),
                        (this.vertexArray[t + 29] = s),
                        (t += 30);
                    }
                    const s = this.webGLBlock.gl;
                    s.uniformMatrix3fv(
                      this.shaderProgram.uniformLocations.uProjectionMatrix,
                      !1,
                      this.webGLBlock.projectionMatrixArray
                    ),
                      this.instance.relativeTransform.matrix.copyToArray(
                        this.transformMatrixArray
                      ),
                      s.uniformMatrix3fv(
                        this.shaderProgram.uniformLocations.uTransformMatrix,
                        !1,
                        this.transformMatrixArray
                      ),
                      s.bindBuffer(s.ARRAY_BUFFER, this.vertexBuffer),
                      i
                        ? s.bufferData(
                            s.ARRAY_BUFFER,
                            this.vertexArray,
                            s.DYNAMIC_DRAW
                          )
                        : s.bufferSubData(
                            s.ARRAY_BUFFER,
                            0,
                            this.vertexArray.subarray(0, t)
                          );
                    const n = Float32Array.BYTES_PER_ELEMENT,
                      r = 5 * n;
                    return (
                      s.vertexAttribPointer(
                        this.shaderProgram.attributeLocations.aVertex,
                        2,
                        s.FLOAT,
                        !1,
                        r,
                        0 * n
                      ),
                      s.vertexAttribPointer(
                        this.shaderProgram.attributeLocations.aTextureCoord,
                        2,
                        s.FLOAT,
                        !1,
                        r,
                        2 * n
                      ),
                      s.vertexAttribPointer(
                        this.shaderProgram.attributeLocations.aAlpha,
                        1,
                        s.FLOAT,
                        !1,
                        r,
                        4 * n
                      ),
                      s.activeTexture(s.TEXTURE0),
                      s.bindTexture(s.TEXTURE_2D, this.spriteSheet.texture),
                      s.uniform1i(
                        this.shaderProgram.uniformLocations.uTexture,
                        0
                      ),
                      s.drawArrays(s.TRIANGLES, 0, t / 5),
                      s.bindTexture(s.TEXTURE_2D, null),
                      this.shaderProgram.unuse(),
                      !this.hasDrawn &&
                        Ne.Z.safari &&
                        Nc.Z.setTimeout(() => this.markDirty(), 0),
                      (this.hasDrawn = !0),
                      1
                    );
                  }
                  dispose() {
                    this.node._sprites.forEach((e) => {
                      e.imageProperty.unlink(this.spriteChangeListener);
                    }),
                      this.webGLBlock && (this.webGLBlock = null),
                      super.dispose();
                  }
                  markPaintDirty() {
                    this.markDirty();
                  }
                }
                (Hc.prototype.webglRenderer = xe.webglCustom),
                  G.register("SpritesWebGLDrawable", Hc),
                  Tt.Z.mixInto(Hc);
                const Yc = Hc;
                class Gc extends Td(Dd) {
                  paintCanvas(e, t, i) {
                    const s = e.context;
                    (t.hasFill() || t.hasPaintableStroke()) &&
                      (e.setFont(t._font.getFont()), e.setDirection("ltr")),
                      t.hasFill() &&
                        (t.beforeCanvasFill(e),
                        s.fillText(t.renderedText, 0, 0),
                        t.afterCanvasFill(e)),
                      t.hasPaintableStroke() &&
                        (t.beforeCanvasStroke(e),
                        s.strokeText(t.renderedText, 0, 0),
                        t.afterCanvasStroke(e));
                  }
                  markDirtyText() {
                    this.markPaintDirty();
                  }
                  markDirtyFont() {
                    this.markPaintDirty();
                  }
                  markDirtyBounds() {
                    this.markPaintDirty();
                  }
                }
                G.register("TextCanvasDrawable", Gc), Tt.Z.mixInto(Gc);
                const Wc = Gc,
                  zc = Le.Z.pool.fetch();
                class Xc extends Kd(Od) {
                  constructor(e, t) {
                    super(e, t), Ge.prepareForTransform(this.domElement);
                  }
                  initialize(e, t) {
                    super.initialize(e, t),
                      this.domElement ||
                        ((this.domElement = document.createElement("div")),
                        (this.domElement.style.display = "block"),
                        (this.domElement.style.position = "absolute"),
                        (this.domElement.style.pointerEvents = "none"),
                        (this.domElement.style.left = "0"),
                        (this.domElement.style.top = "0"),
                        this.domElement.setAttribute("dir", "ltr"));
                  }
                  updateDOM() {
                    const e = this.node,
                      t = this.domElement;
                    if (
                      (this.paintDirty &&
                        (this.dirtyFont && (t.style.font = e.getFont()),
                        this.dirtyStroke && (t.style.color = e.getCSSFill()),
                        this.dirtyBounds &&
                          ((t.style.width = e.getSelfBounds().width + "px"),
                          (t.style.height = e.getSelfBounds().height + "px")),
                        this.dirtyText && (t.textContent = e.renderedText)),
                      this.transformDirty ||
                        this.dirtyText ||
                        this.dirtyFont ||
                        this.dirtyBounds)
                    ) {
                      const i = e.getSelfBounds().minY;
                      zc.set(this.getTransformMatrix());
                      const s = Le.Z.translation(0, i);
                      zc.multiplyMatrix(s),
                        s.freeToPool(),
                        Ge.applyPreparedTransform(zc, t);
                    }
                    this.setToCleanState(),
                      this.cleanPaintableState(),
                      (this.transformDirty = !1);
                  }
                  dispose() {
                    super.dispose();
                  }
                }
                G.register("TextDOMDrawable", Xc), Tt.Z.mixInto(Xc);
                const Qc = Xc,
                  Uc = !Ne.Z.edge;
                class jc extends Kd(Bd) {
                  initialize(e, t) {
                    if (
                      (super.initialize(e, t, !0, !0),
                      (this.hasLength = !1),
                      !this.svgElement)
                    ) {
                      const e = document.createElementNS(Ie, "text");
                      (this.svgElement = e),
                        e.appendChild(document.createTextNode("")),
                        e.setAttribute("dominant-baseline", "alphabetic"),
                        e.setAttribute("text-rendering", "geometricPrecision"),
                        e.setAttributeNS(
                          "http://www.w3.org/XML/1998/namespace",
                          "xml:space",
                          "preserve"
                        ),
                        e.setAttribute("direction", "ltr");
                    }
                  }
                  updateSVGSelf() {
                    const e = this.svgElement;
                    if (
                      (this.dirtyFont &&
                        (e.setAttribute(
                          "font-family",
                          this.node._font.getFamily()
                        ),
                        e.setAttribute("font-size", this.node._font.getSize()),
                        e.setAttribute(
                          "font-style",
                          this.node._font.getStyle()
                        ),
                        e.setAttribute(
                          "font-weight",
                          this.node._font.getWeight()
                        ),
                        e.setAttribute(
                          "font-stretch",
                          this.node._font.getStretch()
                        )),
                      this.dirtyText &&
                        (e.lastChild.nodeValue =
                          Ge.safariEmbeddingMarkWorkaround(
                            this.node.renderedText
                          )),
                      this.dirtyBounds && Uc)
                    ) {
                      "accurate" !== this.node._boundsMethod &&
                      isFinite(this.node.selfBounds.width)
                        ? (this.hasLength ||
                            ((this.hasLength = !0),
                            e.setAttribute("lengthAdjust", "spacingAndGlyphs")),
                          e.setAttribute(
                            "textLength",
                            this.node.selfBounds.width
                          ))
                        : this.hasLength &&
                          ((this.hasLength = !1),
                          e.removeAttribute("lengthAdjust"),
                          e.removeAttribute("textLength"));
                    }
                    this.updateFillStrokeStyle(e);
                  }
                }
                G.register("TextSVGDrawable", jc), Tt.Z.mixInto(jc);
                const Kc = jc;
                class Jc extends Nd {
                  initialize(e, t) {
                    super.initialize(e, t),
                      (this.contextChangeListener =
                        this.contextChangeListener ||
                        this.onWebGLContextChange.bind(this)),
                      (this.painter = null);
                  }
                  createPainter() {
                    return new (0, this.node.painterType)(
                      this.webGLBlock.gl,
                      this.node
                    );
                  }
                  onWebGLContextChange() {
                    this.painter = this.createPainter();
                  }
                  onAddToBlock(e) {
                    (this.webGLBlock = e),
                      (this.painter = this.createPainter()),
                      e.glChangedEmitter.addListener(
                        this.contextChangeListener
                      );
                  }
                  onRemoveFromBlock(e) {
                    e.glChangedEmitter.removeListener(
                      this.contextChangeListener
                    );
                  }
                  draw() {
                    const e = this.instance.relativeTransform.matrix,
                      t = this.painter.paint(
                        e,
                        this.webGLBlock.projectionMatrix
                      );
                    return t;
                  }
                  dispose() {
                    this.painter.dispose(),
                      (this.painter = null),
                      this.webGLBlock && (this.webGLBlock = null),
                      super.dispose();
                  }
                  markPaintDirty() {
                    this.markDirty();
                  }
                  get shaderAttributes() {
                    return this.node.shaderAttributes;
                  }
                }
                (Jc.prototype.webglRenderer = xe.webglCustom),
                  G.register("WebGLNodeDrawable", Jc),
                  Tt.Z.mixInto(Jc);
                const _c = Jc;
                class $c extends Vd {
                  constructor(e, t) {
                    super(), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    super.initialize(e), (this.instance = t);
                  }
                  stitch(e, t, i, s) {}
                }
                G.register("InlineCanvasCacheDrawable", $c);
                const eu = $c;
                class tu extends Vd {
                  constructor(e, t, i, s) {
                    super(), this.initialize(e, t, i, s);
                  }
                  initialize(e, t, i, s) {
                    super.initialize(t),
                      (this.instance = i),
                      (this.sharedInstance = s);
                  }
                }
                G.register("SharedCanvasCacheDrawable", tu);
                const iu = tu;
                class su {
                  constructor(e) {
                    this.instance = e;
                  }
                  initialize(e, t) {
                    return (
                      (this.display = e),
                      (this.trail = t),
                      (this.node = t && t.lastNode()),
                      (this.transformDirty = !0),
                      (this.nodeTransformListener =
                        this.nodeTransformListener ||
                        this.onNodeTransformDirty.bind(this)),
                      (this.matrix = this.matrix || Le.Z.identity()),
                      (this.relativeSelfDirty = !0),
                      (this.relativeChildrenListenersCount = 0),
                      (this.relativePrecomputeCount = 0),
                      (this.relativeChildrenPrecomputeCount = 0),
                      (this.relativeFrameId = -1),
                      (this.relativeChildDirtyFrame = e ? e._frameId : 0),
                      (this.relativeTransformListeners = (0, Mi.Z)(
                        this.relativeTransformListeners
                      )),
                      this
                    );
                  }
                  get parent() {
                    return this.instance.parent
                      ? this.instance.parent.relativeTransform
                      : null;
                  }
                  addInstance(e) {
                    e.stateless ||
                      (e.relativeTransform.hasAncestorListenerNeed() &&
                        this.incrementTransformListenerChildren(),
                      e.relativeTransform.hasAncestorComputeNeed() &&
                        this.incrementTransformPrecomputeChildren()),
                      e.relativeTransform.forceMarkTransformDirty();
                  }
                  removeInstance(e) {
                    e.relativeTransform.hasAncestorListenerNeed() &&
                      this.decrementTransformListenerChildren(),
                      e.relativeTransform.hasAncestorComputeNeed() &&
                        this.decrementTransformPrecomputeChildren();
                  }
                  attachNodeListeners() {
                    this.node.transformEmitter.addListener(
                      this.nodeTransformListener
                    );
                  }
                  detachNodeListeners() {
                    this.node.transformEmitter.removeListener(
                      this.nodeTransformListener
                    );
                  }
                  hasDescendantListenerNeed() {
                    return this.instance.isTransformed
                      ? this.relativeChildrenListenersCount > 0
                      : this.relativeChildrenListenersCount > 0 ||
                          this.relativeTransformListeners.length > 0;
                  }
                  hasAncestorListenerNeed() {
                    return this.instance.isTransformed
                      ? this.relativeTransformListeners.length > 0
                      : this.relativeChildrenListenersCount > 0 ||
                          this.relativeTransformListeners.length > 0;
                  }
                  hasSelfListenerNeed() {
                    return this.relativeTransformListeners.length > 0;
                  }
                  incrementTransformListenerChildren() {
                    const e = this.hasAncestorListenerNeed();
                    this.relativeChildrenListenersCount++,
                      e !== this.hasAncestorListenerNeed() &&
                        this.parent &&
                        this.parent.incrementTransformListenerChildren();
                  }
                  decrementTransformListenerChildren() {
                    const e = this.hasAncestorListenerNeed();
                    this.relativeChildrenListenersCount--,
                      e !== this.hasAncestorListenerNeed() &&
                        this.parent &&
                        this.parent.decrementTransformListenerChildren();
                  }
                  addListener(e) {
                    const t = this.hasAncestorListenerNeed();
                    this.relativeTransformListeners.push(e),
                      t !== this.hasAncestorListenerNeed() &&
                        (this.parent &&
                          this.parent.incrementTransformListenerChildren(),
                        this.hasAncestorComputeNeed() ||
                          this.forceMarkTransformDirty());
                  }
                  removeListener(e) {
                    const t = this.hasAncestorListenerNeed();
                    this.relativeTransformListeners.splice(
                      _.indexOf(this.relativeTransformListeners, e),
                      1
                    ),
                      t !== this.hasAncestorListenerNeed() &&
                        this.parent &&
                        this.parent.decrementTransformListenerChildren();
                  }
                  hasDescendantComputeNeed() {
                    return this.instance.isTransformed
                      ? this.relativeChildrenPrecomputeCount > 0
                      : this.relativeChildrenPrecomputeCount > 0 ||
                          this.relativePrecomputeCount > 0;
                  }
                  hasAncestorComputeNeed() {
                    return this.instance.isTransformed
                      ? this.relativePrecomputeCount > 0
                      : this.relativeChildrenPrecomputeCount > 0 ||
                          this.relativePrecomputeCount > 0;
                  }
                  hasSelfComputeNeed() {
                    return this.relativePrecomputeCount > 0;
                  }
                  incrementTransformPrecomputeChildren() {
                    const e = this.hasAncestorComputeNeed();
                    this.relativeChildrenPrecomputeCount++,
                      e !== this.hasAncestorComputeNeed() &&
                        this.parent &&
                        this.parent.incrementTransformPrecomputeChildren();
                  }
                  decrementTransformPrecomputeChildren() {
                    const e = this.hasAncestorComputeNeed();
                    this.relativeChildrenPrecomputeCount--,
                      e !== this.hasAncestorComputeNeed() &&
                        this.parent &&
                        this.parent.decrementTransformPrecomputeChildren();
                  }
                  addPrecompute() {
                    const e = this.hasAncestorComputeNeed();
                    this.relativePrecomputeCount++,
                      e !== this.hasAncestorComputeNeed() &&
                        (this.parent &&
                          this.parent.incrementTransformPrecomputeChildren(),
                        this.hasAncestorListenerNeed() ||
                          this.forceMarkTransformDirty());
                  }
                  removePrecompute() {
                    const e = this.hasAncestorComputeNeed();
                    this.relativePrecomputeCount--,
                      e !== this.hasAncestorComputeNeed() &&
                        this.parent &&
                        this.parent.decrementTransformPrecomputeChildren();
                  }
                  onNodeTransformDirty() {
                    this.transformDirty || this.forceMarkTransformDirty();
                  }
                  forceMarkTransformDirty() {
                    (this.transformDirty = !0), (this.relativeSelfDirty = !0);
                    const e = this.display._frameId;
                    let t = this.instance.parent;
                    for (
                      ;
                      t && t.relativeTransform.relativeChildDirtyFrame !== e;

                    ) {
                      const i = t.parent,
                        s = t.isTransformed;
                      if (
                        ((t.relativeTransform.relativeChildDirtyFrame = e),
                        null === i)
                      ) {
                        this.display.markTransformRootDirty(t, s);
                        break;
                      }
                      if (s) {
                        this.display.markTransformRootDirty(t, !0);
                        break;
                      }
                      t = i;
                    }
                  }
                  computeRelativeTransform() {
                    const e = this.node.getMatrix();
                    this.instance.parent && !this.instance.parent.isTransformed
                      ? (this.matrix.set(this.parent.matrix),
                        this.matrix.multiplyMatrix(e))
                      : this.matrix.set(e),
                      (this.relativeFrameId = this.display._frameId),
                      (this.relativeSelfDirty = !1);
                  }
                  isValidationNotNeeded() {
                    return (
                      this.hasAncestorComputeNeed() ||
                      this.relativeFrameId === this.display._frameId
                    );
                  }
                  validate() {
                    if (
                      !this.isValidationNotNeeded() &&
                      (this.instance.parent &&
                        !this.instance.parent.isTransformed &&
                        this.parent.validate(),
                      this.relativeSelfDirty)
                    ) {
                      this.computeRelativeTransform();
                      const e = this.instance.children.length;
                      for (let t = 0; t < e; t++)
                        this.instance.children[
                          t
                        ].relativeTransform.relativeSelfDirty = !0;
                    }
                  }
                  updateTransformListenersAndCompute(e, t, i, s) {
                    let n, r;
                    if (s)
                      for (n = this.instance.children.length, r = 0; r < n; r++)
                        this.instance.children[
                          r
                        ].relativeTransform.updateTransformListenersAndCompute(
                          !1,
                          !1,
                          i,
                          !1
                        );
                    else {
                      const o = e || this.relativeSelfDirty,
                        a = o || this.relativeChildDirtyFrame === i,
                        h = this.hasDescendantComputeNeed(),
                        l = this.hasDescendantListenerNeed(),
                        d = this.hasSelfComputeNeed(),
                        c = this.hasSelfListenerNeed();
                      if (
                        (h || !o || t || (this.relativeSelfDirty = !0),
                        !a || (!h && !l && !d && !c))
                      )
                        return;
                      if (
                        (o && (h || d) && this.computeRelativeTransform(),
                        this.transformDirty && (this.transformDirty = !1),
                        this.notifyRelativeTransformListeners(),
                        !this.instance.isTransformed || s)
                      ) {
                        const e = o && !(h || d);
                        for (
                          n = this.instance.children.length, r = 0;
                          r < n;
                          r++
                        )
                          this.instance.children[
                            r
                          ].relativeTransform.updateTransformListenersAndCompute(
                            o,
                            e,
                            i,
                            !1
                          );
                      }
                    }
                  }
                  notifyRelativeTransformListeners() {
                    const e = this.relativeTransformListeners.length;
                    for (let t = 0; t < e; t++)
                      this.relativeTransformListeners[t]();
                  }
                  audit(e, t) {}
                }
                G.register("RelativeTransform", su);
                const nu = su;
                class ru {
                  constructor(e, t) {
                    this.initialize(e, t);
                  }
                  initialize(e, t) {
                    (this.nextChangeInterval = null),
                      (this.drawableBefore = e),
                      (this.drawableAfter = t),
                      (this.collapsedEmpty = !1);
                  }
                  dispose() {
                    (this.nextChangeInterval = null),
                      (this.drawableBefore = null),
                      (this.drawableAfter = null),
                      this.freeToPool();
                  }
                  constrict() {
                    let e = !1;
                    if (this.isEmpty()) return !0;
                    for (
                      ;
                      this.drawableBefore &&
                      this.drawableBefore.nextDrawable ===
                        this.drawableBefore.oldNextDrawable;

                    )
                      if (
                        ((this.drawableBefore =
                          this.drawableBefore.nextDrawable),
                        (e = !0),
                        this.drawableBefore || (this.collapsedEmpty = !0),
                        this.isEmpty())
                      )
                        return !0;
                    for (
                      ;
                      this.drawableAfter &&
                      this.drawableAfter.previousDrawable ===
                        this.drawableAfter.oldPreviousDrawable;

                    )
                      if (
                        ((this.drawableAfter =
                          this.drawableAfter.previousDrawable),
                        (e = !0),
                        this.drawableAfter || (this.collapsedEmpty = !0),
                        this.isEmpty())
                      )
                        return !0;
                    return e;
                  }
                  isEmpty() {
                    return (
                      this.collapsedEmpty ||
                      (null !== this.drawableBefore &&
                        this.drawableBefore === this.drawableAfter)
                    );
                  }
                  getOldInternalDrawableCount(e, t) {
                    const i = this.drawableBefore
                        ? this.drawableBefore.oldNextDrawable
                        : e,
                      s = this.drawableAfter;
                    let n = 0;
                    for (let r = i; r !== s; r = r.oldNextDrawable) n++;
                    return n;
                  }
                  getNewInternalDrawableCount(e, t) {
                    const i = this.drawableBefore
                        ? this.drawableBefore.nextDrawable
                        : e,
                      s = this.drawableAfter;
                    let n = 0;
                    for (let r = i; r !== s; r = r.nextDrawable) n++;
                    return n;
                  }
                  static newForDisplay(e, t, i) {
                    const s = ru.createFromPool(e, t);
                    return i.markChangeIntervalToDispose(s), s;
                  }
                }
                G.register("ChangeInterval", ru), Tt.Z.mixInto(ru);
                const ou = ru;
                class au {
                  constructor(e) {
                    this.instance = e;
                  }
                  initialize(e, t) {
                    return (
                      (this.display = e),
                      (this.trail = t),
                      (this.node = t && t.lastNode()),
                      (this.selfFittable = !!t && this.isSelfFitSupported()),
                      (this.ancestorsFittable = this.selfFittable),
                      (this.subtreeUnfittableCount = this.selfFittable ? 0 : 1),
                      (this.subtreeFittabilityChangeEmitter =
                        this.subtreeFittabilityChangeEmitter || new Q.Z()),
                      this
                    );
                  }
                  get parent() {
                    return this.instance.parent
                      ? this.instance.parent.fittability
                      : null;
                  }
                  checkSelfFittability() {
                    const e = this.isSelfFitSupported();
                    this.selfFittable !== e && this.updateSelfFittable();
                  }
                  isSelfFitSupported() {
                    return !this.node.isPreventFit();
                  }
                  markSubtreeFittable() {
                    if (!this.selfFittable) return;
                    this.ancestorsFittable = !0;
                    const e = this.instance.children;
                    for (let t = 0; t < e.length; t++)
                      e[t].fittability.markSubtreeFittable();
                    this.instance.updateDrawableFittability(!0);
                  }
                  markSubtreeUnfittable() {
                    if (!this.ancestorsFittable) return;
                    this.ancestorsFittable = !1;
                    const e = this.instance.children;
                    for (let t = 0; t < e.length; t++)
                      e[t].fittability.markSubtreeUnfittable();
                    this.instance.updateDrawableFittability(!1);
                  }
                  updateSelfFittable() {
                    const e = this.isSelfFitSupported();
                    (this.selfFittable = e),
                      !this.selfFittable ||
                      (this.parent && !this.parent.ancestorsFittable)
                        ? this.selfFittable || this.markSubtreeUnfittable()
                        : this.markSubtreeFittable(),
                      this.selfFittable
                        ? this.decrementSubtreeUnfittableCount()
                        : this.incrementSubtreeUnfittableCount();
                  }
                  incrementSubtreeUnfittableCount() {
                    this.subtreeUnfittableCount++,
                      1 === this.subtreeUnfittableCount &&
                        (this.parent &&
                          this.parent.incrementSubtreeUnfittableCount(),
                        this.subtreeFittabilityChangeEmitter.emit());
                  }
                  decrementSubtreeUnfittableCount() {
                    this.subtreeUnfittableCount--,
                      0 === this.subtreeUnfittableCount &&
                        (this.parent &&
                          this.parent.decrementSubtreeUnfittableCount(),
                        this.subtreeFittabilityChangeEmitter.emit());
                  }
                  onInsert(e) {
                    this.ancestorsFittable || e.markSubtreeUnfittable(),
                      e.subtreeUnfittableCount > 0 &&
                        this.incrementSubtreeUnfittableCount();
                  }
                  onRemove(e) {
                    this.ancestorsFittable || e.markSubtreeFittable(),
                      e.subtreeUnfittableCount > 0 &&
                        this.decrementSubtreeUnfittableCount();
                  }
                  audit() {
                    0;
                  }
                }
                G.register("Fittability", au);
                const hu = au;
                let lu = 1;
                class du {
                  constructor(e, t, i) {
                    (this.id = "group" + lu++), this.initialize(e, t, i);
                  }
                  initialize(e, t, i) {
                    (this.block = e),
                      (this.instance = t),
                      (this.node = t.trail.lastNode()),
                      (this.parent = i),
                      (this.children = (0, Mi.Z)(this.children)),
                      (this.hasSelfDrawable = !1),
                      (this.selfDrawable = null),
                      (this.dirty = !0),
                      (this.willApplyTransforms =
                        this.block.transformRootInstance.trail.nodes.length <
                        this.instance.trail.nodes.length),
                      (this.willApplyFilters =
                        this.block.filterRootInstance.trail.nodes.length <
                        this.instance.trail.nodes.length),
                      (this.transformDirty = !0),
                      (this.hasTransform =
                        void 0 !== this.hasTransform && this.hasTransform),
                      (this.transformDirtyListener =
                        this.transformDirtyListener ||
                        this.markTransformDirty.bind(this)),
                      this.willApplyTransforms &&
                        this.node.transformEmitter.addListener(
                          this.transformDirtyListener
                        ),
                      (this.filterDirty = !0),
                      (this.visibilityDirty = !0),
                      (this.clipDirty = !0),
                      (this.filterElement = this.filterElement || null),
                      (this.hasOpacity =
                        void 0 !== this.hasOpacity && this.hasOpacity),
                      (this.hasFilter = !1),
                      (this.clipDefinition =
                        void 0 !== this.clipDefinition
                          ? this.clipDefinition
                          : null),
                      (this.clipPath =
                        void 0 !== this.clipPath ? this.clipPath : null),
                      (this.filterChangeListener =
                        this.filterChangeListener ||
                        this.onFilterChange.bind(this)),
                      (this.visibilityDirtyListener =
                        this.visibilityDirtyListener ||
                        this.onVisibleChange.bind(this)),
                      (this.clipDirtyListener =
                        this.clipDirtyListener || this.onClipChange.bind(this)),
                      this.node.visibleProperty.lazyLink(
                        this.visibilityDirtyListener
                      ),
                      this.willApplyFilters &&
                        this.node.filterChangeEmitter.addListener(
                          this.filterChangeListener
                        ),
                      this.node.clipAreaProperty.lazyLink(
                        this.clipDirtyListener
                      ),
                      (this.orderDirty = !0),
                      (this.orderDirtyListener =
                        this.orderDirtyListener ||
                        this.markOrderDirty.bind(this)),
                      this.node.childrenChangedEmitter.addListener(
                        this.orderDirtyListener
                      ),
                      this.svgGroup ||
                        (this.svgGroup = document.createElementNS(Ie, "g")),
                      this.instance.addSVGGroup(this),
                      this.block.markDirtyGroup(this);
                  }
                  addSelfDrawable(e) {
                    (this.selfDrawable = e),
                      this.svgGroup.insertBefore(
                        e.svgElement,
                        this.children.length ? this.children[0].svgGroup : null
                      ),
                      (this.hasSelfDrawable = !0);
                  }
                  removeSelfDrawable(e) {
                    (this.hasSelfDrawable = !1),
                      this.svgGroup.removeChild(e.svgElement),
                      (this.selfDrawable = null);
                  }
                  addChildGroup(e) {
                    this.markOrderDirty(),
                      (e.parent = this),
                      this.children.push(e),
                      this.svgGroup.appendChild(e.svgGroup);
                  }
                  removeChildGroup(e) {
                    this.markOrderDirty(),
                      (e.parent = null),
                      this.children.splice(_.indexOf(this.children, e), 1),
                      this.svgGroup.removeChild(e.svgGroup);
                  }
                  markDirty() {
                    this.dirty ||
                      ((this.dirty = !0), this.block.markDirtyGroup(this));
                  }
                  markOrderDirty() {
                    this.orderDirty ||
                      ((this.orderDirty = !0), this.markDirty());
                  }
                  markTransformDirty() {
                    this.transformDirty ||
                      ((this.transformDirty = !0), this.markDirty());
                  }
                  onFilterChange() {
                    this.filterDirty ||
                      ((this.filterDirty = !0), this.markDirty());
                  }
                  onVisibleChange() {
                    this.visibilityDirty ||
                      ((this.visibilityDirty = !0), this.markDirty());
                  }
                  onClipChange() {
                    this.clipDirty || ((this.clipDirty = !0), this.markDirty());
                  }
                  update() {
                    if (!this.block) return;
                    const e = this.svgGroup;
                    if (((this.dirty = !1), this.transformDirty))
                      if (
                        ((this.transformDirty = !1), this.willApplyTransforms)
                      ) {
                        this.node.transform.isIdentity()
                          ? this.hasTransform &&
                            ((this.hasTransform = !1),
                            e.removeAttribute("transform"))
                          : ((this.hasTransform = !0),
                            e.setAttribute(
                              "transform",
                              this.node.transform.getMatrix().getSVGTransform()
                            ));
                      } else
                        this.hasTransform &&
                          ((this.hasTransform = !1),
                          e.removeAttribute("transform"));
                    if (
                      (this.visibilityDirty &&
                        ((this.visibilityDirty = !1),
                        (e.style.display = this.node.isVisible()
                          ? ""
                          : "none")),
                      this.filterDirty)
                    ) {
                      this.filterDirty = !1;
                      const t = this.node.effectiveOpacity;
                      this.willApplyFilters && 1 !== t
                        ? ((this.hasOpacity = !0), e.setAttribute("opacity", t))
                        : this.hasOpacity &&
                          ((this.hasOpacity = !1),
                          e.removeAttribute("opacity"));
                      const i =
                          this.willApplyFilters && this.node._filters.length,
                        s = "filter-" + this.id;
                      if (i) {
                        for (
                          this.filterElement ||
                          ((this.filterElement = document.createElementNS(
                            Ie,
                            "filter"
                          )),
                          this.filterElement.setAttribute("id", s));
                          this.filterElement.firstChild;

                        )
                          this.filterElement.removeChild(
                            this.filterElement.lastChild
                          );
                        let e = 50,
                          t = "SourceGraphic";
                        const i = this.node._filters.length;
                        for (let s = 0; s < i; s++) {
                          const n = this.node._filters[s],
                            r = s === i - 1 ? void 0 : "e" + s;
                          n.applySVGFilter(this.filterElement, t, r),
                            (e += n.filterRegionPercentageIncrease),
                            (t = r);
                        }
                        const n = `-${(0, ji.Z)(e)}%`,
                          r = (0, ji.Z)(2 * e + 100) + "%";
                        this.filterElement.setAttribute("x", n),
                          this.filterElement.setAttribute("y", n),
                          this.filterElement.setAttribute("width", r),
                          this.filterElement.setAttribute("height", r);
                      }
                      i &&
                        (this.hasFilter ||
                          this.block.defs.appendChild(this.filterElement),
                        e.setAttribute("filter", `url(#${s})`),
                        (this.hasFilter = !0)),
                        this.hasFilter &&
                          !i &&
                          (e.removeAttribute("filter"),
                          (this.hasFilter = !1),
                          this.block.defs.removeChild(this.filterElement));
                    }
                    if (this.clipDirty)
                      if (((this.clipDirty = !1), this.node.clipArea)) {
                        if (!this.clipDefinition) {
                          const t = "clip" + this.node.getId();
                          (this.clipDefinition = document.createElementNS(
                            Ie,
                            "clipPath"
                          )),
                            this.clipDefinition.setAttribute("id", t),
                            this.clipDefinition.setAttribute(
                              "clipPathUnits",
                              "userSpaceOnUse"
                            ),
                            this.block.defs.appendChild(this.clipDefinition),
                            (this.clipPath = document.createElementNS(
                              Ie,
                              "path"
                            )),
                            this.clipDefinition.appendChild(this.clipPath),
                            e.setAttribute("clip-path", `url(#${t})`);
                        }
                        this.clipPath.setAttribute(
                          "d",
                          this.node.clipArea.getSVGPath()
                        );
                      } else
                        this.clipDefinition &&
                          (e.removeAttribute("clip-path"),
                          this.block.defs.removeChild(this.clipDefinition),
                          (this.clipDefinition = null),
                          (this.clipPath = null));
                    if (this.orderDirty) {
                      this.orderDirty = !1;
                      let t = this.children.length - 1;
                      const i = this.instance.children;
                      for (let s = i.length - 1; s >= 0; s--) {
                        const n = i[s].lookupSVGGroup(this.block);
                        if (n) {
                          if (this.children[t] !== n) {
                            e.insertBefore(
                              n.svgGroup,
                              t + 1 >= this.children.length
                                ? null
                                : this.children[t + 1].svgGroup
                            );
                            const i = _.indexOf(this.children, n);
                            this.children.splice(i, 1),
                              this.children.splice(t, 0, n);
                          }
                          t--;
                        }
                      }
                    }
                  }
                  isReleasable() {
                    return (
                      !this.hasSelfDrawable &&
                      !this.children.length &&
                      this.parent
                    );
                  }
                  dispose() {
                    this.hasFilter &&
                      (this.svgGroup.removeAttribute("filter"),
                      (this.hasFilter = !1),
                      this.block.defs.removeChild(this.filterElement)),
                      this.willApplyTransforms &&
                        this.node.transformEmitter.removeListener(
                          this.transformDirtyListener
                        ),
                      this.node.visibleProperty.unlink(
                        this.visibilityDirtyListener
                      ),
                      this.willApplyFilters &&
                        this.node.filterChangeEmitter.removeListener(
                          this.filterChangeListener
                        ),
                      this.node.clipAreaProperty.unlink(this.clipDirtyListener),
                      this.node.childrenChangedEmitter.removeListener(
                        this.orderDirtyListener
                      ),
                      this.instance.active &&
                        this.instance.removeSVGGroup(this),
                      this.clipDefinition &&
                        (this.svgGroup.removeAttribute("clip-path"),
                        this.block.defs.removeChild(this.clipDefinition),
                        (this.clipDefinition = null),
                        (this.clipPath = null)),
                      (this.parent = null),
                      (this.block = null),
                      (this.instance = null),
                      (this.node = null),
                      (0, Mi.Z)(this.children),
                      (this.selfDrawable = null),
                      this.freeToPool();
                  }
                  toString() {
                    return `SVGGroup:${this.block.toString()}_${this.instance.toString()}`;
                  }
                  static addDrawable(e, t) {
                    du.ensureGroupsToInstance(e, t.instance).addSelfDrawable(t);
                  }
                  static removeDrawable(e, t) {
                    t.instance.lookupSVGGroup(e).removeSelfDrawable(t),
                      du.releaseGroupsToInstance(e, t.instance);
                  }
                  static ensureGroupsToInstance(e, t) {
                    let i = t.lookupSVGGroup(e);
                    if (!i) {
                      const s = du.ensureGroupsToInstance(e, t.parent);
                      (i = du.createFromPool(e, t, s)), s.addChildGroup(i);
                    }
                    return i;
                  }
                  static releaseGroupsToInstance(e, t) {
                    const i = t.lookupSVGGroup(e);
                    if (i.isReleasable()) {
                      const t = i.parent;
                      t.removeChildGroup(i),
                        du.releaseGroupsToInstance(e, t.instance),
                        i.dispose();
                    }
                  }
                }
                G.register("SVGGroup", du), Tt.Z.mixInto(du);
                const cu = du;
                class uu extends Vd {
                  initialize(e, t) {
                    super.initialize(t),
                      (this.display = e),
                      (this.drawableCount = 0),
                      (this.used = !0),
                      (this.firstDrawable = null),
                      (this.lastDrawable = null),
                      (this.pendingFirstDrawable = null),
                      (this.pendingLastDrawable = null),
                      (this.previousBlock = null),
                      (this.nextBlock = null),
                      (this.zIndex = 0);
                  }
                  dispose() {
                    (this.display = null),
                      (this.firstDrawable = null),
                      (this.lastDrawable = null),
                      (this.pendingFirstDrawable = null),
                      (this.pendingLastDrawable = null),
                      (this.previousBlock = null),
                      (this.nextBlock = null),
                      super.dispose();
                  }
                  addDrawable(e) {
                    this.drawableCount++, this.markDirtyDrawable(e);
                  }
                  removeDrawable(e) {
                    this.drawableCount--, this.markDirty();
                  }
                  onIntervalChange(e, t) {}
                  updateInterval() {
                    (this.pendingFirstDrawable === this.firstDrawable &&
                      this.pendingLastDrawable === this.lastDrawable) ||
                      (this.onIntervalChange(
                        this.pendingFirstDrawable,
                        this.pendingLastDrawable
                      ),
                      (this.firstDrawable = this.pendingFirstDrawable),
                      (this.lastDrawable = this.pendingLastDrawable));
                  }
                  notifyInterval(e, t) {
                    (this.pendingFirstDrawable = e),
                      (this.pendingLastDrawable = t),
                      this.updateInterval();
                  }
                  audit(e, t, i) {
                    0;
                  }
                }
                G.register("Block", uu);
                const pu = uu,
                  gu = Oe.Z.NOTHING.copy();
                class mu extends pu {
                  initialize(e, t, i, s) {
                    return (
                      super.initialize(e, t),
                      (this.transformRootInstance = i),
                      (this.canBeFullDisplay = i.isDisplayRoot),
                      (this.preferredFit = s),
                      (this.fit = s),
                      (this.dirtyFit = !0),
                      (this.commonFitInstance = null),
                      (this.fitBounds = Oe.Z.NOTHING.copy()),
                      (this.oldFitBounds = Oe.Z.NOTHING.copy()),
                      (this.unfittableDrawableCount = 0),
                      (this.dirtyFitListener =
                        this.dirtyFitListener || this.markDirtyFit.bind(this)),
                      (this.fittableListener =
                        this.fittableListener ||
                        this.onFittabilityChange.bind(this)),
                      this.display.sizeProperty.lazyLink(this.dirtyFitListener),
                      this
                    );
                  }
                  setFit(e) {
                    this.canBeFullDisplay ||
                      e !== mu.FULL_DISPLAY ||
                      (e = mu.COMMON_ANCESTOR),
                      this.fit !== e &&
                        ((this.fit = e),
                        this.markDirtyFit(),
                        this.oldFitBounds.set(Oe.Z.NOTHING),
                        e === mu.COMMON_ANCESTOR &&
                          this.removeCommonFitInstance());
                  }
                  markDirtyFit() {
                    (this.dirtyFit = !0), this.markDirty();
                  }
                  updateFit() {
                    if (this.dirtyFit || this.fit !== mu.FULL_DISPLAY)
                      if (
                        ((this.dirtyFit = !1),
                        this.fit === mu.COMMON_ANCESTOR &&
                          null === this.commonFitInstance &&
                          this.addCommonFitInstance(
                            this.computeCommonAncestorInstance()
                          ),
                        this.fit === mu.COMMON_ANCESTOR &&
                          this.commonFitInstance.fittability
                            .subtreeUnfittableCount > 0 &&
                          this.canBeFullDisplay &&
                          (this.oldFitBounds.set(Oe.Z.NOTHING),
                          (this.fit = mu.FULL_DISPLAY)),
                        this.fit === mu.FULL_DISPLAY)
                      )
                        this.fitBounds.set(Oe.Z.NOTHING),
                          this.setSizeFullDisplay();
                      else {
                        if (this.fit !== mu.COMMON_ANCESTOR)
                          throw new Error("unknown fit");
                        {
                          this.fitBounds.set(
                            this.commonFitInstance.node.getLocalBounds()
                          );
                          let e = this.commonFitInstance;
                          for (; e !== this.transformRootInstance; )
                            this.fitBounds.transform(e.node.getMatrix()),
                              (e = e.parent);
                          this.fitBounds.roundOut(),
                            this.fitBounds.dilate(4),
                            this.transformRootInstance.isDisplayRoot &&
                              (gu.setMinMax(
                                0,
                                0,
                                this.display.width,
                                this.display.height
                              ),
                              this.fitBounds.constrainBounds(gu)),
                            this.fitBounds.isValid() ||
                              this.fitBounds.setMinMax(0, 0, 0, 0),
                            this.fitBounds.equals(this.oldFitBounds) ||
                              (this.oldFitBounds.set(this.fitBounds),
                              this.setSizeFitBounds());
                        }
                      }
                  }
                  setSizeFullDisplay() {}
                  setSizeFitBounds() {}
                  addCommonFitInstance(e) {
                    e &&
                      ((this.commonFitInstance = e),
                      this.commonFitInstance.fittability.subtreeFittabilityChangeEmitter.addListener(
                        this.dirtyFitListener
                      ));
                  }
                  removeCommonFitInstance() {
                    this.commonFitInstance &&
                      (this.commonFitInstance.fittability.subtreeFittabilityChangeEmitter.removeListener(
                        this.dirtyFitListener
                      ),
                      (this.commonFitInstance = null));
                  }
                  dispose() {
                    this.display.sizeProperty.unlink(this.dirtyFitListener),
                      this.removeCommonFitInstance(),
                      (this.transformRootInstance = null),
                      super.dispose();
                  }
                  addDrawable(e) {
                    super.addDrawable(e),
                      e.fittableProperty.lazyLink(this.fittableListener),
                      e.fittable || this.incrementUnfittable();
                  }
                  removeDrawable(e) {
                    super.removeDrawable(e),
                      e.fittableProperty.unlink(this.fittableListener),
                      e.fittable || this.decrementUnfittable();
                  }
                  onFittabilityChange(e) {
                    e ? this.decrementUnfittable() : this.incrementUnfittable();
                  }
                  incrementUnfittable() {
                    this.unfittableDrawableCount++,
                      1 === this.unfittableDrawableCount &&
                        this.checkFitConstraints();
                  }
                  decrementUnfittable() {
                    this.unfittableDrawableCount--,
                      0 === this.unfittableDrawableCount &&
                        this.checkFitConstraints();
                  }
                  checkFitConstraints() {
                    this.unfittableDrawableCount > 0 && this.canBeFullDisplay
                      ? this.setFit(mu.FULL_DISPLAY)
                      : this.setFit(this.preferredFit);
                  }
                  computeCommonAncestorInstance() {
                    let e = this.firstDrawable.instance,
                      t = this.lastDrawable.instance;
                    const i = Math.min(e.trail.length, t.trail.length);
                    for (; e.trail.length > i; ) e = e.parent;
                    for (; t.trail.length > i; ) t = t.parent;
                    for (; e !== t; ) (e = e.parent), (t = t.parent);
                    return e;
                  }
                  onIntervalChange(e, t) {
                    super.onIntervalChange(e, t),
                      this.fit === mu.COMMON_ANCESTOR &&
                        (this.removeCommonFitInstance(), this.markDirtyFit());
                  }
                }
                G.register("FittedBlock", mu),
                  (mu.FULL_DISPLAY = 1),
                  (mu.COMMON_ANCESTOR = 2),
                  (mu.fitString = { 1: "fullDisplay", 2: "commonAncestor" });
                const Au = mu,
                  yu = new Le.Z(),
                  fu = new Le.Z();
                class Pu extends Au {
                  constructor(e, t, i, s) {
                    super(), this.initialize(e, t, i, s);
                  }
                  initialize(e, t, i, s) {
                    super.initialize(e, t, i, Au.COMMON_ANCESTOR),
                      (this.filterRootInstance = s),
                      (this.dirtyDrawables = (0, Mi.Z)(this.dirtyDrawables)),
                      this.domElement ||
                        ((this.canvas = document.createElement("canvas")),
                        (this.canvas.style.position = "absolute"),
                        (this.canvas.style.left = "0"),
                        (this.canvas.style.top = "0"),
                        (this.canvas.style.pointerEvents = "none"),
                        (this.canvasId = this.canvas.id =
                          "scenery-canvas" + this.id),
                        (this.context = this.canvas.getContext("2d")),
                        this.context.save(),
                        (this.context.miterLimit = 20),
                        (this.context.miterLimit = 10),
                        (this.wrapper = new At(this.canvas, this.context)),
                        (this.domElement = this.canvas),
                        (this.wrapperStack = [this.wrapper])),
                      (this.wrapperStackIndex = 0),
                      (this.filterListenerCountMap =
                        this.filterListenerCountMap || {}),
                      Ge.prepareForTransform(this.canvas),
                      Ge.unsetTransform(this.canvas),
                      (this.canvasDrawOffset = new Me.Z(0, 0)),
                      (this.currentDrawable = null),
                      (this.clipDirty = !0),
                      (this.clipCount = 0),
                      (this.backingScale =
                        t & xe.bitmaskCanvasLowResolution
                          ? 1
                          : Ge.backingScale(this.context)),
                      (this.clipDirtyListener = this.markDirty.bind(this)),
                      (this.opacityDirtyListener = this.markDirty.bind(this));
                  }
                  setSizeFullDisplay() {
                    const e = this.display.getSize();
                    (this.canvas.width = e.width * this.backingScale),
                      (this.canvas.height = e.height * this.backingScale),
                      (this.canvas.style.width = e.width + "px"),
                      (this.canvas.style.height = e.height + "px"),
                      this.wrapper.resetStyles(),
                      this.canvasDrawOffset.setXY(0, 0),
                      Ge.unsetTransform(this.canvas);
                  }
                  setSizeFitBounds() {
                    const e = this.fitBounds.minX,
                      t = this.fitBounds.minY;
                    this.canvasDrawOffset.setXY(-e, -t),
                      Ge.setTransform(`matrix(1,0,0,1,${e},${t})`, this.canvas),
                      (this.canvas.width =
                        this.fitBounds.width * this.backingScale),
                      (this.canvas.height =
                        this.fitBounds.height * this.backingScale),
                      (this.canvas.style.width = this.fitBounds.width + "px"),
                      (this.canvas.style.height = this.fitBounds.height + "px"),
                      this.wrapper.resetStyles();
                  }
                  update() {
                    if (!super.update()) return !1;
                    for (; this.dirtyDrawables.length; )
                      this.dirtyDrawables.pop().update();
                    this.updateFit(),
                      this.context.restore(),
                      this.context.setTransform(1, 0, 0, 1, 0, 0),
                      this.context.clearRect(
                        0,
                        0,
                        this.canvas.width,
                        this.canvas.height
                      ),
                      this.context.save(),
                      this.wrapper.resetStyles(),
                      (this.currentDrawable = null);
                    for (
                      let e = this.firstDrawable;
                      null !== e &&
                      (this.renderDrawable(e), e !== this.lastDrawable);
                      e = e.nextDrawable
                    );
                    return (
                      this.currentDrawable &&
                        this.walkDown(this.currentDrawable.instance.trail, 0),
                      !0
                    );
                  }
                  applyClip(e) {
                    this.clipDirty = !1;
                    const t = this.wrapperStack[this.wrapperStackIndex],
                      i = t.context;
                    if (
                      (i.restore(), i.save(), t.resetStyles(), this.clipCount)
                    ) {
                      const t = e.instance.trail;
                      yu.rowMajor(
                        this.backingScale,
                        0,
                        this.canvasDrawOffset.x * this.backingScale,
                        0,
                        this.backingScale,
                        this.canvasDrawOffset.y * this.backingScale,
                        0,
                        0,
                        1
                      ),
                        fu
                          .set(this.transformRootInstance.trail.getMatrix())
                          .invert(),
                        fu.multiplyMatrix(yu).canvasSetTransform(i);
                      for (let e = 0; e < t.length; e++) {
                        const s = t.nodes[e];
                        s.getMatrix().canvasAppendTransform(i),
                          s.hasClipArea() &&
                            (i.beginPath(),
                            s.clipArea.writeToContext(i),
                            i.clip());
                      }
                    }
                  }
                  pushWrapper() {
                    if (
                      (this.wrapperStackIndex++,
                      (this.clipDirty = !0),
                      this.wrapperStackIndex === this.wrapperStack.length)
                    ) {
                      const e = document.createElement("canvas"),
                        t = e.getContext("2d");
                      t.save(), this.wrapperStack.push(new At(e, t));
                    }
                    const e = this.wrapperStack[this.wrapperStackIndex],
                      t = e.context;
                    e.setDimensions(this.canvas.width, this.canvas.height),
                      t.setTransform(1, 0, 0, 1, 0, 0),
                      t.clearRect(0, 0, this.canvas.width, this.canvas.height);
                  }
                  popWrapper() {
                    this.wrapperStackIndex--, (this.clipDirty = !0);
                  }
                  walkDown(e, t) {
                    const i = this.filterRootInstance.trail.length - 1;
                    for (let s = e.length - 1; s >= t; s--) {
                      const t = e.nodes[s];
                      if (
                        (t.hasClipArea() &&
                          (this.clipCount--, (this.clipDirty = !0)),
                        s > i)
                      ) {
                        if (t._filters.length) {
                          const e = this.wrapperStack[this.wrapperStackIndex],
                            i = this.wrapperStack[this.wrapperStackIndex - 1];
                          this.popWrapper(),
                            i.context.setTransform(1, 0, 0, 1, 0, 0);
                          const s = t._filters;
                          let n = me.canvasFilter;
                          for (let t = 0; t < s.length; t++)
                            n = n && s[t].isDOMCompatible();
                          if (n) {
                            let t = "";
                            for (let e = 0; e < s.length; e++)
                              t += `${t ? " " : ""}${s[
                                e
                              ].getCSSFilterString()}`;
                            (i.context.filter = t),
                              i.context.drawImage(e.canvas, 0, 0),
                              (i.context.filter = "none");
                          } else {
                            for (let t = 0; t < s.length; t++)
                              s[t].applyCanvasFilter(e);
                            i.context.drawImage(e.canvas, 0, 0);
                          }
                        }
                        if (1 !== t.getEffectiveOpacity()) {
                          const e = this.wrapperStack[this.wrapperStackIndex],
                            i = this.wrapperStack[this.wrapperStackIndex - 1];
                          this.popWrapper(),
                            i.context.setTransform(1, 0, 0, 1, 0, 0),
                            (i.context.globalAlpha = t.getEffectiveOpacity()),
                            i.context.drawImage(e.canvas, 0, 0),
                            (i.context.globalAlpha = 1);
                        }
                      }
                    }
                  }
                  walkUp(e, t) {
                    const i = this.filterRootInstance.trail.length - 1;
                    for (let s = t; s < e.length; s++) {
                      const t = e.nodes[s];
                      s > i &&
                        (1 !== t.getEffectiveOpacity() && this.pushWrapper(),
                        t._filters.length && this.pushWrapper()),
                        t.hasClipArea() &&
                          (this.clipCount++, (this.clipDirty = !0));
                    }
                  }
                  renderDrawable(e) {
                    if (
                      !e.visible ||
                      0 === this.canvas.width ||
                      0 === this.canvas.height
                    )
                      return;
                    const t = this.currentDrawable
                      ? e.instance.getBranchIndexTo(
                          this.currentDrawable.instance
                        )
                      : 0;
                    this.currentDrawable &&
                      this.walkDown(this.currentDrawable.instance.trail, t),
                      this.walkUp(e.instance.trail, t);
                    const i = this.wrapperStack[this.wrapperStackIndex],
                      s = i.context;
                    this.clipDirty && this.applyClip(e);
                    const n = e.instance.relativeTransform.matrix;
                    s.setTransform(
                      this.backingScale,
                      0,
                      0,
                      this.backingScale,
                      this.canvasDrawOffset.x * this.backingScale,
                      this.canvasDrawOffset.y * this.backingScale
                    ),
                      e.instance !== this.transformRootInstance &&
                        n.canvasAppendTransform(s),
                      e.paintCanvas(
                        i,
                        e.instance.node,
                        e.instance.relativeTransform.matrix
                      ),
                      (this.currentDrawable = e);
                  }
                  dispose() {
                    (this.transformRootInstance = null),
                      (0, Mi.Z)(this.dirtyDrawables),
                      (this.canvas.width = 0),
                      (this.canvas.height = 0),
                      super.dispose();
                  }
                  markDirtyDrawable(e) {
                    this.dirtyDrawables.push(e), this.markDirty();
                  }
                  addDrawable(e) {
                    super.addDrawable(e);
                    for (
                      let t = e.instance;
                      t && t !== this.filterRootInstance;
                      t = t.parent
                    ) {
                      const e = t.node;
                      this.filterListenerCountMap[e.id]
                        ? this.filterListenerCountMap[e.id]++
                        : ((this.filterListenerCountMap[e.id] = 1),
                          e.filterChangeEmitter.addListener(
                            this.opacityDirtyListener
                          ),
                          e.clipAreaProperty.lazyLink(this.clipDirtyListener));
                    }
                  }
                  removeDrawable(e) {
                    for (
                      let t = e.instance;
                      t && t !== this.filterRootInstance;
                      t = t.parent
                    ) {
                      const e = t.node;
                      this.filterListenerCountMap[e.id]--,
                        0 === this.filterListenerCountMap[e.id] &&
                          (delete this.filterListenerCountMap[e.id],
                          e.clipAreaProperty.unlink(this.clipDirtyListener),
                          e.filterChangeEmitter.removeListener(
                            this.opacityDirtyListener
                          ));
                    }
                    super.removeDrawable(e);
                  }
                  onIntervalChange(e, t) {
                    super.onIntervalChange(e, t), this.markDirty();
                  }
                  onPotentiallyMovedDrawable(e) {
                    e.markDirty();
                  }
                  toString() {
                    return `CanvasBlock#${this.id}-${Au.fitString[this.fit]}`;
                  }
                }
                G.register("CanvasBlock", Pu), Tt.Z.mixInto(Pu);
                const bu = Pu;
                class vu extends pu {
                  constructor(e, t) {
                    super(), this.initialize(e, t);
                  }
                  initialize(e, t) {
                    return (
                      super.initialize(e, t.renderer),
                      (this.domDrawable = t),
                      (this.domElement = t.domElement),
                      this
                    );
                  }
                  update() {
                    return !!super.update() && (this.domDrawable.update(), !0);
                  }
                  dispose() {
                    (this.domDrawable = null),
                      (this.domElement = null),
                      super.dispose();
                  }
                  markDirtyDrawable(e) {
                    this.markDirty();
                  }
                  addDrawable(e) {
                    super.addDrawable(e);
                  }
                  removeDrawable(e) {
                    super.removeDrawable(e);
                  }
                }
                G.register("DOMBlock", vu), Tt.Z.mixInto(vu);
                const Vu = vu;
                class wu extends Au {
                  constructor(e, t, i, s) {
                    super(), this.initialize(e, t, i, s);
                  }
                  initialize(e, t, i, s) {
                    super.initialize(e, t, i, Au.COMMON_ANCESTOR),
                      (this.filterRootInstance = s),
                      (this.dirtyGradients = (0, Mi.Z)(this.dirtyGradients)),
                      (this.dirtyGroups = (0, Mi.Z)(this.dirtyGroups)),
                      (this.dirtyDrawables = (0, Mi.Z)(this.dirtyDrawables)),
                      (this.paintCountMap =
                        this.paintCountMap ||
                        new It(
                          this.onAddPaint.bind(this),
                          this.onRemovePaint.bind(this)
                        )),
                      (this.areReferencesReduced = !0),
                      this.domElement ||
                        ((this.svg = document.createElementNS(Ie, "svg")),
                        (this.svg.style.position = "absolute"),
                        (this.svg.style.left = "0"),
                        (this.svg.style.top = "0"),
                        this.svg.setAttribute("focusable", !1),
                        (this.svg.style["pointer-events"] = "none"),
                        (this.defs = document.createElementNS(Ie, "defs")),
                        this.svg.appendChild(this.defs),
                        (this.baseTransformGroup = document.createElementNS(
                          Ie,
                          "g"
                        )),
                        this.svg.appendChild(this.baseTransformGroup),
                        (this.domElement = this.svg)),
                      Ge.prepareForTransform(this.svg),
                      Ge.unsetTransform(this.svg),
                      this.baseTransformGroup.setAttribute("transform", "");
                    const n =
                      i.trail.nodes.length > s.trail.nodes.length ? s : i;
                    return (
                      (this.rootGroup = cu.createFromPool(this, n, null)),
                      this.baseTransformGroup.appendChild(
                        this.rootGroup.svgGroup
                      ),
                      this
                    );
                  }
                  onAddPaint(e) {
                    const t = e.createSVGPaint(this);
                    return (
                      t.definition.setAttribute("id", `${e.id}-${this.id}`),
                      this.defs.appendChild(t.definition),
                      t
                    );
                  }
                  onRemovePaint(e, t) {
                    this.defs.removeChild(t.definition), t.dispose();
                  }
                  incrementPaint(e) {
                    this.paintCountMap.increment(e);
                  }
                  decrementPaint(e) {
                    this.paintCountMap.decrement(e);
                  }
                  markDirtyGradient(e) {
                    this.dirtyGradients.push(e), this.markDirty();
                  }
                  markDirtyGroup(e) {
                    this.dirtyGroups.push(e),
                      this.markDirty(),
                      this.areReferencesReduced &&
                        this.display.markForReducedReferences(this),
                      (this.areReferencesReduced = !1);
                  }
                  markDirtyDrawable(e) {
                    this.dirtyDrawables.push(e),
                      this.markDirty(),
                      this.areReferencesReduced &&
                        this.display.markForReducedReferences(this),
                      (this.areReferencesReduced = !1);
                  }
                  setSizeFullDisplay() {
                    this.baseTransformGroup.removeAttribute("transform"),
                      Ge.unsetTransform(this.svg);
                    const e = this.display.getSize();
                    this.svg.setAttribute("width", e.width),
                      this.svg.setAttribute("height", e.height);
                  }
                  setSizeFitBounds() {
                    const e = this.fitBounds.minX,
                      t = this.fitBounds.minY;
                    this.baseTransformGroup.setAttribute(
                      "transform",
                      `translate(${-e},${-t})`
                    ),
                      Ge.setTransform(`matrix(1,0,0,1,${e},${t})`, this.svg),
                      this.svg.setAttribute("width", this.fitBounds.width),
                      this.svg.setAttribute("height", this.fitBounds.height);
                  }
                  update() {
                    if (!super.update()) return !1;
                    for (; this.dirtyGroups.length; ) {
                      const e = this.dirtyGroups.pop();
                      e.block === this && e.update();
                    }
                    for (; this.dirtyGradients.length; )
                      this.dirtyGradients.pop().update();
                    for (; this.dirtyDrawables.length; ) {
                      const e = this.dirtyDrawables.pop();
                      e.parentDrawable === this && e.update();
                    }
                    return (
                      (this.areReferencesReduced = !0), this.updateFit(), !0
                    );
                  }
                  reduceReferences() {
                    if (this.areReferencesReduced) return;
                    let e = 0,
                      t = 0;
                    for (; e < this.dirtyGroups.length; ) {
                      const i = this.dirtyGroups[e];
                      i.block === this &&
                        (t !== e && (this.dirtyGroups[t] = i), t++),
                        e++;
                    }
                    for (; this.dirtyGroups.length > t; )
                      this.dirtyGroups.pop();
                    for (e = 0, t = 0; e < this.dirtyDrawables.length; ) {
                      const i = this.dirtyDrawables[e];
                      i.parentDrawable === this &&
                        (t !== e && (this.dirtyDrawables[t] = i), t++),
                        e++;
                    }
                    for (; this.dirtyDrawables.length > t; )
                      this.dirtyDrawables.pop();
                    this.areReferencesReduced = !0;
                  }
                  dispose() {
                    for (
                      this.svg.setAttribute("width", "0"),
                        this.svg.setAttribute("height", "0"),
                        this.filterRootInstance = null,
                        (0, Mi.Z)(this.dirtyGradients),
                        (0, Mi.Z)(this.dirtyGroups),
                        (0, Mi.Z)(this.dirtyDrawables),
                        this.paintCountMap.clear(),
                        this.baseTransformGroup.removeChild(
                          this.rootGroup.svgGroup
                        ),
                        this.rootGroup.dispose(),
                        this.rootGroup = null;
                      this.defs.childNodes.length;

                    )
                      this.defs.removeChild(this.defs.childNodes[0]);
                    super.dispose();
                  }
                  addDrawable(e) {
                    super.addDrawable(e),
                      cu.addDrawable(this, e),
                      e.updateSVGBlock(this);
                  }
                  removeDrawable(e) {
                    cu.removeDrawable(this, e), super.removeDrawable(e);
                  }
                  onIntervalChange(e, t) {
                    super.onIntervalChange(e, t);
                  }
                  toString() {
                    return `SVGBlock#${this.id}-${Au.fitString[this.fit]}`;
                  }
                }
                G.register("SVGBlock", wu), Tt.Z.mixInto(wu);
                const Eu = wu;
                class Su extends Au {
                  constructor(e, t, i, s) {
                    super(), this.initialize(e, t, i, s);
                  }
                  initialize(e, t, i, s) {
                    return (
                      super.initialize(e, t, i, Au.FULL_DISPLAY),
                      (this.filterRootInstance = s),
                      (this.preserveDrawingBuffer = e._preserveDrawingBuffer),
                      (this.dirtyDrawables = (0, Mi.Z)(this.dirtyDrawables)),
                      (this.spriteSheets = this.spriteSheets || []),
                      (this.projectionMatrix =
                        this.projectionMatrix || new Le.Z()),
                      (this.projectionMatrixArray = new Float32Array(9)),
                      (this.customProcessor = this.customProcessor || new xu()),
                      (this.vertexColorPolygonsProcessor =
                        this.vertexColorPolygonsProcessor ||
                        new Cu(this.projectionMatrixArray)),
                      (this.texturedTrianglesProcessor =
                        this.texturedTrianglesProcessor ||
                        new Iu(this.projectionMatrixArray)),
                      (this.glChangedEmitter = new Q.Z()),
                      (this.isContextLost = !1),
                      (this.contextLostListener =
                        this.onContextLoss.bind(this)),
                      (this.contextRestoreListener =
                        this.onContextRestoration.bind(this)),
                      this.domElement ||
                        ((this.domElement = document.createElement("div")),
                        (this.domElement.className = "webgl-container"),
                        (this.domElement.style.position = "absolute"),
                        (this.domElement.style.left = "0"),
                        (this.domElement.style.top = "0"),
                        this.rebuildCanvas()),
                      this.gl.clear(this.gl.COLOR_BUFFER_BIT),
                      Ge.prepareForTransform(this.canvas),
                      Ge.unsetTransform(this.canvas),
                      this
                    );
                  }
                  rebuildCanvas() {
                    const e = document.createElement("canvas"),
                      t = this.getContextFromCanvas(e);
                    t &&
                      (this.canvas &&
                        (this.domElement.removeChild(this.canvas),
                        this.canvas.removeEventListener(
                          "webglcontextlost",
                          this.contextLostListener,
                          !1
                        ),
                        this.canvas.removeEventListener(
                          "webglcontextrestored",
                          this.contextRestoreListener,
                          !1
                        )),
                      (this.canvas = e),
                      (this.canvas.style.pointerEvents = "none"),
                      (this.canvasId = this.canvas.id =
                        "scenery-webgl" + this.id),
                      this.canvas.addEventListener(
                        "webglcontextlost",
                        this.contextLostListener,
                        !1
                      ),
                      this.canvas.addEventListener(
                        "webglcontextrestored",
                        this.contextRestoreListener,
                        !1
                      ),
                      this.domElement.appendChild(this.canvas),
                      this.setupContext(t));
                  }
                  setupContext(e) {
                    (this.isContextLost = !1),
                      (this.gl = e),
                      (this.backingScale = Ge.backingScale(this.gl)),
                      this.display._allowBackingScaleAntialiasing &&
                        0 === e.getParameter(e.SAMPLES) &&
                        (this.backingScale *= 2),
                      (this.originalBackingScale = this.backingScale),
                      Ge.applyWebGLContextDefaults(this.gl),
                      this.markDirty(),
                      (this.dirtyFit = !0),
                      this.customProcessor.initializeContext(this.gl),
                      this.vertexColorPolygonsProcessor.initializeContext(
                        this.gl
                      ),
                      this.texturedTrianglesProcessor.initializeContext(
                        this.gl
                      );
                    for (let t = 0; t < this.spriteSheets.length; t++)
                      this.spriteSheets[t].initializeContext(this.gl);
                    this.glChangedEmitter.emit();
                  }
                  delayedRebuildCanvas() {
                    const e = this;
                    window.setTimeout(function () {
                      e.rebuildCanvas();
                    });
                  }
                  onContextLoss(e) {
                    this.isContextLost ||
                      ((this.isContextLost = !0),
                      e.preventDefault(),
                      (this.canvas.style.display = "none"),
                      this.markDirty());
                  }
                  onContextRestoration(e) {
                    if (this.isContextLost) {
                      const e = this.getContextFromCanvas(this.canvas);
                      this.setupContext(e), (this.canvas.style.display = "");
                    }
                  }
                  getContextFromCanvas(e) {
                    const t = {
                      antialias: !0,
                      preserveDrawingBuffer: this.preserveDrawingBuffer,
                    };
                    return (
                      e.getContext("webgl", t) ||
                      e.getContext("experimental-webgl", t)
                    );
                  }
                  setSizeFullDisplay() {
                    const e = this.display.getSize();
                    (this.canvas.width = Math.ceil(
                      e.width * this.backingScale
                    )),
                      (this.canvas.height = Math.ceil(
                        e.height * this.backingScale
                      )),
                      (this.canvas.style.width = e.width + "px"),
                      (this.canvas.style.height = e.height + "px");
                  }
                  setSizeFitBounds() {
                    throw new Error(
                      "setSizeFitBounds unimplemented for WebGLBlock"
                    );
                  }
                  update() {
                    if (!super.update()) return !1;
                    const e = this.gl;
                    for (
                      this.isContextLost &&
                      this.display._aggressiveContextRecreation &&
                      this.delayedRebuildCanvas();
                      this.dirtyDrawables.length;

                    )
                      this.dirtyDrawables.pop().update();
                    const t = this.spriteSheets.length;
                    for (let n = 0; n < t; n++)
                      this.spriteSheets[n].updateTexture();
                    this.firstDrawable &&
                      this.firstDrawable === this.lastDrawable &&
                      this.firstDrawable.node &&
                      null !== this.firstDrawable.node._hints.webglScale &&
                      this.backingScale !==
                        this.originalBackingScale *
                          this.firstDrawable.node._hints.webglScale &&
                      ((this.backingScale =
                        this.originalBackingScale *
                        this.firstDrawable.node._hints.webglScale),
                      (this.dirtyFit = !0)),
                      this.updateFit(),
                      this.projectionMatrix.rowMajor(
                        2 / this.display.width,
                        0,
                        -1,
                        0,
                        -2 / this.display.height,
                        1,
                        0,
                        0,
                        1
                      ),
    